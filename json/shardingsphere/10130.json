[{"authorTime":"2020-06-02 18:03:55","codes":[{"authorDate":"2020-05-17 16:36:04","commitOrder":2,"curCode":"    void insertFailed() throws SQLException {\n        TransactionTypeHolder.set(TransactionType.BASE);\n        try (Connection connection = dataSource.getConnection()) {\n            connection.setAutoCommit(false);\n            PreparedStatement preparedStatement = connection.prepareStatement(\"INSERT INTO t_order (user_id, status) VALUES (?, ?)\");\n            doInsert(preparedStatement);\n            connection.rollback();\n        }\n    }\n","date":"2020-05-17 16:36:04","endLine":98,"groupId":"888","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"insertFailed","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/dd/f46ff4cec3618d55bc82208fadab59c796490f.src","preCode":"    void insertFailed() throws SQLException {\n        TransactionTypeHolder.set(TransactionType.BASE);\n        try (Connection connection = dataSource.getConnection()) {\n            connection.setAutoCommit(false);\n            PreparedStatement preparedStatement = connection.prepareStatement(\"INSERT INTO t_order (user_id, status) VALUES (?, ?)\");\n            doInsert(preparedStatement);\n            connection.rollback();\n        }\n    }\n","realPath":"examples/shardingsphere-jdbc-example/transaction-example/transaction-base-seata-raw-jdbc-example/src/main/java/org/apache/shardingsphere/example/transaction/base/seata/raw/jdbc/SeataATOrderService.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":90,"status":"NB"},{"authorDate":"2020-06-02 18:03:55","commitOrder":2,"curCode":"    public void processFailure() throws SQLException {\n        System.out.println(\"-------------------- Process Start ---------------------\");\n        TransactionTypeHolder.set(TransactionType.XA);\n        try (Connection connection = dataSource.getConnection()) {\n            connection.setAutoCommit(false);\n            PreparedStatement preparedStatement = connection.prepareStatement(\"INSERT INTO t_order (user_id, status) VALUES (?, ?)\");\n            doInsert(preparedStatement);\n            connection.rollback();\n            System.out.println(\"INSERT 10 orders failed\");\n        }\n        int quantity = selectAll();\n        System.out.printf(\"Rollback, expect:0, actual:%d \\n\", quantity);\n        printData();\n        System.out.println(\"-------------------- Process End -----------------------\");\n    }\n","date":"2020-06-02 18:03:55","endLine":90,"groupId":"888","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"processFailure","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/25/a3fee6147567987264376fb3d288111cef6419.src","preCode":"    public void processFailure() throws SQLException {\n        System.out.println(\"-------------------- Process Start ---------------------\");\n        TransactionTypeHolder.set(TransactionType.XA);\n        try (Connection connection = dataSource.getConnection()) {\n            connection.setAutoCommit(false);\n            PreparedStatement preparedStatement = connection.prepareStatement(\"INSERT INTO t_order (user_id, status) VALUES (?, ?)\");\n            doInsert(preparedStatement);\n            connection.rollback();\n            System.out.println(\"INSERT 10 orders failed\");\n        }\n        int quantity = selectAll();\n        System.out.printf(\"Rollback, expect:0, actual:%d \\n\", quantity);\n        printData();\n        System.out.println(\"-------------------- Process End -----------------------\");\n    }\n","realPath":"examples/shardingsphere-jdbc-example/transaction-example/transaction-2pc-xa-bitronix-raw-jdbc-example/src/main/java/org/apache/shardingsphere/example/transaction/xa/bitronix/raw/jdbc/OrderServiceImpl.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":76,"status":"B"}],"commitId":"16828c5b3ea9cb8e15eb3d7b78f473b21ffbbf26","commitMessage":"@@@add example for bitronix. (#5887)\n\n","date":"2020-06-02 18:03:55","modifiedFileCount":"1","status":"M","submitter":"TaoZhi"},{"authorTime":"2020-06-16 16:01:30","codes":[{"authorDate":"2020-06-16 16:01:30","commitOrder":3,"curCode":"    void insertFailed() throws SQLException {\n        TransactionTypeHolder.set(TransactionType.BASE);\n        try (Connection connection = dataSource.getConnection()) {\n            connection.setAutoCommit(false);\n            PreparedStatement preparedStatement = connection.prepareStatement(\"INSERT INTO t_order (user_id, status) VALUES (?, ?)\");\n            doInsert(preparedStatement);\n            connection.rollback();\n        } finally {\n            TransactionTypeHolder.clear();\n        }\n    }\n","date":"2020-06-16 16:01:30","endLine":102,"groupId":"10130","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"insertFailed","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/3c/8bb9c8d73d0d97a692bf7d4a2af65526328e49.src","preCode":"    void insertFailed() throws SQLException {\n        TransactionTypeHolder.set(TransactionType.BASE);\n        try (Connection connection = dataSource.getConnection()) {\n            connection.setAutoCommit(false);\n            PreparedStatement preparedStatement = connection.prepareStatement(\"INSERT INTO t_order (user_id, status) VALUES (?, ?)\");\n            doInsert(preparedStatement);\n            connection.rollback();\n        }\n    }\n","realPath":"examples/shardingsphere-jdbc-example/transaction-example/transaction-base-seata-raw-jdbc-example/src/main/java/org/apache/shardingsphere/example/transaction/base/seata/raw/jdbc/SeataATOrderService.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":92,"status":"M"},{"authorDate":"2020-06-16 16:01:30","commitOrder":3,"curCode":"    public void processFailure() throws SQLException {\n        System.out.println(\"-------------------- Process Start ---------------------\");\n        TransactionTypeHolder.set(TransactionType.XA);\n        try (Connection connection = dataSource.getConnection()) {\n            connection.setAutoCommit(false);\n            PreparedStatement preparedStatement = connection.prepareStatement(\"INSERT INTO t_order (user_id, status) VALUES (?, ?)\");\n            doInsert(preparedStatement);\n            connection.rollback();\n            System.out.println(\"INSERT 10 orders failed\");\n        } finally {\n            TransactionTypeHolder.clear();\n        }\n        int quantity = selectAll();\n        System.out.printf(\"Rollback, expect:0, actual:%d \\n\", quantity);\n        printData();\n        System.out.println(\"-------------------- Process End -----------------------\");\n    }\n","date":"2020-06-16 16:01:30","endLine":94,"groupId":"10130","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"processFailure","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/23/44c1e19be199af8645eb0f5d2fed93606819c5.src","preCode":"    public void processFailure() throws SQLException {\n        System.out.println(\"-------------------- Process Start ---------------------\");\n        TransactionTypeHolder.set(TransactionType.XA);\n        try (Connection connection = dataSource.getConnection()) {\n            connection.setAutoCommit(false);\n            PreparedStatement preparedStatement = connection.prepareStatement(\"INSERT INTO t_order (user_id, status) VALUES (?, ?)\");\n            doInsert(preparedStatement);\n            connection.rollback();\n            System.out.println(\"INSERT 10 orders failed\");\n        }\n        int quantity = selectAll();\n        System.out.printf(\"Rollback, expect:0, actual:%d \\n\", quantity);\n        printData();\n        System.out.println(\"-------------------- Process End -----------------------\");\n    }\n","realPath":"examples/shardingsphere-jdbc-example/transaction-example/transaction-2pc-xa-bitronix-raw-jdbc-example/src/main/java/org/apache/shardingsphere/example/transaction/xa/bitronix/raw/jdbc/OrderServiceImpl.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"M"}],"commitId":"c4ee9d192cb689de348f177a5be8910e6771fdf1","commitMessage":"@@@optimize lifecycle management of ShardingTransactionType (#6042)\n\n* optimize lifecycle management of ShardingTransactionType\n\n* fix review\n\n* add test case\n\n* fix review","date":"2020-06-16 16:01:30","modifiedFileCount":"7","status":"M","submitter":"zjinlei"}]
