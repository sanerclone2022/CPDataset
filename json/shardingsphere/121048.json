[{"authorTime":"2020-11-22 01:31:46","codes":[{"authorDate":"2020-11-01 14:32:14","commitOrder":4,"curCode":"    private List<Connection> createConnections(final String schemaName, final String dataSourceName,\n                                               final DataSource dataSource, final int connectionSize, final TransactionType transactionType) throws SQLException {\n        List<Connection> result = new ArrayList<>(connectionSize);\n        for (int i = 0; i < connectionSize; i++) {\n            try {\n                result.add(createConnection(schemaName, dataSourceName, dataSource, transactionType));\n            } catch (final SQLException ex) {\n                for (Connection each : result) {\n                    each.close();\n                }\n                throw new SQLException(String.format(\"Can not get %d connections one time, partition succeed connection(%d) have released!\", connectionSize, result.size()), ex);\n            }\n        }\n        return result;\n    }\n","date":"2020-11-01 14:32:14","endLine":106,"groupId":"922","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"createConnections","params":"(finalStringschemaName@finalStringdataSourceName@finalDataSourcedataSource@finalintconnectionSize@finalTransactionTypetransactionType)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/a8/6ab470778bb23f714ee76f5542fd6b000ba54a.src","preCode":"    private List<Connection> createConnections(final String schemaName, final String dataSourceName,\n                                               final DataSource dataSource, final int connectionSize, final TransactionType transactionType) throws SQLException {\n        List<Connection> result = new ArrayList<>(connectionSize);\n        for (int i = 0; i < connectionSize; i++) {\n            try {\n                result.add(createConnection(schemaName, dataSourceName, dataSource, transactionType));\n            } catch (final SQLException ex) {\n                for (Connection each : result) {\n                    each.close();\n                }\n                throw new SQLException(String.format(\"Can not get %d connections one time, partition succeed connection(%d) have released!\", connectionSize, result.size()), ex);\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/communication/jdbc/datasource/JDBCBackendDataSource.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":92,"status":"NB"},{"authorDate":"2020-11-22 01:31:46","commitOrder":4,"curCode":"    private List<Connection> createConnections(final String dataSourceName, final DataSource dataSource, final int connectionSize) throws SQLException {\n        List<Connection> result = new ArrayList<>(connectionSize);\n        for (int i = 0; i < connectionSize; i++) {\n            try {\n                Connection connection = createConnection(dataSourceName, dataSource);\n                replayMethodsInvocation(connection);\n                result.add(connection);\n            } catch (final SQLException ex) {\n                for (Connection each : result) {\n                    each.close();\n                }\n                throw new SQLException(String.format(\"Can not get %d connections one time, partition succeed connection(%d) have released!\", connectionSize, result.size()), ex);\n            }\n        }\n        return result;\n    }\n","date":"2020-11-22 01:31:46","endLine":141,"groupId":"11639","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"createConnections","params":"(finalStringdataSourceName@finalDataSourcedataSource@finalintconnectionSize)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/54/cc34f4a4eb8e6a240f7cd7092f8ad02ddbc6c1.src","preCode":"    private List<Connection> createConnections(final String dataSourceName, final DataSource dataSource, final int connectionSize) throws SQLException {\n        List<Connection> result = new ArrayList<>(connectionSize);\n        for (int i = 0; i < connectionSize; i++) {\n            try {\n                Connection connection = createConnection(dataSourceName, dataSource);\n                replayMethodsInvocation(connection);\n                result.add(connection);\n            } catch (final SQLException ex) {\n                for (Connection each : result) {\n                    each.close();\n                }\n                throw new SQLException(String.format(\"Can not get %d connections one time, partition succeed connection(%d) have released!\", connectionSize, result.size()), ex);\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-jdbc/shardingsphere-jdbc-core/src/main/java/org/apache/shardingsphere/driver/jdbc/core/connection/ShardingSphereConnection.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":126,"status":"B"}],"commitId":"a07d5c4e96f4ee1eea91a6a58b4adf3541ac0750","commitMessage":"@@@Move ExecutorJDBCManager impl to ShardingSphereConnection (#8277)\n\n* Rename ExecutorJDBCManager\n\n* Refactor ShardingSphereDatabaseMetaData\n\n* Move ExecutorJDBCManager impl to ShardingSphereConnection","date":"2020-11-22 01:31:46","modifiedFileCount":"7","status":"M","submitter":"Liang Zhang"},{"authorTime":"2020-11-22 01:31:46","codes":[{"authorDate":"2021-05-31 16:00:43","commitOrder":5,"curCode":"    private List<Connection> createConnections(final String schemaName, final String dataSourceName,\n                                               final DataSource dataSource, final int connectionSize, final TransactionType transactionType) throws SQLException {\n        List<Connection> result = new ArrayList<>(connectionSize);\n        for (int i = 0; i < connectionSize; i++) {\n            try {\n                result.add(createConnection(schemaName, dataSourceName, dataSource, transactionType));\n            } catch (final SQLException ex) {\n                for (Connection each : result) {\n                    each.close();\n                }\n                throw new SQLException(String.format(\"Could not get %d connections at once. The %d obtained connections have been released. \"\n                        + \"Please consider increasing the `maxPoolSize` of the data sources or decreasing the `max-connections-size-per-query` in props.\", connectionSize, result.size()), ex);\n            }\n        }\n        return result;\n    }\n","date":"2021-05-31 16:00:43","endLine":109,"groupId":"121048","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"createConnections","params":"(finalStringschemaName@finalStringdataSourceName@finalDataSourcedataSource@finalintconnectionSize@finalTransactionTypetransactionType)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/1f/c754772a78cc1359ba565b14665be24b17e0e8.src","preCode":"    private List<Connection> createConnections(final String schemaName, final String dataSourceName,\n                                               final DataSource dataSource, final int connectionSize, final TransactionType transactionType) throws SQLException {\n        List<Connection> result = new ArrayList<>(connectionSize);\n        for (int i = 0; i < connectionSize; i++) {\n            try {\n                result.add(createConnection(schemaName, dataSourceName, dataSource, transactionType));\n            } catch (final SQLException ex) {\n                for (Connection each : result) {\n                    each.close();\n                }\n                throw new SQLException(String.format(\"Can not get %d connections one time, partition succeed connection(%d) have released!\", connectionSize, result.size()), ex);\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/communication/jdbc/datasource/JDBCBackendDataSource.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":94,"status":"M"},{"authorDate":"2020-11-22 01:31:46","commitOrder":5,"curCode":"    private List<Connection> createConnections(final String dataSourceName, final DataSource dataSource, final int connectionSize) throws SQLException {\n        List<Connection> result = new ArrayList<>(connectionSize);\n        for (int i = 0; i < connectionSize; i++) {\n            try {\n                Connection connection = createConnection(dataSourceName, dataSource);\n                replayMethodsInvocation(connection);\n                result.add(connection);\n            } catch (final SQLException ex) {\n                for (Connection each : result) {\n                    each.close();\n                }\n                throw new SQLException(String.format(\"Can not get %d connections one time, partition succeed connection(%d) have released!\", connectionSize, result.size()), ex);\n            }\n        }\n        return result;\n    }\n","date":"2020-11-22 01:31:46","endLine":141,"groupId":"121048","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"createConnections","params":"(finalStringdataSourceName@finalDataSourcedataSource@finalintconnectionSize)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/54/cc34f4a4eb8e6a240f7cd7092f8ad02ddbc6c1.src","preCode":"    private List<Connection> createConnections(final String dataSourceName, final DataSource dataSource, final int connectionSize) throws SQLException {\n        List<Connection> result = new ArrayList<>(connectionSize);\n        for (int i = 0; i < connectionSize; i++) {\n            try {\n                Connection connection = createConnection(dataSourceName, dataSource);\n                replayMethodsInvocation(connection);\n                result.add(connection);\n            } catch (final SQLException ex) {\n                for (Connection each : result) {\n                    each.close();\n                }\n                throw new SQLException(String.format(\"Can not get %d connections one time, partition succeed connection(%d) have released!\", connectionSize, result.size()), ex);\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-jdbc/shardingsphere-jdbc-core/src/main/java/org/apache/shardingsphere/driver/jdbc/core/connection/ShardingSphereConnection.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":126,"status":"N"}],"commitId":"d378440f457ac5b5e6d4957c13dbdb09a06a1311","commitMessage":"@@@Clarify error message in JDBCBackendDataSource (#10579)\n\n* Clarify error message in JDBCBackendDataSource\n\n* Fix checkstyle\n\n* Update error message\n\n* Update error message","date":"2021-05-31 16:00:43","modifiedFileCount":"2","status":"M","submitter":"???"}]
