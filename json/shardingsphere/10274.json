[{"authorTime":"2021-09-07 10:38:25","codes":[{"authorDate":"2021-09-07 10:38:25","commitOrder":1,"curCode":"    public void updateStatus(final DataSourceStatusChangedEvent event) {\n        if (event instanceof DataSourceNameDisabledEvent) {\n            for (Entry<String, DatabaseDiscoveryDataSourceRule> entry : dataSourceRules.entrySet()) {\n                if (((DataSourceNameDisabledEvent) event).isDisabled()) {\n                    entry.getValue().disableDataSource(((DataSourceNameDisabledEvent) event).getDataSourceName());\n                } else {\n                    entry.getValue().enableDataSource(((DataSourceNameDisabledEvent) event).getDataSourceName());\n                }\n            }\n        } else if (event instanceof PrimaryDataSourceEvent) {\n            for (Entry<String, DatabaseDiscoveryDataSourceRule> entry : dataSourceRules.entrySet()) {\n                if (entry.getValue().getName().equals(((PrimaryDataSourceEvent) event).getGroupName())) {\n                    entry.getValue().updatePrimaryDataSourceName(((PrimaryDataSourceEvent) event).getDataSourceName());\n                }\n            }\n        }\n    }\n","date":"2021-09-07 10:38:25","endLine":176,"groupId":"5441","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"updateStatus","params":"(finalDataSourceStatusChangedEventevent)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/a5/c135fef532f85a49b20d04e154a89c23815ed2.src","preCode":"    public void updateStatus(final DataSourceStatusChangedEvent event) {\n        if (event instanceof DataSourceNameDisabledEvent) {\n            for (Entry<String, DatabaseDiscoveryDataSourceRule> entry : dataSourceRules.entrySet()) {\n                if (((DataSourceNameDisabledEvent) event).isDisabled()) {\n                    entry.getValue().disableDataSource(((DataSourceNameDisabledEvent) event).getDataSourceName());\n                } else {\n                    entry.getValue().enableDataSource(((DataSourceNameDisabledEvent) event).getDataSourceName());\n                }\n            }\n        } else if (event instanceof PrimaryDataSourceEvent) {\n            for (Entry<String, DatabaseDiscoveryDataSourceRule> entry : dataSourceRules.entrySet()) {\n                if (entry.getValue().getName().equals(((PrimaryDataSourceEvent) event).getGroupName())) {\n                    entry.getValue().updatePrimaryDataSourceName(((PrimaryDataSourceEvent) event).getDataSourceName());\n                }\n            }\n        }\n    }\n","realPath":"shardingsphere-features/shardingsphere-db-discovery/shardingsphere-db-discovery-core/src/main/java/org/apache/shardingsphere/dbdiscovery/rule/DatabaseDiscoveryRule.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":160,"status":"B"},{"authorDate":"2021-09-07 10:38:25","commitOrder":1,"curCode":"    public void updateStatus(final DataSourceStatusChangedEvent event) {\n        if (event instanceof DataSourceNameDisabledEvent) {\n            for (Entry<String, ReadwriteSplittingDataSourceRule> entry : dataSourceRules.entrySet()) {\n                entry.getValue().updateDisabledDataSourceNames(((DataSourceNameDisabledEvent) event).getDataSourceName(), ((DataSourceNameDisabledEvent) event).isDisabled());\n            }\n        }\n    }\n","date":"2021-09-07 10:38:25","endLine":114,"groupId":"13632","id":2,"instanceNumber":2,"isCurCommit":1,"methodName":"updateStatus","params":"(finalDataSourceStatusChangedEventevent)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/cb/5e0f576d664184d7ee5c81f326a1ef75b7b589.src","preCode":"    public void updateStatus(final DataSourceStatusChangedEvent event) {\n        if (event instanceof DataSourceNameDisabledEvent) {\n            for (Entry<String, ReadwriteSplittingDataSourceRule> entry : dataSourceRules.entrySet()) {\n                entry.getValue().updateDisabledDataSourceNames(((DataSourceNameDisabledEvent) event).getDataSourceName(), ((DataSourceNameDisabledEvent) event).isDisabled());\n            }\n        }\n    }\n","realPath":"shardingsphere-features/shardingsphere-readwrite-splitting/shardingsphere-readwrite-splitting-core/src/main/java/org/apache/shardingsphere/readwritesplitting/rule/ReadwriteSplittingRule.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":108,"status":"B"}],"commitId":"82eabb044a954199a5fd22e2c53eddcba53f035f","commitMessage":"@@@Rename RuleChangedEvent to DataSourceStatusChangedEvent (#12251)\n\n","date":"2021-09-07 10:38:25","modifiedFileCount":"9","status":"B","submitter":"Liang Zhang"},{"authorTime":"2021-09-07 10:38:25","codes":[{"authorDate":"2021-09-07 11:03:58","commitOrder":2,"curCode":"    public void updateStatus(final DataSourceStatusChangedEvent event) {\n        if (event instanceof DataSourceNameDisabledEvent) {\n            for (Entry<String, DatabaseDiscoveryDataSourceRule> entry : dataSourceRules.entrySet()) {\n                if (((DataSourceNameDisabledEvent) event).isDisabled()) {\n                    entry.getValue().disableDataSource(((DataSourceNameDisabledEvent) event).getDataSourceName());\n                } else {\n                    entry.getValue().enableDataSource(((DataSourceNameDisabledEvent) event).getDataSourceName());\n                }\n            }\n        } else if (event instanceof PrimaryDataSourceChangedEvent) {\n            for (Entry<String, DatabaseDiscoveryDataSourceRule> entry : dataSourceRules.entrySet()) {\n                if (entry.getValue().getName().equals(((PrimaryDataSourceChangedEvent) event).getGroupName())) {\n                    entry.getValue().updatePrimaryDataSourceName(((PrimaryDataSourceChangedEvent) event).getDataSourceName());\n                }\n            }\n        }\n    }\n","date":"2021-09-07 11:03:58","endLine":176,"groupId":"10274","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"updateStatus","params":"(finalDataSourceStatusChangedEventevent)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/c8/cab3ae45ac8d97efe4a019c6064327b01375f2.src","preCode":"    public void updateStatus(final DataSourceStatusChangedEvent event) {\n        if (event instanceof DataSourceNameDisabledEvent) {\n            for (Entry<String, DatabaseDiscoveryDataSourceRule> entry : dataSourceRules.entrySet()) {\n                if (((DataSourceNameDisabledEvent) event).isDisabled()) {\n                    entry.getValue().disableDataSource(((DataSourceNameDisabledEvent) event).getDataSourceName());\n                } else {\n                    entry.getValue().enableDataSource(((DataSourceNameDisabledEvent) event).getDataSourceName());\n                }\n            }\n        } else if (event instanceof PrimaryDataSourceEvent) {\n            for (Entry<String, DatabaseDiscoveryDataSourceRule> entry : dataSourceRules.entrySet()) {\n                if (entry.getValue().getName().equals(((PrimaryDataSourceEvent) event).getGroupName())) {\n                    entry.getValue().updatePrimaryDataSourceName(((PrimaryDataSourceEvent) event).getDataSourceName());\n                }\n            }\n        }\n    }\n","realPath":"shardingsphere-features/shardingsphere-db-discovery/shardingsphere-db-discovery-core/src/main/java/org/apache/shardingsphere/dbdiscovery/rule/DatabaseDiscoveryRule.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":160,"status":"M"},{"authorDate":"2021-09-07 10:38:25","commitOrder":2,"curCode":"    public void updateStatus(final DataSourceStatusChangedEvent event) {\n        if (event instanceof DataSourceNameDisabledEvent) {\n            for (Entry<String, ReadwriteSplittingDataSourceRule> entry : dataSourceRules.entrySet()) {\n                entry.getValue().updateDisabledDataSourceNames(((DataSourceNameDisabledEvent) event).getDataSourceName(), ((DataSourceNameDisabledEvent) event).isDisabled());\n            }\n        }\n    }\n","date":"2021-09-07 10:38:25","endLine":114,"groupId":"10274","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"updateStatus","params":"(finalDataSourceStatusChangedEventevent)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/cb/5e0f576d664184d7ee5c81f326a1ef75b7b589.src","preCode":"    public void updateStatus(final DataSourceStatusChangedEvent event) {\n        if (event instanceof DataSourceNameDisabledEvent) {\n            for (Entry<String, ReadwriteSplittingDataSourceRule> entry : dataSourceRules.entrySet()) {\n                entry.getValue().updateDisabledDataSourceNames(((DataSourceNameDisabledEvent) event).getDataSourceName(), ((DataSourceNameDisabledEvent) event).isDisabled());\n            }\n        }\n    }\n","realPath":"shardingsphere-features/shardingsphere-readwrite-splitting/shardingsphere-readwrite-splitting-core/src/main/java/org/apache/shardingsphere/readwritesplitting/rule/ReadwriteSplittingRule.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":108,"status":"N"}],"commitId":"bee796c7384643b9a3727b5874708b3e2fa52a3b","commitMessage":"@@@Rename PrimaryDataSourceEvent to PrimaryDataSourceChangedEvent (#12252)\n\n","date":"2021-09-07 11:03:58","modifiedFileCount":"5","status":"M","submitter":"Liang Zhang"}]
