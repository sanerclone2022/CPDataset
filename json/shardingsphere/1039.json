[{"authorTime":"2021-01-15 18:06:21","codes":[{"authorDate":"2021-01-15 18:06:21","commitOrder":1,"curCode":"    public void assertMethod() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        advice.afterMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        Span span = collector.pop();\n        assertNotNull(span);\n        Map<String, String> tags = span.tags();\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n        assertThat(tags.get(ZipkinConstants.Tags.CONNECTION_COUNT), is(\"0\"));\n        assertThat(span.name(), is(\"/ShardingSphere/rootInvoke/\".toLowerCase()));\n    }\n","date":"2021-01-15 18:06:21","endLine":59,"groupId":"14138","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"assertMethod","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/f1/ff4c972565be18f03ce6fd43bd1a289092b98e.src","preCode":"    public void assertMethod() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        advice.afterMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        Span span = collector.pop();\n        assertNotNull(span);\n        Map<String, String> tags = span.tags();\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n        assertThat(tags.get(ZipkinConstants.Tags.CONNECTION_COUNT), is(\"0\"));\n        assertThat(span.name(), is(\"/ShardingSphere/rootInvoke/\".toLowerCase()));\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-tracing/shardingsphere-agent-tracing-zipkin/src/test/java/org/apache/shardingsphere/agent/plugin/tracing/zipkin/advice/CommandExecutorTaskAdviceTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":49,"status":"B"},{"authorDate":"2021-01-15 18:06:21","commitOrder":1,"curCode":"    public void assertExceptionHandle() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        advice.onThrowing(getTargetObject(), null, new Object[]{}, new IOException());\n        advice.afterMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        Span span = collector.pop();\n        assertNotNull(span);\n        Map<String, String> tags = span.tags();\n        assertThat(tags.get(\"error\"), is(\"IOException\"));\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n        assertThat(tags.get(ZipkinConstants.Tags.CONNECTION_COUNT), is(\"0\"));\n        assertThat(span.name(), is(\"/ShardingSphere/rootInvoke/\".toLowerCase()));\n    }\n","date":"2021-01-15 18:06:21","endLine":74,"groupId":"10","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"assertExceptionHandle","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/f1/ff4c972565be18f03ce6fd43bd1a289092b98e.src","preCode":"    public void assertExceptionHandle() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        advice.onThrowing(getTargetObject(), null, new Object[]{}, new IOException());\n        advice.afterMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        Span span = collector.pop();\n        assertNotNull(span);\n        Map<String, String> tags = span.tags();\n        assertThat(tags.get(\"error\"), is(\"IOException\"));\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n        assertThat(tags.get(ZipkinConstants.Tags.CONNECTION_COUNT), is(\"0\"));\n        assertThat(span.name(), is(\"/ShardingSphere/rootInvoke/\".toLowerCase()));\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-tracing/shardingsphere-agent-tracing-zipkin/src/test/java/org/apache/shardingsphere/agent/plugin/tracing/zipkin/advice/CommandExecutorTaskAdviceTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":62,"status":"B"}],"commitId":"37fa49f31feb931a8b2d333b5aad17db7f36b2bd","commitMessage":"@@@refactor agent test (#9052)\n\n","date":"2021-01-15 18:06:21","modifiedFileCount":"6","status":"B","submitter":"xiaoyu"},{"authorTime":"2021-02-18 15:58:05","codes":[{"authorDate":"2021-02-18 15:58:05","commitOrder":2,"curCode":"    public void assertMethod() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        advice.afterMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        Span span = COLLECTOR.pop();\n        assertNotNull(span);\n        Map<String, String> tags = span.tags();\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n        assertThat(tags.get(ZipkinConstants.Tags.CONNECTION_COUNT), is(\"0\"));\n        assertThat(span.name(), is(\"/ShardingSphere/rootInvoke/\".toLowerCase()));\n    }\n","date":"2021-02-18 15:58:05","endLine":59,"groupId":"1039","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"assertMethod","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/2c/0b20b818ec3a985d6f53bc2c65348848923e83.src","preCode":"    public void assertMethod() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        advice.afterMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        Span span = collector.pop();\n        assertNotNull(span);\n        Map<String, String> tags = span.tags();\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n        assertThat(tags.get(ZipkinConstants.Tags.CONNECTION_COUNT), is(\"0\"));\n        assertThat(span.name(), is(\"/ShardingSphere/rootInvoke/\".toLowerCase()));\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-tracing/shardingsphere-agent-tracing-zipkin/src/test/java/org/apache/shardingsphere/agent/plugin/tracing/zipkin/advice/CommandExecutorTaskAdviceTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":49,"status":"M"},{"authorDate":"2021-02-18 15:58:05","commitOrder":2,"curCode":"    public void assertExceptionHandle() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        advice.onThrowing(getTargetObject(), null, new Object[]{}, new IOException());\n        advice.afterMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        Span span = COLLECTOR.pop();\n        assertNotNull(span);\n        Map<String, String> tags = span.tags();\n        assertThat(tags.get(\"error\"), is(\"IOException\"));\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n        assertThat(tags.get(ZipkinConstants.Tags.CONNECTION_COUNT), is(\"0\"));\n        assertThat(span.name(), is(\"/ShardingSphere/rootInvoke/\".toLowerCase()));\n    }\n","date":"2021-02-18 15:58:05","endLine":74,"groupId":"1039","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"assertExceptionHandle","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/2c/0b20b818ec3a985d6f53bc2c65348848923e83.src","preCode":"    public void assertExceptionHandle() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        advice.onThrowing(getTargetObject(), null, new Object[]{}, new IOException());\n        advice.afterMethod(getTargetObject(), null, new Object[]{}, new MethodInvocationResult());\n        Span span = collector.pop();\n        assertNotNull(span);\n        Map<String, String> tags = span.tags();\n        assertThat(tags.get(\"error\"), is(\"IOException\"));\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n        assertThat(tags.get(ZipkinConstants.Tags.CONNECTION_COUNT), is(\"0\"));\n        assertThat(span.name(), is(\"/ShardingSphere/rootInvoke/\".toLowerCase()));\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-tracing/shardingsphere-agent-tracing-zipkin/src/test/java/org/apache/shardingsphere/agent/plugin/tracing/zipkin/advice/CommandExecutorTaskAdviceTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":62,"status":"M"}],"commitId":"ddc88a96c405bca47a8c611ce61af166657109b3","commitMessage":"@@@agent inspect code (#9425)\n\n* agent inspect code\n\n* fix checkstyle","date":"2021-02-18 15:58:05","modifiedFileCount":"19","status":"M","submitter":"xiaoyu"}]
