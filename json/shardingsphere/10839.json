[{"authorTime":"2020-12-04 15:20:12","codes":[{"authorDate":"2020-12-04 15:20:12","commitOrder":1,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(),\n                new StandardMetaDataContexts(getMetaDataMap(), mock(ExecutorEngine.class), getAuthentication(), new ConfigurationProperties(new Properties()), new MySQLDatabaseType()));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2020-12-04 15:20:12","endLine":85,"groupId":"13976","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/55/eca63944f9aef15da7dee08b47852c523713ce.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(),\n                new StandardMetaDataContexts(getMetaDataMap(), mock(ExecutorEngine.class), getAuthentication(), new ConfigurationProperties(new Properties()), new MySQLDatabaseType()));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":76,"status":"B"},{"authorDate":"2020-12-04 15:20:12","commitOrder":1,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(),\n                new StandardMetaDataContexts(getMetaDataMap(), mock(ExecutorEngine.class), getAuthentication(), new ConfigurationProperties(new Properties()), new MySQLDatabaseType()));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","date":"2020-12-04 15:20:12","endLine":84,"groupId":"13976","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/87/892b297e07154076ec1ba6d48c1bf8e89e303f.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(),\n                new StandardMetaDataContexts(getMetaDataMap(), mock(ExecutorEngine.class), getAuthentication(), new ConfigurationProperties(new Properties()), new MySQLDatabaseType()));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/SchemaAssignedDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":75,"status":"B"}],"commitId":"cb6b0622bf268a3d509e7f52876246cc31fecbcb","commitMessage":"@@@Fixes #8488. (#8499)\n\n* add DatabaseBackendHandlerTest\n\n* add UnitTest for DatabaseBackendHandlerFactory. SchemaAssignedDatabaseBackendHandler. UnicastDatabaseBackendHandler\n\n* adjust code style","date":"2020-12-04 15:20:12","modifiedFileCount":"0","status":"B","submitter":"arthasking123"},{"authorTime":"2020-12-12 23:20:10","codes":[{"authorDate":"2020-12-12 23:20:10","commitOrder":2,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(),\n                new StandardMetaDataContexts(getMetaDataMap(), mock(ExecutorEngine.class), getAuthentication(), new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2020-12-12 23:20:10","endLine":85,"groupId":"12877","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/ff/7b76474c30c04e35f92216fe97f9e752ae2aa1.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(),\n                new StandardMetaDataContexts(getMetaDataMap(), mock(ExecutorEngine.class), getAuthentication(), new ConfigurationProperties(new Properties()), new MySQLDatabaseType()));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":76,"status":"M"},{"authorDate":"2020-12-12 23:20:10","commitOrder":2,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), \n                new StandardMetaDataContexts(getMetaDataMap(), mock(ExecutorEngine.class), getAuthentication(), new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","date":"2020-12-12 23:20:10","endLine":87,"groupId":"12877","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/d2/77afc4de8ed08772e637fc796b9d4031e70fa2.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(),\n                new StandardMetaDataContexts(getMetaDataMap(), mock(ExecutorEngine.class), getAuthentication(), new ConfigurationProperties(new Properties()), new MySQLDatabaseType()));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/SchemaAssignedDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"M"}],"commitId":"efdd25f4b72a85c3040d089ff58f418141cc72b2","commitMessage":"@@@Split backend database type from same one to multiple with each schema (#8596)\n\n* Use database type map instead of single database type\n\n* Add MetaDataContexts.getAllSchemas\n\n* Remove MetaDataContexts.getDatabaseTypes()\n\n* Add ShardingSphereResource.databaseType\n\n* Remove MetaDataContexts.getDatabaseType()\n\n* Remove StandardMetaDataContexts.databaseTypes\n\n* Use MetaDataContexts.getDefaultMetaData\n\n* Use MetaDataContexts.getDefaultMetaData\n\n* Add MetaDataContexts.getMetaData(String schemaName)\n\n* Remove MetaDataContexts.getMetaDataMap()\n\n* refactor MetaDataContextsBuilder","date":"2020-12-12 23:20:10","modifiedFileCount":"59","status":"M","submitter":"Liang Zhang"},{"authorTime":"2021-04-01 18:29:09","codes":[{"authorDate":"2021-04-01 18:29:09","commitOrder":3,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ExecutorEngine.class), \n                new ShardingSphereUsers(Collections.singleton(new ShardingSphereUser(\"root\", \"root\", \"\"))), new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-04-01 18:29:09","endLine":86,"groupId":"12877","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/ce/2fe9b032ccea4886d714d76a02ab6690138eb7.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(),\n                new StandardMetaDataContexts(getMetaDataMap(), mock(ExecutorEngine.class), getAuthentication(), new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":77,"status":"M"},{"authorDate":"2021-04-01 18:29:09","commitOrder":3,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ExecutorEngine.class), \n                new ShardingSphereUsers(Collections.singleton(new ShardingSphereUser(\"root\", \"root\", \"\"))), new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","date":"2021-04-01 18:29:09","endLine":86,"groupId":"12877","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/83/895259f5d11abff9e662030f5c516b784e0dd9.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), \n                new StandardMetaDataContexts(getMetaDataMap(), mock(ExecutorEngine.class), getAuthentication(), new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/SchemaAssignedDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":77,"status":"M"}],"commitId":"4954616af3db97b031b8a2005b2e40062b390929","commitMessage":"@@@Add AuthenticationContext and ShardingSphereUsers (#9906)\n\n* Add AuthenticationContext and ShardingSphereUsers\n\n* Remove MetaDataContexts.getAuthentication()\n\n* Fix test case\n\n* Move AuthenticationContext\n\n* Refactor SQLChecker\n\n* Use SQLChecker to check authrity\n\n* Fix compile error","date":"2021-04-01 18:29:09","modifiedFileCount":"53","status":"M","submitter":"Liang Zhang"},{"authorTime":"2021-04-08 16:15:03","codes":[{"authorDate":"2021-04-08 16:15:03","commitOrder":4,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ShardingSphereUsers(Collections.singleton(new ShardingSphereUser(\"root\", \"root\", \"\"))), new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-04-08 16:15:03","endLine":87,"groupId":"12877","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/24/bdf3d4db39a0833ff02e1635ededd7519bd3c4.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ExecutorEngine.class), \n                new ShardingSphereUsers(Collections.singleton(new ShardingSphereUser(\"root\", \"root\", \"\"))), new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"M"},{"authorDate":"2021-04-08 16:15:03","commitOrder":4,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ShardingSphereUsers(Collections.singleton(new ShardingSphereUser(\"root\", \"root\", \"\"))), new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","date":"2021-04-08 16:15:03","endLine":87,"groupId":"12877","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/05/9504b38da3008f88d673998a4d85b125a2945f.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ExecutorEngine.class), \n                new ShardingSphereUsers(Collections.singleton(new ShardingSphereUser(\"root\", \"root\", \"\"))), new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/SchemaAssignedDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"M"}],"commitId":"d6fe7c187b7f3bd2c05cad2d9920b9f664de5d11","commitMessage":"@@@Use SchemaRule and GlobalRule interface (#9989)\n\n* Use SchemaRule and GlobalRule interface\n\n* Fix compile error","date":"2021-04-08 16:15:03","modifiedFileCount":"67","status":"M","submitter":"Liang Zhang"},{"authorTime":"2021-05-18 13:23:30","codes":[{"authorDate":"2021-05-18 13:23:30","commitOrder":5,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-05-18 13:23:30","endLine":84,"groupId":"12877","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/35/e46524d64f183c802edc01058296695ea565f2.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ShardingSphereUsers(Collections.singleton(new ShardingSphereUser(\"root\", \"root\", \"\"))), new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":75,"status":"M"},{"authorDate":"2021-05-18 13:23:30","commitOrder":5,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","date":"2021-05-18 13:23:30","endLine":84,"groupId":"12877","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/91/951f018477afa5219fb8952629b60b041b731e.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ShardingSphereUsers(Collections.singleton(new ShardingSphereUser(\"root\", \"root\", \"\"))), new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/SchemaAssignedDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":75,"status":"M"}],"commitId":"fe0ddc8c5d6c106f4f88af39bc42a4038f60b26b","commitMessage":"@@@Users  removed from StandardMetaDataContexts (#10310)\n\n* remove user\n\n* fix review\n\n* trigger ci\n\n* fix code\n\n* fix","date":"2021-05-18 13:23:30","modifiedFileCount":"39","status":"M","submitter":"Zhu jun"},{"authorTime":"2021-07-01 11:29:35","codes":[{"authorDate":"2021-07-01 11:29:35","commitOrder":6,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-07-01 11:29:35","endLine":85,"groupId":"12877","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/57/990cc12443ad0ea015b0307484c3d3ca6b97f4.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":76,"status":"M"},{"authorDate":"2021-07-01 11:29:35","commitOrder":6,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","date":"2021-07-01 11:29:35","endLine":85,"groupId":"12877","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/ea/022f3378df18860fca9ac79d7e7a31d67c3a8c.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties())));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/SchemaAssignedDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":76,"status":"M"}],"commitId":"e560dc4352de5abc7caf4fbdc03b747985508961","commitMessage":"@@@improve code for #10840 (#11028)\n\n* improve code style for 10678\n\n* Remove unnecessary submitted code.\n\n* improve code\n\n* improve code\n\n* improve code for 10678","date":"2021-07-01 11:29:35","modifiedFileCount":"61","status":"M","submitter":"totalo"},{"authorTime":"2021-07-02 20:44:49","codes":[{"authorDate":"2021-07-02 20:44:49","commitOrder":7,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-07-02 20:44:49","endLine":86,"groupId":"12877","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/06/1f1ec66b89e7fe5bdd1e993a99aa0ba0c4e474.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":77,"status":"M"},{"authorDate":"2021-07-02 20:44:49","commitOrder":7,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","date":"2021-07-02 20:44:49","endLine":86,"groupId":"12877","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/fc/3c9cb6df137d5d4d494ca64cc77184ca220416.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatement.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/SchemaAssignedDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":77,"status":"M"}],"commitId":"bfb784c9a0e47fd147c8a654c2f0b2a1e86c2c27","commitMessage":"@@@extract SchemaAvailable interface & add validate for SelectStatement (#11091)\n\n* refactor SchemaAvailable interface & add validate for SelectStatement\n\n* add final for InsertStatementContext field\n\n* fix test case error\n\n* fix rewrite test case error\n\n* refactor context new instance method\n\n* optimize test case\n\n* fix test case\n\n* optimize logic\n\n* fix test case\n\n* fix checkstyle","date":"2021-07-02 20:44:49","modifiedFileCount":"44","status":"M","submitter":"Zhengqiang Duan"},{"authorTime":"2021-07-24 22:50:31","codes":[{"authorDate":"2021-07-24 22:50:31","commitOrder":8,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(ConfigCenter.class), getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-07-24 22:50:31","endLine":87,"groupId":"12877","id":15,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/35/e01a86a2ad881396a95427e4618169b197f19b.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"M"},{"authorDate":"2021-07-24 22:50:31","commitOrder":8,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(ConfigCenter.class), getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","date":"2021-07-24 22:50:31","endLine":87,"groupId":"12877","id":16,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/a6/5c112fa836ad7719381bbc510b0b378f46c316.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/SchemaAssignedDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"M"}],"commitId":"717c99918248f66d683ef60a4f961ee37470c687","commitMessage":"@@@Use direct call to instead of event post on AddResourceBackendHandler (#11488)\n\n* Add MetaDataContexts.getConfigCenter()\n\n* Use direct call to refactor AddResourceBackendHandler\n\n* Use direct call to refactor AddResourceBackendHandler\n\n* Fix test case\n\n* Add DataSourcePersistService.append()\n\n* Add test case","date":"2021-07-24 22:50:31","modifiedFileCount":"44","status":"M","submitter":"Liang Zhang"},{"authorTime":"2021-07-26 14:43:21","codes":[{"authorDate":"2021-07-26 14:43:21","commitOrder":9,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(), \n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-07-26 14:43:21","endLine":87,"groupId":"12877","id":17,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/b8/90fe48e16bb52f8e849bc27a4a3dbcdb5b57da.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(ConfigCenter.class), getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"M"},{"authorDate":"2021-07-26 14:43:21","commitOrder":9,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(), \n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","date":"2021-07-26 14:43:21","endLine":87,"groupId":"12877","id":18,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/d7/11b35d9df520c4199ec2c9d0288af5b2137a00.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(ConfigCenter.class), getMetaDataMap(), mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), \n                new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/SchemaAssignedDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"M"}],"commitId":"3073e94515f9556d995dbf3a2d409630801788f4","commitMessage":"@@@Rename ConfigCenter to DistMetaDataPersistService (#11505)\n\n* Rename DistMetaDataPersistService\n\n* Rename DistMetaDataPersistRepository\n\n* Rename DistMetaDataPersistRepository\n\n* For checkstyle\n\n* For checkstyle","date":"2021-07-26 14:43:21","modifiedFileCount":"59","status":"M","submitter":"Liang Zhang"},{"authorTime":"2021-08-15 02:33:31","codes":[{"authorDate":"2021-08-15 02:33:31","commitOrder":10,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        StandardMetaDataContexts metaDataContexts = new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-08-15 02:33:31","endLine":91,"groupId":"13896","id":19,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/6f/b8c2077d94e6195065432373fdbf7b5584de4b.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(), \n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":79,"status":"M"},{"authorDate":"2021-08-15 02:33:31","commitOrder":10,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        StandardMetaDataContexts metaDataContexts = new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","date":"2021-08-15 02:33:31","endLine":91,"groupId":"13896","id":20,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/c1/6afd42d00d052cf95330e1693b4589016800c0.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(), \n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/SchemaAssignedDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":79,"status":"M"}],"commitId":"d6e424ba68c64ea1835a42b0f4b0fb7f69c95323","commitMessage":"@@@Add ContextManager (#11822)\n\n* Add ContextManager\n\n* Use ContextManager on GovernanceShardingSphereDataSource\n\n* Use ContextManager on ShardingSphereDataSource\n\n* Use ContextManager on ShardingSphereConnection\n\n* Use ContextManager on ShardingSphereConnection\n\n* Refactor AbstractBaseExecutorTest\n\n* Use ContextManager on proxy\n\n* Fix test case","date":"2021-08-15 02:33:31","modifiedFileCount":"118","status":"M","submitter":"Liang Zhang"},{"authorTime":"2021-08-15 11:55:34","codes":[{"authorDate":"2021-08-15 11:55:34","commitOrder":11,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        MetaDataContexts metaDataContexts = new MetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-08-15 11:55:34","endLine":91,"groupId":"13896","id":21,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/a7/715fffd69a234b795f16e014fa1f4e7601e3b0.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        StandardMetaDataContexts metaDataContexts = new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":79,"status":"M"},{"authorDate":"2021-08-15 11:55:34","commitOrder":11,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        MetaDataContexts metaDataContexts = new MetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","date":"2021-08-15 11:55:34","endLine":91,"groupId":"13896","id":22,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/81/8386a59e5dcf8bc76d3bcb7632dd9c8b4d82a1.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        StandardMetaDataContexts metaDataContexts = new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/SchemaAssignedDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":79,"status":"M"}],"commitId":"21a22f867f1709d878330ac64794a8a8880a116c","commitMessage":"@@@Merge StandardContexts and Contexts interface (#11826)\n\n","date":"2021-08-15 11:55:34","modifiedFileCount":"53","status":"M","submitter":"Liang Zhang"},{"authorTime":"2021-08-21 23:24:02","codes":[{"authorDate":"2021-08-21 23:24:02","commitOrder":12,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        MetaDataContexts metaDataContexts = new MetaDataContexts(mock(PersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-08-21 23:24:02","endLine":91,"groupId":"10839","id":23,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/15/eb4b4eb880712cf86ad753617c6af8b38e9a31.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        MetaDataContexts metaDataContexts = new MetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":79,"status":"M"},{"authorDate":"2021-08-21 23:24:02","commitOrder":12,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        MetaDataContexts metaDataContexts = new MetaDataContexts(mock(PersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","date":"2021-08-21 23:24:02","endLine":91,"groupId":"10839","id":24,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/1c/2a5e053c24699e98f37db82eccfc76ea8cc009.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        MetaDataContexts metaDataContexts = new MetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        schemaAssignedDatabaseBackendHandler = new SchemaAssignedDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(schemaAssignedDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/SchemaAssignedDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":79,"status":"M"}],"commitId":"534fe5735969e87e2066a2087ba12618be530cbc","commitMessage":"@@@Refactor ShardingSphereMode (#11937)\n\n* Refactor ShardingSphereAutoConfiguration\n\n* Remove useless PersistRepositoryFactory\n\n* Add StandalonePersistRepository\n\n* Add generic type of ShardingSphereMode\n\n* Add generic type of ContextManagerBuilder\n\n* Refactor ShardingSphereMode\n\n* Rename LocalStandalonePersistRepository\n\n* Rename LocalRepository\n\n* Rename RegistryCenterRepository to ClusterPersistRepository\n\n* Rename ClusterPersistRepositoryFactory\n\n* Move StandalonePersistRepository\n\n* Move StandalonePersistRepositoryConfiguration\n\n* Rename DistMetaDataPersistService to PersistService","date":"2021-08-21 23:24:02","modifiedFileCount":"75","status":"M","submitter":"Liang Zhang"}]
