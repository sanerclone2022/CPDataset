[{"authorTime":"2021-03-26 12:52:46","codes":[{"authorDate":"2021-04-11 15:08:08","commitOrder":2,"curCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-04-11 15:08:08","endLine":145,"groupId":"10988","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"loadTablePrimaryKeys","params":"(finalConnectionconnection@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/05/99b2119d8ee69813689cb67bd3680719eddf89.src","preCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/OracleTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":132,"status":"B"},{"authorDate":"2021-03-26 12:52:46","commitOrder":2,"curCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            preparedStatement.setString(2, \"PUBLIC\");\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-03-26 12:52:46","endLine":163,"groupId":"10988","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"loadTablePrimaryKeys","params":"(finalConnectionconnection@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/cf/828e12e21a248dd498b85c75781571c1b0407f.src","preCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            preparedStatement.setString(2, \"PUBLIC\");\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/H2TableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":149,"status":"NB"}],"commitId":"09aa12aa52bb62d15ebb9486ab6e7ebeeb21a607","commitMessage":"@@@Fix oracle metadata loader problem (#9985)\n\n* fix oracle metadata loader problem\n\n* fix\n\n* fix","date":"2021-04-11 15:08:08","modifiedFileCount":"2","status":"M","submitter":"Zhu jun"},{"authorTime":"2021-08-17 15:06:22","codes":[{"authorDate":"2021-08-17 15:06:22","commitOrder":3,"curCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames, final boolean isExclude) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames, isExclude))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-08-17 15:06:22","endLine":175,"groupId":"10988","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"loadTablePrimaryKeys","params":"(finalConnectionconnection@finalCollection<String>tableNames@finalbooleanisExclude)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/56/062bdc12d06df1655db77071e14842a5076487.src","preCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/OracleTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":162,"status":"M"},{"authorDate":"2021-08-17 15:06:22","commitOrder":3,"curCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames, final boolean isExclude) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames, isExclude))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            preparedStatement.setString(2, \"PUBLIC\");\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-08-17 15:06:22","endLine":182,"groupId":"10988","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"loadTablePrimaryKeys","params":"(finalConnectionconnection@finalCollection<String>tableNames@finalbooleanisExclude)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/95/4887b25a16c25417370b37f298d4aa04ff4cfa.src","preCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            preparedStatement.setString(2, \"PUBLIC\");\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/H2TableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":168,"status":"M"}],"commitId":"605e05c907bb4bd4e14bb682c01e6f46e562a87b","commitMessage":"@@@improve metadata load performance (#11767)\n\n* improve metadata load performance\n\n* improve metadata load performance\n\n* metaDataImprove test case\n\n* metaDataImprove add test case\n\n* metaDataImprove add test case\n\n* metaDataImprove add test case\n\n* metaDataImprove add test case\n\n* metaDataImprove add test case\n\n* metaDataImprove add test case\n\n* metaDataImprove fix index\n\n* metaDataImprove optimize review\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions","date":"2021-08-17 15:06:22","modifiedFileCount":"16","status":"M","submitter":"tuichenchuxin"},{"authorTime":"2021-08-20 15:52:50","codes":[{"authorDate":"2021-08-20 15:52:50","commitOrder":4,"curCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-08-20 15:52:50","endLine":154,"groupId":"10988","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"loadTablePrimaryKeys","params":"(finalConnectionconnection@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/fb/621a74f58d51f2cb122c0b1226fb76d94fa426.src","preCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames, final boolean isExclude) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames, isExclude))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/OracleTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":141,"status":"M"},{"authorDate":"2021-08-20 15:52:50","commitOrder":4,"curCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            preparedStatement.setString(2, \"PUBLIC\");\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-08-20 15:52:50","endLine":160,"groupId":"10988","id":6,"instanceNumber":2,"isCurCommit":1,"methodName":"loadTablePrimaryKeys","params":"(finalConnectionconnection@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/91/260a9172acc9dc7ed602c4cf7aac9fb287b468.src","preCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames, final boolean isExclude) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames, isExclude))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            preparedStatement.setString(2, \"PUBLIC\");\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/H2TableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":146,"status":"M"}],"commitId":"632b7c777ea43f7de3dfd2f13bc866814b882eaa","commitMessage":"@@@Refactor single table meta data load (#11895)\n\n","date":"2021-08-20 15:52:50","modifiedFileCount":"31","status":"M","submitter":"tuichenchuxin"},{"authorTime":"2021-08-20 15:52:50","codes":[{"authorDate":"2021-08-24 07:46:44","commitOrder":5,"curCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getSchema());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-08-24 07:46:44","endLine":161,"groupId":"101933","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"loadTablePrimaryKeys","params":"(finalConnectionconnection@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/da/b2d0b9b59eca6d85d9ee366b36b9b17b4dd9a2.src","preCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/OracleTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":148,"status":"M"},{"authorDate":"2021-08-20 15:52:50","commitOrder":5,"curCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            preparedStatement.setString(2, \"PUBLIC\");\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-08-20 15:52:50","endLine":160,"groupId":"101933","id":8,"instanceNumber":2,"isCurCommit":1,"methodName":"loadTablePrimaryKeys","params":"(finalConnectionconnection@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/91/260a9172acc9dc7ed602c4cf7aac9fb287b468.src","preCode":"    private Map<String, Collection<String>> loadTablePrimaryKeys(final Connection connection, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<String>> result = new HashMap<>();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(getPrimaryKeyMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            preparedStatement.setString(2, \"PUBLIC\");\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String columnName = resultSet.getString(\"COLUMN_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    result.computeIfAbsent(tableName, k -> new LinkedList<>()).add(columnName);\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/H2TableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":146,"status":"N"}],"commitId":"580d8c81fbd39a751333abb0bfe3a453cc6a77a9","commitMessage":"@@@Oracle load test (#11956)\n\n","date":"2021-08-24 07:46:44","modifiedFileCount":"2","status":"M","submitter":"tuichenchuxin"}]
