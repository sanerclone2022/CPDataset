[{"authorTime":"2021-01-05 18:34:28","codes":[{"authorDate":"2021-01-05 18:34:28","commitOrder":1,"curCode":"    public void beforeMethod(final TargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        Span root = (Span) ((Map<String, Object>) args[2]).get(\"_root_span_\");\n        Tracer.SpanBuilder builder = GlobalTracer.get().buildSpan(OPERATION_NAME);\n        if ((boolean) args[1]) {\n            builder.asChildOf(root);\n        } else {\n            JDBCExecutionUnit executionUnit = (JDBCExecutionUnit) args[0];\n            ExecutionUnit unit = executionUnit.getExecutionUnit();\n            builder.withTag(Tags.COMPONENT.getKey(), ShardingSphereTags.COMPONENT_NAME)\n                    .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\n                    .withTag(Tags.DB_TYPE.getKey(), \"sql\")\n                    .withTag(Tags.DB_INSTANCE.getKey(), unit.getDataSourceName())\n                    .withTag(Tags.DB_STATEMENT.getKey(), unit.getSqlUnit().getSql())\n                    .withTag(ShardingSphereTags.DB_BIND_VARIABLES.getKey(), unit.getSqlUnit().getParameters().toString());\n        }\n        target.setAttachment(builder.startActive(true));\n    }\n","date":"2021-01-05 18:34:28","endLine":59,"groupId":"5957","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"beforeMethod","params":"(finalTargetObjecttarget@finalMethodmethod@finalObject[]args@finalMethodInvocationResultresult)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/bf/9d247bf716e75ea892e132a51d5e01d52136a2.src","preCode":"    public void beforeMethod(final TargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        Span root = (Span) ((Map<String, Object>) args[2]).get(\"_root_span_\");\n        Tracer.SpanBuilder builder = GlobalTracer.get().buildSpan(OPERATION_NAME);\n        if ((boolean) args[1]) {\n            builder.asChildOf(root);\n        } else {\n            JDBCExecutionUnit executionUnit = (JDBCExecutionUnit) args[0];\n            ExecutionUnit unit = executionUnit.getExecutionUnit();\n            builder.withTag(Tags.COMPONENT.getKey(), ShardingSphereTags.COMPONENT_NAME)\n                    .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\n                    .withTag(Tags.DB_TYPE.getKey(), \"sql\")\n                    .withTag(Tags.DB_INSTANCE.getKey(), unit.getDataSourceName())\n                    .withTag(Tags.DB_STATEMENT.getKey(), unit.getSqlUnit().getSql())\n                    .withTag(ShardingSphereTags.DB_BIND_VARIABLES.getKey(), unit.getSqlUnit().getParameters().toString());\n        }\n        target.setAttachment(builder.startActive(true));\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-tracing/shardingsphere-agent-tracing-opentracing/src/main/java/org/apache/shardingsphere/agent/plugin/tracing/opentracing/advice/JDBCExecutorCallbackAdvice.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":43,"status":"B"},{"authorDate":"2021-01-05 18:34:28","commitOrder":1,"curCode":"    public void beforeMethod(final TargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        Scope scope = GlobalTracer.get().buildSpan(OPERATION_NAME)\n                .withTag(Tags.COMPONENT.getKey(), ShardingSphereTags.COMPONENT_NAME)\n                .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\n                .withTag(Tags.DB_STATEMENT.getKey(), String.valueOf(args[0]))\n                .startActive(true);\n        target.setAttachment(scope);\n    }\n","date":"2021-01-05 18:34:28","endLine":45,"groupId":"12207","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"beforeMethod","params":"(finalTargetObjecttarget@finalMethodmethod@finalObject[]args@finalMethodInvocationResultresult)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/99/796c4ccf9145a8392a84138602f4e2fa2415bb.src","preCode":"    public void beforeMethod(final TargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        Scope scope = GlobalTracer.get().buildSpan(OPERATION_NAME)\n                .withTag(Tags.COMPONENT.getKey(), ShardingSphereTags.COMPONENT_NAME)\n                .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\n                .withTag(Tags.DB_STATEMENT.getKey(), String.valueOf(args[0]))\n                .startActive(true);\n        target.setAttachment(scope);\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-tracing/shardingsphere-agent-tracing-opentracing/src/main/java/org/apache/shardingsphere/agent/plugin/tracing/opentracing/advice/SQLParserEngineAdvice.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":38,"status":"B"}],"commitId":"259fdd1d9015774c14f032051ba6943d5adbb9dc","commitMessage":"@@@agent add opentracing plugin (#8895)\n\n* agent add opentracing plugin\n\n* agent add opentracing plugin","date":"2021-01-05 18:34:28","modifiedFileCount":"1","status":"B","submitter":"xiaoyu"},{"authorTime":"2021-01-12 10:35:24","codes":[{"authorDate":"2021-01-12 10:35:24","commitOrder":2,"curCode":"    public void beforeMethod(final AdviceTargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        Span root = (Span) ((Map<String, Object>) args[2]).get(\"_root_span_\");\n        Tracer.SpanBuilder builder = GlobalTracer.get().buildSpan(OPERATION_NAME);\n        if ((boolean) args[1]) {\n            builder.asChildOf(root);\n        } else {\n            JDBCExecutionUnit executionUnit = (JDBCExecutionUnit) args[0];\n            ExecutionUnit unit = executionUnit.getExecutionUnit();\n            builder.withTag(Tags.COMPONENT.getKey(), ShardingSphereTags.COMPONENT_NAME)\n                    .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\n                    .withTag(Tags.DB_TYPE.getKey(), \"sql\")\n                    .withTag(Tags.DB_INSTANCE.getKey(), unit.getDataSourceName())\n                    .withTag(Tags.DB_STATEMENT.getKey(), unit.getSqlUnit().getSql())\n                    .withTag(ShardingSphereTags.DB_BIND_VARIABLES.getKey(), unit.getSqlUnit().getParameters().toString());\n        }\n        target.setAttachment(builder.startActive(true));\n    }\n","date":"2021-01-12 10:35:24","endLine":59,"groupId":"5957","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"beforeMethod","params":"(finalAdviceTargetObjecttarget@finalMethodmethod@finalObject[]args@finalMethodInvocationResultresult)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/15/92ec83bf1877b35a0f6da58e0abdf252956c43.src","preCode":"    public void beforeMethod(final TargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        Span root = (Span) ((Map<String, Object>) args[2]).get(\"_root_span_\");\n        Tracer.SpanBuilder builder = GlobalTracer.get().buildSpan(OPERATION_NAME);\n        if ((boolean) args[1]) {\n            builder.asChildOf(root);\n        } else {\n            JDBCExecutionUnit executionUnit = (JDBCExecutionUnit) args[0];\n            ExecutionUnit unit = executionUnit.getExecutionUnit();\n            builder.withTag(Tags.COMPONENT.getKey(), ShardingSphereTags.COMPONENT_NAME)\n                    .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\n                    .withTag(Tags.DB_TYPE.getKey(), \"sql\")\n                    .withTag(Tags.DB_INSTANCE.getKey(), unit.getDataSourceName())\n                    .withTag(Tags.DB_STATEMENT.getKey(), unit.getSqlUnit().getSql())\n                    .withTag(ShardingSphereTags.DB_BIND_VARIABLES.getKey(), unit.getSqlUnit().getParameters().toString());\n        }\n        target.setAttachment(builder.startActive(true));\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-tracing/shardingsphere-agent-tracing-opentracing/src/main/java/org/apache/shardingsphere/agent/plugin/tracing/opentracing/advice/JDBCExecutorCallbackAdvice.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":43,"status":"M"},{"authorDate":"2021-01-12 10:35:24","commitOrder":2,"curCode":"    public void beforeMethod(final AdviceTargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        Scope scope = GlobalTracer.get().buildSpan(OPERATION_NAME)\n                .withTag(Tags.COMPONENT.getKey(), ShardingSphereTags.COMPONENT_NAME)\n                .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\n                .withTag(Tags.DB_STATEMENT.getKey(), String.valueOf(args[0]))\n                .startActive(true);\n        target.setAttachment(scope);\n    }\n","date":"2021-01-12 10:35:24","endLine":45,"groupId":"12207","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"beforeMethod","params":"(finalAdviceTargetObjecttarget@finalMethodmethod@finalObject[]args@finalMethodInvocationResultresult)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/e6/10e5d972d125efc711ad50c9af3847472b67c8.src","preCode":"    public void beforeMethod(final TargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        Scope scope = GlobalTracer.get().buildSpan(OPERATION_NAME)\n                .withTag(Tags.COMPONENT.getKey(), ShardingSphereTags.COMPONENT_NAME)\n                .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\n                .withTag(Tags.DB_STATEMENT.getKey(), String.valueOf(args[0]))\n                .startActive(true);\n        target.setAttachment(scope);\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-tracing/shardingsphere-agent-tracing-opentracing/src/main/java/org/apache/shardingsphere/agent/plugin/tracing/opentracing/advice/SQLParserEngineAdvice.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":38,"status":"M"}],"commitId":"c75652dbf13f60b4572abc2f7a68c24bb84e6bd4","commitMessage":"@@@support to instrument the same method repeatedly (#8986)\n\n* support to instrument the same method repeatedly\n\n* fix wrong hand","date":"2021-01-12 10:35:24","modifiedFileCount":"32","status":"M","submitter":"Daming"},{"authorTime":"2021-01-12 10:35:24","codes":[{"authorDate":"2021-01-15 10:40:24","commitOrder":3,"curCode":"    public void beforeMethod(final AdviceTargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        Span root = (Span) ((Map<String, Object>) args[2]).get(\"ot_root_span_\");\n        Tracer.SpanBuilder builder = GlobalTracer.get().buildSpan(OPERATION_NAME);\n        if ((boolean) args[1]) {\n            builder.asChildOf(root);\n        } else {\n            JDBCExecutionUnit executionUnit = (JDBCExecutionUnit) args[0];\n            ExecutionUnit unit = executionUnit.getExecutionUnit();\n            builder.withTag(Tags.COMPONENT.getKey(), ShardingSphereTags.COMPONENT_NAME)\n                    .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\n                    .withTag(Tags.DB_TYPE.getKey(), \"sql\")\n                    .withTag(Tags.DB_INSTANCE.getKey(), unit.getDataSourceName())\n                    .withTag(Tags.DB_STATEMENT.getKey(), unit.getSqlUnit().getSql())\n                    .withTag(ShardingSphereTags.DB_BIND_VARIABLES.getKey(), unit.getSqlUnit().getParameters().toString());\n        }\n        target.setAttachment(builder.startActive(true));\n    }\n","date":"2021-01-15 10:40:24","endLine":59,"groupId":"1027","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"beforeMethod","params":"(finalAdviceTargetObjecttarget@finalMethodmethod@finalObject[]args@finalMethodInvocationResultresult)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/49/2a8a0ef74f8b7bdda01ad04fced1147674d1b7.src","preCode":"    public void beforeMethod(final AdviceTargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        Span root = (Span) ((Map<String, Object>) args[2]).get(\"_root_span_\");\n        Tracer.SpanBuilder builder = GlobalTracer.get().buildSpan(OPERATION_NAME);\n        if ((boolean) args[1]) {\n            builder.asChildOf(root);\n        } else {\n            JDBCExecutionUnit executionUnit = (JDBCExecutionUnit) args[0];\n            ExecutionUnit unit = executionUnit.getExecutionUnit();\n            builder.withTag(Tags.COMPONENT.getKey(), ShardingSphereTags.COMPONENT_NAME)\n                    .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\n                    .withTag(Tags.DB_TYPE.getKey(), \"sql\")\n                    .withTag(Tags.DB_INSTANCE.getKey(), unit.getDataSourceName())\n                    .withTag(Tags.DB_STATEMENT.getKey(), unit.getSqlUnit().getSql())\n                    .withTag(ShardingSphereTags.DB_BIND_VARIABLES.getKey(), unit.getSqlUnit().getParameters().toString());\n        }\n        target.setAttachment(builder.startActive(true));\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-tracing/shardingsphere-agent-tracing-opentracing/src/main/java/org/apache/shardingsphere/agent/plugin/tracing/opentracing/advice/JDBCExecutorCallbackAdvice.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":43,"status":"M"},{"authorDate":"2021-01-12 10:35:24","commitOrder":3,"curCode":"    public void beforeMethod(final AdviceTargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        Scope scope = GlobalTracer.get().buildSpan(OPERATION_NAME)\n                .withTag(Tags.COMPONENT.getKey(), ShardingSphereTags.COMPONENT_NAME)\n                .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\n                .withTag(Tags.DB_STATEMENT.getKey(), String.valueOf(args[0]))\n                .startActive(true);\n        target.setAttachment(scope);\n    }\n","date":"2021-01-12 10:35:24","endLine":45,"groupId":"1027","id":6,"instanceNumber":2,"isCurCommit":1,"methodName":"beforeMethod","params":"(finalAdviceTargetObjecttarget@finalMethodmethod@finalObject[]args@finalMethodInvocationResultresult)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/e6/10e5d972d125efc711ad50c9af3847472b67c8.src","preCode":"    public void beforeMethod(final AdviceTargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        Scope scope = GlobalTracer.get().buildSpan(OPERATION_NAME)\n                .withTag(Tags.COMPONENT.getKey(), ShardingSphereTags.COMPONENT_NAME)\n                .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\n                .withTag(Tags.DB_STATEMENT.getKey(), String.valueOf(args[0]))\n                .startActive(true);\n        target.setAttachment(scope);\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-tracing/shardingsphere-agent-tracing-opentracing/src/main/java/org/apache/shardingsphere/agent/plugin/tracing/opentracing/advice/SQLParserEngineAdvice.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":38,"status":"N"}],"commitId":"3d21ffcaa4b7aeb854496c403f46c0aa4ee6d611","commitMessage":"@@@rrefactor agent tracing plugin test (#9039)\n\n* refactor agent tracing plugin test\n\n* Update CommandExecutorTaskAdviceTest.java\n\nrename method\n\n* add license header","date":"2021-01-15 10:40:24","modifiedFileCount":"15","status":"M","submitter":"Daming"}]
