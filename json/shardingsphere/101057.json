[{"authorTime":"2021-07-05 19:11:33","codes":[{"authorDate":"2021-08-12 14:25:57","commitOrder":2,"curCode":"    public static TextProtocolBackendHandler newInstance(final CommonDistSQLStatement sqlStatement, final BackendConnection backendConnection) throws SQLException {\n        if (sqlStatement instanceof SetDistSQLStatement) {\n            return new SetDistSQLBackendHandler((SetDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof ShowDistSQLStatement) {\n            return new ShowDistSQLBackendHandler((ShowDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof PreviewDistSQLStatement) {\n            return new PrviewDistSQLBackendHandler((PreviewDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof HintDistSQLStatement) {\n            return new HintDistSQLBackendHandler((HintDistSQLStatement) sqlStatement, backendConnection);\n        }\n        throw new UnsupportedTypeException(sqlStatement.getClass().getCanonicalName());\n    }\n","date":"2021-08-12 14:25:57","endLine":61,"groupId":"11685","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"newInstance","params":"(finalCommonDistSQLStatementsqlStatement@finalBackendConnectionbackendConnection)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/fd/65a91a79ee1fdc50d7dc8ea552cd215808336d.src","preCode":"    public static TextProtocolBackendHandler newInstance(final CommonDistSQLStatement sqlStatement, final BackendConnection backendConnection) throws SQLException {\n        if (sqlStatement instanceof SetDistSQLStatement) {\n            return new SetDistSQLBackendHandler((SetDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof ShowDistSQLStatement) {\n            return new ShowDistSQLBackendHandler((ShowDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof PreviewDistSQLStatement) {\n            return new PrviewDistSQLBackendHandler((PreviewDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof HintDistSQLStatement) {\n            return new HintDistSQLBackendHandler((HintDistSQLStatement) sqlStatement, backendConnection);\n        }\n        throw new UnsupportedTypeException(sqlStatement.getClass().getCanonicalName());\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/text/distsql/ral/common/CommonDistSQLBackendHandlerFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":47,"status":"B"},{"authorDate":"2021-07-05 19:11:33","commitOrder":2,"curCode":"    private static TextProtocolBackendHandler createBackendHandler(final SQLStatement sqlStatement, final BackendConnection backendConnection) {\n        if (sqlStatement instanceof CreateDatabaseStatement) {\n            return new CreateDatabaseBackendHandler((CreateDatabaseStatement) sqlStatement);\n        }\n        if (sqlStatement instanceof DropDatabaseStatement) {\n            return new DropDatabaseBackendHandler((DropDatabaseStatement) sqlStatement, backendConnection);\n        }\n        throw new UnsupportedOperationException(sqlStatement.getClass().getCanonicalName());\n    }\n","date":"2021-07-05 19:11:33","endLine":66,"groupId":"11685","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"createBackendHandler","params":"(finalSQLStatementsqlStatement@finalBackendConnectionbackendConnection)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/8f/097ed2aa10900fd9db460d1194c07020468cfe.src","preCode":"    private static TextProtocolBackendHandler createBackendHandler(final SQLStatement sqlStatement, final BackendConnection backendConnection) {\n        if (sqlStatement instanceof CreateDatabaseStatement) {\n            return new CreateDatabaseBackendHandler((CreateDatabaseStatement) sqlStatement);\n        }\n        if (sqlStatement instanceof DropDatabaseStatement) {\n            return new DropDatabaseBackendHandler((DropDatabaseStatement) sqlStatement, backendConnection);\n        }\n        throw new UnsupportedOperationException(sqlStatement.getClass().getCanonicalName());\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/text/database/DatabaseOperateBackendHandlerFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":58,"status":"NB"}],"commitId":"b09b437527f2c87801e8f5edefc21fba955aeec3","commitMessage":"@@@Main structure code of processing SCTL dist SQL. (#11742)\n\n* Add SCTL syntax definition for ANTLR\n\n* fix mistake\n\n* Parse SCTL according to the DistSQL process and implement `set readwrite_splitting hint source` syntax.\n\n* Rollback yaml file.\n\n* Delete blank line.\n\n* Improve comments.\n\n* fix set syntax\n\n* add TODO comment.\n\n* Fix indent of new line.  move sharding and readwrite hint syntax to feature distsql package.\n\n* add final to param.\n\n* Rename ResourceStatement.g4 to CommonDistSQLStatement.g4\n\n* Rename SCTL to commonDistSQL","date":"2021-08-12 14:25:57","modifiedFileCount":"5","status":"M","submitter":"Raigor"},{"authorTime":"2021-07-05 19:11:33","codes":[{"authorDate":"2021-08-13 18:15:48","commitOrder":3,"curCode":"    public static TextProtocolBackendHandler newInstance(final CommonDistSQLStatement sqlStatement, final BackendConnection backendConnection) throws SQLException {\n        if (sqlStatement instanceof SetDistSQLStatement) {\n            return new SetDistSQLBackendHandler((SetDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof ShowDistSQLStatement) {\n            return new ShowDistSQLBackendHandler((ShowDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof HintDistSQLStatement) {\n            return new HintDistSQLBackendHandler((HintDistSQLStatement) sqlStatement, backendConnection);\n        }\n        throw new UnsupportedTypeException(sqlStatement.getClass().getCanonicalName());\n    }\n","date":"2021-08-13 18:15:48","endLine":57,"groupId":"101057","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"newInstance","params":"(finalCommonDistSQLStatementsqlStatement@finalBackendConnectionbackendConnection)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/c2/4c70556227ea8d907867fda2883c04db66cea5.src","preCode":"    public static TextProtocolBackendHandler newInstance(final CommonDistSQLStatement sqlStatement, final BackendConnection backendConnection) throws SQLException {\n        if (sqlStatement instanceof SetDistSQLStatement) {\n            return new SetDistSQLBackendHandler((SetDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof ShowDistSQLStatement) {\n            return new ShowDistSQLBackendHandler((ShowDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof PreviewDistSQLStatement) {\n            return new PrviewDistSQLBackendHandler((PreviewDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof HintDistSQLStatement) {\n            return new HintDistSQLBackendHandler((HintDistSQLStatement) sqlStatement, backendConnection);\n        }\n        throw new UnsupportedTypeException(sqlStatement.getClass().getCanonicalName());\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/text/distsql/ral/common/CommonDistSQLBackendHandlerFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":46,"status":"M"},{"authorDate":"2021-07-05 19:11:33","commitOrder":3,"curCode":"    private static TextProtocolBackendHandler createBackendHandler(final SQLStatement sqlStatement, final BackendConnection backendConnection) {\n        if (sqlStatement instanceof CreateDatabaseStatement) {\n            return new CreateDatabaseBackendHandler((CreateDatabaseStatement) sqlStatement);\n        }\n        if (sqlStatement instanceof DropDatabaseStatement) {\n            return new DropDatabaseBackendHandler((DropDatabaseStatement) sqlStatement, backendConnection);\n        }\n        throw new UnsupportedOperationException(sqlStatement.getClass().getCanonicalName());\n    }\n","date":"2021-07-05 19:11:33","endLine":66,"groupId":"101057","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"createBackendHandler","params":"(finalSQLStatementsqlStatement@finalBackendConnectionbackendConnection)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/8f/097ed2aa10900fd9db460d1194c07020468cfe.src","preCode":"    private static TextProtocolBackendHandler createBackendHandler(final SQLStatement sqlStatement, final BackendConnection backendConnection) {\n        if (sqlStatement instanceof CreateDatabaseStatement) {\n            return new CreateDatabaseBackendHandler((CreateDatabaseStatement) sqlStatement);\n        }\n        if (sqlStatement instanceof DropDatabaseStatement) {\n            return new DropDatabaseBackendHandler((DropDatabaseStatement) sqlStatement, backendConnection);\n        }\n        throw new UnsupportedOperationException(sqlStatement.getClass().getCanonicalName());\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/text/database/DatabaseOperateBackendHandlerFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":58,"status":"N"}],"commitId":"933ebab23d2431213c8fc9b01d9d096115eca4f8","commitMessage":"@@@Add advancedDistSQLStatement.  and implement 'preview sql'. (#11802)\n\n* Add advancedDistSQLStatement.  and implement 'preview sql'.\n\n* fix `Actual should not exist` syntax problem.","date":"2021-08-13 18:15:48","modifiedFileCount":"29","status":"M","submitter":"Raigor"}]
