[{"authorTime":"2021-06-23 18:27:05","codes":[{"authorDate":"2021-06-23 18:27:05","commitOrder":1,"curCode":"    public DatabaseCommunicationEngine newTextProtocolInstance(final SQLStatement sqlStatement, final String sql, final BackendConnection backendConnection) {\n        ShardingSphereMetaData metaData = ProxyContext.getInstance().getMetaData(backendConnection.getSchemaName());\n        LogicSQL logicSQL = createLogicSQL(sqlStatement, sql, Collections.emptyList(), metaData);\n        DatabaseCommunicationEngine result = new DatabaseCommunicationEngine(JDBCDriverType.STATEMENT, metaData, logicSQL, backendConnection);\n        backendConnection.add(result);\n        return result;\n    }\n","date":"2021-06-23 18:27:05","endLine":66,"groupId":"6631","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"newTextProtocolInstance","params":"(finalSQLStatementsqlStatement@finalStringsql@finalBackendConnectionbackendConnection)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/45/9cc064cebe63882b509b4ed7a0587ec06333c9.src","preCode":"    public DatabaseCommunicationEngine newTextProtocolInstance(final SQLStatement sqlStatement, final String sql, final BackendConnection backendConnection) {\n        ShardingSphereMetaData metaData = ProxyContext.getInstance().getMetaData(backendConnection.getSchemaName());\n        LogicSQL logicSQL = createLogicSQL(sqlStatement, sql, Collections.emptyList(), metaData);\n        DatabaseCommunicationEngine result = new DatabaseCommunicationEngine(JDBCDriverType.STATEMENT, metaData, logicSQL, backendConnection);\n        backendConnection.add(result);\n        return result;\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/communication/DatabaseCommunicationEngineFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":60,"status":"B"},{"authorDate":"2021-06-23 18:27:05","commitOrder":1,"curCode":"    public DatabaseCommunicationEngine newBinaryProtocolInstance(final SQLStatement sqlStatement, final String sql, final List<Object> parameters, final BackendConnection backendConnection) {\n        ShardingSphereMetaData metaData = ProxyContext.getInstance().getMetaData(backendConnection.getSchemaName());\n        LogicSQL logicSQL = createLogicSQL(sqlStatement, sql, new ArrayList<>(parameters), metaData);\n        DatabaseCommunicationEngine result = new DatabaseCommunicationEngine(JDBCDriverType.PREPARED_STATEMENT, metaData, logicSQL, backendConnection);\n        backendConnection.add(result);\n        return result;\n    }\n","date":"2021-06-23 18:27:05","endLine":83,"groupId":"6631","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"newBinaryProtocolInstance","params":"(finalSQLStatementsqlStatement@finalStringsql@finalList<Object>parameters@finalBackendConnectionbackendConnection)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/45/9cc064cebe63882b509b4ed7a0587ec06333c9.src","preCode":"    public DatabaseCommunicationEngine newBinaryProtocolInstance(final SQLStatement sqlStatement, final String sql, final List<Object> parameters, final BackendConnection backendConnection) {\n        ShardingSphereMetaData metaData = ProxyContext.getInstance().getMetaData(backendConnection.getSchemaName());\n        LogicSQL logicSQL = createLogicSQL(sqlStatement, sql, new ArrayList<>(parameters), metaData);\n        DatabaseCommunicationEngine result = new DatabaseCommunicationEngine(JDBCDriverType.PREPARED_STATEMENT, metaData, logicSQL, backendConnection);\n        backendConnection.add(result);\n        return result;\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/communication/DatabaseCommunicationEngineFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":77,"status":"B"}],"commitId":"ba6414447a80ac5a98a2ac30464b1964b6d7c5b4","commitMessage":"@@@Move cached statements and result sets into DatabaseCommunicationEngine (#10932)\n\n* Move cached statements and result sets into DatabaseCommunicationEngine\n\n* Complete tests for DatabaseCommunicationEngine\n\n* Close TextProtocolBackendHandler correctly\n\n* Add DatabaseCommunicationEngine to BackendConnection","date":"2021-06-23 18:27:05","modifiedFileCount":"22","status":"B","submitter":"???"},{"authorTime":"2021-07-02 20:44:49","codes":[{"authorDate":"2021-07-02 20:44:49","commitOrder":2,"curCode":"    public DatabaseCommunicationEngine newTextProtocolInstance(final SQLStatementContext<?> sqlStatementContext, final String sql, final BackendConnection backendConnection) {\n        ShardingSphereMetaData metaData = ProxyContext.getInstance().getMetaData(backendConnection.getSchemaName());\n        LogicSQL logicSQL = new LogicSQL(sqlStatementContext, sql, Collections.emptyList());\n        DatabaseCommunicationEngine result = new DatabaseCommunicationEngine(JDBCDriverType.STATEMENT, metaData, logicSQL, backendConnection);\n        backendConnection.add(result);\n        return result;\n    }\n","date":"2021-07-02 20:44:49","endLine":63,"groupId":"101054","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"newTextProtocolInstance","params":"(finalSQLStatementContext<?>sqlStatementContext@finalStringsql@finalBackendConnectionbackendConnection)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/38/f00d2cda13e2331a03d36b02ceb59e55814e35.src","preCode":"    public DatabaseCommunicationEngine newTextProtocolInstance(final SQLStatement sqlStatement, final String sql, final BackendConnection backendConnection) {\n        ShardingSphereMetaData metaData = ProxyContext.getInstance().getMetaData(backendConnection.getSchemaName());\n        LogicSQL logicSQL = createLogicSQL(sqlStatement, sql, Collections.emptyList(), metaData);\n        DatabaseCommunicationEngine result = new DatabaseCommunicationEngine(JDBCDriverType.STATEMENT, metaData, logicSQL, backendConnection);\n        backendConnection.add(result);\n        return result;\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/communication/DatabaseCommunicationEngineFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":57,"status":"M"},{"authorDate":"2021-07-02 20:44:49","commitOrder":2,"curCode":"    public DatabaseCommunicationEngine newBinaryProtocolInstance(final SQLStatementContext<?> sqlStatementContext, final String sql, \n                                                                 final List<Object> parameters, final BackendConnection backendConnection) {\n        ShardingSphereMetaData metaData = ProxyContext.getInstance().getMetaData(backendConnection.getSchemaName());\n        LogicSQL logicSQL = new LogicSQL(sqlStatementContext, sql, parameters);\n        DatabaseCommunicationEngine result = new DatabaseCommunicationEngine(JDBCDriverType.PREPARED_STATEMENT, metaData, logicSQL, backendConnection);\n        backendConnection.add(result);\n        return result;\n    }\n","date":"2021-07-02 20:44:49","endLine":81,"groupId":"101054","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"newBinaryProtocolInstance","params":"(finalSQLStatementContext<?>sqlStatementContext@finalStringsql@finalList<Object>parameters@finalBackendConnectionbackendConnection)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/38/f00d2cda13e2331a03d36b02ceb59e55814e35.src","preCode":"    public DatabaseCommunicationEngine newBinaryProtocolInstance(final SQLStatement sqlStatement, final String sql, final List<Object> parameters, final BackendConnection backendConnection) {\n        ShardingSphereMetaData metaData = ProxyContext.getInstance().getMetaData(backendConnection.getSchemaName());\n        LogicSQL logicSQL = createLogicSQL(sqlStatement, sql, new ArrayList<>(parameters), metaData);\n        DatabaseCommunicationEngine result = new DatabaseCommunicationEngine(JDBCDriverType.PREPARED_STATEMENT, metaData, logicSQL, backendConnection);\n        backendConnection.add(result);\n        return result;\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/communication/DatabaseCommunicationEngineFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":74,"status":"M"}],"commitId":"bfb784c9a0e47fd147c8a654c2f0b2a1e86c2c27","commitMessage":"@@@extract SchemaAvailable interface & add validate for SelectStatement (#11091)\n\n* refactor SchemaAvailable interface & add validate for SelectStatement\n\n* add final for InsertStatementContext field\n\n* fix test case error\n\n* fix rewrite test case error\n\n* refactor context new instance method\n\n* optimize test case\n\n* fix test case\n\n* optimize logic\n\n* fix test case\n\n* fix checkstyle","date":"2021-07-02 20:44:49","modifiedFileCount":"44","status":"M","submitter":"Zhengqiang Duan"}]
