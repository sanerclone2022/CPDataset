[{"authorTime":"2021-06-11 13:29:00","codes":[{"authorDate":"2021-04-04 18:16:18","commitOrder":16,"curCode":"    public int executeUpdate(final String sql, final int autoGeneratedKeys) throws SQLException {\n        if (RETURN_GENERATED_KEYS == autoGeneratedKeys) {\n            returnGeneratedKeys = true;\n        }\n        try {\n            executionContext = createExecutionContext(sql);\n            if (metaDataContexts.getDefaultMetaData().getRuleMetaData().getRules().stream().anyMatch(each -> each instanceof RawExecutionRule)) {\n                return accumulate(rawExecutor.execute(createRawExecutionContext(), executionContext.getSqlStatementContext(), new RawSQLExecutorCallback()));\n            }\n            ExecutionGroupContext<JDBCExecutionUnit> executionGroupContext = createExecutionContext();\n            cacheStatements(executionGroupContext.getInputGroups());\n            return executeUpdate(executionGroupContext,\n                (actualSQL, statement) -> statement.executeUpdate(actualSQL, autoGeneratedKeys), executionContext.getSqlStatementContext(), executionContext.getRouteContext().getRouteUnits());\n        } finally {\n            currentResultSet = null;\n        }\n    }\n","date":"2021-04-04 18:16:18","endLine":233,"groupId":"13664","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"executeUpdate","params":"(finalStringsql@finalintautoGeneratedKeys)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/13/e4a9590dc44f7a78191909f2dbeafd7dc6d748.src","preCode":"    public int executeUpdate(final String sql, final int autoGeneratedKeys) throws SQLException {\n        if (RETURN_GENERATED_KEYS == autoGeneratedKeys) {\n            returnGeneratedKeys = true;\n        }\n        try {\n            executionContext = createExecutionContext(sql);\n            if (metaDataContexts.getDefaultMetaData().getRuleMetaData().getRules().stream().anyMatch(each -> each instanceof RawExecutionRule)) {\n                return accumulate(rawExecutor.execute(createRawExecutionContext(), executionContext.getSqlStatementContext(), new RawSQLExecutorCallback()));\n            }\n            ExecutionGroupContext<JDBCExecutionUnit> executionGroupContext = createExecutionContext();\n            cacheStatements(executionGroupContext.getInputGroups());\n            return executeUpdate(executionGroupContext,\n                (actualSQL, statement) -> statement.executeUpdate(actualSQL, autoGeneratedKeys), executionContext.getSqlStatementContext(), executionContext.getRouteContext().getRouteUnits());\n        } finally {\n            currentResultSet = null;\n        }\n    }\n","realPath":"shardingsphere-jdbc/shardingsphere-jdbc-core/src/main/java/org/apache/shardingsphere/driver/jdbc/core/statement/ShardingSphereStatement.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":217,"status":"NB"},{"authorDate":"2021-06-11 13:29:00","commitOrder":16,"curCode":"    private boolean execute0(final String sql, final ExecuteCallback callback) throws SQLException {\n        try {\n            executionContext = createExecutionContext(sql);\n            if (metaDataContexts.getDefaultMetaData().getRuleMetaData().getRules().stream().anyMatch(each -> each instanceof RawExecutionRule)) {\n                \r\n                Collection<ExecuteResult> results = rawExecutor.execute(createRawExecutionContext(), executionContext.getSqlStatementContext(), new RawSQLExecutorCallback());\n                return results.iterator().next() instanceof QueryResult;\n            }\n            if (executionContext.getRouteContext().isFederated()) {\n                List<QueryResult> queryResults = executeFederatedQuery();\n                return !queryResults.isEmpty();\n            }\n            ExecutionGroupContext<JDBCExecutionUnit> executionGroupContext = createExecutionContext();\n            cacheStatements(executionGroupContext.getInputGroups());\n            return execute(executionGroupContext, callback, executionContext.getSqlStatementContext().getSqlStatement(), executionContext.getRouteContext().getRouteUnits());\n        } finally {\n            currentResultSet = null;\n        }\n    }\n","date":"2021-06-11 13:29:00","endLine":354,"groupId":"3931","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"execute0","params":"(finalStringsql@finalExecuteCallbackcallback)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/63/3047324008a302c0bd82c0a26d0ac571ef15dc.src","preCode":"    private boolean execute0(final String sql, final ExecuteCallback callback) throws SQLException {\n        try {\n            executionContext = createExecutionContext(sql);\n            if (metaDataContexts.getDefaultMetaData().getRuleMetaData().getRules().stream().anyMatch(each -> each instanceof RawExecutionRule)) {\n                \r\n                Collection<ExecuteResult> results = rawExecutor.execute(createRawExecutionContext(), executionContext.getSqlStatementContext(), new RawSQLExecutorCallback());\n                return results.iterator().next() instanceof QueryResult;\n            }\n            if (executionContext.getRouteContext().isFederated()) {\n                List<QueryResult> queryResults = executeFederatedQuery();\n                return !queryResults.isEmpty();\n            }\n            ExecutionGroupContext<JDBCExecutionUnit> executionGroupContext = createExecutionContext();\n            cacheStatements(executionGroupContext.getInputGroups());\n            return execute(executionGroupContext, callback, executionContext.getSqlStatementContext().getSqlStatement(), executionContext.getRouteContext().getRouteUnits());\n        } finally {\n            currentResultSet = null;\n        }\n    }\n","realPath":"shardingsphere-jdbc/shardingsphere-jdbc-core/src/main/java/org/apache/shardingsphere/driver/jdbc/core/statement/ShardingSphereStatement.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":336,"status":"B"}],"commitId":"99166c491f1e3005946dc7324094a08e812121af","commitMessage":"@@@fix calcite select result merge error when call execute method (#10758)\n\n* fix calcite select result merge error when call execute method\n\n* fix test case","date":"2021-06-11 13:29:00","modifiedFileCount":"8","status":"M","submitter":"Zhengqiang Duan"},{"authorTime":"2021-06-25 16:56:56","codes":[{"authorDate":"2021-06-25 16:56:56","commitOrder":17,"curCode":"    public int executeUpdate(final String sql, final int autoGeneratedKeys) throws SQLException {\n        if (RETURN_GENERATED_KEYS == autoGeneratedKeys) {\n            returnGeneratedKeys = true;\n        }\n        try {\n            executionContext = createExecutionContext(sql);\n            if (metaDataContexts.getDefaultMetaData().getRuleMetaData().getRules().stream().anyMatch(each -> each instanceof RawExecutionRule)) {\n                return accumulate(rawExecutor.execute(createRawExecutionContext(), executionContext.getLogicSQL(), new RawSQLExecutorCallback()));\n            }\n            ExecutionGroupContext<JDBCExecutionUnit> executionGroupContext = createExecutionContext();\n            cacheStatements(executionGroupContext.getInputGroups());\n            return executeUpdate(executionGroupContext,\n                (actualSQL, statement) -> statement.executeUpdate(actualSQL, autoGeneratedKeys), executionContext.getSqlStatementContext(), executionContext.getRouteContext().getRouteUnits());\n        } finally {\n            currentResultSet = null;\n        }\n    }\n","date":"2021-06-25 16:56:56","endLine":228,"groupId":"13664","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"executeUpdate","params":"(finalStringsql@finalintautoGeneratedKeys)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/78/e40cf78edce2e2a429b3a21d5461f6041f4a18.src","preCode":"    public int executeUpdate(final String sql, final int autoGeneratedKeys) throws SQLException {\n        if (RETURN_GENERATED_KEYS == autoGeneratedKeys) {\n            returnGeneratedKeys = true;\n        }\n        try {\n            executionContext = createExecutionContext(sql);\n            if (metaDataContexts.getDefaultMetaData().getRuleMetaData().getRules().stream().anyMatch(each -> each instanceof RawExecutionRule)) {\n                return accumulate(rawExecutor.execute(createRawExecutionContext(), executionContext.getSqlStatementContext(), new RawSQLExecutorCallback()));\n            }\n            ExecutionGroupContext<JDBCExecutionUnit> executionGroupContext = createExecutionContext();\n            cacheStatements(executionGroupContext.getInputGroups());\n            return executeUpdate(executionGroupContext,\n                (actualSQL, statement) -> statement.executeUpdate(actualSQL, autoGeneratedKeys), executionContext.getSqlStatementContext(), executionContext.getRouteContext().getRouteUnits());\n        } finally {\n            currentResultSet = null;\n        }\n    }\n","realPath":"shardingsphere-jdbc/shardingsphere-jdbc-core/src/main/java/org/apache/shardingsphere/driver/jdbc/core/statement/ShardingSphereStatement.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":212,"status":"M"},{"authorDate":"2021-06-25 16:56:56","commitOrder":17,"curCode":"    private boolean execute0(final String sql, final ExecuteCallback callback) throws SQLException {\n        try {\n            executionContext = createExecutionContext(sql);\n            if (metaDataContexts.getDefaultMetaData().getRuleMetaData().getRules().stream().anyMatch(each -> each instanceof RawExecutionRule)) {\n                \r\n                Collection<ExecuteResult> results = rawExecutor.execute(createRawExecutionContext(), executionContext.getLogicSQL(), new RawSQLExecutorCallback());\n                return results.iterator().next() instanceof QueryResult;\n            }\n            if (executionContext.getRouteContext().isFederated()) {\n                List<QueryResult> queryResults = executeFederatedQuery();\n                return !queryResults.isEmpty();\n            }\n            ExecutionGroupContext<JDBCExecutionUnit> executionGroupContext = createExecutionContext();\n            cacheStatements(executionGroupContext.getInputGroups());\n            return execute(executionGroupContext, callback, executionContext.getSqlStatementContext().getSqlStatement(), executionContext.getRouteContext().getRouteUnits());\n        } finally {\n            currentResultSet = null;\n        }\n    }\n","date":"2021-06-25 16:56:56","endLine":353,"groupId":"13401","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"execute0","params":"(finalStringsql@finalExecuteCallbackcallback)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/78/e40cf78edce2e2a429b3a21d5461f6041f4a18.src","preCode":"    private boolean execute0(final String sql, final ExecuteCallback callback) throws SQLException {\n        try {\n            executionContext = createExecutionContext(sql);\n            if (metaDataContexts.getDefaultMetaData().getRuleMetaData().getRules().stream().anyMatch(each -> each instanceof RawExecutionRule)) {\n                \r\n                Collection<ExecuteResult> results = rawExecutor.execute(createRawExecutionContext(), executionContext.getSqlStatementContext(), new RawSQLExecutorCallback());\n                return results.iterator().next() instanceof QueryResult;\n            }\n            if (executionContext.getRouteContext().isFederated()) {\n                List<QueryResult> queryResults = executeFederatedQuery();\n                return !queryResults.isEmpty();\n            }\n            ExecutionGroupContext<JDBCExecutionUnit> executionGroupContext = createExecutionContext();\n            cacheStatements(executionGroupContext.getInputGroups());\n            return execute(executionGroupContext, callback, executionContext.getSqlStatementContext().getSqlStatement(), executionContext.getRouteContext().getRouteUnits());\n        } finally {\n            currentResultSet = null;\n        }\n    }\n","realPath":"shardingsphere-jdbc/shardingsphere-jdbc-core/src/main/java/org/apache/shardingsphere/driver/jdbc/core/statement/ShardingSphereStatement.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":335,"status":"M"}],"commitId":"2fa8d9de63960f5a160b64306418d9007a7ed528","commitMessage":"@@@Show logic SQL in execution process list Info column (#11006)\n\n* Prepare LogicSQL for ExecuteProcessReporter\n\n* Persist logic SQL and show in Info column","date":"2021-06-25 16:56:56","modifiedFileCount":"17","status":"M","submitter":"sandynz"},{"authorTime":"2021-08-09 16:45:36","codes":[{"authorDate":"2021-08-09 16:45:36","commitOrder":18,"curCode":"    public int executeUpdate(final String sql, final int autoGeneratedKeys) throws SQLException {\n        if (RETURN_GENERATED_KEYS == autoGeneratedKeys) {\n            returnGeneratedKeys = true;\n        }\n        try {\n            executionContext = createExecutionContext(sql);\n            if (metaDataContexts.getMetaData(connection.getSchemaName()).getRuleMetaData().getRules().stream().anyMatch(each -> each instanceof RawExecutionRule)) {\n                return accumulate(rawExecutor.execute(createRawExecutionContext(), executionContext.getLogicSQL(), new RawSQLExecutorCallback()));\n            }\n            ExecutionGroupContext<JDBCExecutionUnit> executionGroupContext = createExecutionContext();\n            cacheStatements(executionGroupContext.getInputGroups());\n            return executeUpdate(executionGroupContext,\n                (actualSQL, statement) -> statement.executeUpdate(actualSQL, autoGeneratedKeys), executionContext.getSqlStatementContext(), executionContext.getRouteContext().getRouteUnits());\n        } finally {\n            currentResultSet = null;\n        }\n    }\n","date":"2021-08-09 16:45:36","endLine":226,"groupId":"121188","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"executeUpdate","params":"(finalStringsql@finalintautoGeneratedKeys)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/d2/e584707f24bd62d48cc852cbeea49da6462e7e.src","preCode":"    public int executeUpdate(final String sql, final int autoGeneratedKeys) throws SQLException {\n        if (RETURN_GENERATED_KEYS == autoGeneratedKeys) {\n            returnGeneratedKeys = true;\n        }\n        try {\n            executionContext = createExecutionContext(sql);\n            if (metaDataContexts.getDefaultMetaData().getRuleMetaData().getRules().stream().anyMatch(each -> each instanceof RawExecutionRule)) {\n                return accumulate(rawExecutor.execute(createRawExecutionContext(), executionContext.getLogicSQL(), new RawSQLExecutorCallback()));\n            }\n            ExecutionGroupContext<JDBCExecutionUnit> executionGroupContext = createExecutionContext();\n            cacheStatements(executionGroupContext.getInputGroups());\n            return executeUpdate(executionGroupContext,\n                (actualSQL, statement) -> statement.executeUpdate(actualSQL, autoGeneratedKeys), executionContext.getSqlStatementContext(), executionContext.getRouteContext().getRouteUnits());\n        } finally {\n            currentResultSet = null;\n        }\n    }\n","realPath":"shardingsphere-jdbc/shardingsphere-jdbc-core/src/main/java/org/apache/shardingsphere/driver/jdbc/core/statement/ShardingSphereStatement.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":210,"status":"M"},{"authorDate":"2021-08-09 16:45:36","commitOrder":18,"curCode":"    private boolean execute0(final String sql, final ExecuteCallback callback) throws SQLException {\n        try {\n            executionContext = createExecutionContext(sql);\n            if (metaDataContexts.getMetaData(connection.getSchemaName()).getRuleMetaData().getRules().stream().anyMatch(each -> each instanceof RawExecutionRule)) {\n                \r\n                Collection<ExecuteResult> results = rawExecutor.execute(createRawExecutionContext(), executionContext.getLogicSQL(), new RawSQLExecutorCallback());\n                return results.iterator().next() instanceof QueryResult;\n            }\n            if (executionContext.getRouteContext().isFederated()) {\n                List<QueryResult> queryResults = executeFederatedQuery();\n                return !queryResults.isEmpty();\n            }\n            ExecutionGroupContext<JDBCExecutionUnit> executionGroupContext = createExecutionContext();\n            cacheStatements(executionGroupContext.getInputGroups());\n            return execute(executionGroupContext, callback, executionContext.getSqlStatementContext().getSqlStatement(), executionContext.getRouteContext().getRouteUnits());\n        } finally {\n            currentResultSet = null;\n        }\n    }\n","date":"2021-08-09 16:45:36","endLine":351,"groupId":"121188","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"execute0","params":"(finalStringsql@finalExecuteCallbackcallback)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/d2/e584707f24bd62d48cc852cbeea49da6462e7e.src","preCode":"    private boolean execute0(final String sql, final ExecuteCallback callback) throws SQLException {\n        try {\n            executionContext = createExecutionContext(sql);\n            if (metaDataContexts.getDefaultMetaData().getRuleMetaData().getRules().stream().anyMatch(each -> each instanceof RawExecutionRule)) {\n                \r\n                Collection<ExecuteResult> results = rawExecutor.execute(createRawExecutionContext(), executionContext.getLogicSQL(), new RawSQLExecutorCallback());\n                return results.iterator().next() instanceof QueryResult;\n            }\n            if (executionContext.getRouteContext().isFederated()) {\n                List<QueryResult> queryResults = executeFederatedQuery();\n                return !queryResults.isEmpty();\n            }\n            ExecutionGroupContext<JDBCExecutionUnit> executionGroupContext = createExecutionContext();\n            cacheStatements(executionGroupContext.getInputGroups());\n            return execute(executionGroupContext, callback, executionContext.getSqlStatementContext().getSqlStatement(), executionContext.getRouteContext().getRouteUnits());\n        } finally {\n            currentResultSet = null;\n        }\n    }\n","realPath":"shardingsphere-jdbc/shardingsphere-jdbc-core/src/main/java/org/apache/shardingsphere/driver/jdbc/core/statement/ShardingSphereStatement.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":333,"status":"M"}],"commitId":"222aeb59cc07d5eb3edc858c68b9d95cc903bcec","commitMessage":"@@@JDBC-core module delete getDefaultMetaData() (#11714)\n\n* jdbc-core module delete getDefaultMetaData()\n\n* update\n\n* optimization","date":"2021-08-09 16:45:36","modifiedFileCount":"22","status":"M","submitter":"zhaojinchao"}]
