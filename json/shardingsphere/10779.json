[{"authorTime":"2021-06-08 11:37:47","codes":[{"authorDate":"2021-06-08 11:37:47","commitOrder":1,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","date":"2021-06-08 11:37:47","endLine":50,"groupId":"9254","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/6e/6e3430f078e7333837bd0b5720e33773dc6021.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-db-discovery/shardingsphere-db-discovery-core/src/test/java/org/apache/shardingsphere/dbdiscovery/rule/builder/AlgorithmProvidedDatabaseDiscoveryRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":44,"status":"B"},{"authorDate":"2021-06-08 11:37:47","commitOrder":1,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig), instanceOf(ReadwriteSplittingRule.class));\n    }\n","date":"2021-06-08 11:37:47","endLine":51,"groupId":"9254","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/45/5cc33a1a20905f4dd7f979bf7f2eed5d3c1608.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig), instanceOf(ReadwriteSplittingRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-readwrite-splitting/shardingsphere-readwrite-splitting-core/src/test/java/org/apache/shardingsphere/readwritesplitting/rule/builder/AlgorithmProvidedReadwriteSplittingRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":44,"status":"B"}],"commitId":"064bffe3e00d9db5179d52f81d8d5dad9620a3a5","commitMessage":"@@@Correct packages and generic types (#10710)\n\n","date":"2021-06-08 11:37:47","modifiedFileCount":"0","status":"B","submitter":"???"},{"authorTime":"2021-07-21 18:15:49","codes":[{"authorDate":"2021-07-21 18:15:49","commitOrder":2,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Sets.newHashSet()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","date":"2021-07-21 18:15:49","endLine":51,"groupId":"9254","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/b6/dc2ed91c58f850addc9ff19ac0bb14a1296ad9.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-db-discovery/shardingsphere-db-discovery-core/src/test/java/org/apache/shardingsphere/dbdiscovery/rule/builder/AlgorithmProvidedDatabaseDiscoveryRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":45,"status":"M"},{"authorDate":"2021-07-21 18:15:49","commitOrder":2,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","date":"2021-07-21 18:15:49","endLine":51,"groupId":"9254","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/ac/9121ccd1cf1a067a2e04651cee543e8024b7ab.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig), instanceOf(ReadwriteSplittingRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-readwrite-splitting/shardingsphere-readwrite-splitting-core/src/test/java/org/apache/shardingsphere/readwritesplitting/rule/builder/AlgorithmProvidedReadwriteSplittingRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":44,"status":"M"}],"commitId":"1ea833bd9d9b26f80f34e8442b726ca9a2752a6f","commitMessage":"@@@remove create table and drop table event (#11423)\n\n* remove create table and drop table event\n\n* fix encrypt test case\n\n* optimize single table route logic\n\n* update param name","date":"2021-07-21 18:15:49","modifiedFileCount":"44","status":"M","submitter":"Zhengqiang Duan"},{"authorTime":"2021-07-21 18:15:49","codes":[{"authorDate":"2021-07-29 01:03:53","commitOrder":3,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptySet()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","date":"2021-07-29 01:03:53","endLine":50,"groupId":"9254","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/5e/67a86f3502d2e128185be8dd23163c92ef004e.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Sets.newHashSet()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-db-discovery/shardingsphere-db-discovery-core/src/test/java/org/apache/shardingsphere/dbdiscovery/rule/builder/AlgorithmProvidedDatabaseDiscoveryRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":44,"status":"M"},{"authorDate":"2021-07-21 18:15:49","commitOrder":3,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","date":"2021-07-21 18:15:49","endLine":51,"groupId":"9254","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/ac/9121ccd1cf1a067a2e04651cee543e8024b7ab.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-readwrite-splitting/shardingsphere-readwrite-splitting-core/src/test/java/org/apache/shardingsphere/readwritesplitting/rule/builder/AlgorithmProvidedReadwriteSplittingRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":44,"status":"N"}],"commitId":"6d2d2ba7b05c29bce74525f0437e04b22a556f66","commitMessage":"@@@Use java raw new List/Set/Map to instead of guava (#11561)\n\n* Use java raw new Map to instead of guava\n\n* Use java raw new List to instead of guava\n\n* Use java raw new Set to instead of guava","date":"2021-07-29 01:03:53","modifiedFileCount":"78","status":"M","submitter":"Liang Zhang"},{"authorTime":"2021-07-29 16:04:51","codes":[{"authorDate":"2021-07-29 16:04:51","commitOrder":4,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                Collections.singletonList(algorithmProvidedRuleConfig), DistributedSchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","date":"2021-07-29 16:04:51","endLine":52,"groupId":"9254","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/30/910d9de19900a8a4812eaa3d619f68b1e9c665.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptySet()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-db-discovery/shardingsphere-db-discovery-core/src/test/java/org/apache/shardingsphere/dbdiscovery/rule/builder/AlgorithmProvidedDatabaseDiscoveryRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":45,"status":"M"},{"authorDate":"2021-07-29 16:04:51","commitOrder":4,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                Collections.singletonList(algorithmProvidedRuleConfig), DistributedSchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","date":"2021-07-29 16:04:51","endLine":53,"groupId":"9254","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/41/e6ce89ee588ebac1516825f6df83be763388b5.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-readwrite-splitting/shardingsphere-readwrite-splitting-core/src/test/java/org/apache/shardingsphere/readwritesplitting/rule/builder/AlgorithmProvidedReadwriteSplittingRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":45,"status":"M"}],"commitId":"87e6b7badaea7beeea805aa5965ddd664457d1a6","commitMessage":"@@@optimize schema rule init logic (#11553)\n\n* optimize rule load logic\n\n* modify test case\n\n* fix checkstyle\n\n* rename param\n\n* rename param","date":"2021-07-29 16:04:51","modifiedFileCount":"30","status":"M","submitter":"Zhengqiang Duan"},{"authorTime":"2021-08-04 17:52:02","codes":[{"authorDate":"2021-08-04 17:52:02","commitOrder":5,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","date":"2021-08-04 17:52:02","endLine":51,"groupId":"9254","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/04/fa7ca9ff3592bf6f52a043329aed7cc94c7e47.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                Collections.singletonList(algorithmProvidedRuleConfig), DistributedSchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-db-discovery/shardingsphere-db-discovery-core/src/test/java/org/apache/shardingsphere/dbdiscovery/rule/builder/AlgorithmProvidedDatabaseDiscoveryRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":44,"status":"M"},{"authorDate":"2021-08-04 17:52:02","commitOrder":5,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","date":"2021-08-04 17:52:02","endLine":52,"groupId":"9254","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/60/1840fd30224429809636d746b96181a43365b8.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                Collections.singletonList(algorithmProvidedRuleConfig), DistributedSchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-readwrite-splitting/shardingsphere-readwrite-splitting-core/src/test/java/org/apache/shardingsphere/readwritesplitting/rule/builder/AlgorithmProvidedReadwriteSplittingRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":44,"status":"M"}],"commitId":"1de0568c36f2eb905b7d51bb72346cf11fb92c49","commitMessage":"@@@remove DistributedSchemaRuleBuilder and EnhancedSchemaRuleBuilder (#11639)\n\n* remove DistributedSchemaRuleBuilder and EnhancedSchemaRuleBuilder\n\n* optimize logic\n\n* fix checkstyle\n\n* fix test case","date":"2021-08-04 17:52:02","modifiedFileCount":"39","status":"M","submitter":"Zhengqiang Duan"},{"authorTime":"2021-08-13 17:32:32","codes":[{"authorDate":"2021-08-13 17:32:32","commitOrder":6,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                SchemaRuleBuilder.class, Collections.singletonList(algorithmProvidedRuleConfig)).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","date":"2021-08-13 17:32:32","endLine":51,"groupId":"12679","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/88/00f5bf718fa9e862cd4237768d6adc48449345.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-db-discovery/shardingsphere-db-discovery-core/src/test/java/org/apache/shardingsphere/dbdiscovery/rule/builder/AlgorithmProvidedDatabaseDiscoveryRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":44,"status":"M"},{"authorDate":"2021-08-13 17:32:32","commitOrder":6,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                SchemaRuleBuilder.class, Collections.singletonList(algorithmProvidedRuleConfig)).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","date":"2021-08-13 17:32:32","endLine":52,"groupId":"12679","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/af/c525ba0e2d99e355aac6be070109eb9b743212.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                Collections.singletonList(algorithmProvidedRuleConfig), SchemaRuleBuilder.class).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-readwrite-splitting/shardingsphere-readwrite-splitting-core/src/test/java/org/apache/shardingsphere/readwritesplitting/rule/builder/AlgorithmProvidedReadwriteSplittingRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":44,"status":"M"}],"commitId":"3c91473d73cadcb7ea5f7ac6cb0bbc4867454b89","commitMessage":"@@@solve the OrderedServicesCache concurrency exception (#11796)\n\n* solve the OrderedServicesCache concurrency problem\n\n* fix test case\n\n* modify test case return type\n\n* fix review comment\n\n* make OrderedServicesCacheKey as inner class of OrderedServicesCache\n\n* remove generic types in OrderedServicesCache\n\n* simplify inner class name\n\n* adjust order of param","date":"2021-08-13 17:32:32","modifiedFileCount":"38","status":"M","submitter":"Zhengqiang Duan"},{"authorTime":"2021-08-18 12:34:35","codes":[{"authorDate":"2021-08-18 12:34:35","commitOrder":7,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                SchemaRuleBuilder.class, Collections.singletonList(algorithmProvidedRuleConfig)).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(new ShardingSphereRulesBuilderMaterials(\"\", Collections.emptyList(), mock(DatabaseType.class),\n                Collections.emptyMap(), new ConfigurationProperties(new Properties())), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","date":"2021-08-18 12:34:35","endLine":55,"groupId":"12679","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/fe/3ccaa59a2521dbcb1104d3864a58cbf2e18395.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                SchemaRuleBuilder.class, Collections.singletonList(algorithmProvidedRuleConfig)).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-db-discovery/shardingsphere-db-discovery-core/src/test/java/org/apache/shardingsphere/dbdiscovery/rule/builder/AlgorithmProvidedDatabaseDiscoveryRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":47,"status":"M"},{"authorDate":"2021-08-18 12:34:35","commitOrder":7,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                SchemaRuleBuilder.class, Collections.singletonList(algorithmProvidedRuleConfig)).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(new ShardingSphereRulesBuilderMaterials(\"\", Collections.emptyList(), mock(DatabaseType.class), \n                Collections.emptyMap(), new ConfigurationProperties(new Properties())), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","date":"2021-08-18 12:34:35","endLine":56,"groupId":"12679","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/d9/eeea90604edd88aa64c80f744af9f772cbb5c5.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                SchemaRuleBuilder.class, Collections.singletonList(algorithmProvidedRuleConfig)).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(\"\", Collections.emptyMap(), mock(DatabaseType.class), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-readwrite-splitting/shardingsphere-readwrite-splitting-core/src/test/java/org/apache/shardingsphere/readwritesplitting/rule/builder/AlgorithmProvidedReadwriteSplittingRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":47,"status":"M"}],"commitId":"d9bdb6a6a04767539ed477581bcd21105dbf515d","commitMessage":"@@@add single table conflict check option (#11860)\n\n* add single table conflict check option\n\n* add test case for single table load\n\n* fix checkstyle\n\n* optimize code\n\n* fix checkstyle\n\n* fix checkstyle\n\n* rename properties key\n\n* rename properties key","date":"2021-08-18 12:34:35","modifiedFileCount":"34","status":"M","submitter":"Zhengqiang Duan"},{"authorTime":"2021-09-04 18:58:22","codes":[{"authorDate":"2021-09-04 18:58:22","commitOrder":8,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                SchemaRuleBuilder.class, Collections.singletonList(algorithmProvidedRuleConfig)).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(new SchemaRulesBuilderMaterials(\"\", Collections.emptyList(), mock(DatabaseType.class),\n                Collections.emptyMap(), new ConfigurationProperties(new Properties())), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","date":"2021-09-04 18:58:22","endLine":55,"groupId":"12679","id":15,"instanceNumber":1,"isCurCommit":1,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/c3/6c79c2658d75046a0405b005a634deb4d9f6d6.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                SchemaRuleBuilder.class, Collections.singletonList(algorithmProvidedRuleConfig)).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(new ShardingSphereRulesBuilderMaterials(\"\", Collections.emptyList(), mock(DatabaseType.class),\n                Collections.emptyMap(), new ConfigurationProperties(new Properties())), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-db-discovery/shardingsphere-db-discovery-core/src/test/java/org/apache/shardingsphere/dbdiscovery/rule/builder/AlgorithmProvidedDatabaseDiscoveryRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":47,"status":"M"},{"authorDate":"2021-09-04 18:58:22","commitOrder":8,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                SchemaRuleBuilder.class, Collections.singletonList(algorithmProvidedRuleConfig)).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(new SchemaRulesBuilderMaterials(\"\", Collections.emptyList(), mock(DatabaseType.class), \n                Collections.emptyMap(), new ConfigurationProperties(new Properties())), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","date":"2021-09-04 18:58:22","endLine":56,"groupId":"12679","id":16,"instanceNumber":2,"isCurCommit":0,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/82/d0b6a9d955abdb719702f755518a5586f846ed.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                SchemaRuleBuilder.class, Collections.singletonList(algorithmProvidedRuleConfig)).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(new ShardingSphereRulesBuilderMaterials(\"\", Collections.emptyList(), mock(DatabaseType.class), \n                Collections.emptyMap(), new ConfigurationProperties(new Properties())), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-readwrite-splitting/shardingsphere-readwrite-splitting-core/src/test/java/org/apache/shardingsphere/readwritesplitting/rule/builder/AlgorithmProvidedReadwriteSplittingRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":47,"status":"M"}],"commitId":"a8c655eaf51f230c724274dc0c1d6ba775c73d40","commitMessage":"@@@Add shardingsphere-single-table into kernel module (#12210)\n\n* Rename SchemaRulesBuilderMaterials\n\n* Add shardingsphere-single-table\n\n* Add shardingsphere-single-table\n\n* Revise javadoc\n\n* Move MetadataRefresher.findShardingSphereRulesByClass to ShardingSphereSchema\n\n* Add MutableDataNodeRule\n\n* Add SingleTableSchemaBuilderTest\n\n* Move single table rule\n\n* Move single table configuration\n\n* Revise java doc","date":"2021-09-04 18:58:22","modifiedFileCount":"54","status":"M","submitter":"Liang Zhang"},{"authorTime":"2021-09-05 19:00:52","codes":[{"authorDate":"2021-09-04 18:58:22","commitOrder":9,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                SchemaRuleBuilder.class, Collections.singletonList(algorithmProvidedRuleConfig)).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(new SchemaRulesBuilderMaterials(\"\", Collections.emptyList(), mock(DatabaseType.class),\n                Collections.emptyMap(), new ConfigurationProperties(new Properties())), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","date":"2021-09-04 18:58:22","endLine":55,"groupId":"10779","id":17,"instanceNumber":1,"isCurCommit":1,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/c3/6c79c2658d75046a0405b005a634deb4d9f6d6.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedDatabaseDiscoveryRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedDatabaseDiscoveryRuleConfiguration.class);\n        DatabaseDiscoveryDataSourceRuleConfiguration ruleConfig = new DatabaseDiscoveryDataSourceRuleConfiguration(\"name\", Collections.singletonList(\"name\"), \"discoveryTypeName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                SchemaRuleBuilder.class, Collections.singletonList(algorithmProvidedRuleConfig)).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(new SchemaRulesBuilderMaterials(\"\", Collections.emptyList(), mock(DatabaseType.class),\n                Collections.emptyMap(), new ConfigurationProperties(new Properties())), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(DatabaseDiscoveryRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-db-discovery/shardingsphere-db-discovery-core/src/test/java/org/apache/shardingsphere/dbdiscovery/rule/builder/AlgorithmProvidedDatabaseDiscoveryRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":47,"status":"N"},{"authorDate":"2021-09-05 19:00:52","commitOrder":9,"curCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\", false);\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                SchemaRuleBuilder.class, Collections.singletonList(algorithmProvidedRuleConfig)).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(new SchemaRulesBuilderMaterials(\"\", Collections.emptyList(), mock(DatabaseType.class), \n                Collections.emptyMap(), new ConfigurationProperties(new Properties())), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","date":"2021-09-05 19:00:52","endLine":56,"groupId":"10779","id":18,"instanceNumber":2,"isCurCommit":1,"methodName":"assertBuild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/7f/db746bdc901d2e27198500a9996ff7f860eb14.src","preCode":"    public void assertBuild() {\n        AlgorithmProvidedReadwriteSplittingRuleConfiguration algorithmProvidedRuleConfig = mock(AlgorithmProvidedReadwriteSplittingRuleConfiguration.class);\n        ReadwriteSplittingDataSourceRuleConfiguration ruleConfig = new ReadwriteSplittingDataSourceRuleConfiguration(\n                \"name\", \"pr_ds\", \"writeDataSourceName\", Collections.singletonList(\"name\"), \"loadBalancerName\");\n        when(algorithmProvidedRuleConfig.getDataSources()).thenReturn(Collections.singletonList(ruleConfig));\n        SchemaRuleBuilder builder = OrderedSPIRegistry.getRegisteredServices(\n                SchemaRuleBuilder.class, Collections.singletonList(algorithmProvidedRuleConfig)).get(algorithmProvidedRuleConfig);\n        assertThat(builder.build(new SchemaRulesBuilderMaterials(\"\", Collections.emptyList(), mock(DatabaseType.class), \n                Collections.emptyMap(), new ConfigurationProperties(new Properties())), algorithmProvidedRuleConfig, Collections.emptyList()), instanceOf(ReadwriteSplittingRule.class));\n    }\n","realPath":"shardingsphere-features/shardingsphere-readwrite-splitting/shardingsphere-readwrite-splitting-core/src/test/java/org/apache/shardingsphere/readwritesplitting/rule/builder/AlgorithmProvidedReadwriteSplittingRuleBuilderTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":47,"status":"M"}],"commitId":"b25419ae9f4af7a98255740bc603c34d82f34e97","commitMessage":"@@@Fixes #12158.  add configuration for whether enable consistent routing for readwrite splitting. (#12209)\n\n* For #12158.  Add the consistencyEnabled configuration for readwrite-splitting API & core.\n\n* For #12158.  Add the consistencyEnabled default value for DistSQL handler.\n\n* Add consistencyEnabled configuration and parser for Spring Namespace.\n\n* Add consistencyEnabled configuration for examples.\n\n* update documents of readwrite splitting.\n\n* fix CI.\n\n* update more test cases.\n\n* Change `consistencyEnabled` to `queryConsistent`.\n\n* revert blank line.","date":"2021-09-05 19:00:52","modifiedFileCount":"30","status":"M","submitter":"Raigor"}]
