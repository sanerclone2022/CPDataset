[{"authorTime":"2021-03-17 14:17:00","codes":[{"authorDate":"2021-03-23 12:35:04","commitOrder":5,"curCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames, final Collection<String> existedTables) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames, existedTables))) {\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(indexName));\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-03-23 12:35:04","endLine":91,"groupId":"7203","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"loadIndexMetaData","params":"(finalDataSourcedataSource@finalCollection<String>tableNames@finalCollection<String>existedTables)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/df/a98c4d60cc68ccd11ac84293ffa118119b5fdc.src","preCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames, final Collection<String> existedTables) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames, existedTables))) {\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(indexName));\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/SQLServerTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":74,"status":"B"},{"authorDate":"2021-03-17 14:17:00","commitOrder":5,"curCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(indexName));\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-03-17 14:17:00","endLine":120,"groupId":"7203","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"loadIndexMetaData","params":"(finalDataSourcedataSource@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/4d/65977794a9075987edc135ec46114561187df4.src","preCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(indexName));\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/MySQLTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":102,"status":"NB"}],"commitId":"38610c8872ad46ab0dc2639ee530955e2f5ab25e","commitMessage":"@@@feat:add SQLServerTableMetaDataLoader (#9750)\n\n* feat:add SQLServerTableMetaDataLoader\n\n* checkstyle\n\n* test error\n\n* checkstyle\n\n* remove sign\n\n* revert test NPE\n\nCo-authored-by: Liang Zhang <terrymanu@163.com>","date":"2021-03-23 12:35:04","modifiedFileCount":"0","status":"M","submitter":"totalo"},{"authorTime":"2021-03-17 14:17:00","codes":[{"authorDate":"2021-03-23 13:33:23","commitOrder":6,"curCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(indexName));\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-03-23 13:33:23","endLine":124,"groupId":"13631","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"loadIndexMetaData","params":"(finalDataSourcedataSource@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/04/fdc26955be39589e3d80a61128d4c06107fed3.src","preCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames, final Collection<String> existedTables) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames, existedTables))) {\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(indexName));\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/SQLServerTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":107,"status":"M"},{"authorDate":"2021-03-17 14:17:00","commitOrder":6,"curCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(indexName));\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-03-17 14:17:00","endLine":120,"groupId":"7203","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"loadIndexMetaData","params":"(finalDataSourcedataSource@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/4d/65977794a9075987edc135ec46114561187df4.src","preCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(indexName));\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/MySQLTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":102,"status":"N"}],"commitId":"713ad546484180e2ef58a6863a5f6fe1c74d9052","commitMessage":"@@@Revise for #9750 (#9777)\n\n","date":"2021-03-23 13:33:23","modifiedFileCount":"2","status":"M","submitter":"Liang Zhang"},{"authorTime":"2021-05-28 11:19:21","codes":[{"authorDate":"2021-05-28 11:19:21","commitOrder":7,"curCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(TableMetaDataLoaderUtil.getLogicIndexName(indexName, tableName)));\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-05-28 11:19:21","endLine":125,"groupId":"13631","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"loadIndexMetaData","params":"(finalDataSourcedataSource@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/80/a08a6d5806d03014975794de2b43d458ea71a1.src","preCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(indexName));\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/SQLServerTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":108,"status":"M"},{"authorDate":"2021-05-28 11:19:21","commitOrder":7,"curCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(TableMetaDataLoaderUtil.getLogicIndexName(indexName, tableName)));\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-05-28 11:19:21","endLine":121,"groupId":"7203","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"loadIndexMetaData","params":"(finalDataSourcedataSource@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/10/a28c996c774f3484d78615f6a4b2b730346bf3.src","preCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(indexName));\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/MySQLTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":103,"status":"M"}],"commitId":"9aacab5187297790415727b263b5eb988630069a","commitMessage":"@@@support pg alter index rename statement (#10502)\n\n* support pg alter index rename statement\n\n* fix unit test error\n\n* fix checkstyle\n\n* fix route test case error\n\n* delete unnecessary stub","date":"2021-05-28 11:19:21","modifiedFileCount":"14","status":"M","submitter":"Zhengqiang Duan"},{"authorTime":"2021-06-10 14:17:18","codes":[{"authorDate":"2021-06-10 14:17:18","commitOrder":8,"curCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(IndexMetaDataUtil.getLogicIndexName(indexName, tableName)));\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-06-10 14:17:18","endLine":126,"groupId":"13631","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"loadIndexMetaData","params":"(finalDataSourcedataSource@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/86/2762827b4ac8670660cc7adf5f7368d02c1724.src","preCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(TableMetaDataLoaderUtil.getLogicIndexName(indexName, tableName)));\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/SQLServerTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":109,"status":"M"},{"authorDate":"2021-06-10 14:17:18","commitOrder":8,"curCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(IndexMetaDataUtil.getLogicIndexName(indexName, tableName)));\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-06-10 14:17:18","endLine":121,"groupId":"7203","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"loadIndexMetaData","params":"(finalDataSourcedataSource@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/10/24c610838d73ffdc024c077ff371f4c6df59ce.src","preCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(TableMetaDataLoaderUtil.getLogicIndexName(indexName, tableName)));\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/MySQLTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":103,"status":"M"}],"commitId":"2bad204df786c1537540cba09d7b914bde05ee5f","commitMessage":"@@@fix index validate and show logic (#10747)\n\n* fix index validate and show logic\n\n* fix checkstyle","date":"2021-06-10 14:17:18","modifiedFileCount":"10","status":"M","submitter":"Zhengqiang Duan"},{"authorTime":"2021-08-17 15:06:22","codes":[{"authorDate":"2021-08-17 15:06:22","commitOrder":9,"curCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames, final boolean isExclude) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    \r\n                    result.get(tableName).add(new IndexMetaData(isExclude ? IndexMetaDataUtil.getLogicIndexName(indexName, tableName) : indexName));\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-08-17 15:06:22","endLine":139,"groupId":"13631","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"loadIndexMetaData","params":"(finalDataSourcedataSource@finalCollection<String>tableNames@finalbooleanisExclude)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/fc/b42595136db857510ea115ccdbf235c1e5d2da.src","preCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(IndexMetaDataUtil.getLogicIndexName(indexName, tableName)));\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/SQLServerTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":121,"status":"M"},{"authorDate":"2021-08-17 15:06:22","commitOrder":9,"curCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames, final boolean isExclude) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    \r\n                    result.get(tableName).add(new IndexMetaData(isExclude ? IndexMetaDataUtil.getLogicIndexName(indexName, tableName) : indexName));\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-08-17 15:06:22","endLine":134,"groupId":"7203","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"loadIndexMetaData","params":"(finalDataSourcedataSource@finalCollection<String>tableNames@finalbooleanisExclude)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/03/6ff840f0de6a04def10c0e6da7f3a4cf734103.src","preCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(IndexMetaDataUtil.getLogicIndexName(indexName, tableName)));\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/MySQLTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":115,"status":"M"}],"commitId":"605e05c907bb4bd4e14bb682c01e6f46e562a87b","commitMessage":"@@@improve metadata load performance (#11767)\n\n* improve metadata load performance\n\n* improve metadata load performance\n\n* metaDataImprove test case\n\n* metaDataImprove add test case\n\n* metaDataImprove add test case\n\n* metaDataImprove add test case\n\n* metaDataImprove add test case\n\n* metaDataImprove add test case\n\n* metaDataImprove add test case\n\n* metaDataImprove fix index\n\n* metaDataImprove optimize review\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions\n\n* metaDataImprove optimize review suggestions","date":"2021-08-17 15:06:22","modifiedFileCount":"16","status":"M","submitter":"tuichenchuxin"},{"authorTime":"2021-08-20 15:52:50","codes":[{"authorDate":"2021-08-20 15:52:50","commitOrder":10,"curCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(indexName));\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-08-20 15:52:50","endLine":121,"groupId":"101923","id":11,"instanceNumber":1,"isCurCommit":1,"methodName":"loadIndexMetaData","params":"(finalDataSourcedataSource@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/83/5545aab524dfd5042d2354dc0b3d4e56fbc554.src","preCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames, final boolean isExclude) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    \r\n                    result.get(tableName).add(new IndexMetaData(isExclude ? IndexMetaDataUtil.getLogicIndexName(indexName, tableName) : indexName));\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/SQLServerTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":104,"status":"M"},{"authorDate":"2021-08-20 15:52:50","commitOrder":10,"curCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    result.get(tableName).add(new IndexMetaData(indexName));\n                }\n            }\n        }\n        return result;\n    }\n","date":"2021-08-20 15:52:50","endLine":116,"groupId":"101923","id":12,"instanceNumber":2,"isCurCommit":1,"methodName":"loadIndexMetaData","params":"(finalDataSourcedataSource@finalCollection<String>tableNames)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/1f/d8f91603d7bf9b736f3a7242c71d68da15d448.src","preCode":"    private Map<String, Collection<IndexMetaData>> loadIndexMetaData(final DataSource dataSource, final Collection<String> tableNames, final boolean isExclude) throws SQLException {\n        Map<String, Collection<IndexMetaData>> result = new HashMap<>();\n        try (\n                Connection connection = dataSource.getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(getIndexMetaDataSQL(tableNames))) {\n            preparedStatement.setString(1, connection.getCatalog());\n            try (ResultSet resultSet = preparedStatement.executeQuery()) {\n                while (resultSet.next()) {\n                    String indexName = resultSet.getString(\"INDEX_NAME\");\n                    String tableName = resultSet.getString(\"TABLE_NAME\");\n                    if (!result.containsKey(tableName)) {\n                        result.put(tableName, new LinkedList<>());\n                    }\n                    \r\n                    result.get(tableName).add(new IndexMetaData(isExclude ? IndexMetaDataUtil.getLogicIndexName(indexName, tableName) : indexName));\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-common/src/main/java/org/apache/shardingsphere/infra/metadata/schema/builder/loader/dialect/MySQLTableMetaDataLoader.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":98,"status":"M"}],"commitId":"632b7c777ea43f7de3dfd2f13bc866814b882eaa","commitMessage":"@@@Refactor single table meta data load (#11895)\n\n","date":"2021-08-20 15:52:50","modifiedFileCount":"31","status":"M","submitter":"tuichenchuxin"}]
