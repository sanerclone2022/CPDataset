[{"authorTime":"2021-08-04 16:20:55","codes":[{"authorDate":"2021-08-04 16:20:55","commitOrder":5,"curCode":"    public void beforeMethod(final AdviceTargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        LogicSQL logicSQL = (LogicSQL) args[0];\n        SQLStatement sqlStatement = logicSQL.getSqlStatementContext().getSqlStatement();\n        if (sqlStatement instanceof InsertStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_INSERT).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof DeleteStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_DELETE).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof UpdateStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_UPDATE).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof SelectStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_SELECT).ifPresent(m -> m.inc());\n        }\n    }\n","date":"2021-08-04 16:20:55","endLine":65,"groupId":"14399","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"beforeMethod","params":"(finalAdviceTargetObjecttarget@finalMethodmethod@finalObject[]args@finalMethodInvocationResultresult)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/f0/e6c471cf02c8e084a350bf7d468680029b7c29.src","preCode":"    public void beforeMethod(final AdviceTargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        LogicSQL logicSQL = (LogicSQL) args[0];\n        SQLStatement sqlStatement = logicSQL.getSqlStatementContext().getSqlStatement();\n        if (sqlStatement instanceof InsertStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_INSERT).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof DeleteStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_DELETE).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof UpdateStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_UPDATE).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof SelectStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_SELECT).ifPresent(m -> m.inc());\n        }\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-metrics/shardingsphere-agent-metrics-api/src/main/java/org/apache/shardingsphere/agent/metrics/api/advice/SQLRouteEngineAdvice.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":53,"status":"MB"},{"authorDate":"2021-08-04 16:20:55","commitOrder":5,"curCode":"    private void countDistSQL(final SQLStatement sqlStatement) {\n        if (sqlStatement instanceof RQLStatement) {\n            MetricsPool.get(MetricIds.PARSE_DIST_SQL_RQL).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof RDLStatement) {\n            MetricsPool.get(MetricIds.PARSE_DIST_SQL_RDL).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof RALStatement) {\n            MetricsPool.get(MetricIds.PARSE_DIST_SQL_RAL).ifPresent(m -> m.inc());\n        }\n    }\n","date":"2021-08-04 16:20:55","endLine":94,"groupId":"14399","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"countDistSQL","params":"(finalSQLStatementsqlStatement)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/e4/fe1699baf1f01ad185dc3e556c4e136db4bd2d.src","preCode":"    private void countDistSQL(final SQLStatement sqlStatement) {\n        if (sqlStatement instanceof RQLStatement) {\n            MetricsPool.get(MetricIds.PARSE_DIST_SQL_RQL).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof RDLStatement) {\n            MetricsPool.get(MetricIds.PARSE_DIST_SQL_RDL).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof RALStatement) {\n            MetricsPool.get(MetricIds.PARSE_DIST_SQL_RAL).ifPresent(m -> m.inc());\n        }\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-metrics/shardingsphere-agent-metrics-api/src/main/java/org/apache/shardingsphere/agent/metrics/api/advice/SQLParserEngineAdvice.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":86,"status":"B"}],"commitId":"3bb1e997145ffdd09e7161da15b8cfbb181349cf","commitMessage":"@@@Add parsing count for different SQL type (#11636)\n\n* Add parsing count for different SQL type\n\n* Remove sl4j annotation","date":"2021-08-04 16:20:55","modifiedFileCount":"11","status":"M","submitter":"Dachuan J"},{"authorTime":"2021-08-06 11:58:23","codes":[{"authorDate":"2021-08-06 11:58:23","commitOrder":6,"curCode":"    public void beforeMethod(final AdviceTargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        LogicSQL logicSQL = (LogicSQL) args[0];\n        SQLStatement sqlStatement = logicSQL.getSqlStatementContext().getSqlStatement();\n        if (sqlStatement instanceof InsertStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_INSERT).ifPresent(MetricsWrapper::inc);\n        } else if (sqlStatement instanceof DeleteStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_DELETE).ifPresent(MetricsWrapper::inc);\n        } else if (sqlStatement instanceof UpdateStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_UPDATE).ifPresent(MetricsWrapper::inc);\n        } else if (sqlStatement instanceof SelectStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_SELECT).ifPresent(MetricsWrapper::inc);\n        }\n    }\n","date":"2021-08-06 11:58:23","endLine":66,"groupId":"102215","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"beforeMethod","params":"(finalAdviceTargetObjecttarget@finalMethodmethod@finalObject[]args@finalMethodInvocationResultresult)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/0f/7cb7d0524750b8d1e20f84a51df45727752d6a.src","preCode":"    public void beforeMethod(final AdviceTargetObject target, final Method method, final Object[] args, final MethodInvocationResult result) {\n        LogicSQL logicSQL = (LogicSQL) args[0];\n        SQLStatement sqlStatement = logicSQL.getSqlStatementContext().getSqlStatement();\n        if (sqlStatement instanceof InsertStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_INSERT).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof DeleteStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_DELETE).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof UpdateStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_UPDATE).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof SelectStatement) {\n            MetricsPool.get(MetricIds.ROUTE_SQL_SELECT).ifPresent(m -> m.inc());\n        }\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-metrics/shardingsphere-agent-metrics-api/src/main/java/org/apache/shardingsphere/agent/metrics/api/advice/SQLRouteEngineAdvice.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":54,"status":"M"},{"authorDate":"2021-08-06 11:58:23","commitOrder":6,"curCode":"    private void countDistSQL(final SQLStatement sqlStatement) {\n        if (sqlStatement instanceof RQLStatement) {\n            MetricsPool.get(MetricIds.PARSE_DIST_SQL_RQL).ifPresent(MetricsWrapper::inc);\n        } else if (sqlStatement instanceof RDLStatement) {\n            MetricsPool.get(MetricIds.PARSE_DIST_SQL_RDL).ifPresent(MetricsWrapper::inc);\n        } else if (sqlStatement instanceof RALStatement) {\n            MetricsPool.get(MetricIds.PARSE_DIST_SQL_RAL).ifPresent(MetricsWrapper::inc);\n        }\n    }\n","date":"2021-08-06 11:58:23","endLine":95,"groupId":"102215","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"countDistSQL","params":"(finalSQLStatementsqlStatement)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/c6/0613027000e2ccefd08ff1dd352c28c57840aa.src","preCode":"    private void countDistSQL(final SQLStatement sqlStatement) {\n        if (sqlStatement instanceof RQLStatement) {\n            MetricsPool.get(MetricIds.PARSE_DIST_SQL_RQL).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof RDLStatement) {\n            MetricsPool.get(MetricIds.PARSE_DIST_SQL_RDL).ifPresent(m -> m.inc());\n        } else if (sqlStatement instanceof RALStatement) {\n            MetricsPool.get(MetricIds.PARSE_DIST_SQL_RAL).ifPresent(m -> m.inc());\n        }\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-metrics/shardingsphere-agent-metrics-api/src/main/java/org/apache/shardingsphere/agent/metrics/api/advice/SQLParserEngineAdvice.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":87,"status":"M"}],"commitId":"89f2641b238af8a88425f50ed40077d236a77049","commitMessage":"@@@Unified code style. (#11672)\n\n* Unified code style.\n\n* Unified code style.","date":"2021-08-06 11:58:23","modifiedFileCount":"8","status":"M","submitter":"totalo"}]
