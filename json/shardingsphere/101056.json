[{"authorTime":"2021-07-05 18:43:03","codes":[{"authorDate":"2021-08-12 14:25:57","commitOrder":2,"curCode":"    public static TextProtocolBackendHandler newInstance(final CommonDistSQLStatement sqlStatement, final BackendConnection backendConnection) throws SQLException {\n        if (sqlStatement instanceof SetDistSQLStatement) {\n            return new SetDistSQLBackendHandler((SetDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof ShowDistSQLStatement) {\n            return new ShowDistSQLBackendHandler((ShowDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof PreviewDistSQLStatement) {\n            return new PrviewDistSQLBackendHandler((PreviewDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof HintDistSQLStatement) {\n            return new HintDistSQLBackendHandler((HintDistSQLStatement) sqlStatement, backendConnection);\n        }\n        throw new UnsupportedTypeException(sqlStatement.getClass().getCanonicalName());\n    }\n","date":"2021-08-12 14:25:57","endLine":61,"groupId":"11685","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"newInstance","params":"(finalCommonDistSQLStatementsqlStatement@finalBackendConnectionbackendConnection)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/fd/65a91a79ee1fdc50d7dc8ea552cd215808336d.src","preCode":"    public static TextProtocolBackendHandler newInstance(final CommonDistSQLStatement sqlStatement, final BackendConnection backendConnection) throws SQLException {\n        if (sqlStatement instanceof SetDistSQLStatement) {\n            return new SetDistSQLBackendHandler((SetDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof ShowDistSQLStatement) {\n            return new ShowDistSQLBackendHandler((ShowDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof PreviewDistSQLStatement) {\n            return new PrviewDistSQLBackendHandler((PreviewDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof HintDistSQLStatement) {\n            return new HintDistSQLBackendHandler((HintDistSQLStatement) sqlStatement, backendConnection);\n        }\n        throw new UnsupportedTypeException(sqlStatement.getClass().getCanonicalName());\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/text/distsql/ral/common/CommonDistSQLBackendHandlerFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":47,"status":"B"},{"authorDate":"2021-07-05 18:43:03","commitOrder":2,"curCode":"    private static TextProtocolBackendHandler createBackendHandler(final DatabaseType databaseType, final RDLStatement sqlStatement, final BackendConnection backendConnection) {\n        if (sqlStatement instanceof AddResourceStatement) {\n            return new AddResourceBackendHandler(databaseType, (AddResourceStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof DropResourceStatement) {\n            return new DropResourceBackendHandler((DropResourceStatement) sqlStatement, backendConnection);\n        }\n        return new RuleDefinitionBackendHandler<>((RuleDefinitionStatement) sqlStatement, backendConnection);\n    }\n","date":"2021-07-05 18:43:03","endLine":72,"groupId":"11685","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"createBackendHandler","params":"(finalDatabaseTypedatabaseType@finalRDLStatementsqlStatement@finalBackendConnectionbackendConnection)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/da/af2f35e34b1ee2c53da704af86da8976a16319.src","preCode":"    private static TextProtocolBackendHandler createBackendHandler(final DatabaseType databaseType, final RDLStatement sqlStatement, final BackendConnection backendConnection) {\n        if (sqlStatement instanceof AddResourceStatement) {\n            return new AddResourceBackendHandler(databaseType, (AddResourceStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof DropResourceStatement) {\n            return new DropResourceBackendHandler((DropResourceStatement) sqlStatement, backendConnection);\n        }\n        return new RuleDefinitionBackendHandler<>((RuleDefinitionStatement) sqlStatement, backendConnection);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/text/distsql/rdl/RDLBackendHandlerFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":64,"status":"NB"}],"commitId":"b09b437527f2c87801e8f5edefc21fba955aeec3","commitMessage":"@@@Main structure code of processing SCTL dist SQL. (#11742)\n\n* Add SCTL syntax definition for ANTLR\n\n* fix mistake\n\n* Parse SCTL according to the DistSQL process and implement `set readwrite_splitting hint source` syntax.\n\n* Rollback yaml file.\n\n* Delete blank line.\n\n* Improve comments.\n\n* fix set syntax\n\n* add TODO comment.\n\n* Fix indent of new line.  move sharding and readwrite hint syntax to feature distsql package.\n\n* add final to param.\n\n* Rename ResourceStatement.g4 to CommonDistSQLStatement.g4\n\n* Rename SCTL to commonDistSQL","date":"2021-08-12 14:25:57","modifiedFileCount":"5","status":"M","submitter":"Raigor"},{"authorTime":"2021-07-05 18:43:03","codes":[{"authorDate":"2021-08-13 18:15:48","commitOrder":3,"curCode":"    public static TextProtocolBackendHandler newInstance(final CommonDistSQLStatement sqlStatement, final BackendConnection backendConnection) throws SQLException {\n        if (sqlStatement instanceof SetDistSQLStatement) {\n            return new SetDistSQLBackendHandler((SetDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof ShowDistSQLStatement) {\n            return new ShowDistSQLBackendHandler((ShowDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof HintDistSQLStatement) {\n            return new HintDistSQLBackendHandler((HintDistSQLStatement) sqlStatement, backendConnection);\n        }\n        throw new UnsupportedTypeException(sqlStatement.getClass().getCanonicalName());\n    }\n","date":"2021-08-13 18:15:48","endLine":57,"groupId":"11685","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"newInstance","params":"(finalCommonDistSQLStatementsqlStatement@finalBackendConnectionbackendConnection)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/c2/4c70556227ea8d907867fda2883c04db66cea5.src","preCode":"    public static TextProtocolBackendHandler newInstance(final CommonDistSQLStatement sqlStatement, final BackendConnection backendConnection) throws SQLException {\n        if (sqlStatement instanceof SetDistSQLStatement) {\n            return new SetDistSQLBackendHandler((SetDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof ShowDistSQLStatement) {\n            return new ShowDistSQLBackendHandler((ShowDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof PreviewDistSQLStatement) {\n            return new PrviewDistSQLBackendHandler((PreviewDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof HintDistSQLStatement) {\n            return new HintDistSQLBackendHandler((HintDistSQLStatement) sqlStatement, backendConnection);\n        }\n        throw new UnsupportedTypeException(sqlStatement.getClass().getCanonicalName());\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/text/distsql/ral/common/CommonDistSQLBackendHandlerFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":46,"status":"M"},{"authorDate":"2021-07-05 18:43:03","commitOrder":3,"curCode":"    private static TextProtocolBackendHandler createBackendHandler(final DatabaseType databaseType, final RDLStatement sqlStatement, final BackendConnection backendConnection) {\n        if (sqlStatement instanceof AddResourceStatement) {\n            return new AddResourceBackendHandler(databaseType, (AddResourceStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof DropResourceStatement) {\n            return new DropResourceBackendHandler((DropResourceStatement) sqlStatement, backendConnection);\n        }\n        return new RuleDefinitionBackendHandler<>((RuleDefinitionStatement) sqlStatement, backendConnection);\n    }\n","date":"2021-07-05 18:43:03","endLine":72,"groupId":"11685","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"createBackendHandler","params":"(finalDatabaseTypedatabaseType@finalRDLStatementsqlStatement@finalBackendConnectionbackendConnection)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/da/af2f35e34b1ee2c53da704af86da8976a16319.src","preCode":"    private static TextProtocolBackendHandler createBackendHandler(final DatabaseType databaseType, final RDLStatement sqlStatement, final BackendConnection backendConnection) {\n        if (sqlStatement instanceof AddResourceStatement) {\n            return new AddResourceBackendHandler(databaseType, (AddResourceStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof DropResourceStatement) {\n            return new DropResourceBackendHandler((DropResourceStatement) sqlStatement, backendConnection);\n        }\n        return new RuleDefinitionBackendHandler<>((RuleDefinitionStatement) sqlStatement, backendConnection);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/text/distsql/rdl/RDLBackendHandlerFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":64,"status":"N"}],"commitId":"933ebab23d2431213c8fc9b01d9d096115eca4f8","commitMessage":"@@@Add advancedDistSQLStatement.  and implement 'preview sql'. (#11802)\n\n* Add advancedDistSQLStatement.  and implement 'preview sql'.\n\n* fix `Actual should not exist` syntax problem.","date":"2021-08-13 18:15:48","modifiedFileCount":"29","status":"M","submitter":"Raigor"},{"authorTime":"2021-09-12 16:46:07","codes":[{"authorDate":"2021-08-13 18:15:48","commitOrder":4,"curCode":"    public static TextProtocolBackendHandler newInstance(final CommonDistSQLStatement sqlStatement, final BackendConnection backendConnection) throws SQLException {\n        if (sqlStatement instanceof SetDistSQLStatement) {\n            return new SetDistSQLBackendHandler((SetDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof ShowDistSQLStatement) {\n            return new ShowDistSQLBackendHandler((ShowDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof HintDistSQLStatement) {\n            return new HintDistSQLBackendHandler((HintDistSQLStatement) sqlStatement, backendConnection);\n        }\n        throw new UnsupportedTypeException(sqlStatement.getClass().getCanonicalName());\n    }\n","date":"2021-08-13 18:15:48","endLine":57,"groupId":"101056","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"newInstance","params":"(finalCommonDistSQLStatementsqlStatement@finalBackendConnectionbackendConnection)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/c2/4c70556227ea8d907867fda2883c04db66cea5.src","preCode":"    public static TextProtocolBackendHandler newInstance(final CommonDistSQLStatement sqlStatement, final BackendConnection backendConnection) throws SQLException {\n        if (sqlStatement instanceof SetDistSQLStatement) {\n            return new SetDistSQLBackendHandler((SetDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof ShowDistSQLStatement) {\n            return new ShowDistSQLBackendHandler((ShowDistSQLStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof HintDistSQLStatement) {\n            return new HintDistSQLBackendHandler((HintDistSQLStatement) sqlStatement, backendConnection);\n        }\n        throw new UnsupportedTypeException(sqlStatement.getClass().getCanonicalName());\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/text/distsql/ral/common/CommonDistSQLBackendHandlerFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":46,"status":"N"},{"authorDate":"2021-09-12 16:46:07","commitOrder":4,"curCode":"    private static TextProtocolBackendHandler createBackendHandler(final DatabaseType databaseType, final RDLStatement sqlStatement, final BackendConnection backendConnection) {\n        if (sqlStatement instanceof AddResourceStatement) {\n            return new AddResourceBackendHandler(databaseType, (AddResourceStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof AlterResourceStatement) {\n            return new AlterResourceBackendHandler(databaseType, (AlterResourceStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof DropResourceStatement) {\n            return new DropResourceBackendHandler((DropResourceStatement) sqlStatement, backendConnection);\n        }\n        return new RuleDefinitionBackendHandler<>((RuleDefinitionStatement) sqlStatement, backendConnection);\n    }\n","date":"2021-09-12 16:46:07","endLine":67,"groupId":"101056","id":6,"instanceNumber":2,"isCurCommit":1,"methodName":"createBackendHandler","params":"(finalDatabaseTypedatabaseType@finalRDLStatementsqlStatement@finalBackendConnectionbackendConnection)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/96/3fa29c3923db2bb6827e04de5ee84b1563c3c5.src","preCode":"    private static TextProtocolBackendHandler createBackendHandler(final DatabaseType databaseType, final RDLStatement sqlStatement, final BackendConnection backendConnection) {\n        if (sqlStatement instanceof AddResourceStatement) {\n            return new AddResourceBackendHandler(databaseType, (AddResourceStatement) sqlStatement, backendConnection);\n        }\n        if (sqlStatement instanceof DropResourceStatement) {\n            return new DropResourceBackendHandler((DropResourceStatement) sqlStatement, backendConnection);\n        }\n        return new RuleDefinitionBackendHandler<>((RuleDefinitionStatement) sqlStatement, backendConnection);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/main/java/org/apache/shardingsphere/proxy/backend/text/distsql/rdl/RDLBackendHandlerFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":56,"status":"M"}],"commitId":"b5b941634383dd066fb7b8e73f92d653af6b7a17","commitMessage":"@@@Add `ALTER RESOURCE` syntax for DistSQL. (#12349)\n\n* Add DistSQL syntax: Alter Resource.\n\n* Update DistSQL document.","date":"2021-09-12 16:46:07","modifiedFileCount":"7","status":"M","submitter":"Raigor"}]
