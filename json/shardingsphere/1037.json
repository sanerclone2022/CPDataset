[{"authorTime":"2021-01-15 18:06:21","codes":[{"authorDate":"2021-01-15 18:06:21","commitOrder":1,"curCode":"    public void assertMethod() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        advice.afterMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        parentSpan.finish();\n        zipkin2.Span span = collector.pop();\n        assertNotNull(span);\n        assertNotNull(span.parentId());\n        Map<String, String> tags = span.tags();\n        assertNotNull(tags);\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n    }\n","date":"2021-01-15 18:06:21","endLine":70,"groupId":"2806","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"assertMethod","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/37/2ccb3d66348b18d2a40087aabb3cc3cc602a0c.src","preCode":"    public void assertMethod() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        advice.afterMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        parentSpan.finish();\n        zipkin2.Span span = collector.pop();\n        assertNotNull(span);\n        assertNotNull(span.parentId());\n        Map<String, String> tags = span.tags();\n        assertNotNull(tags);\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-tracing/shardingsphere-agent-tracing-zipkin/src/test/java/org/apache/shardingsphere/agent/plugin/tracing/zipkin/advice/SQLParserEngineAdviceTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":59,"status":"B"},{"authorDate":"2021-01-15 18:06:21","commitOrder":1,"curCode":"    public void assertExceptionHandle() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        advice.onThrowing(getTargetObject(), null, new Object[]{SQL_STMT, true}, new IOException());\n        advice.afterMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        parentSpan.finish();\n        zipkin2.Span span = collector.pop();\n        assertNotNull(span);\n        assertNotNull(span.parentId());\n        Map<String, String> tags = span.tags();\n        assertNotNull(tags);\n        assertThat(tags.get(\"error\"), is(\"IOException\"));\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n    }\n","date":"2021-01-15 18:06:21","endLine":86,"groupId":"6275","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"assertExceptionHandle","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/37/2ccb3d66348b18d2a40087aabb3cc3cc602a0c.src","preCode":"    public void assertExceptionHandle() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        advice.onThrowing(getTargetObject(), null, new Object[]{SQL_STMT, true}, new IOException());\n        advice.afterMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        parentSpan.finish();\n        zipkin2.Span span = collector.pop();\n        assertNotNull(span);\n        assertNotNull(span.parentId());\n        Map<String, String> tags = span.tags();\n        assertNotNull(tags);\n        assertThat(tags.get(\"error\"), is(\"IOException\"));\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-tracing/shardingsphere-agent-tracing-zipkin/src/test/java/org/apache/shardingsphere/agent/plugin/tracing/zipkin/advice/SQLParserEngineAdviceTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"B"}],"commitId":"37fa49f31feb931a8b2d333b5aad17db7f36b2bd","commitMessage":"@@@refactor agent test (#9052)\n\n","date":"2021-01-15 18:06:21","modifiedFileCount":"6","status":"B","submitter":"xiaoyu"},{"authorTime":"2021-02-18 15:58:05","codes":[{"authorDate":"2021-02-18 15:58:05","commitOrder":2,"curCode":"    public void assertMethod() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        advice.afterMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        parentSpan.finish();\n        zipkin2.Span span = COLLECTOR.pop();\n        assertNotNull(span);\n        assertNotNull(span.parentId());\n        Map<String, String> tags = span.tags();\n        assertNotNull(tags);\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n    }\n","date":"2021-02-18 15:58:05","endLine":70,"groupId":"1037","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"assertMethod","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/11/f50bcf1ed4c043ecec82e2a93a71613ac7ba27.src","preCode":"    public void assertMethod() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        advice.afterMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        parentSpan.finish();\n        zipkin2.Span span = collector.pop();\n        assertNotNull(span);\n        assertNotNull(span.parentId());\n        Map<String, String> tags = span.tags();\n        assertNotNull(tags);\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-tracing/shardingsphere-agent-tracing-zipkin/src/test/java/org/apache/shardingsphere/agent/plugin/tracing/zipkin/advice/SQLParserEngineAdviceTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":59,"status":"M"},{"authorDate":"2021-02-18 15:58:05","commitOrder":2,"curCode":"    public void assertExceptionHandle() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        advice.onThrowing(getTargetObject(), null, new Object[]{SQL_STMT, true}, new IOException());\n        advice.afterMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        parentSpan.finish();\n        zipkin2.Span span = COLLECTOR.pop();\n        assertNotNull(span);\n        assertNotNull(span.parentId());\n        Map<String, String> tags = span.tags();\n        assertNotNull(tags);\n        assertThat(tags.get(\"error\"), is(\"IOException\"));\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n    }\n","date":"2021-02-18 15:58:05","endLine":86,"groupId":"1037","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"assertExceptionHandle","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/11/f50bcf1ed4c043ecec82e2a93a71613ac7ba27.src","preCode":"    public void assertExceptionHandle() {\n        advice.beforeMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        advice.onThrowing(getTargetObject(), null, new Object[]{SQL_STMT, true}, new IOException());\n        advice.afterMethod(getTargetObject(), null, new Object[]{SQL_STMT, true}, new MethodInvocationResult());\n        parentSpan.finish();\n        zipkin2.Span span = collector.pop();\n        assertNotNull(span);\n        assertNotNull(span.parentId());\n        Map<String, String> tags = span.tags();\n        assertNotNull(tags);\n        assertThat(tags.get(\"error\"), is(\"IOException\"));\n        assertThat(tags.get(ZipkinConstants.Tags.DB_TYPE), is(ZipkinConstants.DB_TYPE_VALUE));\n        assertThat(tags.get(ZipkinConstants.Tags.COMPONENT), is(ZipkinConstants.COMPONENT_NAME));\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-tracing/shardingsphere-agent-tracing-zipkin/src/test/java/org/apache/shardingsphere/agent/plugin/tracing/zipkin/advice/SQLParserEngineAdviceTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"M"}],"commitId":"ddc88a96c405bca47a8c611ce61af166657109b3","commitMessage":"@@@agent inspect code (#9425)\n\n* agent inspect code\n\n* fix checkstyle","date":"2021-02-18 15:58:05","modifiedFileCount":"19","status":"M","submitter":"xiaoyu"}]
