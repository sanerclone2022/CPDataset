[{"authorTime":"2020-10-11 18:46:54","codes":[{"authorDate":"2020-10-11 18:46:54","commitOrder":1,"curCode":"    private void assertSetIndexForItemsByColumnOrderByWithAlias(final SelectStatement selectStatement) {\n        SelectStatementContext selectStatementContext = new SelectStatementContext(\n                selectStatement, new GroupByContext(Collections.emptyList(), 0), createOrderBy(COLUMN_ORDER_BY_WITH_ALIAS), createProjectionsContext(), null);\n        Map<String, Integer> columnLabelIndexMap = new HashMap<>();\n        columnLabelIndexMap.put(\"n\", 2);\n        selectStatementContext.setIndexes(columnLabelIndexMap);\n        assertThat(selectStatementContext.getOrderByContext().getItems().iterator().next().getIndex(), is(2));\n    }\n","date":"2020-10-11 18:46:54","endLine":174,"groupId":"4378","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"assertSetIndexForItemsByColumnOrderByWithAlias","params":"(finalSelectStatementselectStatement)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/04/b71004043eda12f5561313a4a9bc045ede22dd.src","preCode":"    private void assertSetIndexForItemsByColumnOrderByWithAlias(final SelectStatement selectStatement) {\n        SelectStatementContext selectStatementContext = new SelectStatementContext(\n                selectStatement, new GroupByContext(Collections.emptyList(), 0), createOrderBy(COLUMN_ORDER_BY_WITH_ALIAS), createProjectionsContext(), null);\n        Map<String, Integer> columnLabelIndexMap = new HashMap<>();\n        columnLabelIndexMap.put(\"n\", 2);\n        selectStatementContext.setIndexes(columnLabelIndexMap);\n        assertThat(selectStatementContext.getOrderByContext().getItems().iterator().next().getIndex(), is(2));\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-binder/src/test/java/org/apache/shardingsphere/infra/binder/statement/impl/SelectStatementContextTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":167,"status":"B"},{"authorDate":"2020-10-11 18:46:54","commitOrder":1,"curCode":"    private void assertSetIndexForItemsByColumnOrderByWithoutAlias(final SelectStatement selectStatement) {\n        SelectStatementContext selectStatementContext = new SelectStatementContext(\n                selectStatement, new GroupByContext(Collections.emptyList(), 0), createOrderBy(COLUMN_ORDER_BY_WITHOUT_OWNER_ALIAS), createProjectionsContext(), null);\n        Map<String, Integer> columnLabelIndexMap = new HashMap<>();\n        columnLabelIndexMap.put(\"id\", 3);\n        selectStatementContext.setIndexes(columnLabelIndexMap);\n        assertThat(selectStatementContext.getOrderByContext().getItems().iterator().next().getIndex(), is(3));\n    }\n","date":"2020-10-11 18:46:54","endLine":208,"groupId":"4378","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"assertSetIndexForItemsByColumnOrderByWithoutAlias","params":"(finalSelectStatementselectStatement)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/04/b71004043eda12f5561313a4a9bc045ede22dd.src","preCode":"    private void assertSetIndexForItemsByColumnOrderByWithoutAlias(final SelectStatement selectStatement) {\n        SelectStatementContext selectStatementContext = new SelectStatementContext(\n                selectStatement, new GroupByContext(Collections.emptyList(), 0), createOrderBy(COLUMN_ORDER_BY_WITHOUT_OWNER_ALIAS), createProjectionsContext(), null);\n        Map<String, Integer> columnLabelIndexMap = new HashMap<>();\n        columnLabelIndexMap.put(\"id\", 3);\n        selectStatementContext.setIndexes(columnLabelIndexMap);\n        assertThat(selectStatementContext.getOrderByContext().getItems().iterator().next().getIndex(), is(3));\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-binder/src/test/java/org/apache/shardingsphere/infra/binder/statement/impl/SelectStatementContextTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":201,"status":"B"}],"commitId":"cc40a511b9a93c556bd4ec53665239bd8c6790af","commitMessage":"@@@Move shardingsphere-infra-binder to infra module and rename (#7744)\n\n* Move shardingsphere-infra-binder to infra module and rename\n\n* Move shardingsphere-infra-binder to infra module and rename\n\n* rename package name","date":"2020-10-11 18:46:54","modifiedFileCount":"224","status":"B","submitter":"Liang Zhang"},{"authorTime":"2021-06-02 17:05:09","codes":[{"authorDate":"2021-06-02 17:05:09","commitOrder":2,"curCode":"    private void assertSetIndexForItemsByColumnOrderByWithAlias(final SelectStatement selectStatement) {\n        SelectStatementContext selectStatementContext = new SelectStatementContext(\n                selectStatement, new GroupByContext(Collections.emptyList()), createOrderBy(COLUMN_ORDER_BY_WITH_ALIAS), createProjectionsContext(), null);\n        Map<String, Integer> columnLabelIndexMap = new HashMap<>();\n        columnLabelIndexMap.put(\"n\", 2);\n        selectStatementContext.setIndexes(columnLabelIndexMap);\n        assertThat(selectStatementContext.getOrderByContext().getItems().iterator().next().getIndex(), is(2));\n    }\n","date":"2021-06-02 17:05:09","endLine":174,"groupId":"4378","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"assertSetIndexForItemsByColumnOrderByWithAlias","params":"(finalSelectStatementselectStatement)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/47/d328b655131c65fa005d2ce974f0c060ba11e5.src","preCode":"    private void assertSetIndexForItemsByColumnOrderByWithAlias(final SelectStatement selectStatement) {\n        SelectStatementContext selectStatementContext = new SelectStatementContext(\n                selectStatement, new GroupByContext(Collections.emptyList(), 0), createOrderBy(COLUMN_ORDER_BY_WITH_ALIAS), createProjectionsContext(), null);\n        Map<String, Integer> columnLabelIndexMap = new HashMap<>();\n        columnLabelIndexMap.put(\"n\", 2);\n        selectStatementContext.setIndexes(columnLabelIndexMap);\n        assertThat(selectStatementContext.getOrderByContext().getItems().iterator().next().getIndex(), is(2));\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-binder/src/test/java/org/apache/shardingsphere/infra/binder/statement/impl/SelectStatementContextTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":167,"status":"M"},{"authorDate":"2021-06-02 17:05:09","commitOrder":2,"curCode":"    private void assertSetIndexForItemsByColumnOrderByWithoutAlias(final SelectStatement selectStatement) {\n        SelectStatementContext selectStatementContext = new SelectStatementContext(\n                selectStatement, new GroupByContext(Collections.emptyList()), createOrderBy(COLUMN_ORDER_BY_WITHOUT_OWNER_ALIAS), createProjectionsContext(), null);\n        Map<String, Integer> columnLabelIndexMap = new HashMap<>();\n        columnLabelIndexMap.put(\"id\", 3);\n        selectStatementContext.setIndexes(columnLabelIndexMap);\n        assertThat(selectStatementContext.getOrderByContext().getItems().iterator().next().getIndex(), is(3));\n    }\n","date":"2021-06-02 17:05:09","endLine":208,"groupId":"4378","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"assertSetIndexForItemsByColumnOrderByWithoutAlias","params":"(finalSelectStatementselectStatement)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/47/d328b655131c65fa005d2ce974f0c060ba11e5.src","preCode":"    private void assertSetIndexForItemsByColumnOrderByWithoutAlias(final SelectStatement selectStatement) {\n        SelectStatementContext selectStatementContext = new SelectStatementContext(\n                selectStatement, new GroupByContext(Collections.emptyList(), 0), createOrderBy(COLUMN_ORDER_BY_WITHOUT_OWNER_ALIAS), createProjectionsContext(), null);\n        Map<String, Integer> columnLabelIndexMap = new HashMap<>();\n        columnLabelIndexMap.put(\"id\", 3);\n        selectStatementContext.setIndexes(columnLabelIndexMap);\n        assertThat(selectStatementContext.getOrderByContext().getItems().iterator().next().getIndex(), is(3));\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-binder/src/test/java/org/apache/shardingsphere/infra/binder/statement/impl/SelectStatementContextTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":201,"status":"M"}],"commitId":"5e4b14e4feefa5ab01167cfa1408092c1d437055","commitMessage":"@@@fix select with group by rewrite error (#10620)\n\n* fix select order by rewrite error\n\n* support oracle.  sqlserver & sql92\n\n* add sql parse test\n\n* add rewrite test case","date":"2021-06-02 17:05:09","modifiedFileCount":"31","status":"M","submitter":"Zhengqiang Duan"},{"authorTime":"2021-08-06 15:37:24","codes":[{"authorDate":"2021-08-06 15:37:24","commitOrder":3,"curCode":"    private void assertSetIndexForItemsByColumnOrderByWithAlias(final SelectStatement selectStatement) {\n        ShardingSphereMetaData metaData = mock(ShardingSphereMetaData.class);\n        selectStatement.setOrderBy(new OrderBySegment(0, 0, Collections.singletonList(createOrderByItemSegment(COLUMN_ORDER_BY_WITH_ALIAS))));\n        selectStatement.setProjections(createProjectionsSegment());\n        SelectStatementContext selectStatementContext = new SelectStatementContext(Collections.singletonMap(DefaultSchema.LOGIC_NAME, metaData), Collections.emptyList(),\n                selectStatement, DefaultSchema.LOGIC_NAME);\n        selectStatementContext.setIndexes(Collections.singletonMap(\"n\", 2));\n        assertThat(selectStatementContext.getOrderByContext().getItems().iterator().next().getIndex(), is(2));\n    }\n","date":"2021-08-06 15:37:24","endLine":181,"groupId":"101779","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"assertSetIndexForItemsByColumnOrderByWithAlias","params":"(finalSelectStatementselectStatement)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/ab/867c334fb753db8004b0b926e4e2e41ab7be38.src","preCode":"    private void assertSetIndexForItemsByColumnOrderByWithAlias(final SelectStatement selectStatement) {\n        SelectStatementContext selectStatementContext = new SelectStatementContext(\n                selectStatement, new GroupByContext(Collections.emptyList()), createOrderBy(COLUMN_ORDER_BY_WITH_ALIAS), createProjectionsContext(), null);\n        Map<String, Integer> columnLabelIndexMap = new HashMap<>();\n        columnLabelIndexMap.put(\"n\", 2);\n        selectStatementContext.setIndexes(columnLabelIndexMap);\n        assertThat(selectStatementContext.getOrderByContext().getItems().iterator().next().getIndex(), is(2));\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-binder/src/test/java/org/apache/shardingsphere/infra/binder/statement/impl/SelectStatementContextTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":173,"status":"M"},{"authorDate":"2021-08-06 15:37:24","commitOrder":3,"curCode":"    private void assertSetIndexForItemsByColumnOrderByWithoutAlias(final SelectStatement selectStatement) {\n        ShardingSphereMetaData metaData = mock(ShardingSphereMetaData.class);\n        selectStatement.setOrderBy(new OrderBySegment(0, 0, Collections.singletonList(createOrderByItemSegment(COLUMN_ORDER_BY_WITHOUT_OWNER_ALIAS))));\n        selectStatement.setProjections(createProjectionsSegment());\n        SelectStatementContext selectStatementContext = new SelectStatementContext(Collections.singletonMap(DefaultSchema.LOGIC_NAME, metaData), Collections.emptyList(),\n                selectStatement, DefaultSchema.LOGIC_NAME);\n        selectStatementContext.setIndexes(Collections.singletonMap(\"id\", 3));\n        assertThat(selectStatementContext.getOrderByContext().getItems().iterator().next().getIndex(), is(3));\n    }\n","date":"2021-08-06 15:37:24","endLine":216,"groupId":"101779","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"assertSetIndexForItemsByColumnOrderByWithoutAlias","params":"(finalSelectStatementselectStatement)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/ab/867c334fb753db8004b0b926e4e2e41ab7be38.src","preCode":"    private void assertSetIndexForItemsByColumnOrderByWithoutAlias(final SelectStatement selectStatement) {\n        SelectStatementContext selectStatementContext = new SelectStatementContext(\n                selectStatement, new GroupByContext(Collections.emptyList()), createOrderBy(COLUMN_ORDER_BY_WITHOUT_OWNER_ALIAS), createProjectionsContext(), null);\n        Map<String, Integer> columnLabelIndexMap = new HashMap<>();\n        columnLabelIndexMap.put(\"id\", 3);\n        selectStatementContext.setIndexes(columnLabelIndexMap);\n        assertThat(selectStatementContext.getOrderByContext().getItems().iterator().next().getIndex(), is(3));\n    }\n","realPath":"shardingsphere-infra/shardingsphere-infra-binder/src/test/java/org/apache/shardingsphere/infra/binder/statement/impl/SelectStatementContextTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":208,"status":"M"}],"commitId":"2843f408e67d98d3e62485c8ed89dbe08e9cb202","commitMessage":"@@@Remove test only constructor of SelectStatementContext (#11675)\n\n* TopAndRowNumberDecoratorMergedResultTest use SelectStatementContext's second constructor\n\n* PreparedShadowDataSourceRouterTest use SelectStatementContext's second constructor\n\n* GroupByMemoryMergedResultTest use SelectStatementContext's second constructor\n\n* GroupByRowComparatorTest use SelectStatementContext's second constructor\n\n* ShardingResultMergerEngineTest use SelectStatementContext's second constructor\n\n* ShardingDQLResultMergerTest use SelectStatementContext's second constructor\n\n* ShardingDQLResultMergerTest use SelectStatementContext's second constructor2\n\n* GroupByStreamMergedResultTest use SelectStatementContext's second constructor\n\n* IteratorStreamMergedResultTest use SelectStatementContext's second constructor\n\n* OrderByStreamMergedResultTest use SelectStatementContext's second constructor\n\n* SelectStatementContextTest use SelectStatementContext's second constructor\n\n* LimitDecoratorMergedResultTest use SelectStatementContext's second constructor\n\n* RowNumberDecoratorMergedResultTest use SelectStatementContext's second constructor\n\n* OrderByValueTest use SelectStatementContext's second constructor\n\n* code style\n\n* merge code","date":"2021-08-06 15:37:24","modifiedFileCount":"14","status":"M","submitter":"liguoping"}]
