[{"authorTime":"2018-02-08 21:07:06","codes":[{"authorDate":"2018-02-08 21:07:06","commitOrder":1,"curCode":"\tpublic void filterDoesNotCaptureIdOfUnusedSession()\n\t\t\tthrows ServletException, IOException {\n\t\tthis.filter.filter(\n\t\t\t\tMockServerWebExchange\n\t\t\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\")),\n\t\t\t\tnew WebFilterChain() {\n\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic Mono<Void> filter(ServerWebExchange exchange) {\n\t\t\t\t\t\texchange.getSession().block();\n\t\t\t\t\t\treturn Mono.empty();\n\t\t\t\t\t}\n\n\t\t\t\t}).block();\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\tSession session = this.repository.findAll().get(0).getSession();\n\t\tassertThat(session).isNull();\n\t}\n","date":"2018-02-08 21:08:27","endLine":114,"groupId":"5423","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"filterDoesNotCaptureIdOfUnusedSession","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/07/50ff908b3db5cebeca1d764adbf023f5b54de9.src","preCode":"\tpublic void filterDoesNotCaptureIdOfUnusedSession()\n\t\t\tthrows ServletException, IOException {\n\t\tthis.filter.filter(\n\t\t\t\tMockServerWebExchange\n\t\t\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\")),\n\t\t\t\tnew WebFilterChain() {\n\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic Mono<Void> filter(ServerWebExchange exchange) {\n\t\t\t\t\t\texchange.getSession().block();\n\t\t\t\t\t\treturn Mono.empty();\n\t\t\t\t\t}\n\n\t\t\t\t}).block();\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\tSession session = this.repository.findAll().get(0).getSession();\n\t\tassertThat(session).isNull();\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/trace/http/reactive/HttpTraceWebFilterTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":97,"status":"B"},{"authorDate":"2018-02-08 21:07:06","commitOrder":1,"curCode":"\tpublic void filterCapturesPrincipal() throws ServletException, IOException {\n\t\tPrincipal principal = mock(Principal.class);\n\t\tgiven(principal.getName()).willReturn(\"alice\");\n\t\tthis.filter.filter(new ServerWebExchangeDecorator(MockServerWebExchange\n\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\"))) {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Principal> getPrincipal() {\n\t\t\t\treturn Mono.just(principal);\n\t\t\t}\n\n\t\t}, new WebFilterChain() {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Void> filter(ServerWebExchange exchange) {\n\t\t\t\texchange.getSession().block().getAttributes().put(\"a\", \"alpha\");\n\t\t\t\treturn Mono.empty();\n\t\t\t}\n\n\t\t}).block();\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\torg.springframework.boot.actuate.trace.http.HttpTrace.Principal tracedPrincipal = this.repository\n\t\t\t\t.findAll().get(0).getPrincipal();\n\t\tassertThat(tracedPrincipal).isNotNull();\n\t\tassertThat(tracedPrincipal.getName()).isEqualTo(\"alice\");\n\t}\n","date":"2018-02-08 21:08:27","endLine":142,"groupId":"5422","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"filterCapturesPrincipal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/07/50ff908b3db5cebeca1d764adbf023f5b54de9.src","preCode":"\tpublic void filterCapturesPrincipal() throws ServletException, IOException {\n\t\tPrincipal principal = mock(Principal.class);\n\t\tgiven(principal.getName()).willReturn(\"alice\");\n\t\tthis.filter.filter(new ServerWebExchangeDecorator(MockServerWebExchange\n\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\"))) {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Principal> getPrincipal() {\n\t\t\t\treturn Mono.just(principal);\n\t\t\t}\n\n\t\t}, new WebFilterChain() {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Void> filter(ServerWebExchange exchange) {\n\t\t\t\texchange.getSession().block().getAttributes().put(\"a\", \"alpha\");\n\t\t\t\treturn Mono.empty();\n\t\t\t}\n\n\t\t}).block();\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\torg.springframework.boot.actuate.trace.http.HttpTrace.Principal tracedPrincipal = this.repository\n\t\t\t\t.findAll().get(0).getPrincipal();\n\t\tassertThat(tracedPrincipal).isNotNull();\n\t\tassertThat(tracedPrincipal.getName()).isEqualTo(\"alice\");\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/trace/http/reactive/HttpTraceWebFilterTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":117,"status":"B"}],"commitId":"4beb6be179ff8c4d83ea2638b65f4bede99922d6","commitMessage":"@@@Rename HTTP trace properties and packages\n\nCloses gh-11934\n","date":"2018-02-08 21:08:27","modifiedFileCount":"14","status":"B","submitter":"Andy Wilkinson"},{"authorTime":"2018-12-20 23:30:51","codes":[{"authorDate":"2018-12-20 23:30:51","commitOrder":2,"curCode":"\tpublic void filterDoesNotCaptureIdOfUnusedSession()\n\t\t\tthrows ServletException, IOException {\n\t\tthis.filter.filter(\n\t\t\t\tMockServerWebExchange\n\t\t\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\")),\n\t\t\t\tnew WebFilterChain() {\n\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic Mono<Void> filter(ServerWebExchange exchange) {\n\t\t\t\t\t\texchange.getSession().block(Duration.ofSeconds(30));\n\t\t\t\t\t\treturn Mono.empty();\n\t\t\t\t\t}\n\n\t\t\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\tSession session = this.repository.findAll().get(0).getSession();\n\t\tassertThat(session).isNull();\n\t}\n","date":"2018-12-20 23:30:51","endLine":116,"groupId":"15024","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"filterDoesNotCaptureIdOfUnusedSession","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/2b/c1890bf3f8f453630232df786bd24330156f97.src","preCode":"\tpublic void filterDoesNotCaptureIdOfUnusedSession()\n\t\t\tthrows ServletException, IOException {\n\t\tthis.filter.filter(\n\t\t\t\tMockServerWebExchange\n\t\t\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\")),\n\t\t\t\tnew WebFilterChain() {\n\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic Mono<Void> filter(ServerWebExchange exchange) {\n\t\t\t\t\t\texchange.getSession().block();\n\t\t\t\t\t\treturn Mono.empty();\n\t\t\t\t\t}\n\n\t\t\t\t}).block();\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\tSession session = this.repository.findAll().get(0).getSession();\n\t\tassertThat(session).isNull();\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/trace/http/reactive/HttpTraceWebFilterTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":99,"status":"M"},{"authorDate":"2018-12-20 23:30:51","commitOrder":2,"curCode":"\tpublic void filterCapturesPrincipal() throws ServletException, IOException {\n\t\tPrincipal principal = mock(Principal.class);\n\t\tgiven(principal.getName()).willReturn(\"alice\");\n\t\tthis.filter.filter(new ServerWebExchangeDecorator(MockServerWebExchange\n\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\"))) {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Principal> getPrincipal() {\n\t\t\t\treturn Mono.just(principal);\n\t\t\t}\n\n\t\t}, new WebFilterChain() {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Void> filter(ServerWebExchange exchange) {\n\t\t\t\texchange.getSession().block(Duration.ofSeconds(30)).getAttributes()\n\t\t\t\t\t\t.put(\"a\", \"alpha\");\n\t\t\t\treturn Mono.empty();\n\t\t\t}\n\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\torg.springframework.boot.actuate.trace.http.HttpTrace.Principal tracedPrincipal = this.repository\n\t\t\t\t.findAll().get(0).getPrincipal();\n\t\tassertThat(tracedPrincipal).isNotNull();\n\t\tassertThat(tracedPrincipal.getName()).isEqualTo(\"alice\");\n\t}\n","date":"2018-12-20 23:30:51","endLine":145,"groupId":"0","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"filterCapturesPrincipal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/2b/c1890bf3f8f453630232df786bd24330156f97.src","preCode":"\tpublic void filterCapturesPrincipal() throws ServletException, IOException {\n\t\tPrincipal principal = mock(Principal.class);\n\t\tgiven(principal.getName()).willReturn(\"alice\");\n\t\tthis.filter.filter(new ServerWebExchangeDecorator(MockServerWebExchange\n\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\"))) {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Principal> getPrincipal() {\n\t\t\t\treturn Mono.just(principal);\n\t\t\t}\n\n\t\t}, new WebFilterChain() {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Void> filter(ServerWebExchange exchange) {\n\t\t\t\texchange.getSession().block().getAttributes().put(\"a\", \"alpha\");\n\t\t\t\treturn Mono.empty();\n\t\t\t}\n\n\t\t}).block();\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\torg.springframework.boot.actuate.trace.http.HttpTrace.Principal tracedPrincipal = this.repository\n\t\t\t\t.findAll().get(0).getPrincipal();\n\t\tassertThat(tracedPrincipal).isNotNull();\n\t\tassertThat(tracedPrincipal.getName()).isEqualTo(\"alice\");\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/trace/http/reactive/HttpTraceWebFilterTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":119,"status":"M"}],"commitId":"9d2d6d5812d34b0bc04da3a124b9c5c0da511c04","commitMessage":"@@@Merge branch '2.1.x'\n","date":"2018-12-20 23:30:51","modifiedFileCount":"22","status":"M","submitter":"Andy Wilkinson"},{"authorTime":"2018-12-21 00:54:08","codes":[{"authorDate":"2018-12-21 00:54:08","commitOrder":3,"curCode":"\tpublic void filterDoesNotCaptureIdOfUnusedSession()\n\t\t\tthrows ServletException, IOException {\n\t\tthis.filter.filter(\n\t\t\t\tMockServerWebExchange\n\t\t\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\")),\n\t\t\t\t(exchange) -> {\n\t\t\t\t\texchange.getSession().block(Duration.ofSeconds(30));\n\t\t\t\t\treturn Mono.empty();\n\t\t\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\tSession session = this.repository.findAll().get(0).getSession();\n\t\tassertThat(session).isNull();\n\t}\n","date":"2018-12-21 00:54:08","endLine":97,"groupId":"15024","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"filterDoesNotCaptureIdOfUnusedSession","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/06/2511a8b469b4c6798f8252cfac6462f0974463.src","preCode":"\tpublic void filterDoesNotCaptureIdOfUnusedSession()\n\t\t\tthrows ServletException, IOException {\n\t\tthis.filter.filter(\n\t\t\t\tMockServerWebExchange\n\t\t\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\")),\n\t\t\t\tnew WebFilterChain() {\n\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic Mono<Void> filter(ServerWebExchange exchange) {\n\t\t\t\t\t\texchange.getSession().block(Duration.ofSeconds(30));\n\t\t\t\t\t\treturn Mono.empty();\n\t\t\t\t\t}\n\n\t\t\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\tSession session = this.repository.findAll().get(0).getSession();\n\t\tassertThat(session).isNull();\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/trace/http/reactive/HttpTraceWebFilterTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":85,"status":"M"},{"authorDate":"2018-12-21 00:54:08","commitOrder":3,"curCode":"\tpublic void filterCapturesPrincipal() throws ServletException, IOException {\n\t\tPrincipal principal = mock(Principal.class);\n\t\tgiven(principal.getName()).willReturn(\"alice\");\n\t\tthis.filter.filter(new ServerWebExchangeDecorator(MockServerWebExchange\n\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\"))) {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Principal> getPrincipal() {\n\t\t\t\treturn Mono.just(principal);\n\t\t\t}\n\n\t\t}, (exchange) -> {\n\t\t\texchange.getSession().block(Duration.ofSeconds(30)).getAttributes().put(\"a\",\n\t\t\t\t\t\"alpha\");\n\t\t\treturn Mono.empty();\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\torg.springframework.boot.actuate.trace.http.HttpTrace.Principal tracedPrincipal = this.repository\n\t\t\t\t.findAll().get(0).getPrincipal();\n\t\tassertThat(tracedPrincipal).isNotNull();\n\t\tassertThat(tracedPrincipal.getName()).isEqualTo(\"alice\");\n\t}\n","date":"2018-12-21 00:54:08","endLine":121,"groupId":"11780","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"filterCapturesPrincipal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/06/2511a8b469b4c6798f8252cfac6462f0974463.src","preCode":"\tpublic void filterCapturesPrincipal() throws ServletException, IOException {\n\t\tPrincipal principal = mock(Principal.class);\n\t\tgiven(principal.getName()).willReturn(\"alice\");\n\t\tthis.filter.filter(new ServerWebExchangeDecorator(MockServerWebExchange\n\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\"))) {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Principal> getPrincipal() {\n\t\t\t\treturn Mono.just(principal);\n\t\t\t}\n\n\t\t}, new WebFilterChain() {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Void> filter(ServerWebExchange exchange) {\n\t\t\t\texchange.getSession().block(Duration.ofSeconds(30)).getAttributes()\n\t\t\t\t\t\t.put(\"a\", \"alpha\");\n\t\t\t\treturn Mono.empty();\n\t\t\t}\n\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\torg.springframework.boot.actuate.trace.http.HttpTrace.Principal tracedPrincipal = this.repository\n\t\t\t\t.findAll().get(0).getPrincipal();\n\t\tassertThat(tracedPrincipal).isNotNull();\n\t\tassertThat(tracedPrincipal.getName()).isEqualTo(\"alice\");\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/trace/http/reactive/HttpTraceWebFilterTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":100,"status":"M"}],"commitId":"9d67400afa1b933d7cd5cdbda335d251ef8ea4dd","commitMessage":"@@@Merge branch '2.1.x'\n","date":"2018-12-21 00:54:08","modifiedFileCount":"19","status":"M","submitter":"Stephane Nicoll"},{"authorTime":"2019-02-09 01:35:12","codes":[{"authorDate":"2019-02-09 01:35:12","commitOrder":4,"curCode":"\tpublic void filterDoesNotCaptureIdOfUnusedSession() {\n\t\texecuteFilter(\n\t\t\t\tMockServerWebExchange\n\t\t\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\")),\n\t\t\t\t(exchange) -> {\n\t\t\t\t\texchange.getSession().block(Duration.ofSeconds(30));\n\t\t\t\t\treturn Mono.empty();\n\t\t\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\tSession session = this.repository.findAll().get(0).getSession();\n\t\tassertThat(session).isNull();\n\t}\n","date":"2019-02-09 01:35:12","endLine":93,"groupId":"15024","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"filterDoesNotCaptureIdOfUnusedSession","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/af/82cc82bfa804eb3fd7903d149187840a3e73f9.src","preCode":"\tpublic void filterDoesNotCaptureIdOfUnusedSession()\n\t\t\tthrows ServletException, IOException {\n\t\tthis.filter.filter(\n\t\t\t\tMockServerWebExchange\n\t\t\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\")),\n\t\t\t\t(exchange) -> {\n\t\t\t\t\texchange.getSession().block(Duration.ofSeconds(30));\n\t\t\t\t\treturn Mono.empty();\n\t\t\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\tSession session = this.repository.findAll().get(0).getSession();\n\t\tassertThat(session).isNull();\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/trace/http/reactive/HttpTraceWebFilterTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":82,"status":"M"},{"authorDate":"2019-02-09 01:35:12","commitOrder":4,"curCode":"\tpublic void filterCapturesPrincipal() {\n\t\tPrincipal principal = mock(Principal.class);\n\t\tgiven(principal.getName()).willReturn(\"alice\");\n\t\texecuteFilter(new ServerWebExchangeDecorator(MockServerWebExchange\n\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\"))) {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Principal> getPrincipal() {\n\t\t\t\treturn Mono.just(principal);\n\t\t\t}\n\n\t\t}, (exchange) -> {\n\t\t\texchange.getSession().block(Duration.ofSeconds(30)).getAttributes().put(\"a\",\n\t\t\t\t\t\"alpha\");\n\t\t\treturn Mono.empty();\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\torg.springframework.boot.actuate.trace.http.HttpTrace.Principal tracedPrincipal = this.repository\n\t\t\t\t.findAll().get(0).getPrincipal();\n\t\tassertThat(tracedPrincipal).isNotNull();\n\t\tassertThat(tracedPrincipal.getName()).isEqualTo(\"alice\");\n\t}\n","date":"2019-02-09 01:35:12","endLine":117,"groupId":"11780","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"filterCapturesPrincipal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/af/82cc82bfa804eb3fd7903d149187840a3e73f9.src","preCode":"\tpublic void filterCapturesPrincipal() throws ServletException, IOException {\n\t\tPrincipal principal = mock(Principal.class);\n\t\tgiven(principal.getName()).willReturn(\"alice\");\n\t\tthis.filter.filter(new ServerWebExchangeDecorator(MockServerWebExchange\n\t\t\t\t.from(MockServerHttpRequest.get(\"https://api.example.com\"))) {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Principal> getPrincipal() {\n\t\t\t\treturn Mono.just(principal);\n\t\t\t}\n\n\t\t}, (exchange) -> {\n\t\t\texchange.getSession().block(Duration.ofSeconds(30)).getAttributes().put(\"a\",\n\t\t\t\t\t\"alpha\");\n\t\t\treturn Mono.empty();\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\torg.springframework.boot.actuate.trace.http.HttpTrace.Principal tracedPrincipal = this.repository\n\t\t\t\t.findAll().get(0).getPrincipal();\n\t\tassertThat(tracedPrincipal).isNotNull();\n\t\tassertThat(tracedPrincipal.getName()).isEqualTo(\"alice\");\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/trace/http/reactive/HttpTraceWebFilterTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":96,"status":"M"}],"commitId":"99656b9dd8e26b0741d55e9937d8c1aa8aa751a9","commitMessage":"@@@Merge branch '2.1.x'\n","date":"2019-02-09 01:35:12","modifiedFileCount":"3","status":"M","submitter":"Brian Clozel"},{"authorTime":"2019-05-24 18:24:29","codes":[{"authorDate":"2019-05-24 18:24:29","commitOrder":5,"curCode":"\tvoid filterDoesNotCaptureIdOfUnusedSession() {\n\t\texecuteFilter(MockServerWebExchange.from(MockServerHttpRequest.get(\"https://api.example.com\")), (exchange) -> {\n\t\t\texchange.getSession().block(Duration.ofSeconds(30));\n\t\t\treturn Mono.empty();\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\tSession session = this.repository.findAll().get(0).getSession();\n\t\tassertThat(session).isNull();\n\t}\n","date":"2019-06-07 19:25:54","endLine":83,"groupId":"15024","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"filterDoesNotCaptureIdOfUnusedSession","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/0f/a0c8e2ef89447a25283cac71182ef2f0bafd3a.src","preCode":"\tpublic void filterDoesNotCaptureIdOfUnusedSession() {\n\t\texecuteFilter(MockServerWebExchange.from(MockServerHttpRequest.get(\"https://api.example.com\")), (exchange) -> {\n\t\t\texchange.getSession().block(Duration.ofSeconds(30));\n\t\t\treturn Mono.empty();\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\tSession session = this.repository.findAll().get(0).getSession();\n\t\tassertThat(session).isNull();\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/trace/http/reactive/HttpTraceWebFilterTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":75,"status":"M"},{"authorDate":"2019-05-24 18:24:29","commitOrder":5,"curCode":"\tvoid filterCapturesPrincipal() {\n\t\tPrincipal principal = mock(Principal.class);\n\t\tgiven(principal.getName()).willReturn(\"alice\");\n\t\texecuteFilter(new ServerWebExchangeDecorator(\n\t\t\t\tMockServerWebExchange.from(MockServerHttpRequest.get(\"https://api.example.com\"))) {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Principal> getPrincipal() {\n\t\t\t\treturn Mono.just(principal);\n\t\t\t}\n\n\t\t}, (exchange) -> {\n\t\t\texchange.getSession().block(Duration.ofSeconds(30)).getAttributes().put(\"a\", \"alpha\");\n\t\t\treturn Mono.empty();\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\torg.springframework.boot.actuate.trace.http.HttpTrace.Principal tracedPrincipal = this.repository.findAll()\n\t\t\t\t.get(0).getPrincipal();\n\t\tassertThat(tracedPrincipal).isNotNull();\n\t\tassertThat(tracedPrincipal.getName()).isEqualTo(\"alice\");\n\t}\n","date":"2019-06-07 19:25:54","endLine":106,"groupId":"11780","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"filterCapturesPrincipal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/0f/a0c8e2ef89447a25283cac71182ef2f0bafd3a.src","preCode":"\tpublic void filterCapturesPrincipal() {\n\t\tPrincipal principal = mock(Principal.class);\n\t\tgiven(principal.getName()).willReturn(\"alice\");\n\t\texecuteFilter(new ServerWebExchangeDecorator(\n\t\t\t\tMockServerWebExchange.from(MockServerHttpRequest.get(\"https://api.example.com\"))) {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Principal> getPrincipal() {\n\t\t\t\treturn Mono.just(principal);\n\t\t\t}\n\n\t\t}, (exchange) -> {\n\t\t\texchange.getSession().block(Duration.ofSeconds(30)).getAttributes().put(\"a\", \"alpha\");\n\t\t\treturn Mono.empty();\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\torg.springframework.boot.actuate.trace.http.HttpTrace.Principal tracedPrincipal = this.repository.findAll()\n\t\t\t\t.get(0).getPrincipal();\n\t\tassertThat(tracedPrincipal).isNotNull();\n\t\tassertThat(tracedPrincipal.getName()).isEqualTo(\"alice\");\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/trace/http/reactive/HttpTraceWebFilterTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":86,"status":"M"}],"commitId":"b18fffaf14f9ce3e5651f44745019890e8a899c2","commitMessage":"@@@Move tests to JUnit 5 wherever possible\n","date":"2019-06-07 19:25:54","modifiedFileCount":"1282","status":"M","submitter":"Andy Wilkinson"},{"authorTime":"2020-06-16 19:52:17","codes":[{"authorDate":"2019-05-24 18:24:29","commitOrder":6,"curCode":"\tvoid filterDoesNotCaptureIdOfUnusedSession() {\n\t\texecuteFilter(MockServerWebExchange.from(MockServerHttpRequest.get(\"https://api.example.com\")), (exchange) -> {\n\t\t\texchange.getSession().block(Duration.ofSeconds(30));\n\t\t\treturn Mono.empty();\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\tSession session = this.repository.findAll().get(0).getSession();\n\t\tassertThat(session).isNull();\n\t}\n","date":"2019-06-07 19:25:54","endLine":83,"groupId":"15024","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"filterDoesNotCaptureIdOfUnusedSession","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/0f/a0c8e2ef89447a25283cac71182ef2f0bafd3a.src","preCode":"\tvoid filterDoesNotCaptureIdOfUnusedSession() {\n\t\texecuteFilter(MockServerWebExchange.from(MockServerHttpRequest.get(\"https://api.example.com\")), (exchange) -> {\n\t\t\texchange.getSession().block(Duration.ofSeconds(30));\n\t\t\treturn Mono.empty();\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\tSession session = this.repository.findAll().get(0).getSession();\n\t\tassertThat(session).isNull();\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/trace/http/reactive/HttpTraceWebFilterTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":75,"status":"N"},{"authorDate":"2020-06-16 19:52:17","commitOrder":6,"curCode":"\tvoid filterCapturesPrincipal() {\n\t\tPrincipal principal = mock(Principal.class);\n\t\tgiven(principal.getName()).willReturn(\"alice\");\n\t\texecuteFilter(new ServerWebExchangeDecorator(\n\t\t\t\tMockServerWebExchange.from(MockServerHttpRequest.get(\"https://api.example.com\"))) {\n\n\t\t\t@SuppressWarnings(\"unchecked\")\n\t\t\t@Override\n\t\t\tpublic <T extends Principal> Mono<T> getPrincipal() {\n\t\t\t\treturn Mono.just((T) principal);\n\t\t\t}\n\n\t\t}, (exchange) -> {\n\t\t\texchange.getSession().block(Duration.ofSeconds(30)).getAttributes().put(\"a\", \"alpha\");\n\t\t\treturn Mono.empty();\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\torg.springframework.boot.actuate.trace.http.HttpTrace.Principal tracedPrincipal = this.repository.findAll()\n\t\t\t\t.get(0).getPrincipal();\n\t\tassertThat(tracedPrincipal).isNotNull();\n\t\tassertThat(tracedPrincipal.getName()).isEqualTo(\"alice\");\n\t}\n","date":"2020-06-16 19:52:17","endLine":107,"groupId":"0","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"filterCapturesPrincipal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/7c/d1ac5a312b85f1eda5e644b3d34dd3031f4ddd.src","preCode":"\tvoid filterCapturesPrincipal() {\n\t\tPrincipal principal = mock(Principal.class);\n\t\tgiven(principal.getName()).willReturn(\"alice\");\n\t\texecuteFilter(new ServerWebExchangeDecorator(\n\t\t\t\tMockServerWebExchange.from(MockServerHttpRequest.get(\"https://api.example.com\"))) {\n\n\t\t\t@Override\n\t\t\tpublic Mono<Principal> getPrincipal() {\n\t\t\t\treturn Mono.just(principal);\n\t\t\t}\n\n\t\t}, (exchange) -> {\n\t\t\texchange.getSession().block(Duration.ofSeconds(30)).getAttributes().put(\"a\", \"alpha\");\n\t\t\treturn Mono.empty();\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\torg.springframework.boot.actuate.trace.http.HttpTrace.Principal tracedPrincipal = this.repository.findAll()\n\t\t\t\t.get(0).getPrincipal();\n\t\tassertThat(tracedPrincipal).isNotNull();\n\t\tassertThat(tracedPrincipal.getName()).isEqualTo(\"alice\");\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/trace/http/reactive/HttpTraceWebFilterTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":86,"status":"M"}],"commitId":"9e08490522a2c5b35884db057c68a8349ca44c47","commitMessage":"@@@Merge branch 'gh-21271'\n\nCloses gh-21271\n","date":"2020-06-16 19:52:17","modifiedFileCount":"68","status":"M","submitter":"Andy Wilkinson"},{"authorTime":"2021-06-04 23:49:52","codes":[{"authorDate":"2021-06-04 23:49:52","commitOrder":7,"curCode":"\tvoid filterDoesNotCaptureIdOfUnusedSession() {\n\t\texecuteFilter(MockServerWebExchange.from(MockServerHttpRequest.get(\"https://api.example.com\")),\n\t\t\t\t(exchange) -> exchange.getSession().then());\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\tSession session = this.repository.findAll().get(0).getSession();\n\t\tassertThat(session).isNull();\n\t}\n","date":"2021-06-04 23:49:52","endLine":80,"groupId":"10349","id":13,"instanceNumber":1,"isCurCommit":1,"methodName":"filterDoesNotCaptureIdOfUnusedSession","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/af/ecd178f8eafc2d1f7481afce5e791168000b38.src","preCode":"\tvoid filterDoesNotCaptureIdOfUnusedSession() {\n\t\texecuteFilter(MockServerWebExchange.from(MockServerHttpRequest.get(\"https://api.example.com\")), (exchange) -> {\n\t\t\texchange.getSession().block(Duration.ofSeconds(30));\n\t\t\treturn Mono.empty();\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\tSession session = this.repository.findAll().get(0).getSession();\n\t\tassertThat(session).isNull();\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/trace/http/reactive/HttpTraceWebFilterTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":74,"status":"M"},{"authorDate":"2021-06-04 23:49:52","commitOrder":7,"curCode":"\tvoid filterCapturesPrincipal() {\n\t\tPrincipal principal = mock(Principal.class);\n\t\tgiven(principal.getName()).willReturn(\"alice\");\n\t\texecuteFilter(new ServerWebExchangeDecorator(\n\t\t\t\tMockServerWebExchange.from(MockServerHttpRequest.get(\"https://api.example.com\"))) {\n\n\t\t\t@SuppressWarnings(\"unchecked\")\n\t\t\t@Override\n\t\t\tpublic <T extends Principal> Mono<T> getPrincipal() {\n\t\t\t\treturn Mono.just((T) principal);\n\t\t\t}\n\n\t\t}, (exchange) -> exchange.getSession().doOnNext((session) -> session.getAttributes().put(\"a\", \"alpha\")).then());\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\torg.springframework.boot.actuate.trace.http.HttpTrace.Principal tracedPrincipal = this.repository.findAll()\n\t\t\t\t.get(0).getPrincipal();\n\t\tassertThat(tracedPrincipal).isNotNull();\n\t\tassertThat(tracedPrincipal.getName()).isEqualTo(\"alice\");\n\t}\n","date":"2021-06-04 23:49:52","endLine":101,"groupId":"10349","id":14,"instanceNumber":2,"isCurCommit":1,"methodName":"filterCapturesPrincipal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/af/ecd178f8eafc2d1f7481afce5e791168000b38.src","preCode":"\tvoid filterCapturesPrincipal() {\n\t\tPrincipal principal = mock(Principal.class);\n\t\tgiven(principal.getName()).willReturn(\"alice\");\n\t\texecuteFilter(new ServerWebExchangeDecorator(\n\t\t\t\tMockServerWebExchange.from(MockServerHttpRequest.get(\"https://api.example.com\"))) {\n\n\t\t\t@SuppressWarnings(\"unchecked\")\n\t\t\t@Override\n\t\t\tpublic <T extends Principal> Mono<T> getPrincipal() {\n\t\t\t\treturn Mono.just((T) principal);\n\t\t\t}\n\n\t\t}, (exchange) -> {\n\t\t\texchange.getSession().block(Duration.ofSeconds(30)).getAttributes().put(\"a\", \"alpha\");\n\t\t\treturn Mono.empty();\n\t\t}).block(Duration.ofSeconds(30));\n\t\tassertThat(this.repository.findAll()).hasSize(1);\n\t\torg.springframework.boot.actuate.trace.http.HttpTrace.Principal tracedPrincipal = this.repository.findAll()\n\t\t\t\t.get(0).getPrincipal();\n\t\tassertThat(tracedPrincipal).isNotNull();\n\t\tassertThat(tracedPrincipal.getName()).isEqualTo(\"alice\");\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator/src/test/java/org/springframework/boot/actuate/trace/http/reactive/HttpTraceWebFilterTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":83,"status":"M"}],"commitId":"5ac503817695d94154cebafc46200733d3d1ab45","commitMessage":"@@@Merge branch '2.4.x'\n","date":"2021-06-04 23:49:52","modifiedFileCount":"1","status":"M","submitter":"Stephane Nicoll"}]
