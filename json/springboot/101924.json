[{"authorTime":"2018-01-23 18:54:49","codes":[{"authorDate":"2018-01-23 18:54:49","commitOrder":1,"curCode":"\tpublic void processResponseStatusException() {\n\t\tRuntimeException nested = new RuntimeException(\"Test\");\n\t\tResponseStatusException error = new ResponseStatusException(\n\t\t\t\tHttpStatus.BAD_REQUEST, \"invalid request\", nested);\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes\n\t\t\t\t.getErrorAttributes(serverRequest, false);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(400);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"invalid request\");\n\t\tassertThat(attributes.get(\"exception\"))\n\t\t\t\t.isEqualTo(RuntimeException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","date":"2018-01-23 18:55:34","endLine":144,"groupId":"5968","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"processResponseStatusException","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/1a/676c16d367966778df9413629a87c53e375af1.src","preCode":"\tpublic void processResponseStatusException() {\n\t\tRuntimeException nested = new RuntimeException(\"Test\");\n\t\tResponseStatusException error = new ResponseStatusException(\n\t\t\t\tHttpStatus.BAD_REQUEST, \"invalid request\", nested);\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes\n\t\t\t\t.getErrorAttributes(serverRequest, false);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(400);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"invalid request\");\n\t\tassertThat(attributes.get(\"exception\"))\n\t\t\t\t.isEqualTo(RuntimeException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","realPath":"spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/reactive/error/DefaultErrorAttributesTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":130,"status":"B"},{"authorDate":"2018-01-23 18:54:49","commitOrder":1,"curCode":"\tpublic void processResponseStatusExceptionWithNoNestedCause() {\n\t\tResponseStatusException error = new ResponseStatusException(\n\t\t\t\tHttpStatus.NOT_ACCEPTABLE, \"could not process request\");\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes\n\t\t\t\t.getErrorAttributes(serverRequest, false);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(406);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"could not process request\");\n\t\tassertThat(attributes.get(\"exception\"))\n\t\t\t\t.isEqualTo(ResponseStatusException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","date":"2018-01-23 18:55:34","endLine":160,"groupId":"5968","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"processResponseStatusExceptionWithNoNestedCause","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/1a/676c16d367966778df9413629a87c53e375af1.src","preCode":"\tpublic void processResponseStatusExceptionWithNoNestedCause() {\n\t\tResponseStatusException error = new ResponseStatusException(\n\t\t\t\tHttpStatus.NOT_ACCEPTABLE, \"could not process request\");\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes\n\t\t\t\t.getErrorAttributes(serverRequest, false);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(406);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"could not process request\");\n\t\tassertThat(attributes.get(\"exception\"))\n\t\t\t\t.isEqualTo(ResponseStatusException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","realPath":"spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/reactive/error/DefaultErrorAttributesTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":147,"status":"B"}],"commitId":"be7c0a15f7fbd729983614e8ad66399bebe9f647","commitMessage":"@@@Move reactive ErrorAttributes into spring-boot\n\nCloses gh-11714\n","date":"2018-01-23 18:55:34","modifiedFileCount":"3","status":"B","submitter":"Brian Clozel"},{"authorTime":"2019-05-24 18:24:29","codes":[{"authorDate":"2019-05-24 18:24:29","commitOrder":2,"curCode":"\tvoid processResponseStatusException() {\n\t\tRuntimeException nested = new RuntimeException(\"Test\");\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.BAD_REQUEST, \"invalid request\", nested);\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest, false);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(400);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"invalid request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(RuntimeException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","date":"2019-06-07 19:25:54","endLine":150,"groupId":"5968","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"processResponseStatusException","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/51/9c182bee0aa962c7e6837882041a51ca190733.src","preCode":"\tpublic void processResponseStatusException() {\n\t\tRuntimeException nested = new RuntimeException(\"Test\");\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.BAD_REQUEST, \"invalid request\", nested);\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest, false);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(400);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"invalid request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(RuntimeException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","realPath":"spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/reactive/error/DefaultErrorAttributesTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":139,"status":"M"},{"authorDate":"2019-05-24 18:24:29","commitOrder":2,"curCode":"\tvoid processResponseStatusExceptionWithNoNestedCause() {\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE,\n\t\t\t\t\"could not process request\");\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest, false);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(406);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"could not process request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(ResponseStatusException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","date":"2019-06-07 19:25:54","endLine":164,"groupId":"5968","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"processResponseStatusExceptionWithNoNestedCause","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/51/9c182bee0aa962c7e6837882041a51ca190733.src","preCode":"\tpublic void processResponseStatusExceptionWithNoNestedCause() {\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE,\n\t\t\t\t\"could not process request\");\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest, false);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(406);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"could not process request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(ResponseStatusException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","realPath":"spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/reactive/error/DefaultErrorAttributesTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":153,"status":"M"}],"commitId":"b18fffaf14f9ce3e5651f44745019890e8a899c2","commitMessage":"@@@Move tests to JUnit 5 wherever possible\n","date":"2019-06-07 19:25:54","modifiedFileCount":"1282","status":"M","submitter":"Andy Wilkinson"},{"authorTime":"2020-04-14 22:29:54","codes":[{"authorDate":"2020-04-14 22:29:54","commitOrder":3,"curCode":"\tvoid processResponseStatusException() {\n\t\tRuntimeException nested = new RuntimeException(\"Test\");\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.BAD_REQUEST, \"invalid request\", nested);\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest, false, true);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(400);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"invalid request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(RuntimeException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","date":"2020-04-16 23:46:36","endLine":174,"groupId":"5968","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"processResponseStatusException","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/df/c4824595f20470d3989e076a284a878e0b9184.src","preCode":"\tvoid processResponseStatusException() {\n\t\tRuntimeException nested = new RuntimeException(\"Test\");\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.BAD_REQUEST, \"invalid request\", nested);\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest, false);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(400);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"invalid request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(RuntimeException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","realPath":"spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/reactive/error/DefaultErrorAttributesTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":163,"status":"M"},{"authorDate":"2020-04-14 22:29:54","commitOrder":3,"curCode":"\tvoid processResponseStatusExceptionWithNoNestedCause() {\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE,\n\t\t\t\t\"could not process request\");\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest, false, true);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(406);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"could not process request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(ResponseStatusException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","date":"2020-04-16 23:46:36","endLine":188,"groupId":"5968","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"processResponseStatusExceptionWithNoNestedCause","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/df/c4824595f20470d3989e076a284a878e0b9184.src","preCode":"\tvoid processResponseStatusExceptionWithNoNestedCause() {\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE,\n\t\t\t\t\"could not process request\");\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest, false);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(406);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"could not process request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(ResponseStatusException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","realPath":"spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/reactive/error/DefaultErrorAttributesTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":177,"status":"M"}],"commitId":"70d4994502c848b3db82845c97a033448356c938","commitMessage":"@@@Disable exception details on default error views\n\nPrior to this commit.  default error responses included the message\nfrom a handled exception. When the exception was a BindException.  the\nerror responses could also include an errors attribute containing the\ndetails of the binding failure. These details could leak information\nabout the application.\n\nThis commit removes the exception message and binding errors detail\nfrom error responses by default.  and introduces a\n`server.error.include-details` property that can be used to cause\nthese details to be included in the response.\n\nFixes gh-20505\n","date":"2020-04-16 23:46:36","modifiedFileCount":"24","status":"M","submitter":"Scott Frederick"},{"authorTime":"2020-04-30 06:56:47","codes":[{"authorDate":"2020-04-30 06:56:47","commitOrder":4,"curCode":"\tvoid processResponseStatusException() {\n\t\tRuntimeException nested = new RuntimeException(\"Test\");\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.BAD_REQUEST, \"invalid request\", nested);\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest, false, true, false);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(400);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"invalid request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(RuntimeException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","date":"2020-04-30 06:56:47","endLine":174,"groupId":"5968","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"processResponseStatusException","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/cf/3d7e4cf675f916949cdb7cbc725f1c0a9ec65c.src","preCode":"\tvoid processResponseStatusException() {\n\t\tRuntimeException nested = new RuntimeException(\"Test\");\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.BAD_REQUEST, \"invalid request\", nested);\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest, false, true);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(400);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"invalid request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(RuntimeException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","realPath":"spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/reactive/error/DefaultErrorAttributesTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":163,"status":"M"},{"authorDate":"2020-04-30 06:56:47","commitOrder":4,"curCode":"\tvoid processResponseStatusExceptionWithNoNestedCause() {\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE,\n\t\t\t\t\"could not process request\");\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest, false, true, false);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(406);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"could not process request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(ResponseStatusException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","date":"2020-04-30 06:56:47","endLine":188,"groupId":"5968","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"processResponseStatusExceptionWithNoNestedCause","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/cf/3d7e4cf675f916949cdb7cbc725f1c0a9ec65c.src","preCode":"\tvoid processResponseStatusExceptionWithNoNestedCause() {\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE,\n\t\t\t\t\"could not process request\");\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest, false, true);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(406);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"could not process request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(ResponseStatusException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","realPath":"spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/reactive/error/DefaultErrorAttributesTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":177,"status":"M"}],"commitId":"a30740f8d2e590c1f3adc20fbc4ea9c653c5a94b","commitMessage":"@@@Separate server properties for message and errors\n\nPrior to this commit.  there was a property server.error.include-details\nthat allowed configuration of the message and errors attributes in a\nserver error response.\n\nThis commit separates the control of the message and errors attributes\ninto two separate properties named server.error.include-message and\nserver.error.include-binding-errors. When the message attribute is\nexcluded from a servlet response.  the value is changed from a\nhard-coded text value to an empty value.\n\nFixes gh-20505\n","date":"2020-04-30 06:56:47","modifiedFileCount":"25","status":"M","submitter":"Scott Frederick"},{"authorTime":"2020-05-07 05:31:30","codes":[{"authorDate":"2020-05-07 05:31:30","commitOrder":5,"curCode":"\tvoid processResponseStatusException() {\n\t\tRuntimeException nested = new RuntimeException(\"Test\");\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.BAD_REQUEST, \"invalid request\", nested);\n\t\tthis.errorAttributes = new DefaultErrorAttributes();\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest,\n\t\t\t\tErrorAttributeOptions.of(Include.EXCEPTION, Include.MESSAGE));\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(400);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"invalid request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(RuntimeException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","date":"2020-05-12 04:36:24","endLine":180,"groupId":"1973","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"processResponseStatusException","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/59/66056319d32cbe8f90bff50b2568b75b11a9a8.src","preCode":"\tvoid processResponseStatusException() {\n\t\tRuntimeException nested = new RuntimeException(\"Test\");\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.BAD_REQUEST, \"invalid request\", nested);\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest, false, true, false);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(400);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"invalid request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(RuntimeException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","realPath":"spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/reactive/error/DefaultErrorAttributesTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":168,"status":"M"},{"authorDate":"2020-05-07 05:31:30","commitOrder":5,"curCode":"\tvoid processResponseStatusExceptionWithNoNestedCause() {\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE,\n\t\t\t\t\"could not process request\");\n\t\tthis.errorAttributes = new DefaultErrorAttributes();\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest,\n\t\t\t\tErrorAttributeOptions.of(Include.EXCEPTION, Include.MESSAGE));\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(406);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"could not process request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(ResponseStatusException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","date":"2020-05-12 04:36:24","endLine":195,"groupId":"1973","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"processResponseStatusExceptionWithNoNestedCause","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/59/66056319d32cbe8f90bff50b2568b75b11a9a8.src","preCode":"\tvoid processResponseStatusExceptionWithNoNestedCause() {\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE,\n\t\t\t\t\"could not process request\");\n\t\tthis.errorAttributes = new DefaultErrorAttributes(true);\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest, false, true, false);\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(406);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"could not process request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(ResponseStatusException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","realPath":"spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/reactive/error/DefaultErrorAttributesTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":183,"status":"M"}],"commitId":"158933c3e57e921a0339cdb7635b12ae0ad89832","commitMessage":"@@@Improve API of ErrorAttributes and DefaultErrorAttributes\n\nThis commit improves the backward-compatibility of the ErrorAttributes\ninterfaces by providing a default implementation of a new method. It\nalso encapsulates several parameters that control the inclusion or\nexclusion of error attributes into a new ErrorAttributeOptions type to\nmake it easier and less intrusive to add additional options in the\nfuture. This encapsulation also makes the handling of the\nincludeException option more similar to other options.\n\nFixes gh-21324\n","date":"2020-05-12 04:36:24","modifiedFileCount":"17","status":"M","submitter":"Scott Frederick"},{"authorTime":"2021-04-01 22:33:31","codes":[{"authorDate":"2021-04-01 22:33:31","commitOrder":6,"curCode":"\tvoid processResponseStatusException() {\n\t\tRuntimeException nested = new RuntimeException(\"Test\");\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.BAD_REQUEST, \"invalid request\", nested);\n\t\tthis.errorAttributes = new DefaultErrorAttributes();\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest,\n\t\t\t\tErrorAttributeOptions.of(Include.EXCEPTION, Include.MESSAGE));\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(400);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"invalid request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(RuntimeException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t\tassertThat(serverRequest.attribute(ErrorAttributes.ERROR_ATTRIBUTE)).containsSame(error);\n\t}\n","date":"2021-04-02 03:09:46","endLine":182,"groupId":"101924","id":11,"instanceNumber":1,"isCurCommit":1,"methodName":"processResponseStatusException","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/fe/d54a45da72ff96dad7ca8d8e32e7e0f8146522.src","preCode":"\tvoid processResponseStatusException() {\n\t\tRuntimeException nested = new RuntimeException(\"Test\");\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.BAD_REQUEST, \"invalid request\", nested);\n\t\tthis.errorAttributes = new DefaultErrorAttributes();\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest,\n\t\t\t\tErrorAttributeOptions.of(Include.EXCEPTION, Include.MESSAGE));\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(400);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"invalid request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(RuntimeException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","realPath":"spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/reactive/error/DefaultErrorAttributesTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":169,"status":"M"},{"authorDate":"2021-04-01 22:33:31","commitOrder":6,"curCode":"\tvoid processResponseStatusExceptionWithNoNestedCause() {\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE,\n\t\t\t\t\"could not process request\");\n\t\tthis.errorAttributes = new DefaultErrorAttributes();\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest,\n\t\t\t\tErrorAttributeOptions.of(Include.EXCEPTION, Include.MESSAGE));\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(406);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"could not process request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(ResponseStatusException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t\tassertThat(serverRequest.attribute(ErrorAttributes.ERROR_ATTRIBUTE)).containsSame(error);\n\t}\n","date":"2021-04-02 03:09:46","endLine":198,"groupId":"101924","id":12,"instanceNumber":2,"isCurCommit":1,"methodName":"processResponseStatusExceptionWithNoNestedCause","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/fe/d54a45da72ff96dad7ca8d8e32e7e0f8146522.src","preCode":"\tvoid processResponseStatusExceptionWithNoNestedCause() {\n\t\tResponseStatusException error = new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE,\n\t\t\t\t\"could not process request\");\n\t\tthis.errorAttributes = new DefaultErrorAttributes();\n\t\tMockServerHttpRequest request = MockServerHttpRequest.get(\"/test\").build();\n\t\tServerRequest serverRequest = buildServerRequest(request, error);\n\t\tMap<String, Object> attributes = this.errorAttributes.getErrorAttributes(serverRequest,\n\t\t\t\tErrorAttributeOptions.of(Include.EXCEPTION, Include.MESSAGE));\n\t\tassertThat(attributes.get(\"status\")).isEqualTo(406);\n\t\tassertThat(attributes.get(\"message\")).isEqualTo(\"could not process request\");\n\t\tassertThat(attributes.get(\"exception\")).isEqualTo(ResponseStatusException.class.getName());\n\t\tassertThat(this.errorAttributes.getError(serverRequest)).isSameAs(error);\n\t}\n","realPath":"spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/reactive/error/DefaultErrorAttributesTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":185,"status":"M"}],"commitId":"72a1eb6384bc5ca9171e0433dc6a3bb750c8e8b0","commitMessage":"@@@Allow to manually tag request metrics with exceptions\n\nPrior to this commit.  some exceptions handled at the controller or\nhandler function level would:\n\n* not bubble up to the Spring Boot error handling support\n* not be tagged as part of the request metrics\n\nThis situation is inconsistent because in general.  exceptions handled at\nthe controller level can be considered as expected behavior.\nAlso.  depending on how the exception is handled.  the request metrics\nmight not be tagged with the exception.\nThis will be reconsidered in gh-23795.\n\nThis commit prepares a transition to the new situation. Developers can\nnow opt-in and set the handled exception as a request attribute. This\nwell-known attribute will be later read by the metrics support and used\nfor tagging the request metrics with the exception provided.\n\nThis mechanism is automatically used by the error handling support in\nSpring Boot.\n\nCloses gh-24028\n","date":"2021-04-02 03:09:46","modifiedFileCount":"10","status":"M","submitter":"Brian Clozel"}]
