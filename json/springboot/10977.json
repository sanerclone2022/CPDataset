[{"authorTime":"2020-09-08 20:39:37","codes":[{"authorDate":"2020-09-08 20:39:37","commitOrder":2,"curCode":"\tvoid runWhenDisabledShouldNotCreateIndicator() {\n\t\tthis.contextRunner.withBean(CqlSession.class, () -> mock(CqlSession.class))\n\t\t\t\t.withBean(CassandraOperations.class, () -> mock(CassandraOperations.class))\n\t\t\t\t.withPropertyValues(\"management.health.cassandra.enabled:false\")\n\t\t\t\t.run((context) -> assertThat(context).doesNotHaveBean(\"cassandraHealthContributor\")\n\t\t\t\t\t\t.doesNotHaveBean(org.springframework.boot.actuate.cassandra.CassandraHealthIndicator.class)\n\t\t\t\t\t\t.doesNotHaveBean(CassandraDriverHealthIndicator.class));\n\t}\n","date":"2020-09-08 20:39:37","endLine":91,"groupId":"12477","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"runWhenDisabledShouldNotCreateIndicator","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/3e/6e09d25ec38df5ffd7f982c10435048654267c.src","preCode":"\tvoid runWhenDisabledShouldNotCreateIndicator() {\n\t\tthis.contextRunner.withBean(CqlSession.class, () -> mock(CqlSession.class))\n\t\t\t\t.withBean(CassandraOperations.class, () -> mock(CassandraOperations.class))\n\t\t\t\t.withPropertyValues(\"management.health.cassandra.enabled:false\")\n\t\t\t\t.run((context) -> assertThat(context).doesNotHaveBean(\"cassandraHealthContributor\")\n\t\t\t\t\t\t.doesNotHaveBean(org.springframework.boot.actuate.cassandra.CassandraHealthIndicator.class)\n\t\t\t\t\t\t.doesNotHaveBean(CassandraDriverHealthIndicator.class));\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator-autoconfigure/src/test/java/org/springframework/boot/actuate/autoconfigure/cassandra/CassandraHealthContributorAutoConfigurationTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":84,"status":"MB"},{"authorDate":"2020-09-08 20:39:37","commitOrder":2,"curCode":"\tvoid runWithCqlSessionAndReactiveCassandraOperationsShouldCreateDriverIndicator() {\n\t\tthis.contextRunner.withBean(CqlSession.class, () -> mock(CqlSession.class))\n\t\t\t\t.withBean(ReactiveCassandraOperations.class, () -> mock(ReactiveCassandraOperations.class))\n\t\t\t\t.withBean(CassandraOperations.class, () -> mock(CassandraOperations.class))\n\t\t\t\t.run((context) -> assertThat(context).hasBean(\"cassandraHealthContributor\")\n\t\t\t\t\t\t.hasSingleBean(CassandraDriverReactiveHealthIndicator.class)\n\t\t\t\t\t\t.doesNotHaveBean(\n\t\t\t\t\t\t\t\torg.springframework.boot.actuate.cassandra.CassandraReactiveHealthIndicator.class)\n\t\t\t\t\t\t.doesNotHaveBean(org.springframework.boot.actuate.cassandra.CassandraHealthIndicator.class)\n\t\t\t\t\t\t.doesNotHaveBean(CassandraDriverHealthIndicator.class));\n\t}\n","date":"2020-09-08 20:39:37","endLine":85,"groupId":"8394","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"runWithCqlSessionAndReactiveCassandraOperationsShouldCreateDriverIndicator","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/21/bb7d94d9d3d2372eb4f7c12be14943415f58c3.src","preCode":"\tvoid runWithCqlSessionAndReactiveCassandraOperationsShouldCreateDriverIndicator() {\n\t\tthis.contextRunner.withBean(CqlSession.class, () -> mock(CqlSession.class))\n\t\t\t\t.withBean(ReactiveCassandraOperations.class, () -> mock(ReactiveCassandraOperations.class))\n\t\t\t\t.withBean(CassandraOperations.class, () -> mock(CassandraOperations.class))\n\t\t\t\t.run((context) -> assertThat(context).hasBean(\"cassandraHealthContributor\")\n\t\t\t\t\t\t.hasSingleBean(CassandraDriverReactiveHealthIndicator.class)\n\t\t\t\t\t\t.doesNotHaveBean(\n\t\t\t\t\t\t\t\torg.springframework.boot.actuate.cassandra.CassandraReactiveHealthIndicator.class)\n\t\t\t\t\t\t.doesNotHaveBean(org.springframework.boot.actuate.cassandra.CassandraHealthIndicator.class)\n\t\t\t\t\t\t.doesNotHaveBean(CassandraDriverHealthIndicator.class));\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator-autoconfigure/src/test/java/org/springframework/boot/actuate/autoconfigure/cassandra/CassandraReactiveHealthContributorAutoConfigurationTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":75,"status":"B"}],"commitId":"b9b7393053ee259dec716558786785a6a9ac3708","commitMessage":"@@@Deprecate Cassandra health indicators that rely on Spring Data\n\nWith the introduction of health indicators that only require the\nCqlSession.  this commit deprecates the health indicators that require\nSpring Data since the latter build on top of the former.\n\nCloses gh-23226\n","date":"2020-09-08 20:39:37","modifiedFileCount":"9","status":"M","submitter":"Stephane Nicoll"},{"authorTime":"2021-07-14 17:49:52","codes":[{"authorDate":"2021-07-14 17:49:52","commitOrder":3,"curCode":"\tvoid runWhenDisabledShouldNotCreateIndicator() {\n\t\tthis.contextRunner.withBean(CqlSession.class, () -> mock(CqlSession.class))\n\t\t\t\t.withBean(CassandraOperations.class, () -> mock(CassandraOperations.class))\n\t\t\t\t.withPropertyValues(\"management.health.cassandra.enabled:false\")\n\t\t\t\t.run((context) -> assertThat(context).doesNotHaveBean(\"cassandraHealthContributor\")\n\t\t\t\t\t\t.doesNotHaveBean(CassandraDriverHealthIndicator.class));\n\t}\n","date":"2021-07-14 17:50:01","endLine":70,"groupId":"10977","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"runWhenDisabledShouldNotCreateIndicator","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/fb/61aead6639398255c3b9ee93960f42d18498fb.src","preCode":"\tvoid runWhenDisabledShouldNotCreateIndicator() {\n\t\tthis.contextRunner.withBean(CqlSession.class, () -> mock(CqlSession.class))\n\t\t\t\t.withBean(CassandraOperations.class, () -> mock(CassandraOperations.class))\n\t\t\t\t.withPropertyValues(\"management.health.cassandra.enabled:false\")\n\t\t\t\t.run((context) -> assertThat(context).doesNotHaveBean(\"cassandraHealthContributor\")\n\t\t\t\t\t\t.doesNotHaveBean(org.springframework.boot.actuate.cassandra.CassandraHealthIndicator.class)\n\t\t\t\t\t\t.doesNotHaveBean(CassandraDriverHealthIndicator.class));\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator-autoconfigure/src/test/java/org/springframework/boot/actuate/autoconfigure/cassandra/CassandraHealthContributorAutoConfigurationTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":64,"status":"M"},{"authorDate":"2021-07-14 17:49:52","commitOrder":3,"curCode":"\tvoid runWithCqlSessionAndReactiveCassandraOperationsShouldCreateDriverIndicator() {\n\t\tthis.contextRunner.withBean(CqlSession.class, () -> mock(CqlSession.class))\n\t\t\t\t.withBean(ReactiveCassandraOperations.class, () -> mock(ReactiveCassandraOperations.class))\n\t\t\t\t.withBean(CassandraOperations.class, () -> mock(CassandraOperations.class))\n\t\t\t\t.run((context) -> assertThat(context).hasBean(\"cassandraHealthContributor\")\n\t\t\t\t\t\t.hasSingleBean(CassandraDriverReactiveHealthIndicator.class)\n\t\t\t\t\t\t.doesNotHaveBean(CassandraDriverHealthIndicator.class));\n\t}\n","date":"2021-07-14 17:50:01","endLine":66,"groupId":"10977","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"runWithCqlSessionAndReactiveCassandraOperationsShouldCreateDriverIndicator","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-springboot-10-0.7/blobInfo/CC_OUT/blobs/e2/485c078942782ab708d6ea9c098146c0826abf.src","preCode":"\tvoid runWithCqlSessionAndReactiveCassandraOperationsShouldCreateDriverIndicator() {\n\t\tthis.contextRunner.withBean(CqlSession.class, () -> mock(CqlSession.class))\n\t\t\t\t.withBean(ReactiveCassandraOperations.class, () -> mock(ReactiveCassandraOperations.class))\n\t\t\t\t.withBean(CassandraOperations.class, () -> mock(CassandraOperations.class))\n\t\t\t\t.run((context) -> assertThat(context).hasBean(\"cassandraHealthContributor\")\n\t\t\t\t\t\t.hasSingleBean(CassandraDriverReactiveHealthIndicator.class)\n\t\t\t\t\t\t.doesNotHaveBean(\n\t\t\t\t\t\t\t\torg.springframework.boot.actuate.cassandra.CassandraReactiveHealthIndicator.class)\n\t\t\t\t\t\t.doesNotHaveBean(org.springframework.boot.actuate.cassandra.CassandraHealthIndicator.class)\n\t\t\t\t\t\t.doesNotHaveBean(CassandraDriverHealthIndicator.class));\n\t}\n","realPath":"spring-boot-project/spring-boot-actuator-autoconfigure/src/test/java/org/springframework/boot/actuate/autoconfigure/cassandra/CassandraReactiveHealthContributorAutoConfigurationTests.java","repoName":"springboot","snippetEndLine":0,"snippetStartLine":0,"startLine":59,"status":"M"}],"commitId":"dc5acb00191c2eac09907c39e4d890343bf9848d","commitMessage":"@@@Remove deprecated code flagged for removal\n\nCloses gh-27303\n","date":"2021-07-14 17:50:01","modifiedFileCount":"63","status":"M","submitter":"Stephane Nicoll"}]
