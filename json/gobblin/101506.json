[{"authorTime":"2017-07-31 15:51:25","codes":[{"authorDate":"2018-09-08 08:29:14","commitOrder":2,"curCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(ConfigurationKeys.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(\"flowConfigsV2ResourceHandler\")).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(\"readyToUse\")).to(Boolean.TRUE);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","date":"2018-09-08 08:29:14","endLine":94,"groupId":"6536","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/82/1b9472b9aebb146c37ea34f7903a8f51107d05.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(ConfigurationKeys.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(\"flowConfigsV2ResourceHandler\")).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(\"readyToUse\")).to(Boolean.TRUE);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowConfigV2Test.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":60,"status":"B"},{"authorDate":"2017-07-31 15:51:25","commitOrder":2,"curCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n\n    messageJoiner = Joiner.on(FlowStatusResource.MESSAGE_SEPARATOR);\n  }\n","date":"2017-07-31 15:51:25","endLine":89,"groupId":"1146","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/0a/5a2da59991e6780efffb1c9cd5b70319c0010f.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n\n    messageJoiner = Joiner.on(FlowStatusResource.MESSAGE_SEPARATOR);\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowStatusTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":64,"status":"NB"}],"commitId":"1896d7fab5ec43ac248fdb5bebf0218bed156d00","commitMessage":"@@@[GOBBLIN-538] Flow config v2 resource\n\nCloses #2431 from\narjun4084346/FlowConfigV2Resource\n","date":"2018-09-08 08:29:14","modifiedFileCount":"5","status":"M","submitter":"Arjun"},{"authorTime":"2017-07-31 15:51:25","codes":[{"authorDate":"2019-03-18 10:52:52","commitOrder":3,"curCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(ConfigurationKeys.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(FlowConfigsV2Resource.FLOW_CONFIG_GENERATOR_INJECT_NAME)).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_REQUESTER_SERVICE)).toInstance(new NoopRequesterService(\n            ConfigFactory.empty()));\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","date":"2019-03-18 10:52:52","endLine":97,"groupId":"6536","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/9b/43875c9ee97e9e38ef9287396fe671d8d22832.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(ConfigurationKeys.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(\"flowConfigsV2ResourceHandler\")).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(\"readyToUse\")).to(Boolean.TRUE);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowConfigV2Test.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":61,"status":"M"},{"authorDate":"2017-07-31 15:51:25","commitOrder":3,"curCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n\n    messageJoiner = Joiner.on(FlowStatusResource.MESSAGE_SEPARATOR);\n  }\n","date":"2017-07-31 15:51:25","endLine":89,"groupId":"1146","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/0a/5a2da59991e6780efffb1c9cd5b70319c0010f.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n\n    messageJoiner = Joiner.on(FlowStatusResource.MESSAGE_SEPARATOR);\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowStatusTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":64,"status":"N"}],"commitId":"aadf53dbb8acc5a3de0249d3695384fdefa4eb35","commitMessage":"@@@[GOBBLIN-696] Provide an \"explain\" option to return a compiled flow wh?\n\nCloses #2567 from sv2000/dagPlan1\n","date":"2019-03-18 10:52:52","modifiedFileCount":"19","status":"M","submitter":"suvasude"},{"authorTime":"2017-07-31 15:51:25","codes":[{"authorDate":"2019-04-25 05:49:54","commitOrder":4,"curCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(FlowConfigsV2Resource.FLOW_CONFIG_GENERATOR_INJECT_NAME)).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_REQUESTER_SERVICE)).toInstance(new NoopRequesterService(\n            ConfigFactory.empty()));\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","date":"2019-04-25 05:49:54","endLine":98,"groupId":"6536","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/33/e8e58054d53479a0300c20af581578aa26d234.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(ConfigurationKeys.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(FlowConfigsV2Resource.FLOW_CONFIG_GENERATOR_INJECT_NAME)).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_REQUESTER_SERVICE)).toInstance(new NoopRequesterService(\n            ConfigFactory.empty()));\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowConfigV2Test.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":62,"status":"M"},{"authorDate":"2017-07-31 15:51:25","commitOrder":4,"curCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n\n    messageJoiner = Joiner.on(FlowStatusResource.MESSAGE_SEPARATOR);\n  }\n","date":"2017-07-31 15:51:25","endLine":89,"groupId":"1146","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/0a/5a2da59991e6780efffb1c9cd5b70319c0010f.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n\n    messageJoiner = Joiner.on(FlowStatusResource.MESSAGE_SEPARATOR);\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowStatusTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":64,"status":"N"}],"commitId":"9661916684d466edf6ae499800a252c108bb9aa2","commitMessage":"@@@[GOBBLIN-748] Craftsmanship code cleaning in Gobblin Service Code\n\nDear Gobblin maintainers. \n\nPlease accept this PR. I understand that it will\nnot be reviewed until I have checked off all the\nsteps below!\n\nEssentially a bunch of renaming.  moving\nconfigurations key around.\nThings that we should agree on:\n- Configuration keys should always placed in the\nclass where they are relevant.  instead of\n`ConfigurationKeys.java` or similar things. We\nshould definitely stop doing that.\n- Naming of `FSFlowCatalog` is misleading. In fact\nit should be `FsTemplateFlowCatalog`. Also.  it\nshould not extend `FsJobCatalog`. The missing\npiece is a `FsCatalogBase`  that implement all\nFileSystem related basic functionality.  and have\n`Template` and `Job` FsCatalog extending that base\nimplementation with it own interface.\n\n\n JIRA\n- [x ] My PR addresses the following [Gobblin\nJIRA]\n    -\nhttps://issues.apache.org/jira/browse/GOBBLIN-748\n\n\n Description\n- [ x] Here are some details about my PR. \nincluding screenshots (if applicable):\n\n\n Tests\n- [ ] My PR adds the following unit tests __OR__\ndoes not need testing for this extremely good\nreason:\n\n\n Commits\n- [ ] My commits all reference JIRA issues in\ntheir subject lines.  and I have squashed multiple\ncommits if they address the same issue. In\naddition.  my commits follow the guidelines from\n\"[How to write a good git commit\nmessage](http://chris.beams.io/posts/git-\ncommit/)\":\n    1. Subject is separated from body by a blank line\n    2. Subject is limited to 50 characters\n    3. Subject does not end with a period\n    4. Subject uses the imperative mood (\"add\".  not\n\"adding\")\n    5. Body wraps at 72 characters\n    6. Body explains \"what\" and \"why\".  not \"how\"\n\nSome naive code changes made while reading through\nGaaS code: There are some work needs to be done\nfor understand master/slave interaction\n\nAdding some documentation and renaming stuff\n\nAddress comments\n\nResolving conflicts\n\nCloses #2613 from\nautumnust/craftsmanshipCleaningGaaS\n","date":"2019-04-25 05:49:54","modifiedFileCount":"26","status":"M","submitter":"autumnust"},{"authorTime":"2017-07-31 15:51:25","codes":[{"authorDate":"2020-02-29 03:22:08","commitOrder":5,"curCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    _requesterService = new TestRequesterService(ConfigFactory.empty());\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(FlowConfigsV2Resource.FLOW_CONFIG_GENERATOR_INJECT_NAME)).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_REQUESTER_SERVICE)).toInstance(_requesterService);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","date":"2020-02-29 03:22:08","endLine":111,"groupId":"6068","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/ee/a986efa24e534477d7a95b94b4ca5c4b793261.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(FlowConfigsV2Resource.FLOW_CONFIG_GENERATOR_INJECT_NAME)).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_REQUESTER_SERVICE)).toInstance(new NoopRequesterService(\n            ConfigFactory.empty()));\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowConfigV2Test.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":74,"status":"M"},{"authorDate":"2017-07-31 15:51:25","commitOrder":5,"curCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n\n    messageJoiner = Joiner.on(FlowStatusResource.MESSAGE_SEPARATOR);\n  }\n","date":"2017-07-31 15:51:25","endLine":89,"groupId":"1146","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/0a/5a2da59991e6780efffb1c9cd5b70319c0010f.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n\n    messageJoiner = Joiner.on(FlowStatusResource.MESSAGE_SEPARATOR);\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowStatusTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":64,"status":"N"}],"commitId":"09f5043fbd3a90aa8f3b06a4b7d3bb2f94501db4","commitMessage":"@@@[GOBBLIN-1050] Verify requester when updating/deleting FlowConfig\n\nCloses #2890 from jack-moseley/check-requester\n","date":"2020-02-29 03:22:08","modifiedFileCount":"6","status":"M","submitter":"Jack Moseley"},{"authorTime":"2020-06-02 09:27:07","codes":[{"authorDate":"2020-02-29 03:22:08","commitOrder":6,"curCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    _requesterService = new TestRequesterService(ConfigFactory.empty());\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(FlowConfigsV2Resource.FLOW_CONFIG_GENERATOR_INJECT_NAME)).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_REQUESTER_SERVICE)).toInstance(_requesterService);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","date":"2020-02-29 03:22:08","endLine":111,"groupId":"6068","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/ee/a986efa24e534477d7a95b94b4ca5c4b793261.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    _requesterService = new TestRequesterService(ConfigFactory.empty());\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(FlowConfigsV2Resource.FLOW_CONFIG_GENERATOR_INJECT_NAME)).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_REQUESTER_SERVICE)).toInstance(_requesterService);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowConfigV2Test.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":74,"status":"N"},{"authorDate":"2020-06-02 09:27:07","commitOrder":6,"curCode":"  public void setUp() throws Exception {\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","date":"2020-06-02 09:27:07","endLine":105,"groupId":"1146","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/e1/33582f05b4b1faa7b13aa454c2f8bb40a967ee.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n\n    messageJoiner = Joiner.on(FlowStatusResource.MESSAGE_SEPARATOR);\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowStatusTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":84,"status":"M"}],"commitId":"93f9a817ff9cc259734eec81e4cb7408aab8cc98","commitMessage":"@@@[GOBBLIN-1154] Improve gaas error messages\n\nCloses #2993 from jack-moseley/gaas-improved-\nerrors\n","date":"2020-06-02 09:27:07","modifiedFileCount":"9","status":"M","submitter":"Jack Moseley"},{"authorTime":"2020-06-02 09:27:07","codes":[{"authorDate":"2020-10-08 01:19:37","commitOrder":7,"curCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    _requesterService = new TestRequesterService(ConfigFactory.empty());\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(FlowConfigsV2Resource.FLOW_CONFIG_GENERATOR_INJECT_NAME)).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_REQUESTER_SERVICE)).toInstance(_requesterService);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    Map<String, String> transportClientProperties = Maps.newHashMap();\n    transportClientProperties.put(HttpClientFactory.HTTP_REQUEST_TIMEOUT, \"10000\");\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()), transportClientProperties);\n  }\n","date":"2020-10-08 01:19:37","endLine":114,"groupId":"6068","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/50/fb94765a00cd85a82921d706b6bc694a2e0db7.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    _requesterService = new TestRequesterService(ConfigFactory.empty());\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(FlowConfigsV2Resource.FLOW_CONFIG_GENERATOR_INJECT_NAME)).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_REQUESTER_SERVICE)).toInstance(_requesterService);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowConfigV2Test.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":75,"status":"M"},{"authorDate":"2020-06-02 09:27:07","commitOrder":7,"curCode":"  public void setUp() throws Exception {\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","date":"2020-06-02 09:27:07","endLine":105,"groupId":"1146","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/e1/33582f05b4b1faa7b13aa454c2f8bb40a967ee.src","preCode":"  public void setUp() throws Exception {\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowStatusTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":84,"status":"N"}],"commitId":"8110e88a1c09c4ec7795560748321891013aadcc","commitMessage":"@@@[GOBBLIN-1279] Fix flaky unit tests involving REST.li calls to FlowConfig endpoint in Gobblin-as-a-Service[]\n\nCloses #3119 from sv2000/flowConfigFlakiness\n","date":"2020-10-08 01:19:37","modifiedFileCount":"6","status":"M","submitter":"suvasude"},{"authorTime":"2020-06-02 09:27:07","codes":[{"authorDate":"2020-11-08 09:17:19","commitOrder":8,"curCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    _requesterService = new TestRequesterService(ConfigFactory.empty());\n\n    this.groupConfigFile = new File(_testDirectory + \"/TestGroups.json\");\n    String groups =\"{\\\"testGroup\\\": \\\"testName,testName2\\\"}\";\n    Files.write(groups.getBytes(), this.groupConfigFile);\n    Config groupServiceConfig = ConfigBuilder.create()\n        .addPrimitive(LocalGroupOwnershipService.GROUP_MEMBER_LIST, this.groupConfigFile.getAbsolutePath())\n        .build();\n\n    groupOwnershipService = new LocalGroupOwnershipService(groupServiceConfig);\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(FlowConfigsV2Resource.FLOW_CONFIG_GENERATOR_INJECT_NAME)).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_REQUESTER_SERVICE)).toInstance(_requesterService);\n        binder.bind(GroupOwnershipService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_GROUP_OWNERSHIP_SERVICE)).toInstance(groupOwnershipService);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    Map<String, String> transportClientProperties = Maps.newHashMap();\n    transportClientProperties.put(HttpClientFactory.HTTP_REQUEST_TIMEOUT, \"10000\");\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()), transportClientProperties);\n  }\n","date":"2020-11-08 09:17:19","endLine":132,"groupId":"1952","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/f3/93b8f02a578256c3c0e4ccba17959ae4b90212.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    _requesterService = new TestRequesterService(ConfigFactory.empty());\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(FlowConfigsV2Resource.FLOW_CONFIG_GENERATOR_INJECT_NAME)).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_REQUESTER_SERVICE)).toInstance(_requesterService);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    Map<String, String> transportClientProperties = Maps.newHashMap();\n    transportClientProperties.put(HttpClientFactory.HTTP_REQUEST_TIMEOUT, \"10000\");\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()), transportClientProperties);\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowConfigV2Test.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":83,"status":"M"},{"authorDate":"2020-06-02 09:27:07","commitOrder":8,"curCode":"  public void setUp() throws Exception {\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","date":"2020-06-02 09:27:07","endLine":105,"groupId":"1146","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/e1/33582f05b4b1faa7b13aa454c2f8bb40a967ee.src","preCode":"  public void setUp() throws Exception {\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowStatusTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":84,"status":"N"}],"commitId":"7352cad8ae3a1d9be10d3b6fb78383ccbada9b19","commitMessage":"@@@[GOBBLIN-1304] Adds group ownership service\n\nCloses #3142 from Will-Lo/add-group-ownership-\nflows\n","date":"2020-11-08 09:17:19","modifiedFileCount":"10","status":"M","submitter":"William Lo"},{"authorTime":"2020-06-02 09:27:07","codes":[{"authorDate":"2021-06-05 06:46:57","commitOrder":9,"curCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n    final SpecCatalogListener mockListener = mock(SpecCatalogListener.class);\n    when(mockListener.getName()).thenReturn(ServiceConfigKeys.GOBBLIN_SERVICE_JOB_SCHEDULER_LISTENER_CLASS);\n    when(mockListener.onAddSpec(any())).thenReturn(new AddSpecResponse(\"\"));\n    flowCatalog.addListener(mockListener);\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    _requesterService = new TestRequesterService(ConfigFactory.empty());\n\n    this.groupConfigFile = new File(_testDirectory + \"/TestGroups.json\");\n    String groups =\"{\\\"testGroup\\\": \\\"testName,testName2\\\"}\";\n    Files.write(groups.getBytes(), this.groupConfigFile);\n    Config groupServiceConfig = ConfigBuilder.create()\n        .addPrimitive(LocalGroupOwnershipService.GROUP_MEMBER_LIST, this.groupConfigFile.getAbsolutePath())\n        .build();\n\n    groupOwnershipService = new LocalGroupOwnershipService(groupServiceConfig);\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(FlowConfigsV2Resource.FLOW_CONFIG_GENERATOR_INJECT_NAME)).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_REQUESTER_SERVICE)).toInstance(_requesterService);\n        binder.bind(GroupOwnershipService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_GROUP_OWNERSHIP_SERVICE)).toInstance(groupOwnershipService);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    Map<String, String> transportClientProperties = Maps.newHashMap();\n    transportClientProperties.put(HttpClientFactory.HTTP_REQUEST_TIMEOUT, \"10000\");\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()), transportClientProperties);\n  }\n","date":"2021-06-05 06:46:57","endLine":141,"groupId":"1952","id":15,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/07/10a3e85983c049380b4c63f7867fe960028c30.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    _requesterService = new TestRequesterService(ConfigFactory.empty());\n\n    this.groupConfigFile = new File(_testDirectory + \"/TestGroups.json\");\n    String groups =\"{\\\"testGroup\\\": \\\"testName,testName2\\\"}\";\n    Files.write(groups.getBytes(), this.groupConfigFile);\n    Config groupServiceConfig = ConfigBuilder.create()\n        .addPrimitive(LocalGroupOwnershipService.GROUP_MEMBER_LIST, this.groupConfigFile.getAbsolutePath())\n        .build();\n\n    groupOwnershipService = new LocalGroupOwnershipService(groupServiceConfig);\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(FlowConfigsV2Resource.FLOW_CONFIG_GENERATOR_INJECT_NAME)).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_REQUESTER_SERVICE)).toInstance(_requesterService);\n        binder.bind(GroupOwnershipService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_GROUP_OWNERSHIP_SERVICE)).toInstance(groupOwnershipService);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    Map<String, String> transportClientProperties = Maps.newHashMap();\n    transportClientProperties.put(HttpClientFactory.HTTP_REQUEST_TIMEOUT, \"10000\");\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()), transportClientProperties);\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowConfigV2Test.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"M"},{"authorDate":"2020-06-02 09:27:07","commitOrder":9,"curCode":"  public void setUp() throws Exception {\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","date":"2020-06-02 09:27:07","endLine":105,"groupId":"1146","id":16,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/e1/33582f05b4b1faa7b13aa454c2f8bb40a967ee.src","preCode":"  public void setUp() throws Exception {\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowStatusTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":84,"status":"N"}],"commitId":"381b659d3da7a241d6f038696396e6bba690120e","commitMessage":"@@@[GOBBLIN-1453] Improve error reporting on failed flow compilations and fix bugs wher?\n\nCloses #3291 from Will-Lo/modify-flow-compilation-\nerror-reporting\n","date":"2021-06-05 06:46:57","modifiedFileCount":"11","status":"M","submitter":"William Lo"},{"authorTime":"2021-06-09 01:31:08","codes":[{"authorDate":"2021-06-09 01:31:08","commitOrder":10,"curCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n    final SpecCatalogListener mockListener = mock(SpecCatalogListener.class);\n    when(mockListener.getName()).thenReturn(ServiceConfigKeys.GOBBLIN_SERVICE_JOB_SCHEDULER_LISTENER_CLASS);\n    when(mockListener.onAddSpec(any())).thenReturn(new AddSpecResponse(\"\"));\n    flowCatalog.addListener(mockListener);\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    _requesterService = new TestRequesterService(ConfigFactory.empty());\n\n    this.groupConfigFile = new File(_testDirectory + \"/TestGroups.json\");\n    String groups =\"{\\\"testGroup\\\": \\\"testName,testName2\\\"}\";\n    Files.write(groups.getBytes(), this.groupConfigFile);\n    Config groupServiceConfig = ConfigBuilder.create()\n        .addPrimitive(LocalGroupOwnershipService.GROUP_MEMBER_LIST, this.groupConfigFile.getAbsolutePath())\n        .build();\n\n    groupOwnershipService = new LocalGroupOwnershipService(groupServiceConfig);\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsV2ResourceHandler.class).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).toInstance(_requesterService);\n        binder.bind(GroupOwnershipService.class).toInstance(groupOwnershipService);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    Map<String, String> transportClientProperties = Maps.newHashMap();\n    transportClientProperties.put(HttpClientFactory.HTTP_REQUEST_TIMEOUT, \"10000\");\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()), transportClientProperties);\n  }\n","date":"2021-06-09 01:31:08","endLine":141,"groupId":"7907","id":17,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/aa/067c0850adc2fa6e0dc3c882603a5242407a6e.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n    final SpecCatalogListener mockListener = mock(SpecCatalogListener.class);\n    when(mockListener.getName()).thenReturn(ServiceConfigKeys.GOBBLIN_SERVICE_JOB_SCHEDULER_LISTENER_CLASS);\n    when(mockListener.onAddSpec(any())).thenReturn(new AddSpecResponse(\"\"));\n    flowCatalog.addListener(mockListener);\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    _requesterService = new TestRequesterService(ConfigFactory.empty());\n\n    this.groupConfigFile = new File(_testDirectory + \"/TestGroups.json\");\n    String groups =\"{\\\"testGroup\\\": \\\"testName,testName2\\\"}\";\n    Files.write(groups.getBytes(), this.groupConfigFile);\n    Config groupServiceConfig = ConfigBuilder.create()\n        .addPrimitive(LocalGroupOwnershipService.GROUP_MEMBER_LIST, this.groupConfigFile.getAbsolutePath())\n        .build();\n\n    groupOwnershipService = new LocalGroupOwnershipService(groupServiceConfig);\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsResourceHandler.class).annotatedWith(Names.named(FlowConfigsV2Resource.FLOW_CONFIG_GENERATOR_INJECT_NAME)).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_REQUESTER_SERVICE)).toInstance(_requesterService);\n        binder.bind(GroupOwnershipService.class).annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_GROUP_OWNERSHIP_SERVICE)).toInstance(groupOwnershipService);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    Map<String, String> transportClientProperties = Maps.newHashMap();\n    transportClientProperties.put(HttpClientFactory.HTTP_REQUEST_TIMEOUT, \"10000\");\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()), transportClientProperties);\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowConfigV2Test.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"M"},{"authorDate":"2021-06-09 01:31:08","commitOrder":10,"curCode":"  public void setUp() throws Exception {\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator = new FlowStatusGenerator(jobStatusRetriever);\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class)\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","date":"2021-06-09 01:31:08","endLine":103,"groupId":"1146","id":18,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/16/e08fc6a35a04dcef15709574da5f4944752d78.src","preCode":"  public void setUp() throws Exception {\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator =\n        FlowStatusGenerator.builder().jobStatusRetriever(jobStatusRetriever).build();\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class).annotatedWith(Names.named(FlowStatusResource.FLOW_STATUS_GENERATOR_INJECT_NAME))\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowStatusTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":83,"status":"M"}],"commitId":"bf37c76f6da228ae96b0c405d184617f03d2c198","commitMessage":"@@@[GOBBLIN-1444] Use Guice as DI framework in Gobblin service\n\nPreviously.  to initialize Gobblin service.  we used\na mixture\nof dependency injection.  direct class creation and\nconfig-based\nclass creation. In this change.  we unify the\nservice initialization\nby moving towards using dependency injection(DI)\nwith Guice everywhere.\n\nUsing DI will help with (1) unit testing; (2)\noverriding classes in the\nmiddle of the dependency with company-specific\nimplementations.  and\n(3) will improve code readability.  as dependencies\nbetween classes\nbecome visible from the outside and explicit.\n\nWe also move away from name-based injection for\nclasses. Name-based\ninjection is useful when code needs several\ndifferent implementations\nof the same interface. In our use case.  we had\nonly one implementation\nfor each service that can be active. Name-based\ninjection was used for\ncompany-specific overrides.  but there is a better\nway to do it - with\nGuice module overrides.\n\nThere are still several improvements left to be\ndone to have a full\nGuice migration.  but we'll make them in separate\ncommits to limit the\nPR size.\n\nCloses #3281 from aplex/guice-migration\n","date":"2021-06-09 01:31:08","modifiedFileCount":"37","status":"M","submitter":"aprokofiev"},{"authorTime":"2021-07-16 02:37:59","codes":[{"authorDate":"2021-06-09 01:31:08","commitOrder":11,"curCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n    final SpecCatalogListener mockListener = mock(SpecCatalogListener.class);\n    when(mockListener.getName()).thenReturn(ServiceConfigKeys.GOBBLIN_SERVICE_JOB_SCHEDULER_LISTENER_CLASS);\n    when(mockListener.onAddSpec(any())).thenReturn(new AddSpecResponse(\"\"));\n    flowCatalog.addListener(mockListener);\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    _requesterService = new TestRequesterService(ConfigFactory.empty());\n\n    this.groupConfigFile = new File(_testDirectory + \"/TestGroups.json\");\n    String groups =\"{\\\"testGroup\\\": \\\"testName,testName2\\\"}\";\n    Files.write(groups.getBytes(), this.groupConfigFile);\n    Config groupServiceConfig = ConfigBuilder.create()\n        .addPrimitive(LocalGroupOwnershipService.GROUP_MEMBER_LIST, this.groupConfigFile.getAbsolutePath())\n        .build();\n\n    groupOwnershipService = new LocalGroupOwnershipService(groupServiceConfig);\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsV2ResourceHandler.class).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).toInstance(_requesterService);\n        binder.bind(GroupOwnershipService.class).toInstance(groupOwnershipService);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    Map<String, String> transportClientProperties = Maps.newHashMap();\n    transportClientProperties.put(HttpClientFactory.HTTP_REQUEST_TIMEOUT, \"10000\");\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()), transportClientProperties);\n  }\n","date":"2021-06-09 01:31:08","endLine":141,"groupId":"101506","id":19,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/aa/067c0850adc2fa6e0dc3c882603a5242407a6e.src","preCode":"  public void setUp() throws Exception {\n    ConfigBuilder configBuilder = ConfigBuilder.create();\n\n    _testDirectory = Files.createTempDir();\n\n    configBuilder\n        .addPrimitive(ConfigurationKeys.JOB_CONFIG_FILE_DIR_KEY, _testDirectory.getAbsolutePath())\n        .addPrimitive(FSSpecStore.SPECSTORE_FS_DIR_KEY, TEST_SPEC_STORE_DIR);\n    cleanUpDir(TEST_SPEC_STORE_DIR);\n\n    Config config = configBuilder.build();\n    final FlowCatalog flowCatalog = new FlowCatalog(config);\n    final SpecCatalogListener mockListener = mock(SpecCatalogListener.class);\n    when(mockListener.getName()).thenReturn(ServiceConfigKeys.GOBBLIN_SERVICE_JOB_SCHEDULER_LISTENER_CLASS);\n    when(mockListener.onAddSpec(any())).thenReturn(new AddSpecResponse(\"\"));\n    flowCatalog.addListener(mockListener);\n    flowCatalog.startAsync();\n    flowCatalog.awaitRunning();\n\n    _requesterService = new TestRequesterService(ConfigFactory.empty());\n\n    this.groupConfigFile = new File(_testDirectory + \"/TestGroups.json\");\n    String groups =\"{\\\"testGroup\\\": \\\"testName,testName2\\\"}\";\n    Files.write(groups.getBytes(), this.groupConfigFile);\n    Config groupServiceConfig = ConfigBuilder.create()\n        .addPrimitive(LocalGroupOwnershipService.GROUP_MEMBER_LIST, this.groupConfigFile.getAbsolutePath())\n        .build();\n\n    groupOwnershipService = new LocalGroupOwnershipService(groupServiceConfig);\n\n    Injector injector = Guice.createInjector(new Module() {\n      @Override\n      public void configure(Binder binder) {\n        binder.bind(FlowConfigsV2ResourceHandler.class).toInstance(new FlowConfigV2ResourceLocalHandler(flowCatalog));\n        \r\n        \r\n        binder.bindConstant().annotatedWith(Names.named(FlowConfigsV2Resource.INJECT_READY_TO_USE)).to(Boolean.TRUE);\n        binder.bind(RequesterService.class).toInstance(_requesterService);\n        binder.bind(GroupOwnershipService.class).toInstance(groupOwnershipService);\n      }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowConfigsV2Resource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    Map<String, String> transportClientProperties = Maps.newHashMap();\n    transportClientProperties.put(HttpClientFactory.HTTP_REQUEST_TIMEOUT, \"10000\");\n    _client =\n        new FlowConfigV2Client(String.format(\"http://localhost:%s/\", _server.getPort()), transportClientProperties);\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowConfigV2Test.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"N"},{"authorDate":"2021-07-16 02:37:59","commitOrder":11,"curCode":"  public void setUp() throws Exception {\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever(mock(MultiContextIssueRepository.class));\n    final FlowStatusGenerator flowStatusGenerator = new FlowStatusGenerator(jobStatusRetriever);\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class)\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","date":"2021-07-16 02:37:59","endLine":112,"groupId":"101506","id":20,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/da/81dd939e22e387b77b756ad4996088ca672134.src","preCode":"  public void setUp() throws Exception {\n    JobStatusRetriever jobStatusRetriever = new TestJobStatusRetriever();\n    final FlowStatusGenerator flowStatusGenerator = new FlowStatusGenerator(jobStatusRetriever);\n\n    Injector injector = Guice.createInjector(new Module() {\n       @Override\n       public void configure(Binder binder) {\n         binder.bind(FlowStatusGenerator.class)\n             .toInstance(flowStatusGenerator);\n       }\n    });\n\n    _server = EmbeddedRestliServer.builder().resources(\n        Lists.<Class<? extends BaseResource>>newArrayList(FlowStatusResource.class)).injector(injector).build();\n\n    _server.startAsync();\n    _server.awaitRunning();\n\n    _client =\n        new FlowStatusClient(String.format(\"http://localhost:%s/\", _server.getPort()));\n  }\n","realPath":"gobblin-restli/gobblin-flow-config-service/gobblin-flow-config-service-client/src/test/java/org/apache/gobblin/service/FlowStatusTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":92,"status":"M"}],"commitId":"b5e32b158bd713c45caa5b4b8866f8a4c4fc3a29","commitMessage":"@@@[GOBBLIN-1457] Add automatic troubleshooter to Gobblin service (#3299)\n\nIn previous commits.  we've added automatic troubleshooting to Gobblin\nAzkaban jobs.  and here we will collect and expose discovered issues\nin Gobblin service.\n\nInitial implementation will store issues for a limited number of jobs in\nmemory.  and future commits will add persistence.","date":"2021-07-16 02:37:59","modifiedFileCount":"14","status":"M","submitter":"Alex Prokofiev"}]
