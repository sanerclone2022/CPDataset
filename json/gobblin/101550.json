[{"authorTime":"2019-03-15 07:07:35","codes":[{"authorDate":"2019-03-15 07:07:35","commitOrder":1,"curCode":"  public void testDedup() throws Exception {\n\n    File basePath = Files.createTempDir();\n    basePath.deleteOnExit();\n\n    File jobDir = new File(basePath, \"Identity/MemberAccount/minutely/2017/04/03/10/20_30/run_2017-04-03-10-20\");\n    Assert.assertTrue(jobDir.mkdirs());\n\n    GenericRecord r1 = createRandomRecord();\n    GenericRecord r2 = createRandomRecord();\n    writeFileWithContent(jobDir, \"file1\", r1, 20);\n    writeFileWithContent(jobDir, \"file2\", r2, 18);\n\n    EmbeddedGobblin embeddedGobblin = createEmbeddedGobblin(\"dedup\", basePath.getAbsolutePath().toString());\n    JobExecutionResult result = embeddedGobblin.run();\n    Assert.assertTrue(result.isSuccessful());\n  }\n","date":"2019-03-15 07:07:35","endLine":81,"groupId":"931","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testDedup","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/90/9d97cec9dbebe2276f2d75a9ee60bad84c7ba2.src","preCode":"  public void testDedup() throws Exception {\n\n    File basePath = Files.createTempDir();\n    basePath.deleteOnExit();\n\n    File jobDir = new File(basePath, \"Identity/MemberAccount/minutely/2017/04/03/10/20_30/run_2017-04-03-10-20\");\n    Assert.assertTrue(jobDir.mkdirs());\n\n    GenericRecord r1 = createRandomRecord();\n    GenericRecord r2 = createRandomRecord();\n    writeFileWithContent(jobDir, \"file1\", r1, 20);\n    writeFileWithContent(jobDir, \"file2\", r2, 18);\n\n    EmbeddedGobblin embeddedGobblin = createEmbeddedGobblin(\"dedup\", basePath.getAbsolutePath().toString());\n    JobExecutionResult result = embeddedGobblin.run();\n    Assert.assertTrue(result.isSuccessful());\n  }\n","realPath":"gobblin-compaction/src/test/java/org/apache/gobblin/compaction/mapreduce/AvroCompactionTaskTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":65,"status":"B"},{"authorDate":"2019-03-15 07:07:35","commitOrder":1,"curCode":"  public void testNonDedup() throws Exception {\n    File basePath = Files.createTempDir();\n    basePath.deleteOnExit();\n\n    File jobDir = new File(basePath, \"Identity/MemberAccount/minutely/2017/04/03/10/20_30/run_2017-04-03-10-20\");\n    Assert.assertTrue(jobDir.mkdirs());\n\n    GenericRecord r1 = createRandomRecord();\n    GenericRecord r2 = createRandomRecord();\n    writeFileWithContent(jobDir, \"file1\", r1, 20);\n    writeFileWithContent(jobDir, \"file2\", r2, 18);\n\n    EmbeddedGobblin embeddedGobblin = createEmbeddedGobblin(\"non-dedup\", basePath.getAbsolutePath().toString());\n    JobExecutionResult result = embeddedGobblin.run();\n    Assert.assertTrue(result.isSuccessful());\n  }\n","date":"2019-03-15 07:07:35","endLine":99,"groupId":"931","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testNonDedup","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/90/9d97cec9dbebe2276f2d75a9ee60bad84c7ba2.src","preCode":"  public void testNonDedup() throws Exception {\n    File basePath = Files.createTempDir();\n    basePath.deleteOnExit();\n\n    File jobDir = new File(basePath, \"Identity/MemberAccount/minutely/2017/04/03/10/20_30/run_2017-04-03-10-20\");\n    Assert.assertTrue(jobDir.mkdirs());\n\n    GenericRecord r1 = createRandomRecord();\n    GenericRecord r2 = createRandomRecord();\n    writeFileWithContent(jobDir, \"file1\", r1, 20);\n    writeFileWithContent(jobDir, \"file2\", r2, 18);\n\n    EmbeddedGobblin embeddedGobblin = createEmbeddedGobblin(\"non-dedup\", basePath.getAbsolutePath().toString());\n    JobExecutionResult result = embeddedGobblin.run();\n    Assert.assertTrue(result.isSuccessful());\n  }\n","realPath":"gobblin-compaction/src/test/java/org/apache/gobblin/compaction/mapreduce/AvroCompactionTaskTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":84,"status":"B"}],"commitId":"f589c732e298735039e4f2be8058bfdbbe04526b","commitMessage":"@@@[GOBBLIN-699] Orc compaction impl.\n\nCloses #2570 from autumnust/orcCompactionImpl\n","date":"2019-03-15 07:07:35","modifiedFileCount":"14","status":"B","submitter":"Lei Sun"},{"authorTime":"2019-03-15 07:07:35","codes":[{"authorDate":"2019-09-20 00:40:48","commitOrder":2,"curCode":"  public void testDedup() throws Exception {\n\n    File basePath = Files.createTempDir();\n    basePath.deleteOnExit();\n\n    File jobDir = new File(basePath, \"Identity/MemberAccount/minutely/2017/04/03/10/20_30/run_2017-04-03-10-20\");\n    Assert.assertTrue(jobDir.mkdirs());\n\n    GenericRecord r1 = createRandomRecord();\n    GenericRecord r2 = createRandomRecord();\n    GenericRecord r3= createEvolvedSchemaRecord();\n    writeFileWithContent(jobDir, \"file1\", r1, 20);\n    writeFileWithContent(jobDir, \"file2\", r2, 18);\n    File newestFile = writeFileWithContent(jobDir, \"file3\", r3, 10, r3.getSchema());\n    newestFile.setLastModified(Long.MAX_VALUE);\n\n    EmbeddedGobblin embeddedGobblin = createEmbeddedGobblin(\"dedup\", basePath.getAbsolutePath().toString());\n    JobExecutionResult result = embeddedGobblin.run();\n    Assert.assertTrue(result.isSuccessful());\n  }\n","date":"2019-09-20 00:40:48","endLine":86,"groupId":"3847","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testDedup","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/a3/9658e6ea5f648b1215e506365f6c0717dccb6e.src","preCode":"  public void testDedup() throws Exception {\n\n    File basePath = Files.createTempDir();\n    basePath.deleteOnExit();\n\n    File jobDir = new File(basePath, \"Identity/MemberAccount/minutely/2017/04/03/10/20_30/run_2017-04-03-10-20\");\n    Assert.assertTrue(jobDir.mkdirs());\n\n    GenericRecord r1 = createRandomRecord();\n    GenericRecord r2 = createRandomRecord();\n    writeFileWithContent(jobDir, \"file1\", r1, 20);\n    writeFileWithContent(jobDir, \"file2\", r2, 18);\n\n    EmbeddedGobblin embeddedGobblin = createEmbeddedGobblin(\"dedup\", basePath.getAbsolutePath().toString());\n    JobExecutionResult result = embeddedGobblin.run();\n    Assert.assertTrue(result.isSuccessful());\n  }\n","realPath":"gobblin-compaction/src/test/java/org/apache/gobblin/compaction/mapreduce/AvroCompactionTaskTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":67,"status":"M"},{"authorDate":"2019-03-15 07:07:35","commitOrder":2,"curCode":"  public void testNonDedup() throws Exception {\n    File basePath = Files.createTempDir();\n    basePath.deleteOnExit();\n\n    File jobDir = new File(basePath, \"Identity/MemberAccount/minutely/2017/04/03/10/20_30/run_2017-04-03-10-20\");\n    Assert.assertTrue(jobDir.mkdirs());\n\n    GenericRecord r1 = createRandomRecord();\n    GenericRecord r2 = createRandomRecord();\n    writeFileWithContent(jobDir, \"file1\", r1, 20);\n    writeFileWithContent(jobDir, \"file2\", r2, 18);\n\n    EmbeddedGobblin embeddedGobblin = createEmbeddedGobblin(\"non-dedup\", basePath.getAbsolutePath().toString());\n    JobExecutionResult result = embeddedGobblin.run();\n    Assert.assertTrue(result.isSuccessful());\n  }\n","date":"2019-03-15 07:07:35","endLine":99,"groupId":"931","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testNonDedup","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/90/9d97cec9dbebe2276f2d75a9ee60bad84c7ba2.src","preCode":"  public void testNonDedup() throws Exception {\n    File basePath = Files.createTempDir();\n    basePath.deleteOnExit();\n\n    File jobDir = new File(basePath, \"Identity/MemberAccount/minutely/2017/04/03/10/20_30/run_2017-04-03-10-20\");\n    Assert.assertTrue(jobDir.mkdirs());\n\n    GenericRecord r1 = createRandomRecord();\n    GenericRecord r2 = createRandomRecord();\n    writeFileWithContent(jobDir, \"file1\", r1, 20);\n    writeFileWithContent(jobDir, \"file2\", r2, 18);\n\n    EmbeddedGobblin embeddedGobblin = createEmbeddedGobblin(\"non-dedup\", basePath.getAbsolutePath().toString());\n    JobExecutionResult result = embeddedGobblin.run();\n    Assert.assertTrue(result.isSuccessful());\n  }\n","realPath":"gobblin-compaction/src/test/java/org/apache/gobblin/compaction/mapreduce/AvroCompactionTaskTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":84,"status":"N"}],"commitId":"11ecc32439478474a7c72d1f2a950eb13c0bd7f9","commitMessage":"@@@[GOBBLIN-884] Support ORC schema evolution across mappers in MR mode\n\nCloses #2737 from\nautumnust/orcMapperSchemaResolving\n","date":"2019-09-20 00:40:48","modifiedFileCount":"3","status":"M","submitter":"autumnust"},{"authorTime":"2020-09-09 02:26:14","codes":[{"authorDate":"2020-09-09 02:26:14","commitOrder":3,"curCode":"  public void testDedup() throws Exception {\n    File basePath = Files.createTempDir();\n    basePath.deleteOnExit();\n\n    File jobDir = new File(basePath, \"Identity/MemberAccount/minutely/2017/04/03/10/20_30/run_2017-04-03-10-20\");\n    Assert.assertTrue(jobDir.mkdirs());\n\n    GenericRecord r1 = createRandomRecord();\n    GenericRecord r2 = createRandomRecord();\n    GenericRecord r3= createEvolvedSchemaRecord();\n    writeFileWithContent(jobDir, \"file1\", r1, 20);\n    writeFileWithContent(jobDir, \"file2\", r2, 18);\n    File newestFile = writeFileWithContent(jobDir, \"file3\", r3, 10, r3.getSchema());\n    newestFile.setLastModified(Long.MAX_VALUE);\n\n    EmbeddedGobblin embeddedGobblin = createEmbeddedGobblinCompactionJob(\"dedup\", basePath.getAbsolutePath());\n    JobExecutionResult result = embeddedGobblin.run();\n    Assert.assertTrue(result.isSuccessful());\n  }\n","date":"2020-09-09 02:26:14","endLine":92,"groupId":"101550","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testDedup","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/22/3fc571bd2c078621822a93c90869863a1115bd.src","preCode":"  public void testDedup() throws Exception {\n\n    File basePath = Files.createTempDir();\n    basePath.deleteOnExit();\n\n    File jobDir = new File(basePath, \"Identity/MemberAccount/minutely/2017/04/03/10/20_30/run_2017-04-03-10-20\");\n    Assert.assertTrue(jobDir.mkdirs());\n\n    GenericRecord r1 = createRandomRecord();\n    GenericRecord r2 = createRandomRecord();\n    GenericRecord r3= createEvolvedSchemaRecord();\n    writeFileWithContent(jobDir, \"file1\", r1, 20);\n    writeFileWithContent(jobDir, \"file2\", r2, 18);\n    File newestFile = writeFileWithContent(jobDir, \"file3\", r3, 10, r3.getSchema());\n    newestFile.setLastModified(Long.MAX_VALUE);\n\n    EmbeddedGobblin embeddedGobblin = createEmbeddedGobblin(\"dedup\", basePath.getAbsolutePath().toString());\n    JobExecutionResult result = embeddedGobblin.run();\n    Assert.assertTrue(result.isSuccessful());\n  }\n","realPath":"gobblin-compaction/src/test/java/org/apache/gobblin/compaction/mapreduce/AvroCompactionTaskTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":74,"status":"M"},{"authorDate":"2020-09-09 02:26:14","commitOrder":3,"curCode":"  public void testNonDedup() throws Exception {\n    File basePath = Files.createTempDir();\n    basePath.deleteOnExit();\n\n    File jobDir = new File(basePath, \"Identity/MemberAccount/minutely/2017/04/03/10/20_30/run_2017-04-03-10-20\");\n    Assert.assertTrue(jobDir.mkdirs());\n\n    GenericRecord r1 = createRandomRecord();\n    GenericRecord r2 = createRandomRecord();\n    writeFileWithContent(jobDir, \"file1\", r1, 20);\n    writeFileWithContent(jobDir, \"file2\", r2, 18);\n\n    EmbeddedGobblin embeddedGobblin = createEmbeddedGobblinCompactionJob(\"non-dedup\", basePath.getAbsolutePath().toString());\n    JobExecutionResult result = embeddedGobblin.run();\n    Assert.assertTrue(result.isSuccessful());\n  }\n","date":"2020-09-09 02:26:14","endLine":110,"groupId":"101550","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testNonDedup","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/22/3fc571bd2c078621822a93c90869863a1115bd.src","preCode":"  public void testNonDedup() throws Exception {\n    File basePath = Files.createTempDir();\n    basePath.deleteOnExit();\n\n    File jobDir = new File(basePath, \"Identity/MemberAccount/minutely/2017/04/03/10/20_30/run_2017-04-03-10-20\");\n    Assert.assertTrue(jobDir.mkdirs());\n\n    GenericRecord r1 = createRandomRecord();\n    GenericRecord r2 = createRandomRecord();\n    writeFileWithContent(jobDir, \"file1\", r1, 20);\n    writeFileWithContent(jobDir, \"file2\", r2, 18);\n\n    EmbeddedGobblin embeddedGobblin = createEmbeddedGobblin(\"non-dedup\", basePath.getAbsolutePath().toString());\n    JobExecutionResult result = embeddedGobblin.run();\n    Assert.assertTrue(result.isSuccessful());\n  }\n","realPath":"gobblin-compaction/src/test/java/org/apache/gobblin/compaction/mapreduce/AvroCompactionTaskTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":95,"status":"M"}],"commitId":"778a8634978981e63d3a096af336b14f79aebeca","commitMessage":"@@@[GOBBLIN-1257] Fix the handling of collection field types during ORC schema up-conversion in compaction[]\n\nCloses #3097 from sv2000/orcCompaction\n","date":"2020-09-09 02:26:14","modifiedFileCount":"4","status":"M","submitter":"sv2000"}]
