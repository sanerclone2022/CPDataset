[{"authorTime":"2017-07-31 15:51:25","codes":[{"authorDate":"2017-07-31 15:51:25","commitOrder":1,"curCode":"  public void setUp() throws Exception {\n    testMetastoreDatabase = TestMetastoreDatabaseFactory.get();\n\n    Properties properties = new Properties();\n    properties.setProperty(ConfigurationKeys.JOB_HISTORY_STORE_URL_KEY, testMetastoreDatabase.getJdbcUrl());\n\n    int randomPort = chooseRandomPort();\n    properties.setProperty(ConfigurationKeys.REST_SERVER_PORT_KEY, Integer.toString(randomPort));\n\n    Injector injector = Guice.createInjector(new MetaStoreModule(properties));\n    this.jobHistoryStore = injector.getInstance(JobHistoryStore.class);\n\n    this.client = new JobExecutionInfoClient(String.format(\"http://%s:%s/\", \"localhost\", randomPort));\n    this.server = new JobExecutionInfoServer(properties);\n    this.server.startUp();\n\n    this.expected1 = createJobExecutionInfo(1);\n    this.expected2 = createJobExecutionInfo(2);\n\n    this.jobHistoryStore.put(this.expected1);\n    this.jobHistoryStore.put(this.expected2);\n  }\n","date":"2017-07-31 15:51:25","endLine":88,"groupId":"5764","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/c3/c38f428b094ad821e7171018c72a501e5a7140.src","preCode":"  public void setUp() throws Exception {\n    testMetastoreDatabase = TestMetastoreDatabaseFactory.get();\n\n    Properties properties = new Properties();\n    properties.setProperty(ConfigurationKeys.JOB_HISTORY_STORE_URL_KEY, testMetastoreDatabase.getJdbcUrl());\n\n    int randomPort = chooseRandomPort();\n    properties.setProperty(ConfigurationKeys.REST_SERVER_PORT_KEY, Integer.toString(randomPort));\n\n    Injector injector = Guice.createInjector(new MetaStoreModule(properties));\n    this.jobHistoryStore = injector.getInstance(JobHistoryStore.class);\n\n    this.client = new JobExecutionInfoClient(String.format(\"http://%s:%s/\", \"localhost\", randomPort));\n    this.server = new JobExecutionInfoServer(properties);\n    this.server.startUp();\n\n    this.expected1 = createJobExecutionInfo(1);\n    this.expected2 = createJobExecutionInfo(2);\n\n    this.jobHistoryStore.put(this.expected1);\n    this.jobHistoryStore.put(this.expected2);\n  }\n","realPath":"gobblin-rest-service/gobblin-rest-server/src/test/java/org/apache/gobblin/rest/JobExecutionInfoServerTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":67,"status":"B"},{"authorDate":"2017-07-31 15:51:25","commitOrder":1,"curCode":"  public void setUp()\n      throws Exception {\n    ConfigFactory.invalidateCaches();\n    testMetastoreDatabase = TestMetastoreDatabaseFactory.get(getVersion());\n    Properties properties = new Properties();\n    properties.setProperty(ConfigurationKeys.JOB_HISTORY_STORE_URL_KEY, testMetastoreDatabase.getJdbcUrl());\n    Injector injector = Guice.createInjector(new MetaStoreModule(properties));\n    this.jobHistoryStore = injector.getInstance(JobHistoryStore.class);\n  }\n","date":"2017-07-31 15:51:25","endLine":79,"groupId":"5099","id":2,"instanceNumber":2,"isCurCommit":1,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/7a/481053b129c57f89a53f9d506af8c93d65b34f.src","preCode":"  public void setUp()\n      throws Exception {\n    ConfigFactory.invalidateCaches();\n    testMetastoreDatabase = TestMetastoreDatabaseFactory.get(getVersion());\n    Properties properties = new Properties();\n    properties.setProperty(ConfigurationKeys.JOB_HISTORY_STORE_URL_KEY, testMetastoreDatabase.getJdbcUrl());\n    Injector injector = Guice.createInjector(new MetaStoreModule(properties));\n    this.jobHistoryStore = injector.getInstance(JobHistoryStore.class);\n  }\n","realPath":"gobblin-metastore/src/test/java/org/apache/gobblin/metastore/DatabaseJobHistoryStoreTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":71,"status":"B"}],"commitId":"5457af88d56b8fb89b172129fd1ff24ecdd4eba8","commitMessage":"@@@Merge pull request #2031 from abti/move_packages_to_apache\n","date":"2017-07-31 15:51:25","modifiedFileCount":"2","status":"B","submitter":"Abhishek Tiwari"},{"authorTime":"2017-07-31 15:51:25","codes":[{"authorDate":"2020-10-14 02:53:52","commitOrder":2,"curCode":"  public void setUp() throws Exception {\n    testMetastoreDatabase = TestMetastoreDatabaseFactory.get();\n\n    Properties properties = new Properties();\n    properties.setProperty(ConfigurationKeys.JOB_HISTORY_STORE_URL_KEY, testMetastoreDatabase.getJdbcUrl());\n\n    int randomPort = new PortUtils.ServerSocketPortLocator().random();\n\n    properties.setProperty(ConfigurationKeys.REST_SERVER_PORT_KEY, Integer.toString(randomPort));\n\n    Injector injector = Guice.createInjector(new MetaStoreModule(properties));\n    this.jobHistoryStore = injector.getInstance(JobHistoryStore.class);\n\n    this.client = new JobExecutionInfoClient(String.format(\"http://%s:%s/\", \"localhost\", randomPort));\n    this.server = new JobExecutionInfoServer(properties);\n    this.server.startUp();\n\n    this.expected1 = createJobExecutionInfo(1);\n    this.expected2 = createJobExecutionInfo(2);\n\n    this.jobHistoryStore.put(this.expected1);\n    this.jobHistoryStore.put(this.expected2);\n  }\n","date":"2020-10-14 02:53:52","endLine":90,"groupId":"1042","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/2c/8002a42b89e21948418db06953040680864f08.src","preCode":"  public void setUp() throws Exception {\n    testMetastoreDatabase = TestMetastoreDatabaseFactory.get();\n\n    Properties properties = new Properties();\n    properties.setProperty(ConfigurationKeys.JOB_HISTORY_STORE_URL_KEY, testMetastoreDatabase.getJdbcUrl());\n\n    int randomPort = chooseRandomPort();\n    properties.setProperty(ConfigurationKeys.REST_SERVER_PORT_KEY, Integer.toString(randomPort));\n\n    Injector injector = Guice.createInjector(new MetaStoreModule(properties));\n    this.jobHistoryStore = injector.getInstance(JobHistoryStore.class);\n\n    this.client = new JobExecutionInfoClient(String.format(\"http://%s:%s/\", \"localhost\", randomPort));\n    this.server = new JobExecutionInfoServer(properties);\n    this.server.startUp();\n\n    this.expected1 = createJobExecutionInfo(1);\n    this.expected2 = createJobExecutionInfo(2);\n\n    this.jobHistoryStore.put(this.expected1);\n    this.jobHistoryStore.put(this.expected2);\n  }\n","realPath":"gobblin-rest-service/gobblin-rest-server/src/test/java/org/apache/gobblin/rest/JobExecutionInfoServerTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":68,"status":"M"},{"authorDate":"2017-07-31 15:51:25","commitOrder":2,"curCode":"  public void setUp()\n      throws Exception {\n    ConfigFactory.invalidateCaches();\n    testMetastoreDatabase = TestMetastoreDatabaseFactory.get(getVersion());\n    Properties properties = new Properties();\n    properties.setProperty(ConfigurationKeys.JOB_HISTORY_STORE_URL_KEY, testMetastoreDatabase.getJdbcUrl());\n    Injector injector = Guice.createInjector(new MetaStoreModule(properties));\n    this.jobHistoryStore = injector.getInstance(JobHistoryStore.class);\n  }\n","date":"2017-07-31 15:51:25","endLine":79,"groupId":"1042","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/7a/481053b129c57f89a53f9d506af8c93d65b34f.src","preCode":"  public void setUp()\n      throws Exception {\n    ConfigFactory.invalidateCaches();\n    testMetastoreDatabase = TestMetastoreDatabaseFactory.get(getVersion());\n    Properties properties = new Properties();\n    properties.setProperty(ConfigurationKeys.JOB_HISTORY_STORE_URL_KEY, testMetastoreDatabase.getJdbcUrl());\n    Injector injector = Guice.createInjector(new MetaStoreModule(properties));\n    this.jobHistoryStore = injector.getInstance(JobHistoryStore.class);\n  }\n","realPath":"gobblin-metastore/src/test/java/org/apache/gobblin/metastore/DatabaseJobHistoryStoreTest.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":71,"status":"N"}],"commitId":"655b8ebcf5a570d34559003ced7005531d04fcb3","commitMessage":"@@@[GOBBLIN-1287] Cleanup code duplication across tests that choose a random open port for spinning up an embedded mysql server[]\n\nCloses #3126 from sv2000/randomPort\n","date":"2020-10-14 02:53:52","modifiedFileCount":"4","status":"M","submitter":"suvasude"}]
