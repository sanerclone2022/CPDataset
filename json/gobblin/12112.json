[{"authorTime":"2018-05-02 05:40:28","codes":[{"authorDate":"2017-12-21 06:59:23","commitOrder":3,"curCode":"      public HelixTaskResult handleMessage()\n          throws InterruptedException {\n        String messageSubType = this._message.getMsgSubType();\n        Preconditions.checkArgument(messageSubType\n            .equalsIgnoreCase(HelixMessageSubTypes.WORK_UNIT_RUNNER_SHUTDOWN.toString()), String\n            .format(\"Unknown %s message subtype: %s\", GobblinHelixConstants.SHUTDOWN_MESSAGE_TYPE,\n                messageSubType));\n\n        HelixTaskResult result = new HelixTaskResult();\n\n        if (stopInProgress) {\n          result.setSuccess(true);\n          return result;\n        }\n\n        logger\n            .info(\"Handling message \" + HelixMessageSubTypes.WORK_UNIT_RUNNER_SHUTDOWN.toString());\n\n        ScheduledExecutorService shutdownMessageHandlingCompletionWatcher =\n            MoreExecutors.getExitingScheduledExecutorService(new ScheduledThreadPoolExecutor(1));\n\n        \r\n        \r\n        \r\n        \r\n        shutdownMessageHandlingCompletionWatcher.scheduleAtFixedRate(new Runnable() {\n          @Override\n          public void run() {\n            HelixManager helixManager = _notificationContext.getManager();\n            HelixDataAccessor helixDataAccessor = helixManager.getHelixDataAccessor();\n\n            HelixProperty helixProperty = helixDataAccessor.getProperty(\n                _message.getKey(helixDataAccessor.keyBuilder(), helixManager.getInstanceName()));\n            \r\n            if (helixProperty == null) {\n              GobblinTaskRunner.this.stop();\n            }\n          }\n        }, 0, 1, TimeUnit.SECONDS);\n\n        result.setSuccess(true);\n        return result;\n      }\n","date":"2017-12-21 06:59:23","endLine":449,"groupId":"5672","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"handleMessage","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/25/80b0e99c4592c643add9d55e0223f00f4f9148.src","preCode":"      public HelixTaskResult handleMessage()\n          throws InterruptedException {\n        String messageSubType = this._message.getMsgSubType();\n        Preconditions.checkArgument(messageSubType\n            .equalsIgnoreCase(HelixMessageSubTypes.WORK_UNIT_RUNNER_SHUTDOWN.toString()), String\n            .format(\"Unknown %s message subtype: %s\", GobblinHelixConstants.SHUTDOWN_MESSAGE_TYPE,\n                messageSubType));\n\n        HelixTaskResult result = new HelixTaskResult();\n\n        if (stopInProgress) {\n          result.setSuccess(true);\n          return result;\n        }\n\n        logger\n            .info(\"Handling message \" + HelixMessageSubTypes.WORK_UNIT_RUNNER_SHUTDOWN.toString());\n\n        ScheduledExecutorService shutdownMessageHandlingCompletionWatcher =\n            MoreExecutors.getExitingScheduledExecutorService(new ScheduledThreadPoolExecutor(1));\n\n        \r\n        \r\n        \r\n        \r\n        shutdownMessageHandlingCompletionWatcher.scheduleAtFixedRate(new Runnable() {\n          @Override\n          public void run() {\n            HelixManager helixManager = _notificationContext.getManager();\n            HelixDataAccessor helixDataAccessor = helixManager.getHelixDataAccessor();\n\n            HelixProperty helixProperty = helixDataAccessor.getProperty(\n                _message.getKey(helixDataAccessor.keyBuilder(), helixManager.getInstanceName()));\n            \r\n            if (helixProperty == null) {\n              GobblinTaskRunner.this.stop();\n            }\n          }\n        }, 0, 1, TimeUnit.SECONDS);\n\n        result.setSuccess(true);\n        return result;\n      }\n","realPath":"gobblin-cluster/src/main/java/org/apache/gobblin/cluster/GobblinTaskRunner.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":407,"status":"NB"},{"authorDate":"2018-05-02 05:40:28","commitOrder":3,"curCode":"      public HelixTaskResult handleMessage() throws InterruptedException {\n        String messageSubType = this._message.getMsgSubType();\n        Preconditions.checkArgument(\n            messageSubType.equalsIgnoreCase(HelixMessageSubTypes.APPLICATION_MASTER_SHUTDOWN.toString()),\n            String.format(\"Unknown %s message subtype: %s\", GobblinHelixConstants.SHUTDOWN_MESSAGE_TYPE, messageSubType));\n\n        HelixTaskResult result = new HelixTaskResult();\n\n        if (stopStatus.isStopInProgress()) {\n          result.setSuccess(true);\n          return result;\n        }\n\n        log.info(\"Handling message \" + HelixMessageSubTypes.APPLICATION_MASTER_SHUTDOWN.toString());\n\n        ScheduledExecutorService shutdownMessageHandlingCompletionWatcher =\n            MoreExecutors.getExitingScheduledExecutorService(new ScheduledThreadPoolExecutor(1));\n\n        \r\n        \r\n        \r\n        \r\n        shutdownMessageHandlingCompletionWatcher.scheduleAtFixedRate(new Runnable() {\n          @Override\n          public void run() {\n            HelixManager helixManager = _notificationContext.getManager();\n            HelixDataAccessor helixDataAccessor = helixManager.getHelixDataAccessor();\n\n            HelixProperty helixProperty = helixDataAccessor\n                .getProperty(_message.getKey(helixDataAccessor.keyBuilder(), helixManager.getInstanceName()));\n            \r\n            if (helixProperty == null) {\n              eventBus.post(new ClusterManagerShutdownRequest());\n            }\n          }\n        }, 0, 1, TimeUnit.SECONDS);\n\n        result.setSuccess(true);\n        return result;\n      }\n","date":"2018-05-02 05:40:28","endLine":391,"groupId":"1558","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"handleMessage","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/f6/599789c8da4bdd6671dff278c10daf94e4e4a5.src","preCode":"      public HelixTaskResult handleMessage() throws InterruptedException {\n        String messageSubType = this._message.getMsgSubType();\n        Preconditions.checkArgument(\n            messageSubType.equalsIgnoreCase(HelixMessageSubTypes.APPLICATION_MASTER_SHUTDOWN.toString()),\n            String.format(\"Unknown %s message subtype: %s\", GobblinHelixConstants.SHUTDOWN_MESSAGE_TYPE, messageSubType));\n\n        HelixTaskResult result = new HelixTaskResult();\n\n        if (stopStatus.isStopInProgress()) {\n          result.setSuccess(true);\n          return result;\n        }\n\n        log.info(\"Handling message \" + HelixMessageSubTypes.APPLICATION_MASTER_SHUTDOWN.toString());\n\n        ScheduledExecutorService shutdownMessageHandlingCompletionWatcher =\n            MoreExecutors.getExitingScheduledExecutorService(new ScheduledThreadPoolExecutor(1));\n\n        \r\n        \r\n        \r\n        \r\n        shutdownMessageHandlingCompletionWatcher.scheduleAtFixedRate(new Runnable() {\n          @Override\n          public void run() {\n            HelixManager helixManager = _notificationContext.getManager();\n            HelixDataAccessor helixDataAccessor = helixManager.getHelixDataAccessor();\n\n            HelixProperty helixProperty = helixDataAccessor\n                .getProperty(_message.getKey(helixDataAccessor.keyBuilder(), helixManager.getInstanceName()));\n            \r\n            if (helixProperty == null) {\n              eventBus.post(new ClusterManagerShutdownRequest());\n            }\n          }\n        }, 0, 1, TimeUnit.SECONDS);\n\n        result.setSuccess(true);\n        return result;\n      }\n","realPath":"gobblin-cluster/src/main/java/org/apache/gobblin/cluster/GobblinHelixMultiManager.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":352,"status":"B"}],"commitId":"15b7cd08f724f1de471cc59f46323b234215b2f9","commitMessage":"@@@[GOBBLIN-480] Separate job distribution cluster with gobblin cluster manager cluster\n\nCloses #2349 from yukuai518/controller\n","date":"2018-05-02 05:40:28","modifiedFileCount":"4","status":"M","submitter":"Kuai Yu"},{"authorTime":"2018-05-02 05:40:28","codes":[{"authorDate":"2020-04-08 06:23:25","commitOrder":4,"curCode":"      public HelixTaskResult handleMessage() {\n        String messageSubType = this._message.getMsgSubType();\n        Preconditions.checkArgument(messageSubType\n            .equalsIgnoreCase(HelixMessageSubTypes.WORK_UNIT_RUNNER_SHUTDOWN.toString()), String\n            .format(\"Unknown %s message subtype: %s\", GobblinHelixConstants.SHUTDOWN_MESSAGE_TYPE, messageSubType));\n\n        HelixTaskResult result = new HelixTaskResult();\n\n        if (stopInProgress) {\n          result.setSuccess(true);\n          return result;\n        }\n\n        logger.info(\"Handling message \" + HelixMessageSubTypes.WORK_UNIT_RUNNER_SHUTDOWN.toString());\n\n        ScheduledExecutorService shutdownMessageHandlingCompletionWatcher =\n            MoreExecutors.getExitingScheduledExecutorService(new ScheduledThreadPoolExecutor(1));\n\n        \r\n        \r\n        \r\n        \r\n        shutdownMessageHandlingCompletionWatcher.scheduleAtFixedRate(new Runnable() {\n          @Override\n          public void run() {\n            HelixManager helixManager = _notificationContext.getManager();\n            HelixDataAccessor helixDataAccessor = helixManager.getHelixDataAccessor();\n\n            HelixProperty helixProperty = helixDataAccessor.getProperty(\n                _message.getKey(helixDataAccessor.keyBuilder(), helixManager.getInstanceName()));\n            \r\n            if (helixProperty == null) {\n              GobblinTaskRunner.this.stop();\n            }\n          }\n        }, 0, 1, TimeUnit.SECONDS);\n\n        result.setSuccess(true);\n        return result;\n      }\n","date":"2020-04-08 06:23:25","endLine":601,"groupId":"12112","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"handleMessage","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/8e/6cdd1e541ec694bd87266a6b2a887017f09cb3.src","preCode":"      public HelixTaskResult handleMessage()\n          throws InterruptedException {\n        String messageSubType = this._message.getMsgSubType();\n        Preconditions.checkArgument(messageSubType\n            .equalsIgnoreCase(HelixMessageSubTypes.WORK_UNIT_RUNNER_SHUTDOWN.toString()), String\n            .format(\"Unknown %s message subtype: %s\", GobblinHelixConstants.SHUTDOWN_MESSAGE_TYPE,\n                messageSubType));\n\n        HelixTaskResult result = new HelixTaskResult();\n\n        if (stopInProgress) {\n          result.setSuccess(true);\n          return result;\n        }\n\n        logger\n            .info(\"Handling message \" + HelixMessageSubTypes.WORK_UNIT_RUNNER_SHUTDOWN.toString());\n\n        ScheduledExecutorService shutdownMessageHandlingCompletionWatcher =\n            MoreExecutors.getExitingScheduledExecutorService(new ScheduledThreadPoolExecutor(1));\n\n        \r\n        \r\n        \r\n        \r\n        shutdownMessageHandlingCompletionWatcher.scheduleAtFixedRate(new Runnable() {\n          @Override\n          public void run() {\n            HelixManager helixManager = _notificationContext.getManager();\n            HelixDataAccessor helixDataAccessor = helixManager.getHelixDataAccessor();\n\n            HelixProperty helixProperty = helixDataAccessor.getProperty(\n                _message.getKey(helixDataAccessor.keyBuilder(), helixManager.getInstanceName()));\n            \r\n            if (helixProperty == null) {\n              GobblinTaskRunner.this.stop();\n            }\n          }\n        }, 0, 1, TimeUnit.SECONDS);\n\n        result.setSuccess(true);\n        return result;\n      }\n","realPath":"gobblin-cluster/src/main/java/org/apache/gobblin/cluster/GobblinTaskRunner.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":562,"status":"M"},{"authorDate":"2018-05-02 05:40:28","commitOrder":4,"curCode":"      public HelixTaskResult handleMessage() throws InterruptedException {\n        String messageSubType = this._message.getMsgSubType();\n        Preconditions.checkArgument(\n            messageSubType.equalsIgnoreCase(HelixMessageSubTypes.APPLICATION_MASTER_SHUTDOWN.toString()),\n            String.format(\"Unknown %s message subtype: %s\", GobblinHelixConstants.SHUTDOWN_MESSAGE_TYPE, messageSubType));\n\n        HelixTaskResult result = new HelixTaskResult();\n\n        if (stopStatus.isStopInProgress()) {\n          result.setSuccess(true);\n          return result;\n        }\n\n        log.info(\"Handling message \" + HelixMessageSubTypes.APPLICATION_MASTER_SHUTDOWN.toString());\n\n        ScheduledExecutorService shutdownMessageHandlingCompletionWatcher =\n            MoreExecutors.getExitingScheduledExecutorService(new ScheduledThreadPoolExecutor(1));\n\n        \r\n        \r\n        \r\n        \r\n        shutdownMessageHandlingCompletionWatcher.scheduleAtFixedRate(new Runnable() {\n          @Override\n          public void run() {\n            HelixManager helixManager = _notificationContext.getManager();\n            HelixDataAccessor helixDataAccessor = helixManager.getHelixDataAccessor();\n\n            HelixProperty helixProperty = helixDataAccessor\n                .getProperty(_message.getKey(helixDataAccessor.keyBuilder(), helixManager.getInstanceName()));\n            \r\n            if (helixProperty == null) {\n              eventBus.post(new ClusterManagerShutdownRequest());\n            }\n          }\n        }, 0, 1, TimeUnit.SECONDS);\n\n        result.setSuccess(true);\n        return result;\n      }\n","date":"2018-05-02 05:40:28","endLine":391,"groupId":"12112","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"handleMessage","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-gobblin-10-0.7/blobInfo/CC_OUT/blobs/f6/599789c8da4bdd6671dff278c10daf94e4e4a5.src","preCode":"      public HelixTaskResult handleMessage() throws InterruptedException {\n        String messageSubType = this._message.getMsgSubType();\n        Preconditions.checkArgument(\n            messageSubType.equalsIgnoreCase(HelixMessageSubTypes.APPLICATION_MASTER_SHUTDOWN.toString()),\n            String.format(\"Unknown %s message subtype: %s\", GobblinHelixConstants.SHUTDOWN_MESSAGE_TYPE, messageSubType));\n\n        HelixTaskResult result = new HelixTaskResult();\n\n        if (stopStatus.isStopInProgress()) {\n          result.setSuccess(true);\n          return result;\n        }\n\n        log.info(\"Handling message \" + HelixMessageSubTypes.APPLICATION_MASTER_SHUTDOWN.toString());\n\n        ScheduledExecutorService shutdownMessageHandlingCompletionWatcher =\n            MoreExecutors.getExitingScheduledExecutorService(new ScheduledThreadPoolExecutor(1));\n\n        \r\n        \r\n        \r\n        \r\n        shutdownMessageHandlingCompletionWatcher.scheduleAtFixedRate(new Runnable() {\n          @Override\n          public void run() {\n            HelixManager helixManager = _notificationContext.getManager();\n            HelixDataAccessor helixDataAccessor = helixManager.getHelixDataAccessor();\n\n            HelixProperty helixProperty = helixDataAccessor\n                .getProperty(_message.getKey(helixDataAccessor.keyBuilder(), helixManager.getInstanceName()));\n            \r\n            if (helixProperty == null) {\n              eventBus.post(new ClusterManagerShutdownRequest());\n            }\n          }\n        }, 0, 1, TimeUnit.SECONDS);\n\n        result.setSuccess(true);\n        return result;\n      }\n","realPath":"gobblin-cluster/src/main/java/org/apache/gobblin/cluster/GobblinHelixMultiManager.java","repoName":"gobblin","snippetEndLine":0,"snippetStartLine":0,"startLine":352,"status":"N"}],"commitId":"713e1d96c00a0e7dda58649991c09b2b24de68b0","commitMessage":"@@@[GOBBLIN-1110] fix deadlock in job cancellation\nreplacing deprecated class MessageHandlerFactory with MultiTypeMessageHandlerFactory\n\nCloses #2950 from arjun4084346/taskDriverStop\n","date":"2020-04-08 06:23:25","modifiedFileCount":"6","status":"M","submitter":"Arjun"}]
