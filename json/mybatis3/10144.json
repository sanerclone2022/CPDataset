[{"authorTime":"2018-09-17 08:55:11","codes":[{"authorDate":"2018-09-17 08:55:11","commitOrder":1,"curCode":"  private MappedStatement getNestedAndOrderedMappedStatement() {\n    final Configuration config = new Configuration();\n    final TypeHandlerRegistry registry = config.getTypeHandlerRegistry();\n\n    ResultMap nestedResultMap = new ResultMap.Builder(config, \"roleMap\", HashMap.class,\n      new ArrayList<ResultMapping>() {\n        {\n          add(new ResultMapping.Builder(config, \"role\", \"role\", registry.getTypeHandler(String.class))\n            .build());\n        }\n      }).build();\n    config.addResultMap(nestedResultMap);\n\n    return new MappedStatement.Builder(config, \"selectPerson\", new StaticSqlSource(config, \"select person...\"),\n      SqlCommandType.SELECT).resultMaps(\n        new ArrayList<ResultMap>() {\n          {\n            add(new ResultMap.Builder(config, \"personMap\", HashMap.class, new ArrayList<ResultMapping>() {\n              {\n                add(new ResultMapping.Builder(config, \"id\", \"id\", registry.getTypeHandler(Integer.class))\n                  .build());\n                add(new ResultMapping.Builder(config, \"roles\").nestedResultMapId(\"roleMap\").build());\n              }\n            }).build());\n          }\n        })\n        .resultOrdered(true)\n        .build();\n  }\n","date":"2018-09-17 08:55:11","endLine":142,"groupId":"2290","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"getNestedAndOrderedMappedStatement","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/7f/6862b1cbeed3450afab6bda833a7e7997b29d4.src","preCode":"  private MappedStatement getNestedAndOrderedMappedStatement() {\n    final Configuration config = new Configuration();\n    final TypeHandlerRegistry registry = config.getTypeHandlerRegistry();\n\n    ResultMap nestedResultMap = new ResultMap.Builder(config, \"roleMap\", HashMap.class,\n      new ArrayList<ResultMapping>() {\n        {\n          add(new ResultMapping.Builder(config, \"role\", \"role\", registry.getTypeHandler(String.class))\n            .build());\n        }\n      }).build();\n    config.addResultMap(nestedResultMap);\n\n    return new MappedStatement.Builder(config, \"selectPerson\", new StaticSqlSource(config, \"select person...\"),\n      SqlCommandType.SELECT).resultMaps(\n        new ArrayList<ResultMap>() {\n          {\n            add(new ResultMap.Builder(config, \"personMap\", HashMap.class, new ArrayList<ResultMapping>() {\n              {\n                add(new ResultMapping.Builder(config, \"id\", \"id\", registry.getTypeHandler(Integer.class))\n                  .build());\n                add(new ResultMapping.Builder(config, \"roles\").nestedResultMapId(\"roleMap\").build());\n              }\n            }).build());\n          }\n        })\n        .resultOrdered(true)\n        .build();\n  }\n","realPath":"src/test/java/org/apache/ibatis/cursor/defaults/DefaultCursorTest.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":114,"status":"B"},{"authorDate":"2018-09-17 08:55:11","commitOrder":1,"curCode":"  public void shouldNotCallNextOnClosedResultSet_NestedResult() throws Exception {\n    final Configuration config = new Configuration();\n    final TypeHandlerRegistry registry = config.getTypeHandlerRegistry();\n    final ResultMap nestedResultMap = new ResultMap.Builder(config, \"roleMap\", HashMap.class,\n      new ArrayList<ResultMapping>() {\n        {\n          add(new ResultMapping.Builder(config, \"role\", \"role\", registry.getTypeHandler(String.class))\n            .build());\n        }\n      }).build();\n    config.addResultMap(nestedResultMap);\n    final MappedStatement ms = new MappedStatement.Builder(config, \"selectPerson\",\n      new StaticSqlSource(config, \"select person...\"),\n      SqlCommandType.SELECT).resultMaps(\n        new ArrayList<ResultMap>() {\n          {\n            add(new ResultMap.Builder(config, \"personMap\", HashMap.class, new ArrayList<ResultMapping>() {\n              {\n                add(new ResultMapping.Builder(config, \"id\", \"id\", registry.getTypeHandler(Integer.class))\n                  .build());\n                add(new ResultMapping.Builder(config, \"roles\").nestedResultMapId(\"roleMap\").build());\n              }\n            }).build());\n          }\n        })\n        .resultOrdered(true)\n        .build();\n\n    final Executor executor = null;\n    final ParameterHandler parameterHandler = null;\n    final ResultHandler<?> resultHandler = null;\n    final BoundSql boundSql = null;\n    final RowBounds rowBounds = new RowBounds(5, 1);\n    final DefaultResultSetHandler resultSetHandler = new DefaultResultSetHandler(executor, ms, parameterHandler,\n      resultHandler, boundSql, rowBounds);\n\n    when(stmt.getResultSet()).thenReturn(rs);\n    when(rsmd.getColumnCount()).thenReturn(2);\n    when(rsmd.getColumnLabel(1)).thenReturn(\"id\");\n    when(rsmd.getColumnType(1)).thenReturn(Types.INTEGER);\n    when(rsmd.getColumnClassName(1)).thenReturn(Integer.class.getCanonicalName());\n    when(rsmd.getColumnLabel(2)).thenReturn(\"role\");\n    when(rsmd.getColumnType(2)).thenReturn(Types.VARCHAR);\n    when(rsmd.getColumnClassName(2)).thenReturn(String.class.getCanonicalName());\n    when(stmt.getConnection()).thenReturn(conn);\n    when(conn.getMetaData()).thenReturn(dbmd);\n    when(dbmd.supportsMultipleResultSets()).thenReturn(false); \r\n\n    final List<Object> results = resultSetHandler.handleResultSets(stmt);\n    assertEquals(0, results.size());\n  }\n","date":"2018-09-17 08:55:11","endLine":155,"groupId":"2290","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"shouldNotCallNextOnClosedResultSet_NestedResult","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/95/d25c2f018cfbafd99c124a9aa9bfc73b3b2c02.src","preCode":"  public void shouldNotCallNextOnClosedResultSet_NestedResult() throws Exception {\n    final Configuration config = new Configuration();\n    final TypeHandlerRegistry registry = config.getTypeHandlerRegistry();\n    final ResultMap nestedResultMap = new ResultMap.Builder(config, \"roleMap\", HashMap.class,\n      new ArrayList<ResultMapping>() {\n        {\n          add(new ResultMapping.Builder(config, \"role\", \"role\", registry.getTypeHandler(String.class))\n            .build());\n        }\n      }).build();\n    config.addResultMap(nestedResultMap);\n    final MappedStatement ms = new MappedStatement.Builder(config, \"selectPerson\",\n      new StaticSqlSource(config, \"select person...\"),\n      SqlCommandType.SELECT).resultMaps(\n        new ArrayList<ResultMap>() {\n          {\n            add(new ResultMap.Builder(config, \"personMap\", HashMap.class, new ArrayList<ResultMapping>() {\n              {\n                add(new ResultMapping.Builder(config, \"id\", \"id\", registry.getTypeHandler(Integer.class))\n                  .build());\n                add(new ResultMapping.Builder(config, \"roles\").nestedResultMapId(\"roleMap\").build());\n              }\n            }).build());\n          }\n        })\n        .resultOrdered(true)\n        .build();\n\n    final Executor executor = null;\n    final ParameterHandler parameterHandler = null;\n    final ResultHandler<?> resultHandler = null;\n    final BoundSql boundSql = null;\n    final RowBounds rowBounds = new RowBounds(5, 1);\n    final DefaultResultSetHandler resultSetHandler = new DefaultResultSetHandler(executor, ms, parameterHandler,\n      resultHandler, boundSql, rowBounds);\n\n    when(stmt.getResultSet()).thenReturn(rs);\n    when(rsmd.getColumnCount()).thenReturn(2);\n    when(rsmd.getColumnLabel(1)).thenReturn(\"id\");\n    when(rsmd.getColumnType(1)).thenReturn(Types.INTEGER);\n    when(rsmd.getColumnClassName(1)).thenReturn(Integer.class.getCanonicalName());\n    when(rsmd.getColumnLabel(2)).thenReturn(\"role\");\n    when(rsmd.getColumnType(2)).thenReturn(Types.VARCHAR);\n    when(rsmd.getColumnClassName(2)).thenReturn(String.class.getCanonicalName());\n    when(stmt.getConnection()).thenReturn(conn);\n    when(conn.getMetaData()).thenReturn(dbmd);\n    when(dbmd.supportsMultipleResultSets()).thenReturn(false); \r\n\n    final List<Object> results = resultSetHandler.handleResultSets(stmt);\n    assertEquals(0, results.size());\n  }\n","realPath":"src/test/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandlerTest2.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":105,"status":"B"}],"commitId":"66a5dee9ddd94dd7770d48b066667fe57b163a92","commitMessage":"@@@Merge pull request #1355 from harawata/db2-result-set\n\nSupport drivers that close ResultSet automatically when next() returns false.","date":"2018-09-17 08:55:11","modifiedFileCount":"4","status":"B","submitter":"Iwao AVE!"},{"authorTime":"2019-01-07 09:04:39","codes":[{"authorDate":"2018-09-17 08:55:11","commitOrder":2,"curCode":"  private MappedStatement getNestedAndOrderedMappedStatement() {\n    final Configuration config = new Configuration();\n    final TypeHandlerRegistry registry = config.getTypeHandlerRegistry();\n\n    ResultMap nestedResultMap = new ResultMap.Builder(config, \"roleMap\", HashMap.class,\n      new ArrayList<ResultMapping>() {\n        {\n          add(new ResultMapping.Builder(config, \"role\", \"role\", registry.getTypeHandler(String.class))\n            .build());\n        }\n      }).build();\n    config.addResultMap(nestedResultMap);\n\n    return new MappedStatement.Builder(config, \"selectPerson\", new StaticSqlSource(config, \"select person...\"),\n      SqlCommandType.SELECT).resultMaps(\n        new ArrayList<ResultMap>() {\n          {\n            add(new ResultMap.Builder(config, \"personMap\", HashMap.class, new ArrayList<ResultMapping>() {\n              {\n                add(new ResultMapping.Builder(config, \"id\", \"id\", registry.getTypeHandler(Integer.class))\n                  .build());\n                add(new ResultMapping.Builder(config, \"roles\").nestedResultMapId(\"roleMap\").build());\n              }\n            }).build());\n          }\n        })\n        .resultOrdered(true)\n        .build();\n  }\n","date":"2018-09-17 08:55:11","endLine":142,"groupId":"2290","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"getNestedAndOrderedMappedStatement","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/7f/6862b1cbeed3450afab6bda833a7e7997b29d4.src","preCode":"  private MappedStatement getNestedAndOrderedMappedStatement() {\n    final Configuration config = new Configuration();\n    final TypeHandlerRegistry registry = config.getTypeHandlerRegistry();\n\n    ResultMap nestedResultMap = new ResultMap.Builder(config, \"roleMap\", HashMap.class,\n      new ArrayList<ResultMapping>() {\n        {\n          add(new ResultMapping.Builder(config, \"role\", \"role\", registry.getTypeHandler(String.class))\n            .build());\n        }\n      }).build();\n    config.addResultMap(nestedResultMap);\n\n    return new MappedStatement.Builder(config, \"selectPerson\", new StaticSqlSource(config, \"select person...\"),\n      SqlCommandType.SELECT).resultMaps(\n        new ArrayList<ResultMap>() {\n          {\n            add(new ResultMap.Builder(config, \"personMap\", HashMap.class, new ArrayList<ResultMapping>() {\n              {\n                add(new ResultMapping.Builder(config, \"id\", \"id\", registry.getTypeHandler(Integer.class))\n                  .build());\n                add(new ResultMapping.Builder(config, \"roles\").nestedResultMapId(\"roleMap\").build());\n              }\n            }).build());\n          }\n        })\n        .resultOrdered(true)\n        .build();\n  }\n","realPath":"src/test/java/org/apache/ibatis/cursor/defaults/DefaultCursorTest.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":114,"status":"N"},{"authorDate":"2019-01-07 09:04:39","commitOrder":2,"curCode":"  public void shouldNotCallNextOnClosedResultSet_NestedResult() throws Exception {\n    final Configuration config = new Configuration();\n    final TypeHandlerRegistry registry = config.getTypeHandlerRegistry();\n    final ResultMap nestedResultMap = new ResultMap.Builder(config, \"roleMap\", HashMap.class,\n      new ArrayList<ResultMapping>() {\n        {\n          add(new ResultMapping.Builder(config, \"role\", \"role\", registry.getTypeHandler(String.class))\n            .build());\n        }\n      }).build();\n    config.addResultMap(nestedResultMap);\n    final MappedStatement ms = new MappedStatement.Builder(config, \"selectPerson\",\n      new StaticSqlSource(config, \"select person...\"),\n      SqlCommandType.SELECT).resultMaps(\n        new ArrayList<ResultMap>() {\n          {\n            add(new ResultMap.Builder(config, \"personMap\", HashMap.class, new ArrayList<ResultMapping>() {\n              {\n                add(new ResultMapping.Builder(config, \"id\", \"id\", registry.getTypeHandler(Integer.class))\n                  .build());\n                add(new ResultMapping.Builder(config, \"roles\").nestedResultMapId(\"roleMap\").build());\n              }\n            }).build());\n          }\n        })\n        .resultOrdered(true)\n        .build();\n\n    final Executor executor = null;\n    final ParameterHandler parameterHandler = null;\n    final ResultHandler<?> resultHandler = null;\n    final BoundSql boundSql = null;\n    final RowBounds rowBounds = new RowBounds(5, 1);\n    final DefaultResultSetHandler resultSetHandler = new DefaultResultSetHandler(executor, ms, parameterHandler,\n      resultHandler, boundSql, rowBounds);\n\n    when(stmt.getResultSet()).thenReturn(rs);\n    when(rsmd.getColumnCount()).thenReturn(2);\n    when(rsmd.getColumnLabel(1)).thenReturn(\"id\");\n    when(rsmd.getColumnType(1)).thenReturn(Types.INTEGER);\n    when(rsmd.getColumnClassName(1)).thenReturn(Integer.class.getCanonicalName());\n\n    final List<Object> results = resultSetHandler.handleResultSets(stmt);\n    assertEquals(0, results.size());\n  }\n","date":"2019-01-07 09:04:39","endLine":149,"groupId":"2290","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"shouldNotCallNextOnClosedResultSet_NestedResult","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/02/4f5b1c04f49e932a584771fb7351f777952945.src","preCode":"  public void shouldNotCallNextOnClosedResultSet_NestedResult() throws Exception {\n    final Configuration config = new Configuration();\n    final TypeHandlerRegistry registry = config.getTypeHandlerRegistry();\n    final ResultMap nestedResultMap = new ResultMap.Builder(config, \"roleMap\", HashMap.class,\n      new ArrayList<ResultMapping>() {\n        {\n          add(new ResultMapping.Builder(config, \"role\", \"role\", registry.getTypeHandler(String.class))\n            .build());\n        }\n      }).build();\n    config.addResultMap(nestedResultMap);\n    final MappedStatement ms = new MappedStatement.Builder(config, \"selectPerson\",\n      new StaticSqlSource(config, \"select person...\"),\n      SqlCommandType.SELECT).resultMaps(\n        new ArrayList<ResultMap>() {\n          {\n            add(new ResultMap.Builder(config, \"personMap\", HashMap.class, new ArrayList<ResultMapping>() {\n              {\n                add(new ResultMapping.Builder(config, \"id\", \"id\", registry.getTypeHandler(Integer.class))\n                  .build());\n                add(new ResultMapping.Builder(config, \"roles\").nestedResultMapId(\"roleMap\").build());\n              }\n            }).build());\n          }\n        })\n        .resultOrdered(true)\n        .build();\n\n    final Executor executor = null;\n    final ParameterHandler parameterHandler = null;\n    final ResultHandler<?> resultHandler = null;\n    final BoundSql boundSql = null;\n    final RowBounds rowBounds = new RowBounds(5, 1);\n    final DefaultResultSetHandler resultSetHandler = new DefaultResultSetHandler(executor, ms, parameterHandler,\n      resultHandler, boundSql, rowBounds);\n\n    when(stmt.getResultSet()).thenReturn(rs);\n    when(rsmd.getColumnCount()).thenReturn(2);\n    when(rsmd.getColumnLabel(1)).thenReturn(\"id\");\n    when(rsmd.getColumnType(1)).thenReturn(Types.INTEGER);\n    when(rsmd.getColumnClassName(1)).thenReturn(Integer.class.getCanonicalName());\n    when(rsmd.getColumnLabel(2)).thenReturn(\"role\");\n    when(rsmd.getColumnType(2)).thenReturn(Types.VARCHAR);\n    when(rsmd.getColumnClassName(2)).thenReturn(String.class.getCanonicalName());\n    when(stmt.getConnection()).thenReturn(conn);\n    when(conn.getMetaData()).thenReturn(dbmd);\n    when(dbmd.supportsMultipleResultSets()).thenReturn(false); \r\n\n    final List<Object> results = resultSetHandler.handleResultSets(stmt);\n    assertEquals(0, results.size());\n  }\n","realPath":"src/test/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandlerTest2.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":105,"status":"M"}],"commitId":"aad2e5b4507eb42263122ccc202a34ddd082eac5","commitMessage":"@@@Merge pull request #1428 from hazendaz/tests\n\n[tests] Upgrade test harness to junit 5 - Fixes #1425","date":"2019-01-07 09:04:39","modifiedFileCount":"293","status":"M","submitter":"Jeremy Landis"},{"authorTime":"2019-01-23 20:49:49","codes":[{"authorDate":"2018-09-17 08:55:11","commitOrder":3,"curCode":"  private MappedStatement getNestedAndOrderedMappedStatement() {\n    final Configuration config = new Configuration();\n    final TypeHandlerRegistry registry = config.getTypeHandlerRegistry();\n\n    ResultMap nestedResultMap = new ResultMap.Builder(config, \"roleMap\", HashMap.class,\n      new ArrayList<ResultMapping>() {\n        {\n          add(new ResultMapping.Builder(config, \"role\", \"role\", registry.getTypeHandler(String.class))\n            .build());\n        }\n      }).build();\n    config.addResultMap(nestedResultMap);\n\n    return new MappedStatement.Builder(config, \"selectPerson\", new StaticSqlSource(config, \"select person...\"),\n      SqlCommandType.SELECT).resultMaps(\n        new ArrayList<ResultMap>() {\n          {\n            add(new ResultMap.Builder(config, \"personMap\", HashMap.class, new ArrayList<ResultMapping>() {\n              {\n                add(new ResultMapping.Builder(config, \"id\", \"id\", registry.getTypeHandler(Integer.class))\n                  .build());\n                add(new ResultMapping.Builder(config, \"roles\").nestedResultMapId(\"roleMap\").build());\n              }\n            }).build());\n          }\n        })\n        .resultOrdered(true)\n        .build();\n  }\n","date":"2018-09-17 08:55:11","endLine":142,"groupId":"10144","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"getNestedAndOrderedMappedStatement","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/7f/6862b1cbeed3450afab6bda833a7e7997b29d4.src","preCode":"  private MappedStatement getNestedAndOrderedMappedStatement() {\n    final Configuration config = new Configuration();\n    final TypeHandlerRegistry registry = config.getTypeHandlerRegistry();\n\n    ResultMap nestedResultMap = new ResultMap.Builder(config, \"roleMap\", HashMap.class,\n      new ArrayList<ResultMapping>() {\n        {\n          add(new ResultMapping.Builder(config, \"role\", \"role\", registry.getTypeHandler(String.class))\n            .build());\n        }\n      }).build();\n    config.addResultMap(nestedResultMap);\n\n    return new MappedStatement.Builder(config, \"selectPerson\", new StaticSqlSource(config, \"select person...\"),\n      SqlCommandType.SELECT).resultMaps(\n        new ArrayList<ResultMap>() {\n          {\n            add(new ResultMap.Builder(config, \"personMap\", HashMap.class, new ArrayList<ResultMapping>() {\n              {\n                add(new ResultMapping.Builder(config, \"id\", \"id\", registry.getTypeHandler(Integer.class))\n                  .build());\n                add(new ResultMapping.Builder(config, \"roles\").nestedResultMapId(\"roleMap\").build());\n              }\n            }).build());\n          }\n        })\n        .resultOrdered(true)\n        .build();\n  }\n","realPath":"src/test/java/org/apache/ibatis/cursor/defaults/DefaultCursorTest.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":114,"status":"N"},{"authorDate":"2019-01-23 20:49:49","commitOrder":3,"curCode":"  void shouldNotCallNextOnClosedResultSet_NestedResult() throws Exception {\n    final Configuration config = new Configuration();\n    final TypeHandlerRegistry registry = config.getTypeHandlerRegistry();\n    final ResultMap nestedResultMap = new ResultMap.Builder(config, \"roleMap\", HashMap.class,\n      new ArrayList<ResultMapping>() {\n        {\n          add(new ResultMapping.Builder(config, \"role\", \"role\", registry.getTypeHandler(String.class))\n            .build());\n        }\n      }).build();\n    config.addResultMap(nestedResultMap);\n    final MappedStatement ms = new MappedStatement.Builder(config, \"selectPerson\",\n      new StaticSqlSource(config, \"select person...\"),\n      SqlCommandType.SELECT).resultMaps(\n        new ArrayList<ResultMap>() {\n          {\n            add(new ResultMap.Builder(config, \"personMap\", HashMap.class, new ArrayList<ResultMapping>() {\n              {\n                add(new ResultMapping.Builder(config, \"id\", \"id\", registry.getTypeHandler(Integer.class))\n                  .build());\n                add(new ResultMapping.Builder(config, \"roles\").nestedResultMapId(\"roleMap\").build());\n              }\n            }).build());\n          }\n        })\n        .resultOrdered(true)\n        .build();\n\n    final Executor executor = null;\n    final ParameterHandler parameterHandler = null;\n    final ResultHandler<?> resultHandler = null;\n    final BoundSql boundSql = null;\n    final RowBounds rowBounds = new RowBounds(5, 1);\n    final DefaultResultSetHandler resultSetHandler = new DefaultResultSetHandler(executor, ms, parameterHandler,\n      resultHandler, boundSql, rowBounds);\n\n    when(stmt.getResultSet()).thenReturn(rs);\n    when(rsmd.getColumnCount()).thenReturn(2);\n    when(rsmd.getColumnLabel(1)).thenReturn(\"id\");\n    when(rsmd.getColumnType(1)).thenReturn(Types.INTEGER);\n    when(rsmd.getColumnClassName(1)).thenReturn(Integer.class.getCanonicalName());\n\n    final List<Object> results = resultSetHandler.handleResultSets(stmt);\n    assertEquals(0, results.size());\n  }\n","date":"2019-01-23 20:49:49","endLine":149,"groupId":"10144","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"shouldNotCallNextOnClosedResultSet_NestedResult","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/6a/d3bb705d716bfb475eb27bfbee155e83d08b5f.src","preCode":"  public void shouldNotCallNextOnClosedResultSet_NestedResult() throws Exception {\n    final Configuration config = new Configuration();\n    final TypeHandlerRegistry registry = config.getTypeHandlerRegistry();\n    final ResultMap nestedResultMap = new ResultMap.Builder(config, \"roleMap\", HashMap.class,\n      new ArrayList<ResultMapping>() {\n        {\n          add(new ResultMapping.Builder(config, \"role\", \"role\", registry.getTypeHandler(String.class))\n            .build());\n        }\n      }).build();\n    config.addResultMap(nestedResultMap);\n    final MappedStatement ms = new MappedStatement.Builder(config, \"selectPerson\",\n      new StaticSqlSource(config, \"select person...\"),\n      SqlCommandType.SELECT).resultMaps(\n        new ArrayList<ResultMap>() {\n          {\n            add(new ResultMap.Builder(config, \"personMap\", HashMap.class, new ArrayList<ResultMapping>() {\n              {\n                add(new ResultMapping.Builder(config, \"id\", \"id\", registry.getTypeHandler(Integer.class))\n                  .build());\n                add(new ResultMapping.Builder(config, \"roles\").nestedResultMapId(\"roleMap\").build());\n              }\n            }).build());\n          }\n        })\n        .resultOrdered(true)\n        .build();\n\n    final Executor executor = null;\n    final ParameterHandler parameterHandler = null;\n    final ResultHandler<?> resultHandler = null;\n    final BoundSql boundSql = null;\n    final RowBounds rowBounds = new RowBounds(5, 1);\n    final DefaultResultSetHandler resultSetHandler = new DefaultResultSetHandler(executor, ms, parameterHandler,\n      resultHandler, boundSql, rowBounds);\n\n    when(stmt.getResultSet()).thenReturn(rs);\n    when(rsmd.getColumnCount()).thenReturn(2);\n    when(rsmd.getColumnLabel(1)).thenReturn(\"id\");\n    when(rsmd.getColumnType(1)).thenReturn(Types.INTEGER);\n    when(rsmd.getColumnClassName(1)).thenReturn(Integer.class.getCanonicalName());\n\n    final List<Object> results = resultSetHandler.handleResultSets(stmt);\n    assertEquals(0, results.size());\n  }\n","realPath":"src/test/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandlerTest2.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":105,"status":"M"}],"commitId":"674b9c0e82a181d21ed0240291e79f73f36e2e53","commitMessage":"@@@Merge pull request #1460 from kazuki43zoo/polishing-tests\n\nPolishing tests","date":"2019-01-23 20:49:49","modifiedFileCount":"291","status":"M","submitter":"Kazuki Shimizu"}]
