[{"authorTime":"2011-12-02 02:19:50","codes":[{"authorDate":"2016-04-25 03:59:08","commitOrder":6,"curCode":"  public void mappedStatementWithOptions() throws Exception {\n    Configuration configuration = new Configuration();\n    String resource = \"org/apache/ibatis/builder/AuthorMapper.xml\";\n    InputStream inputStream = Resources.getResourceAsStream(resource);\n    XMLMapperBuilder builder = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n    builder.parse();\n\n    MappedStatement mappedStatement = configuration.getMappedStatement(\"selectWithOptions\");\n    assertThat(mappedStatement.getFetchSize(), is(200));\n    assertThat(mappedStatement.getTimeout(), is(10));\n    assertThat(mappedStatement.getStatementType(), is(StatementType.PREPARED));\n    assertThat(mappedStatement.getResultSetType(), is(ResultSetType.SCROLL_SENSITIVE));\n    assertThat(mappedStatement.isFlushCacheRequired(), is(false));\n    assertThat(mappedStatement.isUseCache(), is(false));\n\n  }\n","date":"2016-04-25 03:59:08","endLine":66,"groupId":"1316","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"mappedStatementWithOptions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/65/d9a7499b25d37a8a0679e28c57359c0020c7a2.src","preCode":"  public void mappedStatementWithOptions() throws Exception {\n    Configuration configuration = new Configuration();\n    String resource = \"org/apache/ibatis/builder/AuthorMapper.xml\";\n    InputStream inputStream = Resources.getResourceAsStream(resource);\n    XMLMapperBuilder builder = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n    builder.parse();\n\n    MappedStatement mappedStatement = configuration.getMappedStatement(\"selectWithOptions\");\n    assertThat(mappedStatement.getFetchSize(), is(200));\n    assertThat(mappedStatement.getTimeout(), is(10));\n    assertThat(mappedStatement.getStatementType(), is(StatementType.PREPARED));\n    assertThat(mappedStatement.getResultSetType(), is(ResultSetType.SCROLL_SENSITIVE));\n    assertThat(mappedStatement.isFlushCacheRequired(), is(false));\n    assertThat(mappedStatement.isUseCache(), is(false));\n\n  }\n","realPath":"src/test/java/org/apache/ibatis/builder/XmlMapperBuilderTest.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":51,"status":"B"},{"authorDate":"2011-12-02 02:19:50","commitOrder":6,"curCode":"  private void mapperElement(XNode parent) throws Exception {\n    if (parent != null) {\n      for (XNode child : parent.getChildren()) {\n        if (\"package\".equals(child.getName())) {\n          String mapperPackage = child.getStringAttribute(\"name\");\n          configuration.addMappers(mapperPackage);\n        } else {\n          String resource = child.getStringAttribute(\"resource\");\n          String url = child.getStringAttribute(\"url\");\n          String mapperClass = child.getStringAttribute(\"class\");\n          if (resource != null && url == null && mapperClass == null) {\n            ErrorContext.instance().resource(resource);\n            InputStream inputStream = Resources.getResourceAsStream(resource);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url != null && mapperClass == null) {\n            ErrorContext.instance().resource(url);\n            InputStream inputStream = Resources.getUrlAsStream(url);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, url, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url == null && mapperClass != null) {\n            Class<?> mapperInterface = Resources.classForName(mapperClass);\n            configuration.addMapper(mapperInterface);\n          } else {\n            throw new BuilderException(\"A mapper element may only specify a url, resource or class, but not more than one.\");\n          }\n        }\n      }\n    }\n  }\n","date":"2011-12-02 02:19:50","endLine":308,"groupId":"1316","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"mapperElement","params":"(XNodeparent)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/8c/30026b70f04cecd9c4f79c2a19e5019833a234.src","preCode":"  private void mapperElement(XNode parent) throws Exception {\n    if (parent != null) {\n      for (XNode child : parent.getChildren()) {\n        if (\"package\".equals(child.getName())) {\n          String mapperPackage = child.getStringAttribute(\"name\");\n          configuration.addMappers(mapperPackage);\n        } else {\n          String resource = child.getStringAttribute(\"resource\");\n          String url = child.getStringAttribute(\"url\");\n          String mapperClass = child.getStringAttribute(\"class\");\n          if (resource != null && url == null && mapperClass == null) {\n            ErrorContext.instance().resource(resource);\n            InputStream inputStream = Resources.getResourceAsStream(resource);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url != null && mapperClass == null) {\n            ErrorContext.instance().resource(url);\n            InputStream inputStream = Resources.getUrlAsStream(url);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, url, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url == null && mapperClass != null) {\n            Class<?> mapperInterface = Resources.classForName(mapperClass);\n            configuration.addMapper(mapperInterface);\n          } else {\n            throw new BuilderException(\"A mapper element may only specify a url, resource or class, but not more than one.\");\n          }\n        }\n      }\n    }\n  }\n","realPath":"src/main/java/org/apache/ibatis/builder/xml/XMLConfigBuilder.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":279,"status":"NB"}],"commitId":"d91d71ea9c31cc1645ae5a30ac36332c2f68a275","commitMessage":"@@@Merge pull request #666 from kazuki43zoo/improve-tests\n\nImprove tests","date":"2016-04-25 03:59:08","modifiedFileCount":"4","status":"M","submitter":"Eduardo Macarron"},{"authorTime":"2011-12-02 02:19:50","codes":[{"authorDate":"2017-04-17 08:43:56","commitOrder":7,"curCode":"  public void mappedStatementWithOptions() throws Exception {\n    Configuration configuration = new Configuration();\n    String resource = \"org/apache/ibatis/builder/AuthorMapper.xml\";\n    InputStream inputStream = Resources.getResourceAsStream(resource);\n    XMLMapperBuilder builder = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n    builder.parse();\n\n    MappedStatement mappedStatement = configuration.getMappedStatement(\"selectWithOptions\");\n    assertThat(mappedStatement.getFetchSize()).isEqualTo(200);\n    assertThat(mappedStatement.getTimeout()).isEqualTo(10);\n    assertThat(mappedStatement.getStatementType()).isEqualTo(StatementType.PREPARED);\n    assertThat(mappedStatement.getResultSetType()).isEqualTo(ResultSetType.SCROLL_SENSITIVE);\n    assertThat(mappedStatement.isFlushCacheRequired()).isFalse();\n    assertThat(mappedStatement.isUseCache()).isFalse();\n    inputStream.close();\n  }\n","date":"2017-04-17 08:43:56","endLine":63,"groupId":"1316","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"mappedStatementWithOptions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/57/19eda30aa23cd9b3de43c664f613ecb7119c62.src","preCode":"  public void mappedStatementWithOptions() throws Exception {\n    Configuration configuration = new Configuration();\n    String resource = \"org/apache/ibatis/builder/AuthorMapper.xml\";\n    InputStream inputStream = Resources.getResourceAsStream(resource);\n    XMLMapperBuilder builder = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n    builder.parse();\n\n    MappedStatement mappedStatement = configuration.getMappedStatement(\"selectWithOptions\");\n    assertThat(mappedStatement.getFetchSize(), is(200));\n    assertThat(mappedStatement.getTimeout(), is(10));\n    assertThat(mappedStatement.getStatementType(), is(StatementType.PREPARED));\n    assertThat(mappedStatement.getResultSetType(), is(ResultSetType.SCROLL_SENSITIVE));\n    assertThat(mappedStatement.isFlushCacheRequired(), is(false));\n    assertThat(mappedStatement.isUseCache(), is(false));\n\n  }\n","realPath":"src/test/java/org/apache/ibatis/builder/XmlMapperBuilderTest.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":48,"status":"M"},{"authorDate":"2011-12-02 02:19:50","commitOrder":7,"curCode":"  private void mapperElement(XNode parent) throws Exception {\n    if (parent != null) {\n      for (XNode child : parent.getChildren()) {\n        if (\"package\".equals(child.getName())) {\n          String mapperPackage = child.getStringAttribute(\"name\");\n          configuration.addMappers(mapperPackage);\n        } else {\n          String resource = child.getStringAttribute(\"resource\");\n          String url = child.getStringAttribute(\"url\");\n          String mapperClass = child.getStringAttribute(\"class\");\n          if (resource != null && url == null && mapperClass == null) {\n            ErrorContext.instance().resource(resource);\n            InputStream inputStream = Resources.getResourceAsStream(resource);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url != null && mapperClass == null) {\n            ErrorContext.instance().resource(url);\n            InputStream inputStream = Resources.getUrlAsStream(url);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, url, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url == null && mapperClass != null) {\n            Class<?> mapperInterface = Resources.classForName(mapperClass);\n            configuration.addMapper(mapperInterface);\n          } else {\n            throw new BuilderException(\"A mapper element may only specify a url, resource or class, but not more than one.\");\n          }\n        }\n      }\n    }\n  }\n","date":"2011-12-02 02:19:50","endLine":308,"groupId":"1316","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"mapperElement","params":"(XNodeparent)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/8c/30026b70f04cecd9c4f79c2a19e5019833a234.src","preCode":"  private void mapperElement(XNode parent) throws Exception {\n    if (parent != null) {\n      for (XNode child : parent.getChildren()) {\n        if (\"package\".equals(child.getName())) {\n          String mapperPackage = child.getStringAttribute(\"name\");\n          configuration.addMappers(mapperPackage);\n        } else {\n          String resource = child.getStringAttribute(\"resource\");\n          String url = child.getStringAttribute(\"url\");\n          String mapperClass = child.getStringAttribute(\"class\");\n          if (resource != null && url == null && mapperClass == null) {\n            ErrorContext.instance().resource(resource);\n            InputStream inputStream = Resources.getResourceAsStream(resource);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url != null && mapperClass == null) {\n            ErrorContext.instance().resource(url);\n            InputStream inputStream = Resources.getUrlAsStream(url);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, url, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url == null && mapperClass != null) {\n            Class<?> mapperInterface = Resources.classForName(mapperClass);\n            configuration.addMapper(mapperInterface);\n          } else {\n            throw new BuilderException(\"A mapper element may only specify a url, resource or class, but not more than one.\");\n          }\n        }\n      }\n    }\n  }\n","realPath":"src/main/java/org/apache/ibatis/builder/xml/XMLConfigBuilder.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":279,"status":"N"}],"commitId":"32bf5f811e72399b0f0880106b53907b832ac00a","commitMessage":"@@@Merge pull request #977 from hazendaz/master\n\n[ci] Use assertj/fluent exceptions for cleaner unit testing","date":"2017-04-17 08:43:56","modifiedFileCount":"34","status":"M","submitter":"Jeremy Landis"},{"authorTime":"2011-12-02 02:19:50","codes":[{"authorDate":"2018-05-03 21:34:51","commitOrder":8,"curCode":"  public void mappedStatementWithOptions() throws Exception {\n    Configuration configuration = new Configuration();\n    String resource = \"org/apache/ibatis/builder/AuthorMapper.xml\";\n    try (InputStream inputStream = Resources.getResourceAsStream(resource)) {\n      XMLMapperBuilder builder = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n      builder.parse();\n\n      MappedStatement mappedStatement = configuration.getMappedStatement(\"selectWithOptions\");\n      assertThat(mappedStatement.getFetchSize()).isEqualTo(200);\n      assertThat(mappedStatement.getTimeout()).isEqualTo(10);\n      assertThat(mappedStatement.getStatementType()).isEqualTo(StatementType.PREPARED);\n      assertThat(mappedStatement.getResultSetType()).isEqualTo(ResultSetType.SCROLL_SENSITIVE);\n      assertThat(mappedStatement.isFlushCacheRequired()).isFalse();\n      assertThat(mappedStatement.isUseCache()).isFalse();\n    }\n  }\n","date":"2018-05-03 21:34:51","endLine":68,"groupId":"1316","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"mappedStatementWithOptions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/c9/123986eeb74ef17dd0080da20bd9b898e295ac.src","preCode":"  public void mappedStatementWithOptions() throws Exception {\n    Configuration configuration = new Configuration();\n    String resource = \"org/apache/ibatis/builder/AuthorMapper.xml\";\n    InputStream inputStream = Resources.getResourceAsStream(resource);\n    XMLMapperBuilder builder = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n    builder.parse();\n\n    MappedStatement mappedStatement = configuration.getMappedStatement(\"selectWithOptions\");\n    assertThat(mappedStatement.getFetchSize()).isEqualTo(200);\n    assertThat(mappedStatement.getTimeout()).isEqualTo(10);\n    assertThat(mappedStatement.getStatementType()).isEqualTo(StatementType.PREPARED);\n    assertThat(mappedStatement.getResultSetType()).isEqualTo(ResultSetType.SCROLL_SENSITIVE);\n    assertThat(mappedStatement.isFlushCacheRequired()).isFalse();\n    assertThat(mappedStatement.isUseCache()).isFalse();\n    inputStream.close();\n  }\n","realPath":"src/test/java/org/apache/ibatis/builder/XmlMapperBuilderTest.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":53,"status":"M"},{"authorDate":"2011-12-02 02:19:50","commitOrder":8,"curCode":"  private void mapperElement(XNode parent) throws Exception {\n    if (parent != null) {\n      for (XNode child : parent.getChildren()) {\n        if (\"package\".equals(child.getName())) {\n          String mapperPackage = child.getStringAttribute(\"name\");\n          configuration.addMappers(mapperPackage);\n        } else {\n          String resource = child.getStringAttribute(\"resource\");\n          String url = child.getStringAttribute(\"url\");\n          String mapperClass = child.getStringAttribute(\"class\");\n          if (resource != null && url == null && mapperClass == null) {\n            ErrorContext.instance().resource(resource);\n            InputStream inputStream = Resources.getResourceAsStream(resource);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url != null && mapperClass == null) {\n            ErrorContext.instance().resource(url);\n            InputStream inputStream = Resources.getUrlAsStream(url);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, url, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url == null && mapperClass != null) {\n            Class<?> mapperInterface = Resources.classForName(mapperClass);\n            configuration.addMapper(mapperInterface);\n          } else {\n            throw new BuilderException(\"A mapper element may only specify a url, resource or class, but not more than one.\");\n          }\n        }\n      }\n    }\n  }\n","date":"2011-12-02 02:19:50","endLine":308,"groupId":"1316","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"mapperElement","params":"(XNodeparent)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/8c/30026b70f04cecd9c4f79c2a19e5019833a234.src","preCode":"  private void mapperElement(XNode parent) throws Exception {\n    if (parent != null) {\n      for (XNode child : parent.getChildren()) {\n        if (\"package\".equals(child.getName())) {\n          String mapperPackage = child.getStringAttribute(\"name\");\n          configuration.addMappers(mapperPackage);\n        } else {\n          String resource = child.getStringAttribute(\"resource\");\n          String url = child.getStringAttribute(\"url\");\n          String mapperClass = child.getStringAttribute(\"class\");\n          if (resource != null && url == null && mapperClass == null) {\n            ErrorContext.instance().resource(resource);\n            InputStream inputStream = Resources.getResourceAsStream(resource);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url != null && mapperClass == null) {\n            ErrorContext.instance().resource(url);\n            InputStream inputStream = Resources.getUrlAsStream(url);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, url, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url == null && mapperClass != null) {\n            Class<?> mapperInterface = Resources.classForName(mapperClass);\n            configuration.addMapper(mapperInterface);\n          } else {\n            throw new BuilderException(\"A mapper element may only specify a url, resource or class, but not more than one.\");\n          }\n        }\n      }\n    }\n  }\n","realPath":"src/main/java/org/apache/ibatis/builder/xml/XMLConfigBuilder.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":279,"status":"N"}],"commitId":"d5f024c6256b5deb9d79dc8b35ebd825e47e679c","commitMessage":"@@@Merge pull request #1270 from kazuki43zoo/try-with-resources\n\nChange to use try-with-resources on test","date":"2018-05-03 21:34:51","modifiedFileCount":"150","status":"M","submitter":"Kazuki Shimizu"},{"authorTime":"2011-12-02 02:19:50","codes":[{"authorDate":"2019-01-23 20:49:49","commitOrder":9,"curCode":"  void mappedStatementWithOptions() throws Exception {\n    Configuration configuration = new Configuration();\n    String resource = \"org/apache/ibatis/builder/AuthorMapper.xml\";\n    try (InputStream inputStream = Resources.getResourceAsStream(resource)) {\n      XMLMapperBuilder builder = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n      builder.parse();\n\n      MappedStatement mappedStatement = configuration.getMappedStatement(\"selectWithOptions\");\n      assertThat(mappedStatement.getFetchSize()).isEqualTo(200);\n      assertThat(mappedStatement.getTimeout()).isEqualTo(10);\n      assertThat(mappedStatement.getStatementType()).isEqualTo(StatementType.PREPARED);\n      assertThat(mappedStatement.getResultSetType()).isEqualTo(ResultSetType.SCROLL_SENSITIVE);\n      assertThat(mappedStatement.isFlushCacheRequired()).isFalse();\n      assertThat(mappedStatement.isUseCache()).isFalse();\n    }\n  }\n","date":"2019-01-23 20:49:49","endLine":64,"groupId":"1316","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"mappedStatementWithOptions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/0d/c2eb2eccc668765c1671412657ef0736d7772b.src","preCode":"  public void mappedStatementWithOptions() throws Exception {\n    Configuration configuration = new Configuration();\n    String resource = \"org/apache/ibatis/builder/AuthorMapper.xml\";\n    try (InputStream inputStream = Resources.getResourceAsStream(resource)) {\n      XMLMapperBuilder builder = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n      builder.parse();\n\n      MappedStatement mappedStatement = configuration.getMappedStatement(\"selectWithOptions\");\n      assertThat(mappedStatement.getFetchSize()).isEqualTo(200);\n      assertThat(mappedStatement.getTimeout()).isEqualTo(10);\n      assertThat(mappedStatement.getStatementType()).isEqualTo(StatementType.PREPARED);\n      assertThat(mappedStatement.getResultSetType()).isEqualTo(ResultSetType.SCROLL_SENSITIVE);\n      assertThat(mappedStatement.isFlushCacheRequired()).isFalse();\n      assertThat(mappedStatement.isUseCache()).isFalse();\n    }\n  }\n","realPath":"src/test/java/org/apache/ibatis/builder/XmlMapperBuilderTest.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":49,"status":"M"},{"authorDate":"2011-12-02 02:19:50","commitOrder":9,"curCode":"  private void mapperElement(XNode parent) throws Exception {\n    if (parent != null) {\n      for (XNode child : parent.getChildren()) {\n        if (\"package\".equals(child.getName())) {\n          String mapperPackage = child.getStringAttribute(\"name\");\n          configuration.addMappers(mapperPackage);\n        } else {\n          String resource = child.getStringAttribute(\"resource\");\n          String url = child.getStringAttribute(\"url\");\n          String mapperClass = child.getStringAttribute(\"class\");\n          if (resource != null && url == null && mapperClass == null) {\n            ErrorContext.instance().resource(resource);\n            InputStream inputStream = Resources.getResourceAsStream(resource);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url != null && mapperClass == null) {\n            ErrorContext.instance().resource(url);\n            InputStream inputStream = Resources.getUrlAsStream(url);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, url, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url == null && mapperClass != null) {\n            Class<?> mapperInterface = Resources.classForName(mapperClass);\n            configuration.addMapper(mapperInterface);\n          } else {\n            throw new BuilderException(\"A mapper element may only specify a url, resource or class, but not more than one.\");\n          }\n        }\n      }\n    }\n  }\n","date":"2011-12-02 02:19:50","endLine":308,"groupId":"1316","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"mapperElement","params":"(XNodeparent)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/8c/30026b70f04cecd9c4f79c2a19e5019833a234.src","preCode":"  private void mapperElement(XNode parent) throws Exception {\n    if (parent != null) {\n      for (XNode child : parent.getChildren()) {\n        if (\"package\".equals(child.getName())) {\n          String mapperPackage = child.getStringAttribute(\"name\");\n          configuration.addMappers(mapperPackage);\n        } else {\n          String resource = child.getStringAttribute(\"resource\");\n          String url = child.getStringAttribute(\"url\");\n          String mapperClass = child.getStringAttribute(\"class\");\n          if (resource != null && url == null && mapperClass == null) {\n            ErrorContext.instance().resource(resource);\n            InputStream inputStream = Resources.getResourceAsStream(resource);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url != null && mapperClass == null) {\n            ErrorContext.instance().resource(url);\n            InputStream inputStream = Resources.getUrlAsStream(url);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, url, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url == null && mapperClass != null) {\n            Class<?> mapperInterface = Resources.classForName(mapperClass);\n            configuration.addMapper(mapperInterface);\n          } else {\n            throw new BuilderException(\"A mapper element may only specify a url, resource or class, but not more than one.\");\n          }\n        }\n      }\n    }\n  }\n","realPath":"src/main/java/org/apache/ibatis/builder/xml/XMLConfigBuilder.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":279,"status":"N"}],"commitId":"674b9c0e82a181d21ed0240291e79f73f36e2e53","commitMessage":"@@@Merge pull request #1460 from kazuki43zoo/polishing-tests\n\nPolishing tests","date":"2019-01-23 20:49:49","modifiedFileCount":"291","status":"M","submitter":"Kazuki Shimizu"},{"authorTime":"2020-12-29 00:05:20","codes":[{"authorDate":"2019-01-23 20:49:49","commitOrder":10,"curCode":"  void mappedStatementWithOptions() throws Exception {\n    Configuration configuration = new Configuration();\n    String resource = \"org/apache/ibatis/builder/AuthorMapper.xml\";\n    try (InputStream inputStream = Resources.getResourceAsStream(resource)) {\n      XMLMapperBuilder builder = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n      builder.parse();\n\n      MappedStatement mappedStatement = configuration.getMappedStatement(\"selectWithOptions\");\n      assertThat(mappedStatement.getFetchSize()).isEqualTo(200);\n      assertThat(mappedStatement.getTimeout()).isEqualTo(10);\n      assertThat(mappedStatement.getStatementType()).isEqualTo(StatementType.PREPARED);\n      assertThat(mappedStatement.getResultSetType()).isEqualTo(ResultSetType.SCROLL_SENSITIVE);\n      assertThat(mappedStatement.isFlushCacheRequired()).isFalse();\n      assertThat(mappedStatement.isUseCache()).isFalse();\n    }\n  }\n","date":"2019-01-23 20:49:49","endLine":64,"groupId":"10120","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"mappedStatementWithOptions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/0d/c2eb2eccc668765c1671412657ef0736d7772b.src","preCode":"  void mappedStatementWithOptions() throws Exception {\n    Configuration configuration = new Configuration();\n    String resource = \"org/apache/ibatis/builder/AuthorMapper.xml\";\n    try (InputStream inputStream = Resources.getResourceAsStream(resource)) {\n      XMLMapperBuilder builder = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n      builder.parse();\n\n      MappedStatement mappedStatement = configuration.getMappedStatement(\"selectWithOptions\");\n      assertThat(mappedStatement.getFetchSize()).isEqualTo(200);\n      assertThat(mappedStatement.getTimeout()).isEqualTo(10);\n      assertThat(mappedStatement.getStatementType()).isEqualTo(StatementType.PREPARED);\n      assertThat(mappedStatement.getResultSetType()).isEqualTo(ResultSetType.SCROLL_SENSITIVE);\n      assertThat(mappedStatement.isFlushCacheRequired()).isFalse();\n      assertThat(mappedStatement.isUseCache()).isFalse();\n    }\n  }\n","realPath":"src/test/java/org/apache/ibatis/builder/XmlMapperBuilderTest.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":49,"status":"N"},{"authorDate":"2020-12-29 00:05:20","commitOrder":10,"curCode":"  private void mapperElement(XNode parent) throws Exception {\n    if (parent != null) {\n      for (XNode child : parent.getChildren()) {\n        if (\"package\".equals(child.getName())) {\n          String mapperPackage = child.getStringAttribute(\"name\");\n          configuration.addMappers(mapperPackage);\n        } else {\n          String resource = child.getStringAttribute(\"resource\");\n          String url = child.getStringAttribute(\"url\");\n          String mapperClass = child.getStringAttribute(\"class\");\n          if (resource != null && url == null && mapperClass == null) {\n            ErrorContext.instance().resource(resource);\n            try(InputStream inputStream = Resources.getResourceAsStream(resource)) {\n              XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n              mapperParser.parse();\n            }\n          } else if (resource == null && url != null && mapperClass == null) {\n            ErrorContext.instance().resource(url);\n            try(InputStream inputStream = Resources.getUrlAsStream(url)){\n              XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, url, configuration.getSqlFragments());\n              mapperParser.parse();\n            }\n          } else if (resource == null && url == null && mapperClass != null) {\n            Class<?> mapperInterface = Resources.classForName(mapperClass);\n            configuration.addMapper(mapperInterface);\n          } else {\n            throw new BuilderException(\"A mapper element may only specify a url, resource or class, but not more than one.\");\n          }\n        }\n      }\n    }\n  }\n","date":"2020-12-29 00:05:20","endLine":394,"groupId":"10120","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"mapperElement","params":"(XNodeparent)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-mybatis3-10-0.7/blobInfo/CC_OUT/blobs/bc/569265d11004ea93f7b2b410aed218bf664102.src","preCode":"  private void mapperElement(XNode parent) throws Exception {\n    if (parent != null) {\n      for (XNode child : parent.getChildren()) {\n        if (\"package\".equals(child.getName())) {\n          String mapperPackage = child.getStringAttribute(\"name\");\n          configuration.addMappers(mapperPackage);\n        } else {\n          String resource = child.getStringAttribute(\"resource\");\n          String url = child.getStringAttribute(\"url\");\n          String mapperClass = child.getStringAttribute(\"class\");\n          if (resource != null && url == null && mapperClass == null) {\n            ErrorContext.instance().resource(resource);\n            InputStream inputStream = Resources.getResourceAsStream(resource);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, resource, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url != null && mapperClass == null) {\n            ErrorContext.instance().resource(url);\n            InputStream inputStream = Resources.getUrlAsStream(url);\n            XMLMapperBuilder mapperParser = new XMLMapperBuilder(inputStream, configuration, url, configuration.getSqlFragments());\n            mapperParser.parse();\n          } else if (resource == null && url == null && mapperClass != null) {\n            Class<?> mapperInterface = Resources.classForName(mapperClass);\n            configuration.addMapper(mapperInterface);\n          } else {\n            throw new BuilderException(\"A mapper element may only specify a url, resource or class, but not more than one.\");\n          }\n        }\n      }\n    }\n  }\n","realPath":"src/main/java/org/apache/ibatis/builder/xml/XMLConfigBuilder.java","repoName":"mybatis3","snippetEndLine":0,"snippetStartLine":0,"startLine":363,"status":"M"}],"commitId":"5e2a954e4008705e649c245d38386b7f0ea90666","commitMessage":"@@@Merge pull request #2145 from sangyongchoi/input-stream-close\n\nchange to try with resources","date":"2020-12-29 00:05:20","modifiedFileCount":"1","status":"M","submitter":"Iwao AVE!"}]
