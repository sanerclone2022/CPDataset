[{"authorTime":"2015-11-27 20:57:12","codes":[{"authorDate":"2015-11-27 20:57:12","commitOrder":1,"curCode":"    public void testChangeHostDc() throws Exception\n    {\n        final InetAddress host = InetAddress.getByName(\"127.0.0.1\");\n        final PropertyFileSnitch snitch = new PropertyFileSnitch(1);\n        checkEndpoint(snitch, host.getHostAddress(), \"DC1\", \"RAC1\");\n\n        try\n        {\n            setNodeLive(host);\n\n            Files.copy(effectiveFile, backupFile);\n            replaceConfigFile(Collections.singletonMap(host.getHostAddress(), \"DC2:RAC1\"));\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddress(), \"DC1\", \"RAC1\");\n\n            setNodeShutdown(host);\n            replaceConfigFile(Collections.singletonMap(host.getHostAddress(), \"DC2:RAC1\"));\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddress(), \"DC2\", \"RAC1\");\n        }\n        finally\n        {\n            restoreOrigConfigFile();\n            setNodeShutdown(host);\n        }\n    }\n","date":"2015-11-27 20:57:12","endLine":228,"groupId":"13704","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testChangeHostDc","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/e9/a307be51271535faa3a78efc36017b12040d27.src","preCode":"    public void testChangeHostDc() throws Exception\n    {\n        final InetAddress host = InetAddress.getByName(\"127.0.0.1\");\n        final PropertyFileSnitch snitch = new PropertyFileSnitch(1);\n        checkEndpoint(snitch, host.getHostAddress(), \"DC1\", \"RAC1\");\n\n        try\n        {\n            setNodeLive(host);\n\n            Files.copy(effectiveFile, backupFile);\n            replaceConfigFile(Collections.singletonMap(host.getHostAddress(), \"DC2:RAC1\"));\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddress(), \"DC1\", \"RAC1\");\n\n            setNodeShutdown(host);\n            replaceConfigFile(Collections.singletonMap(host.getHostAddress(), \"DC2:RAC1\"));\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddress(), \"DC2\", \"RAC1\");\n        }\n        finally\n        {\n            restoreOrigConfigFile();\n            setNodeShutdown(host);\n        }\n    }\n","realPath":"test/unit/org/apache/cassandra/locator/PropertyFileSnitchTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":201,"status":"B"},{"authorDate":"2015-11-27 20:57:12","commitOrder":1,"curCode":"    public void testChangeDefault() throws Exception\n    {\n        final InetAddress host = InetAddress.getByName(\"127.0.0.9\");\n        final PropertyFileSnitch snitch = new PropertyFileSnitch(1);\n        checkEndpoint(snitch, host.getHostAddress(), \"DC1\", \"r1\"); \r\n\n        try\n        {\n            setNodeLive(host);\n\n            Files.copy(effectiveFile, backupFile);\n            replaceConfigFile(Collections.singletonMap(\"default\", \"DC2:r2\")); \r\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddress(), \"DC1\", \"r1\"); \r\n\n            setNodeShutdown(host);\n            replaceConfigFile(Collections.singletonMap(\"default\", \"DC2:r2\")); \r\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddress(), \"DC2\", \"r2\"); \r\n        }\n        finally\n        {\n            restoreOrigConfigFile();\n            setNodeShutdown(host);\n        }\n    }\n","date":"2015-11-27 20:57:12","endLine":333,"groupId":"13704","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testChangeDefault","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/e9/a307be51271535faa3a78efc36017b12040d27.src","preCode":"    public void testChangeDefault() throws Exception\n    {\n        final InetAddress host = InetAddress.getByName(\"127.0.0.9\");\n        final PropertyFileSnitch snitch = new PropertyFileSnitch(1);\n        checkEndpoint(snitch, host.getHostAddress(), \"DC1\", \"r1\"); \r\n\n        try\n        {\n            setNodeLive(host);\n\n            Files.copy(effectiveFile, backupFile);\n            replaceConfigFile(Collections.singletonMap(\"default\", \"DC2:r2\")); \r\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddress(), \"DC1\", \"r1\"); \r\n\n            setNodeShutdown(host);\n            replaceConfigFile(Collections.singletonMap(\"default\", \"DC2:r2\")); \r\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddress(), \"DC2\", \"r2\"); \r\n        }\n        finally\n        {\n            restoreOrigConfigFile();\n            setNodeShutdown(host);\n        }\n    }\n","realPath":"test/unit/org/apache/cassandra/locator/PropertyFileSnitchTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":306,"status":"B"}],"commitId":"33e7bba126c9d7cd0555448cc49b56119bef06d6","commitMessage":"@@@Merge branch 'cassandra-3.1' into trunk\n","date":"2015-11-27 20:57:12","modifiedFileCount":"9","status":"B","submitter":"Robert Stupp"},{"authorTime":"2017-11-10 00:33:48","codes":[{"authorDate":"2017-11-10 00:33:48","commitOrder":2,"curCode":"    public void testChangeHostDc() throws Exception\n    {\n        final InetAddressAndPort host = InetAddressAndPort.getByName(\"127.0.0.1\");\n        final PropertyFileSnitch snitch = new PropertyFileSnitch(1);\n        checkEndpoint(snitch, host.toString(), \"DC1\", \"RAC1\");\n\n        try\n        {\n            setNodeLive(host);\n\n            Files.copy(effectiveFile, backupFile);\n            replaceConfigFile(Collections.singletonMap(host.toString(), \"DC2:RAC1\"));\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.toString(), \"DC1\", \"RAC1\");\n\n            setNodeShutdown(host);\n            replaceConfigFile(Collections.singletonMap(host.toString(), \"DC2:RAC1\"));\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.toString(), \"DC2\", \"RAC1\");\n        }\n        finally\n        {\n            restoreOrigConfigFile();\n            setNodeShutdown(host);\n        }\n    }\n","date":"2018-01-26 03:32:24","endLine":248,"groupId":"13704","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testChangeHostDc","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/df/81a9b8407e1e14c4a47a3170596207f3055c02.src","preCode":"    public void testChangeHostDc() throws Exception\n    {\n        final InetAddress host = InetAddress.getByName(\"127.0.0.1\");\n        final PropertyFileSnitch snitch = new PropertyFileSnitch(1);\n        checkEndpoint(snitch, host.getHostAddress(), \"DC1\", \"RAC1\");\n\n        try\n        {\n            setNodeLive(host);\n\n            Files.copy(effectiveFile, backupFile);\n            replaceConfigFile(Collections.singletonMap(host.getHostAddress(), \"DC2:RAC1\"));\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddress(), \"DC1\", \"RAC1\");\n\n            setNodeShutdown(host);\n            replaceConfigFile(Collections.singletonMap(host.getHostAddress(), \"DC2:RAC1\"));\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddress(), \"DC2\", \"RAC1\");\n        }\n        finally\n        {\n            restoreOrigConfigFile();\n            setNodeShutdown(host);\n        }\n    }\n","realPath":"test/unit/org/apache/cassandra/locator/PropertyFileSnitchTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":221,"status":"M"},{"authorDate":"2017-11-10 00:33:48","commitOrder":2,"curCode":"    public void testChangeDefault() throws Exception\n    {\n        final InetAddressAndPort host = InetAddressAndPort.getByName(\"127.0.0.9\");\n        final PropertyFileSnitch snitch = new PropertyFileSnitch(1);\n        checkEndpoint(snitch, host.toString(), \"DC1\", \"r1\"); \r\n\n        try\n        {\n            setNodeLive(host);\n\n            Files.copy(effectiveFile, backupFile);\n            replaceConfigFile(Collections.singletonMap(\"default\", \"DC2:r2\")); \r\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.toString(), \"DC1\", \"r1\"); \r\n\n            setNodeShutdown(host);\n            replaceConfigFile(Collections.singletonMap(\"default\", \"DC2:r2\")); \r\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.toString(), \"DC2\", \"r2\"); \r\n        }\n        finally\n        {\n            restoreOrigConfigFile();\n            setNodeShutdown(host);\n        }\n    }\n","date":"2018-01-26 03:32:24","endLine":353,"groupId":"13704","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testChangeDefault","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/df/81a9b8407e1e14c4a47a3170596207f3055c02.src","preCode":"    public void testChangeDefault() throws Exception\n    {\n        final InetAddress host = InetAddress.getByName(\"127.0.0.9\");\n        final PropertyFileSnitch snitch = new PropertyFileSnitch(1);\n        checkEndpoint(snitch, host.getHostAddress(), \"DC1\", \"r1\"); \r\n\n        try\n        {\n            setNodeLive(host);\n\n            Files.copy(effectiveFile, backupFile);\n            replaceConfigFile(Collections.singletonMap(\"default\", \"DC2:r2\")); \r\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddress(), \"DC1\", \"r1\"); \r\n\n            setNodeShutdown(host);\n            replaceConfigFile(Collections.singletonMap(\"default\", \"DC2:r2\")); \r\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddress(), \"DC2\", \"r2\"); \r\n        }\n        finally\n        {\n            restoreOrigConfigFile();\n            setNodeShutdown(host);\n        }\n    }\n","realPath":"test/unit/org/apache/cassandra/locator/PropertyFileSnitchTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":326,"status":"M"}],"commitId":"59b5b6bef0fa76bf5740b688fcd4d9cf525760d0","commitMessage":"@@@Allow storage port to be configurable per node\n\nPatch by Ariel Weisberg; Reviewed by Jason Brown for CASSANDRA-7544\n","date":"2018-01-26 03:32:24","modifiedFileCount":"308","status":"M","submitter":"Ariel Weisberg"},{"authorTime":"2020-08-27 03:58:10","codes":[{"authorDate":"2020-08-27 03:58:10","commitOrder":3,"curCode":"    public void testChangeHostDc() throws Exception\n    {\n        final InetAddressAndPort host = InetAddressAndPort.getByName(\"127.0.0.1\");\n        final PropertyFileSnitch snitch = new PropertyFileSnitch(1);\n        checkEndpoint(snitch, host.getHostAddressAndPort(), \"DC1\", \"RAC1\");\n\n        try\n        {\n            setNodeLive(host);\n\n            Files.copy(effectiveFile, backupFile);\n            replaceConfigFile(Collections.singletonMap(host.getHostAddressAndPort(), \"DC2:RAC1\"));\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddressAndPort(), \"DC1\", \"RAC1\");\n\n            setNodeShutdown(host);\n            replaceConfigFile(Collections.singletonMap(host.getHostAddressAndPort(), \"DC2:RAC1\"));\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddressAndPort(), \"DC2\", \"RAC1\");\n        }\n        finally\n        {\n            restoreOrigConfigFile();\n            setNodeShutdown(host);\n        }\n    }\n","date":"2020-08-27 05:00:12","endLine":249,"groupId":"102148","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"testChangeHostDc","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/23/bcf1bd8ac5e6aa7fa87c233b7842fab11aba62.src","preCode":"    public void testChangeHostDc() throws Exception\n    {\n        final InetAddressAndPort host = InetAddressAndPort.getByName(\"127.0.0.1\");\n        final PropertyFileSnitch snitch = new PropertyFileSnitch(1);\n        checkEndpoint(snitch, host.toString(), \"DC1\", \"RAC1\");\n\n        try\n        {\n            setNodeLive(host);\n\n            Files.copy(effectiveFile, backupFile);\n            replaceConfigFile(Collections.singletonMap(host.toString(), \"DC2:RAC1\"));\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.toString(), \"DC1\", \"RAC1\");\n\n            setNodeShutdown(host);\n            replaceConfigFile(Collections.singletonMap(host.toString(), \"DC2:RAC1\"));\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.toString(), \"DC2\", \"RAC1\");\n        }\n        finally\n        {\n            restoreOrigConfigFile();\n            setNodeShutdown(host);\n        }\n    }\n","realPath":"test/unit/org/apache/cassandra/locator/PropertyFileSnitchTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":222,"status":"M"},{"authorDate":"2020-08-27 03:58:10","commitOrder":3,"curCode":"    public void testChangeDefault() throws Exception\n    {\n        final InetAddressAndPort host = InetAddressAndPort.getByName(\"127.0.0.9\");\n        final PropertyFileSnitch snitch = new PropertyFileSnitch(1);\n        checkEndpoint(snitch, host.getHostAddressAndPort(), \"DC1\", \"r1\"); \r\n\n        try\n        {\n            setNodeLive(host);\n\n            Files.copy(effectiveFile, backupFile);\n            replaceConfigFile(Collections.singletonMap(\"default\", \"DC2:r2\")); \r\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddressAndPort(), \"DC1\", \"r1\"); \r\n\n            setNodeShutdown(host);\n            replaceConfigFile(Collections.singletonMap(\"default\", \"DC2:r2\")); \r\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.getHostAddressAndPort(), \"DC2\", \"r2\"); \r\n        }\n        finally\n        {\n            restoreOrigConfigFile();\n            setNodeShutdown(host);\n        }\n    }\n","date":"2020-08-27 05:00:12","endLine":354,"groupId":"102148","id":6,"instanceNumber":2,"isCurCommit":1,"methodName":"testChangeDefault","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/23/bcf1bd8ac5e6aa7fa87c233b7842fab11aba62.src","preCode":"    public void testChangeDefault() throws Exception\n    {\n        final InetAddressAndPort host = InetAddressAndPort.getByName(\"127.0.0.9\");\n        final PropertyFileSnitch snitch = new PropertyFileSnitch(1);\n        checkEndpoint(snitch, host.toString(), \"DC1\", \"r1\"); \r\n\n        try\n        {\n            setNodeLive(host);\n\n            Files.copy(effectiveFile, backupFile);\n            replaceConfigFile(Collections.singletonMap(\"default\", \"DC2:r2\")); \r\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.toString(), \"DC1\", \"r1\"); \r\n\n            setNodeShutdown(host);\n            replaceConfigFile(Collections.singletonMap(\"default\", \"DC2:r2\")); \r\n\n            Thread.sleep(1500);\n            checkEndpoint(snitch, host.toString(), \"DC2\", \"r2\"); \r\n        }\n        finally\n        {\n            restoreOrigConfigFile();\n            setNodeShutdown(host);\n        }\n    }\n","realPath":"test/unit/org/apache/cassandra/locator/PropertyFileSnitchTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":327,"status":"M"}],"commitId":"a062ff5f9f0d3221deaaaaf8fccbcd21e933e7cd","commitMessage":"@@@Resolve JMX output inconsistencies from CASSANDRA-7544 storage-port-configurable-per-node\n\npatch by Jon Meredith; reviewed by David Capwell for CASSANDRA-15937\n","date":"2020-08-27 05:00:12","modifiedFileCount":"29","status":"M","submitter":"Jon Meredith"}]
