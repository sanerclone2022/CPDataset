[{"authorTime":"2017-03-03 05:46:13","codes":[{"authorDate":"2017-03-03 05:46:13","commitOrder":1,"curCode":"    public void idealCLLatencyTracked() throws Throwable\n    {\n        long startingCount = ks.metric.idealCLWriteLatency.latency.getCount();\n        \r\n        AbstractWriteResponseHandler awr = createWriteResponseHandler(ConsistencyLevel.LOCAL_QUORUM, ConsistencyLevel.EACH_QUORUM, System.nanoTime() - TimeUnit.DAYS.toNanos(1));\n\n        \r\n        awr.response(createDummyMessage(0));\n        awr.response(createDummyMessage(1));\n        \r\n        awr.response(createDummyMessage(4));\n        awr.response(createDummyMessage(5));\n\n        \r\n        awr.expired();\n        awr.expired();\n\n        assertEquals(0,  ks.metric.writeFailedIdealCL.getCount());\n        assertTrue( TimeUnit.DAYS.toMicros(1) < ks.metric.idealCLWriteLatency.totalLatency.getCount());\n        assertEquals(startingCount + 1, ks.metric.idealCLWriteLatency.latency.getCount());\n    }\n","date":"2017-03-31 05:01:20","endLine":167,"groupId":"27342","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"idealCLLatencyTracked","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/81/5dbf62fe1015a0a5216f310284e1e45343ffd7.src","preCode":"    public void idealCLLatencyTracked() throws Throwable\n    {\n        long startingCount = ks.metric.idealCLWriteLatency.latency.getCount();\n        \r\n        AbstractWriteResponseHandler awr = createWriteResponseHandler(ConsistencyLevel.LOCAL_QUORUM, ConsistencyLevel.EACH_QUORUM, System.nanoTime() - TimeUnit.DAYS.toNanos(1));\n\n        \r\n        awr.response(createDummyMessage(0));\n        awr.response(createDummyMessage(1));\n        \r\n        awr.response(createDummyMessage(4));\n        awr.response(createDummyMessage(5));\n\n        \r\n        awr.expired();\n        awr.expired();\n\n        assertEquals(0,  ks.metric.writeFailedIdealCL.getCount());\n        assertTrue( TimeUnit.DAYS.toMicros(1) < ks.metric.idealCLWriteLatency.totalLatency.getCount());\n        assertEquals(startingCount + 1, ks.metric.idealCLWriteLatency.latency.getCount());\n    }\n","realPath":"test/unit/org/apache/cassandra/service/WriteResponseHandlerTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":147,"status":"B"},{"authorDate":"2017-03-03 05:46:13","commitOrder":1,"curCode":"    public void failedIdealCLIncrementsStat() throws Throwable\n    {\n        AbstractWriteResponseHandler awr = createWriteResponseHandler(ConsistencyLevel.LOCAL_QUORUM, ConsistencyLevel.EACH_QUORUM);\n\n        \r\n        awr.response(createDummyMessage(0));\n        awr.response(createDummyMessage(1));\n        awr.response(createDummyMessage(2));\n\n        \r\n        awr.expired();\n        awr.expired();\n        awr.expired();\n        assertEquals(1, ks.metric.writeFailedIdealCL.getCount());\n        assertEquals(0, ks.metric.idealCLWriteLatency.totalLatency.getCount());\n    }\n","date":"2017-03-31 05:01:20","endLine":139,"groupId":"27342","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"failedIdealCLIncrementsStat","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/81/5dbf62fe1015a0a5216f310284e1e45343ffd7.src","preCode":"    public void failedIdealCLIncrementsStat() throws Throwable\n    {\n        AbstractWriteResponseHandler awr = createWriteResponseHandler(ConsistencyLevel.LOCAL_QUORUM, ConsistencyLevel.EACH_QUORUM);\n\n        \r\n        awr.response(createDummyMessage(0));\n        awr.response(createDummyMessage(1));\n        awr.response(createDummyMessage(2));\n\n        \r\n        awr.expired();\n        awr.expired();\n        awr.expired();\n        assertEquals(1, ks.metric.writeFailedIdealCL.getCount());\n        assertEquals(0, ks.metric.idealCLWriteLatency.totalLatency.getCount());\n    }\n","realPath":"test/unit/org/apache/cassandra/service/WriteResponseHandlerTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":124,"status":"B"}],"commitId":"6f647aaa0df6f90ee298d372e624c9e3c1ae937e","commitMessage":"@@@Make it possible to monitor an ideal consistency level separate from actual consistency level\n\nPatch by Ariel Weisberg; Reviewed by Jason Brown for CASSANDRA-13289\n","date":"2017-03-31 05:01:20","modifiedFileCount":"11","status":"B","submitter":"Ariel Weisberg"},{"authorTime":"2018-09-14 18:45:22","codes":[{"authorDate":"2017-03-03 05:46:13","commitOrder":2,"curCode":"    public void idealCLLatencyTracked() throws Throwable\n    {\n        long startingCount = ks.metric.idealCLWriteLatency.latency.getCount();\n        \r\n        AbstractWriteResponseHandler awr = createWriteResponseHandler(ConsistencyLevel.LOCAL_QUORUM, ConsistencyLevel.EACH_QUORUM, System.nanoTime() - TimeUnit.DAYS.toNanos(1));\n\n        \r\n        awr.response(createDummyMessage(0));\n        awr.response(createDummyMessage(1));\n        \r\n        awr.response(createDummyMessage(4));\n        awr.response(createDummyMessage(5));\n\n        \r\n        awr.expired();\n        awr.expired();\n\n        assertEquals(0,  ks.metric.writeFailedIdealCL.getCount());\n        assertTrue( TimeUnit.DAYS.toMicros(1) < ks.metric.idealCLWriteLatency.totalLatency.getCount());\n        assertEquals(startingCount + 1, ks.metric.idealCLWriteLatency.latency.getCount());\n    }\n","date":"2017-03-31 05:01:20","endLine":167,"groupId":"27342","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"idealCLLatencyTracked","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/81/5dbf62fe1015a0a5216f310284e1e45343ffd7.src","preCode":"    public void idealCLLatencyTracked() throws Throwable\n    {\n        long startingCount = ks.metric.idealCLWriteLatency.latency.getCount();\n        \r\n        AbstractWriteResponseHandler awr = createWriteResponseHandler(ConsistencyLevel.LOCAL_QUORUM, ConsistencyLevel.EACH_QUORUM, System.nanoTime() - TimeUnit.DAYS.toNanos(1));\n\n        \r\n        awr.response(createDummyMessage(0));\n        awr.response(createDummyMessage(1));\n        \r\n        awr.response(createDummyMessage(4));\n        awr.response(createDummyMessage(5));\n\n        \r\n        awr.expired();\n        awr.expired();\n\n        assertEquals(0,  ks.metric.writeFailedIdealCL.getCount());\n        assertTrue( TimeUnit.DAYS.toMicros(1) < ks.metric.idealCLWriteLatency.totalLatency.getCount());\n        assertEquals(startingCount + 1, ks.metric.idealCLWriteLatency.latency.getCount());\n    }\n","realPath":"test/unit/org/apache/cassandra/service/WriteResponseHandlerTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":147,"status":"N"},{"authorDate":"2018-09-14 18:45:22","commitOrder":2,"curCode":"    public void failedIdealCLIncrementsStat() throws Throwable\n    {\n        ks.metric.idealCLWriteLatency.totalLatency.dec(ks.metric.idealCLWriteLatency.totalLatency.getCount());\n        AbstractWriteResponseHandler awr = createWriteResponseHandler(ConsistencyLevel.LOCAL_QUORUM, ConsistencyLevel.EACH_QUORUM);\n\n        \r\n        awr.response(createDummyMessage(0));\n        awr.response(createDummyMessage(1));\n        awr.response(createDummyMessage(2));\n\n        \r\n        awr.expired();\n        awr.expired();\n        awr.expired();\n        assertEquals(1, ks.metric.writeFailedIdealCL.getCount());\n        assertEquals(0, ks.metric.idealCLWriteLatency.totalLatency.getCount());\n    }\n","date":"2018-09-14 18:48:20","endLine":231,"groupId":"27342","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"failedIdealCLIncrementsStat","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/2c/186ba98d90b6d3bd31990955d0e6c150dd3954.src","preCode":"    public void failedIdealCLIncrementsStat() throws Throwable\n    {\n        AbstractWriteResponseHandler awr = createWriteResponseHandler(ConsistencyLevel.LOCAL_QUORUM, ConsistencyLevel.EACH_QUORUM);\n\n        \r\n        awr.response(createDummyMessage(0));\n        awr.response(createDummyMessage(1));\n        awr.response(createDummyMessage(2));\n\n        \r\n        awr.expired();\n        awr.expired();\n        awr.expired();\n        assertEquals(1, ks.metric.writeFailedIdealCL.getCount());\n        assertEquals(0, ks.metric.idealCLWriteLatency.totalLatency.getCount());\n    }\n","realPath":"test/unit/org/apache/cassandra/service/WriteResponseHandlerTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":215,"status":"M"}],"commitId":"261e75f19f5348ea2b4e8f23fda00be3bf7c0436","commitMessage":"@@@ninja fix bad merges for unit test\n","date":"2018-09-14 18:48:20","modifiedFileCount":"2","status":"M","submitter":"Benedict Elliott Smith"},{"authorTime":"2019-06-12 23:26:54","codes":[{"authorDate":"2019-06-12 23:26:54","commitOrder":3,"curCode":"    public void idealCLLatencyTracked() throws Throwable\n    {\n        long startingCount = ks.metric.idealCLWriteLatency.latency.getCount();\n        \r\n        AbstractWriteResponseHandler awr = createWriteResponseHandler(ConsistencyLevel.LOCAL_QUORUM, ConsistencyLevel.EACH_QUORUM, System.nanoTime() - TimeUnit.DAYS.toNanos(1));\n\n        \r\n        awr.onResponse(createDummyMessage(0));\n        awr.onResponse(createDummyMessage(1));\n        \r\n        awr.onResponse(createDummyMessage(4));\n        awr.onResponse(createDummyMessage(5));\n\n        \r\n        awr.expired();\n        awr.expired();\n\n        assertEquals(0,  ks.metric.writeFailedIdealCL.getCount());\n        assertTrue( TimeUnit.DAYS.toMicros(1) < ks.metric.idealCLWriteLatency.totalLatency.getCount());\n        assertEquals(startingCount + 1, ks.metric.idealCLWriteLatency.latency.getCount());\n    }\n","date":"2019-06-12 23:26:54","endLine":164,"groupId":"101424","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"idealCLLatencyTracked","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/f0/6b706c68f506e9697e2fcd84e2c409fdcb66aa.src","preCode":"    public void idealCLLatencyTracked() throws Throwable\n    {\n        long startingCount = ks.metric.idealCLWriteLatency.latency.getCount();\n        \r\n        AbstractWriteResponseHandler awr = createWriteResponseHandler(ConsistencyLevel.LOCAL_QUORUM, ConsistencyLevel.EACH_QUORUM, System.nanoTime() - TimeUnit.DAYS.toNanos(1));\n\n        \r\n        awr.response(createDummyMessage(0));\n        awr.response(createDummyMessage(1));\n        \r\n        awr.response(createDummyMessage(4));\n        awr.response(createDummyMessage(5));\n\n        \r\n        awr.expired();\n        awr.expired();\n\n        assertEquals(0,  ks.metric.writeFailedIdealCL.getCount());\n        assertTrue( TimeUnit.DAYS.toMicros(1) < ks.metric.idealCLWriteLatency.totalLatency.getCount());\n        assertEquals(startingCount + 1, ks.metric.idealCLWriteLatency.latency.getCount());\n    }\n","realPath":"test/unit/org/apache/cassandra/service/WriteResponseHandlerTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":144,"status":"M"},{"authorDate":"2019-06-12 23:26:54","commitOrder":3,"curCode":"    public void failedIdealCLIncrementsStat() throws Throwable\n    {\n        ks.metric.idealCLWriteLatency.totalLatency.dec(ks.metric.idealCLWriteLatency.totalLatency.getCount());\n        AbstractWriteResponseHandler awr = createWriteResponseHandler(ConsistencyLevel.LOCAL_QUORUM, ConsistencyLevel.EACH_QUORUM);\n\n        \r\n        awr.onResponse(createDummyMessage(0));\n        awr.onResponse(createDummyMessage(1));\n        awr.onResponse(createDummyMessage(2));\n\n        \r\n        awr.expired();\n        awr.expired();\n        awr.expired();\n        assertEquals(1, ks.metric.writeFailedIdealCL.getCount());\n        assertEquals(0, ks.metric.idealCLWriteLatency.totalLatency.getCount());\n    }\n","date":"2019-06-12 23:26:54","endLine":233,"groupId":"101424","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"failedIdealCLIncrementsStat","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/f0/6b706c68f506e9697e2fcd84e2c409fdcb66aa.src","preCode":"    public void failedIdealCLIncrementsStat() throws Throwable\n    {\n        ks.metric.idealCLWriteLatency.totalLatency.dec(ks.metric.idealCLWriteLatency.totalLatency.getCount());\n        AbstractWriteResponseHandler awr = createWriteResponseHandler(ConsistencyLevel.LOCAL_QUORUM, ConsistencyLevel.EACH_QUORUM);\n\n        \r\n        awr.response(createDummyMessage(0));\n        awr.response(createDummyMessage(1));\n        awr.response(createDummyMessage(2));\n\n        \r\n        awr.expired();\n        awr.expired();\n        awr.expired();\n        assertEquals(1, ks.metric.writeFailedIdealCL.getCount());\n        assertEquals(0, ks.metric.idealCLWriteLatency.totalLatency.getCount());\n    }\n","realPath":"test/unit/org/apache/cassandra/service/WriteResponseHandlerTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":217,"status":"M"}],"commitId":"310a48efcfdc0fb77fbd5fd6e734bf17667f617d","commitMessage":"@@@Rewrite the internode messaging subsystem\n\npatch by Aleksey Yeschenko and Benedict Elliott Smith; reviewed by Alex\nPetrov.  Aleksey Yeschenko.  and Benedict Elliott Smith for CASSANDRA-15066\n\nCo-authored-by: Aleksey Yeschenko <aleksey@apache.org>\nCo-authored-by: Benedict Elliott Smith <benedict@apache.org>\n","date":"2019-06-12 23:26:54","modifiedFileCount":"253","status":"M","submitter":"Benedict Elliott Smith"}]
