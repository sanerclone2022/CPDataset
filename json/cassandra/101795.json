[{"authorTime":"2015-06-25 00:13:15","codes":[{"authorDate":"2015-06-25 00:13:15","commitOrder":1,"curCode":"    public void testMultiplePartitionKeyWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ?\", 0, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ?\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ? ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND  d IN (?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ?\", 0, 1, 2, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND d IN (?) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND d IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? ALLOW FILTERING\", 0, 1);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ?\", 0, 1, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n    }\n","date":"2015-06-25 00:13:15","endLine":509,"groupId":"17736","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testMultiplePartitionKeyWithIndex","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/fd/43a517d53e6bd757f5533ce072b16e5e888d18.src","preCode":"    public void testMultiplePartitionKeyWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ?\", 0, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ?\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ? ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND  d IN (?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ?\", 0, 1, 2, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND d IN (?) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND d IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? ALLOW FILTERING\", 0, 1);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ?\", 0, 1, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n    }\n","realPath":"test/unit/org/apache/cassandra/cql3/validation/operations/SelectSingleColumnRelationTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":445,"status":"B"},{"authorDate":"2015-06-25 00:13:15","commitOrder":1,"curCode":"    public void testMultiplePartitionKeyAndMultiClusteringWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) = (?)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) = (?) ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?)\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?) ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?)) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?)) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 1, 2, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 1, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n    }\n","date":"2015-06-25 00:13:15","endLine":902,"groupId":"17736","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testMultiplePartitionKeyAndMultiClusteringWithIndex","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/55/2e39eb7a86541a9c0c318472172e953d8f8365.src","preCode":"    public void testMultiplePartitionKeyAndMultiClusteringWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) = (?)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) = (?) ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?)\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?) ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?)) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?)) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 1, 2, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 1, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n    }\n","realPath":"test/unit/org/apache/cassandra/cql3/validation/operations/SelectMultiColumnRelationTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":840,"status":"B"}],"commitId":"bc9b0be321b34c55366a61418b94e9bae6ddb26b","commitMessage":"@@@Merge branch 'cassandra-2.2' into trunk\n","date":"2015-06-25 00:13:15","modifiedFileCount":"16","status":"B","submitter":"Josh McKenzie"},{"authorTime":"2015-06-27 03:58:03","codes":[{"authorDate":"2015-06-27 03:58:03","commitOrder":2,"curCode":"    public void testMultiplePartitionKeyWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ?\", 0, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ?\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ? ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND  d IN (?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ?\", 0, 1, 2, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND d IN (?) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND d IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? ALLOW FILTERING\", 0, 1);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND c >= ? AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ?\", 0, 1, 1, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND c = ? AND d >= ? AND f = ?\", 0, 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n    }\n","date":"2015-06-27 03:58:03","endLine":517,"groupId":"17736","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testMultiplePartitionKeyWithIndex","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/57/b8a86ba26560a88d7e25861ecd7787be479d91.src","preCode":"    public void testMultiplePartitionKeyWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ?\", 0, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ?\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ? ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND  d IN (?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ?\", 0, 1, 2, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND d IN (?) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND d IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? ALLOW FILTERING\", 0, 1);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ?\", 0, 1, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n    }\n","realPath":"test/unit/org/apache/cassandra/cql3/validation/operations/SelectSingleColumnRelationTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":445,"status":"M"},{"authorDate":"2015-06-27 03:58:03","commitOrder":2,"curCode":"    public void testMultiplePartitionKeyAndMultiClusteringWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) = (?)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) = (?) ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?)\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?) ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) IN ((?)) AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?)) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?)) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 1, 2, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ?\", 0, 1, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) >= (?) AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 1, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n    }\n","date":"2015-06-27 03:58:03","endLine":931,"groupId":"13374","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testMultiplePartitionKeyAndMultiClusteringWithIndex","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/39/412b9d3ae7a9637989254f0673ac1c284a56ce.src","preCode":"    public void testMultiplePartitionKeyAndMultiClusteringWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) = (?)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) = (?) ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?)\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?) ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?)) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?)) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 1, 2, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 1, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n    }\n","realPath":"test/unit/org/apache/cassandra/cql3/validation/operations/SelectMultiColumnRelationTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":852,"status":"M"}],"commitId":"9e28938531931746589c0b2cf0df62256421a36f","commitMessage":"@@@Merge branch 'cassandra-2.2' into trunk\n","date":"2015-06-27 03:58:03","modifiedFileCount":"2","status":"M","submitter":"Tyler Hobbs"},{"authorTime":"2016-03-05 05:15:17","codes":[{"authorDate":"2016-03-05 05:15:17","commitOrder":3,"curCode":"    public void testMultiplePartitionKeyWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ?\", 0, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ?\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ? ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND  d IN (?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ?\", 0, 1, 2, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND d IN (?) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND d IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? ALLOW FILTERING\", 0, 1);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND c >= ? AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ?\", 0, 1, 1, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND c = ? AND d >= ? AND f = ?\", 0, 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n    }\n","date":"2016-03-05 05:15:29","endLine":540,"groupId":"5006","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testMultiplePartitionKeyWithIndex","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/08/9390354d71a05bff1f44c8f26b912c17f7a5d4.src","preCode":"    public void testMultiplePartitionKeyWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ?\", 0, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ?\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ? ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND  d IN (?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ?\", 0, 1, 2, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND d IN (?) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND d IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? ALLOW FILTERING\", 0, 1);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND c >= ? AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ?\", 0, 1, 1, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND c = ? AND d >= ? AND f = ?\", 0, 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n    }\n","realPath":"test/unit/org/apache/cassandra/cql3/validation/operations/SelectSingleColumnRelationTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":468,"status":"M"},{"authorDate":"2016-03-05 05:15:17","commitOrder":3,"curCode":"    public void testMultiplePartitionKeyAndMultiClusteringWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) = (?)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) = (?) ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?)\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?) ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) IN ((?)) AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?)) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?)) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 1, 2, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ?\", 0, 1, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) >= (?) AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 1, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n    }\n","date":"2016-03-05 05:15:29","endLine":980,"groupId":"18128","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testMultiplePartitionKeyAndMultiClusteringWithIndex","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/52/2c8cd548e66e49d1f6fd239cc6bc0f77bb524d.src","preCode":"    public void testMultiplePartitionKeyAndMultiClusteringWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) = (?)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) = (?) ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?)\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?) ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) IN ((?)) AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?)) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?)) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 1, 2, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ?\", 0, 1, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) >= (?) AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n        assertInvalidMessage(\"Cannot execute this query as it might involve data filtering\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 1, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n    }\n","realPath":"test/unit/org/apache/cassandra/cql3/validation/operations/SelectMultiColumnRelationTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":901,"status":"M"}],"commitId":"6e69c75900f3640195130085ad69daa1659184eb","commitMessage":"@@@Merge branch cassandra-3.5 into trunk\n","date":"2016-03-05 05:15:29","modifiedFileCount":"14","status":"M","submitter":"Benjamin Lerer"},{"authorTime":"2016-08-04 23:09:38","codes":[{"authorDate":"2016-08-04 23:09:38","commitOrder":4,"curCode":"    public void testMultiplePartitionKeyWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ?\", 0, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ?\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ? ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND  d IN (?) ALLOW FILTERING\", 0, 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ?\", 0, 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 3, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ?\", 0, 1, 2, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND d IN (?) AND f = ?\", 0, 1, 3, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND d IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 3, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? ALLOW FILTERING\", 0, 1);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND c >= ? AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ?\", 0, 1, 1, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND c = ? AND d >= ? AND f = ?\", 0, 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n    }\n","date":"2016-08-04 23:09:38","endLine":544,"groupId":"5006","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testMultiplePartitionKeyWithIndex","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/a5/2ce66d190f5547587e053cf2e807c415d50cb3.src","preCode":"    public void testMultiplePartitionKeyWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ?\", 0, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ?\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ? ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND  d IN (?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ?\", 0, 1, 2, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?) AND d IN (?) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND d IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? ALLOW FILTERING\", 0, 1);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND c >= ? AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ?\", 0, 1, 1, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND c = ? AND d >= ? AND f = ?\", 0, 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n    }\n","realPath":"test/unit/org/apache/cassandra/cql3/validation/operations/SelectSingleColumnRelationTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":472,"status":"M"},{"authorDate":"2016-08-04 23:09:38","commitOrder":4,"curCode":"    public void testMultiplePartitionKeyAndMultiClusteringWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) = (?)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) = (?) ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?)\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?) ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?), (?, ?)) ALLOW FILTERING\", 0, 1, 1, 2, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) IN ((?)) AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 1, 3, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ? ALLOW FILTERING\", 0, 1, 3, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 1, 2, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ?\", 0, 1, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) >= (?) AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 1, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n    }\n","date":"2016-08-04 23:09:38","endLine":1012,"groupId":"17736","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testMultiplePartitionKeyAndMultiClusteringWithIndex","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/19/f798f2f14355b55a0d6d06f77020725181d383.src","preCode":"    public void testMultiplePartitionKeyAndMultiClusteringWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) = (?)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) = (?) ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?)\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?) ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) IN ((?)) AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?)) AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?)) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 1, 2, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ?\", 0, 1, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) >= (?) AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 1, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n    }\n","realPath":"test/unit/org/apache/cassandra/cql3/validation/operations/SelectMultiColumnRelationTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":932,"status":"M"}],"commitId":"4205011c0fb92bfb6a7456ab620f5d6b40cb9160","commitMessage":"@@@Add support for GROUP BY to SELECT statement\n\npatch by Benjamin Lerer; reviewed by Sylvain Lebresne for CASSANDRA-10707\n","date":"2016-08-04 23:09:38","modifiedFileCount":"30","status":"M","submitter":"Benjamin Lerer"},{"authorTime":"2016-09-12 17:22:25","codes":[{"authorDate":"2016-09-12 17:22:25","commitOrder":5,"curCode":"    public void testMultiplePartitionKeyWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ?\", 0, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ?\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ? ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?) AND  d IN (?) ALLOW FILTERING\", 0, 1, 1),\n                row(0, 0, 1, 1, 0, 4),\n                row(0, 0, 1, 1, 1, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1),\n                row(0, 0, 1, 1, 0, 4),\n                row(0, 0, 1, 1, 1, 5),\n                row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ?\", 0, 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 3, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ?\", 0, 1, 2, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND d IN (?) AND f = ?\", 0, 1, 3, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND d IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 3, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c >= ? ALLOW FILTERING\", 0, 1),\n                row(0, 0, 1, 0, 0, 3),\n                row(0, 0, 1, 1, 0, 4),\n                row(0, 0, 1, 1, 1, 5),\n                row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND c >= ? AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ?\", 0, 1, 1, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND c = ? AND d >= ? AND f = ?\", 0, 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n    }\n","date":"2016-09-12 17:24:38","endLine":550,"groupId":"101795","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"testMultiplePartitionKeyWithIndex","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/2a/d0427339c0ac8938e3fb7bb432aad15d49274d.src","preCode":"    public void testMultiplePartitionKeyWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ?\", 0, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ?\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d = ? ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND  d IN (?) ALLOW FILTERING\", 0, 0, 1, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ?\", 0, 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 3, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ?\", 0, 1, 2, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND d IN (?) AND f = ?\", 0, 1, 3, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c IN (?, ?) AND d IN (?) AND f = ? ALLOW FILTERING\", 0, 1, 3, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? ALLOW FILTERING\", 0, 1);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ?\", 0, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND c >= ? AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c >= ? AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ?\", 0, 1, 1, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND c = ? AND d >= ? AND f = ?\", 0, 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND c = ? AND d >= ? AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n    }\n","realPath":"test/unit/org/apache/cassandra/cql3/validation/operations/SelectSingleColumnRelationTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":472,"status":"M"},{"authorDate":"2016-09-12 17:22:25","commitOrder":5,"curCode":"    public void testMultiplePartitionKeyAndMultiClusteringWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) = (?)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) = (?) ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?)\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?) ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) ALLOW FILTERING\", 0, 1, 1),\n                row(0, 0, 1, 1, 0, 4),\n                row(0, 0, 1, 1, 1, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1),\n                row(0, 0, 1, 1, 0, 4),\n                row(0, 0, 1, 1, 1, 5),\n                row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) IN ((?)) AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 1, 3, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ? ALLOW FILTERING\", 0, 1, 3, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 1, 2, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ?\", 0, 1, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) >= (?) AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 1, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n    }\n","date":"2016-09-12 17:24:38","endLine":1015,"groupId":"101795","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"testMultiplePartitionKeyAndMultiClusteringWithIndex","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/b9/1650dadc5b18baf1df8cb9d37631fa25e3bb5f.src","preCode":"    public void testMultiplePartitionKeyAndMultiClusteringWithIndex() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (a int, b int, c int, d int, e int, f int, PRIMARY KEY ((a, b), c, d, e))\");\n        createIndex(\"CREATE INDEX ON %s (c)\");\n        createIndex(\"CREATE INDEX ON %s (f)\");\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 0, 0, 0);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 0, 1);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 0, 1, 1, 2);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 0, 0, 3);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 0, 4);\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 1, 1, 1, 5);\n\n        execute(\"INSERT INTO %s (a, b, c, d, e, f) VALUES (?, ?, ?, ?, ?, ?)\", 0, 0, 2, 0, 0, 5);\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) = (?)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) = (?) ALLOW FILTERING\", 0, 1),\n                   row(0, 0, 1, 0, 0, 3),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?)\", 0, 1, 1);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) = (?, ?) ALLOW FILTERING\", 0, 1, 1),\n                   row(0, 0, 1, 1, 0, 4),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?), (?, ?)) ALLOW FILTERING\", 0, 1, 1, 2, 1);\n\n        assertInvalidMessage(\"Partition key parts: b must be restricted as other parts are\",\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) ALLOW FILTERING\", 0, 1, 1);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) IN ((?)) AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 1, 3, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ? ALLOW FILTERING\", 0, 1, 3, 5),\n                   row(0, 0, 1, 1, 1, 5));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 1, 2, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) IN ((?), (?)) AND f = ?\", 0, 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) IN ((?), (?)) AND f = ? ALLOW FILTERING\", 0, 1, 2, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ?\", 0, 1, 0, 3);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) IN ((?, ?)) AND f = ? ALLOW FILTERING\", 0, 1, 0, 3),\n                   row(0, 0, 1, 0, 0, 3));\n\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ?\", 0, 1, 5);\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c) >= (?) AND f = ?\", 0, 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c) >= (?) AND f = ? ALLOW FILTERING\", 0, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND b = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n        assertInvalidMessage(StatementRestrictions.REQUIRES_ALLOW_FILTERING_MESSAGE,\n                             \"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ?\", 0, 1, 1, 5);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = ? AND (c, d) >= (?, ?) AND f = ? ALLOW FILTERING\", 0, 1, 1, 5),\n                   row(0, 0, 1, 1, 1, 5),\n                   row(0, 0, 2, 0, 0, 5));\n    }\n","realPath":"test/unit/org/apache/cassandra/cql3/validation/operations/SelectMultiColumnRelationTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":932,"status":"M"}],"commitId":"3f49c328f202e68b67a9caaa63522e333ea5006f","commitMessage":"@@@Allow filtering on partition key columns for queries without secondary indexes\n\npatch by ZhaoYang and Alex Petrov; reviewed by Benjamin Lerer for CASSANDRA-11031\n","date":"2016-09-12 17:24:38","modifiedFileCount":"18","status":"M","submitter":"ZhaoYang"}]
