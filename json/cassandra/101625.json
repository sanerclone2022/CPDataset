[{"authorTime":"2017-05-10 18:47:20","codes":[{"authorDate":"2017-05-10 18:47:20","commitOrder":1,"curCode":"    public void testIndexOnClusteringKeyInsertExpiringColumn() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (pk int, ck int, a int, b int, PRIMARY KEY (pk, ck))\");\n        createIndex(\"CREATE INDEX on %s(ck)\");\n        execute(\"INSERT INTO %s (pk, ck, a, b) VALUES (1, 2, 3, 4)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE ck = 2\"), row(1, 2, 3, 4));\n        execute(\"UPDATE %s USING TTL 1 SET b = 10 WHERE pk = 1 AND ck = 2\");\n        Thread.sleep(1000);\n        assertRows(execute(\"SELECT * FROM %s WHERE ck = 2\"), row(1, 2, 3, null));\n    }\n","date":"2017-05-10 18:47:20","endLine":1549,"groupId":"16467","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testIndexOnClusteringKeyInsertExpiringColumn","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/29/ceb3be36f0186800ef8bc6d6e8eac60b0a4b08.src","preCode":"    public void testIndexOnClusteringKeyInsertExpiringColumn() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (pk int, ck int, a int, b int, PRIMARY KEY (pk, ck))\");\n        createIndex(\"CREATE INDEX on %s(ck)\");\n        execute(\"INSERT INTO %s (pk, ck, a, b) VALUES (1, 2, 3, 4)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE ck = 2\"), row(1, 2, 3, 4));\n        execute(\"UPDATE %s USING TTL 1 SET b = 10 WHERE pk = 1 AND ck = 2\");\n        Thread.sleep(1000);\n        assertRows(execute(\"SELECT * FROM %s WHERE ck = 2\"), row(1, 2, 3, null));\n    }\n","realPath":"test/unit/org/apache/cassandra/cql3/validation/entities/SecondaryIndexTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":1540,"status":"B"},{"authorDate":"2017-05-10 18:47:20","commitOrder":1,"curCode":"    public void testIndexOnRegularColumnInsertExpiringColumn() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (pk int, ck int, a int, b int, PRIMARY KEY (pk, ck))\");\n        createIndex(\"CREATE INDEX on %s(a)\");\n        execute(\"INSERT INTO %s (pk, ck, a, b) VALUES (1, 2, 3, 4)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE a = 3\"), row(1, 2, 3, 4));\n\n        execute(\"UPDATE %s USING TTL 1 SET b = 10 WHERE pk = 1 AND ck = 2\");\n        Thread.sleep(1000);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = 3\"), row(1, 2, 3, null));\n\n        execute(\"UPDATE %s USING TTL 1 SET a = 5 WHERE pk = 1 AND ck = 2\");\n        Thread.sleep(1000);\n        assertEmpty(execute(\"SELECT * FROM %s WHERE a = 3\"));\n        assertEmpty(execute(\"SELECT * FROM %s WHERE a = 5\"));\n    }\n","date":"2017-05-10 18:47:20","endLine":1567,"groupId":"30841","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testIndexOnRegularColumnInsertExpiringColumn","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/29/ceb3be36f0186800ef8bc6d6e8eac60b0a4b08.src","preCode":"    public void testIndexOnRegularColumnInsertExpiringColumn() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (pk int, ck int, a int, b int, PRIMARY KEY (pk, ck))\");\n        createIndex(\"CREATE INDEX on %s(a)\");\n        execute(\"INSERT INTO %s (pk, ck, a, b) VALUES (1, 2, 3, 4)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE a = 3\"), row(1, 2, 3, 4));\n\n        execute(\"UPDATE %s USING TTL 1 SET b = 10 WHERE pk = 1 AND ck = 2\");\n        Thread.sleep(1000);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = 3\"), row(1, 2, 3, null));\n\n        execute(\"UPDATE %s USING TTL 1 SET a = 5 WHERE pk = 1 AND ck = 2\");\n        Thread.sleep(1000);\n        assertEmpty(execute(\"SELECT * FROM %s WHERE a = 3\"));\n        assertEmpty(execute(\"SELECT * FROM %s WHERE a = 5\"));\n    }\n","realPath":"test/unit/org/apache/cassandra/cql3/validation/entities/SecondaryIndexTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":1552,"status":"B"}],"commitId":"69aa1737d17089278c725cffeca3f69fb25f0aa0","commitMessage":"@@@Merge branch 'cassandra-3.11' into trunk\n","date":"2017-05-10 18:47:20","modifiedFileCount":"1","status":"B","submitter":"adelapena"},{"authorTime":"2021-08-25 01:11:16","codes":[{"authorDate":"2021-08-25 01:11:16","commitOrder":2,"curCode":"    private void testIndexOnClusteringKeyInsertExpiringColumn(boolean flushBeforeUpdate) throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (pk int, ck int, a int, b int, PRIMARY KEY (pk, ck))\");\n        createIndex(\"CREATE INDEX ON %s(ck)\");\n        execute(\"INSERT INTO %s (pk, ck, a, b) VALUES (1, 2, 3, 4)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE ck = 2\"), row(1, 2, 3, 4));\n\n        if (flushBeforeUpdate)\n            flush();\n\n        execute(\"UPDATE %s USING TTL 1 SET b = 10 WHERE pk = 1 AND ck = 2\");\n        Thread.sleep(1000);\n        assertRows(execute(\"SELECT * FROM %s WHERE ck = 2\"), row(1, 2, 3, null));\n    }\n","date":"2021-08-25 01:11:16","endLine":1635,"groupId":"101625","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"testIndexOnClusteringKeyInsertExpiringColumn","params":"(booleanflushBeforeUpdate)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/9f/228577e49f7277f3ba07ba4d93680c9420e4f9.src","preCode":"    public void testIndexOnClusteringKeyInsertExpiringColumn() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (pk int, ck int, a int, b int, PRIMARY KEY (pk, ck))\");\n        createIndex(\"CREATE INDEX on %s(ck)\");\n        execute(\"INSERT INTO %s (pk, ck, a, b) VALUES (1, 2, 3, 4)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE ck = 2\"), row(1, 2, 3, 4));\n        execute(\"UPDATE %s USING TTL 1 SET b = 10 WHERE pk = 1 AND ck = 2\");\n        Thread.sleep(1000);\n        assertRows(execute(\"SELECT * FROM %s WHERE ck = 2\"), row(1, 2, 3, null));\n    }\n","realPath":"test/unit/org/apache/cassandra/cql3/validation/entities/SecondaryIndexTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":1622,"status":"M"},{"authorDate":"2021-08-25 01:11:16","commitOrder":2,"curCode":"    private void testIndexOnRegularColumnInsertExpiringColumn(boolean flushBeforeUpdate) throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (pk int, ck int, a int, b int, PRIMARY KEY (pk, ck))\");\n        createIndex(\"CREATE INDEX ON %s(a)\");\n        execute(\"INSERT INTO %s (pk, ck, a, b) VALUES (1, 2, 3, 4)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE a = 3\"), row(1, 2, 3, 4));\n\n        if (flushBeforeUpdate)\n            flush();\n\n        execute(\"UPDATE %s USING TTL 1 SET b = 10 WHERE pk = 1 AND ck = 2\");\n        Thread.sleep(1000);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = 3\"), row(1, 2, 3, null));\n\n        if (flushBeforeUpdate)\n            flush();\n\n        execute(\"UPDATE %s USING TTL 1 SET a = 5 WHERE pk = 1 AND ck = 2\");\n        Thread.sleep(1000);\n        assertEmpty(execute(\"SELECT * FROM %s WHERE a = 3\"));\n        assertEmpty(execute(\"SELECT * FROM %s WHERE a = 5\"));\n    }\n","date":"2021-08-25 01:11:16","endLine":1699,"groupId":"101625","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"testIndexOnRegularColumnInsertExpiringColumn","params":"(booleanflushBeforeUpdate)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/9f/228577e49f7277f3ba07ba4d93680c9420e4f9.src","preCode":"    public void testIndexOnRegularColumnInsertExpiringColumn() throws Throwable\n    {\n        createTable(\"CREATE TABLE %s (pk int, ck int, a int, b int, PRIMARY KEY (pk, ck))\");\n        createIndex(\"CREATE INDEX on %s(a)\");\n        execute(\"INSERT INTO %s (pk, ck, a, b) VALUES (1, 2, 3, 4)\");\n        assertRows(execute(\"SELECT * FROM %s WHERE a = 3\"), row(1, 2, 3, 4));\n\n        execute(\"UPDATE %s USING TTL 1 SET b = 10 WHERE pk = 1 AND ck = 2\");\n        Thread.sleep(1000);\n        assertRows(execute(\"SELECT * FROM %s WHERE a = 3\"), row(1, 2, 3, null));\n\n        execute(\"UPDATE %s USING TTL 1 SET a = 5 WHERE pk = 1 AND ck = 2\");\n        Thread.sleep(1000);\n        assertEmpty(execute(\"SELECT * FROM %s WHERE a = 3\"));\n        assertEmpty(execute(\"SELECT * FROM %s WHERE a = 5\"));\n    }\n","realPath":"test/unit/org/apache/cassandra/cql3/validation/entities/SecondaryIndexTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":1678,"status":"M"}],"commitId":"5dd472e943f237fa86a06d077a27d704c09996db","commitMessage":"@@@Merge branch 'cassandra-4.0' into trunk\n","date":"2021-08-25 01:11:16","modifiedFileCount":"2","status":"M","submitter":"Andr?s de la Pe?a"}]
