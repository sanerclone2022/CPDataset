[{"authorTime":"2018-07-04 03:07:11","codes":[{"authorDate":"2018-07-04 03:07:11","commitOrder":1,"curCode":"        private StreamSession setupStreamingSessionForTest()\n        {\n            StreamCoordinator streamCoordinator = new StreamCoordinator(StreamOperation.BOOTSTRAP, 1, new DefaultConnectionFactory(), false, null, PreviewKind.NONE);\n            StreamResultFuture future = StreamResultFuture.init(UUID.randomUUID(), StreamOperation.BOOTSTRAP, Collections.<StreamEventHandler>emptyList(), streamCoordinator);\n\n            InetAddressAndPort peer = FBUtilities.getBroadcastAddressAndPort();\n            streamCoordinator.addSessionInfo(new SessionInfo(peer, 0, peer, Collections.emptyList(), Collections.emptyList(), StreamSession.State.INITIALIZED));\n\n            StreamSession session = streamCoordinator.getOrCreateNextSession(peer);\n            session.init(future);\n            return session;\n        }\n","date":"2018-07-28 00:50:25","endLine":225,"groupId":"3479","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"setupStreamingSessionForTest","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/31/92bccddefda318797e102ed39c7fc6fed3b18e.src","preCode":"        private StreamSession setupStreamingSessionForTest()\n        {\n            StreamCoordinator streamCoordinator = new StreamCoordinator(StreamOperation.BOOTSTRAP, 1, new DefaultConnectionFactory(), false, null, PreviewKind.NONE);\n            StreamResultFuture future = StreamResultFuture.init(UUID.randomUUID(), StreamOperation.BOOTSTRAP, Collections.<StreamEventHandler>emptyList(), streamCoordinator);\n\n            InetAddressAndPort peer = FBUtilities.getBroadcastAddressAndPort();\n            streamCoordinator.addSessionInfo(new SessionInfo(peer, 0, peer, Collections.emptyList(), Collections.emptyList(), StreamSession.State.INITIALIZED));\n\n            StreamSession session = streamCoordinator.getOrCreateNextSession(peer);\n            session.init(future);\n            return session;\n        }\n","realPath":"test/microbench/org/apache/cassandra/test/microbench/ZeroCopyStreamingBenchmark.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":214,"status":"B"},{"authorDate":"2018-07-04 03:07:11","commitOrder":1,"curCode":"    private StreamSession setupStreamingSessionForTest()\n    {\n        StreamCoordinator streamCoordinator = new StreamCoordinator(StreamOperation.BOOTSTRAP, 1, new DefaultConnectionFactory(), false, null, PreviewKind.NONE);\n        StreamResultFuture future = StreamResultFuture.init(UUID.randomUUID(), StreamOperation.BOOTSTRAP, Collections.<StreamEventHandler>emptyList(), streamCoordinator);\n\n        InetAddressAndPort peer = FBUtilities.getBroadcastAddressAndPort();\n        streamCoordinator.addSessionInfo(new SessionInfo(peer, 0, peer, Collections.emptyList(), Collections.emptyList(), StreamSession.State.INITIALIZED));\n\n        StreamSession session = streamCoordinator.getOrCreateNextSession(peer);\n        session.init(future);\n        return session;\n    }\n","date":"2018-07-28 00:50:25","endLine":208,"groupId":"3479","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"setupStreamingSessionForTest","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/94/7f9687f4a0a36f1c8632d254ab9028e8ab63f0.src","preCode":"    private StreamSession setupStreamingSessionForTest()\n    {\n        StreamCoordinator streamCoordinator = new StreamCoordinator(StreamOperation.BOOTSTRAP, 1, new DefaultConnectionFactory(), false, null, PreviewKind.NONE);\n        StreamResultFuture future = StreamResultFuture.init(UUID.randomUUID(), StreamOperation.BOOTSTRAP, Collections.<StreamEventHandler>emptyList(), streamCoordinator);\n\n        InetAddressAndPort peer = FBUtilities.getBroadcastAddressAndPort();\n        streamCoordinator.addSessionInfo(new SessionInfo(peer, 0, peer, Collections.emptyList(), Collections.emptyList(), StreamSession.State.INITIALIZED));\n\n        StreamSession session = streamCoordinator.getOrCreateNextSession(peer);\n        session.init(future);\n        return session;\n    }\n","realPath":"test/unit/org/apache/cassandra/db/streaming/CassandraEntireSSTableStreamWriterTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":197,"status":"B"}],"commitId":"47a12c52a313258307ab88392f75c5866d9a2bb1","commitMessage":"@@@Stream entire SSTables when possible\n\npatch by Dinesh Joshi; reviewed by Aleksey Yeschenko and Ariel Weisberg\nfor CASSANDRA-14566\n","date":"2018-07-28 00:50:25","modifiedFileCount":"39","status":"B","submitter":"Dinesh A. Joshi"},{"authorTime":"2020-03-20 15:56:53","codes":[{"authorDate":"2020-03-20 15:56:53","commitOrder":2,"curCode":"        private StreamSession setupStreamingSessionForTest()\n        {\n            StreamCoordinator streamCoordinator = new StreamCoordinator(StreamOperation.BOOTSTRAP, 1, new DefaultConnectionFactory(), false, false, null, PreviewKind.NONE);\n            StreamResultFuture future = StreamResultFuture.createInitiator(UUID.randomUUID(), StreamOperation.BOOTSTRAP, Collections.<StreamEventHandler>emptyList(), streamCoordinator);\n\n            InetAddressAndPort peer = FBUtilities.getBroadcastAddressAndPort();\n            streamCoordinator.addSessionInfo(new SessionInfo(peer, 0, peer, Collections.emptyList(), Collections.emptyList(), StreamSession.State.INITIALIZED));\n\n            StreamSession session = streamCoordinator.getOrCreateNextSession(peer);\n            session.init(future);\n            return session;\n        }\n","date":"2020-04-24 17:41:42","endLine":225,"groupId":"10555","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"setupStreamingSessionForTest","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/74/4750e24ecbffd2921a1421c39cd70407471f06.src","preCode":"        private StreamSession setupStreamingSessionForTest()\n        {\n            StreamCoordinator streamCoordinator = new StreamCoordinator(StreamOperation.BOOTSTRAP, 1, new DefaultConnectionFactory(), false, null, PreviewKind.NONE);\n            StreamResultFuture future = StreamResultFuture.init(UUID.randomUUID(), StreamOperation.BOOTSTRAP, Collections.<StreamEventHandler>emptyList(), streamCoordinator);\n\n            InetAddressAndPort peer = FBUtilities.getBroadcastAddressAndPort();\n            streamCoordinator.addSessionInfo(new SessionInfo(peer, 0, peer, Collections.emptyList(), Collections.emptyList(), StreamSession.State.INITIALIZED));\n\n            StreamSession session = streamCoordinator.getOrCreateNextSession(peer);\n            session.init(future);\n            return session;\n        }\n","realPath":"test/microbench/org/apache/cassandra/test/microbench/ZeroCopyStreamingBenchmark.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":214,"status":"M"},{"authorDate":"2020-03-20 15:56:53","commitOrder":2,"curCode":"    private StreamSession setupStreamingSessionForTest()\n    {\n        StreamCoordinator streamCoordinator = new StreamCoordinator(StreamOperation.BOOTSTRAP, 1, new DefaultConnectionFactory(), false, false, null, PreviewKind.NONE);\n        StreamResultFuture future = StreamResultFuture.createInitiator(UUID.randomUUID(), StreamOperation.BOOTSTRAP, Collections.<StreamEventHandler>emptyList(), streamCoordinator);\n\n        InetAddressAndPort peer = FBUtilities.getBroadcastAddressAndPort();\n        streamCoordinator.addSessionInfo(new SessionInfo(peer, 0, peer, Collections.emptyList(), Collections.emptyList(), StreamSession.State.INITIALIZED));\n\n        StreamSession session = streamCoordinator.getOrCreateNextSession(peer);\n        session.init(future);\n        return session;\n    }\n","date":"2020-04-24 17:41:42","endLine":208,"groupId":"10555","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"setupStreamingSessionForTest","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cassandra-10-0.7/blobInfo/CC_OUT/blobs/b8/115f405574b98992f7b18147b87035930588ad.src","preCode":"    private StreamSession setupStreamingSessionForTest()\n    {\n        StreamCoordinator streamCoordinator = new StreamCoordinator(StreamOperation.BOOTSTRAP, 1, new DefaultConnectionFactory(), false, null, PreviewKind.NONE);\n        StreamResultFuture future = StreamResultFuture.init(UUID.randomUUID(), StreamOperation.BOOTSTRAP, Collections.<StreamEventHandler>emptyList(), streamCoordinator);\n\n        InetAddressAndPort peer = FBUtilities.getBroadcastAddressAndPort();\n        streamCoordinator.addSessionInfo(new SessionInfo(peer, 0, peer, Collections.emptyList(), Collections.emptyList(), StreamSession.State.INITIALIZED));\n\n        StreamSession session = streamCoordinator.getOrCreateNextSession(peer);\n        session.init(future);\n        return session;\n    }\n","realPath":"test/unit/org/apache/cassandra/db/streaming/CassandraEntireSSTableStreamWriterTest.java","repoName":"cassandra","snippetEndLine":0,"snippetStartLine":0,"startLine":197,"status":"M"}],"commitId":"9f6fcc340d89eecc000765f6ab93e862f53a02d9","commitMessage":"@@@Avoid race condition when completing stream sessions\n\npatch by ZhaoYang; reviewed by Sergio Bossa and Benjamin Lerer for\nCASSANDRA-15666\n","date":"2020-04-24 17:41:42","modifiedFileCount":"33","status":"M","submitter":"Zhao Yang"}]
