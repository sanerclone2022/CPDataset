[{"authorTime":"2021-04-14 23:26:49","codes":[{"authorDate":"2021-04-14 23:26:49","commitOrder":1,"curCode":"    public String identifierFor(ObjectSpecification spec, Object pojo) {\n\n        if(pojo==null) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer cannot identify a pojo that is null (given type %s)\",\n                    spec.getCorrespondingClass().getName());\n        }\n\n        if(!isPersistableType(pojo.getClass())) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer does not recognize given type %s\",\n                    pojo.getClass().getName());\n        }\n\n        val persistenceManager = getPersistenceManager();\n        val primaryKey = persistenceManager.getObjectId(pojo);\n\n        if(primaryKey==null) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer does not recognize given object of type %s, \"\n                    + \"meaning the object has no identifier that associates it with the persistence layer. \"\n                    + \"(most likely, because the object is detached, eg. was not persisted after being new-ed up)\",\n                    pojo.getClass().getName());\n        }\n\n        final String identifier = JdoObjectIdSerializer.toOidIdentifier(primaryKey);\n        if(_Strings.isEmpty(identifier)) {\n            throw _Exceptions.illegalArgument(\n                    \"JdoObjectIdSerializer failed to convert primary key %s to a String.\",\n                    primaryKey.getClass().getName());\n        }\n\n        return identifier;\n    }\n","date":"2021-04-14 23:26:49","endLine":120,"groupId":"13526","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"identifierFor","params":"(ObjectSpecificationspec@Objectpojo)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-isis-10-0.7/blobInfo/CC_OUT/blobs/23/57a6d4cadb53ac6f36267ac168aa00f5a181dc.src","preCode":"    public String identifierFor(ObjectSpecification spec, Object pojo) {\n\n        if(pojo==null) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer cannot identify a pojo that is null (given type %s)\",\n                    spec.getCorrespondingClass().getName());\n        }\n\n        if(!isPersistableType(pojo.getClass())) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer does not recognize given type %s\",\n                    pojo.getClass().getName());\n        }\n\n        val persistenceManager = getPersistenceManager();\n        val primaryKey = persistenceManager.getObjectId(pojo);\n\n        if(primaryKey==null) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer does not recognize given object of type %s, \"\n                    + \"meaning the object has no identifier that associates it with the persistence layer. \"\n                    + \"(most likely, because the object is detached, eg. was not persisted after being new-ed up)\",\n                    pojo.getClass().getName());\n        }\n\n        final String identifier = JdoObjectIdSerializer.toOidIdentifier(primaryKey);\n        if(_Strings.isEmpty(identifier)) {\n            throw _Exceptions.illegalArgument(\n                    \"JdoObjectIdSerializer failed to convert primary key %s to a String.\",\n                    primaryKey.getClass().getName());\n        }\n\n        return identifier;\n    }\n","realPath":"persistence/jdo/datanucleus/src/main/java/org/apache/isis/persistence/jdo/datanucleus/metamodel/facets/entity/JdoEntityFacet.java","repoName":"isis","snippetEndLine":0,"snippetStartLine":0,"startLine":87,"status":"B"},{"authorDate":"2021-04-14 23:26:49","commitOrder":1,"curCode":"        public String identifierFor(ObjectSpecification spec, Object pojo) {\n\n            if(pojo==null) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer cannot identify a pojo that is null (given type %s)\",\n                        spec.getCorrespondingClass().getName());\n            }\n            \n            if(!spec.isEntity()) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer does not recognize given type %s\",\n                        pojo.getClass().getName());\n            }\n\n            val entityManager = getEntityManager();\n            val persistenceUnitUtil = getPersistenceUnitUtil(entityManager);\n            val primaryKey = persistenceUnitUtil.getIdentifier(pojo);\n            \n            if(primaryKey==null) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer does not recognize given object of type %s, \"\n                        + \"meaning the object has no identifier that associates it with the persistence layer. \"\n                        + \"(most likely, because the object is detached, eg. was not persisted after being new-ed up)\", \n                        pojo.getClass().getName());\n            }\n            \n            return getObjectIdSerializer().stringify(primaryKey);\n\n        }\n","date":"2021-04-14 23:26:49","endLine":143,"groupId":"10274","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"identifierFor","params":"(ObjectSpecificationspec@Objectpojo)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-isis-10-0.7/blobInfo/CC_OUT/blobs/ad/1d2052db7a0e93d789e41c29de4c2494c42691.src","preCode":"        public String identifierFor(ObjectSpecification spec, Object pojo) {\n\n            if(pojo==null) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer cannot identify a pojo that is null (given type %s)\",\n                        spec.getCorrespondingClass().getName());\n            }\n            \n            if(!spec.isEntity()) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer does not recognize given type %s\",\n                        pojo.getClass().getName());\n            }\n\n            val entityManager = getEntityManager();\n            val persistenceUnitUtil = getPersistenceUnitUtil(entityManager);\n            val primaryKey = persistenceUnitUtil.getIdentifier(pojo);\n            \n            if(primaryKey==null) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer does not recognize given object of type %s, \"\n                        + \"meaning the object has no identifier that associates it with the persistence layer. \"\n                        + \"(most likely, because the object is detached, eg. was not persisted after being new-ed up)\", \n                        pojo.getClass().getName());\n            }\n            \n            return getObjectIdSerializer().stringify(primaryKey);\n\n        }\n","realPath":"persistence/jpa/integration/src/main/java/org/apache/isis/persistence/jpa/integration/metamodel/JpaEntityFacetFactory.java","repoName":"isis","snippetEndLine":0,"snippetStartLine":0,"startLine":115,"status":"B"}],"commitId":"75633e1f8ce37deb39e3c2e2644357af15365d05","commitMessage":"@@@Merge branch 'master' of https://github.com/apache/isis into ISIS-2505_Catch_Up_With_Demo_Examples\n","date":"2021-04-14 23:26:49","modifiedFileCount":"1999","status":"B","submitter":"J?rg Rade"},{"authorTime":"2021-06-17 01:35:27","codes":[{"authorDate":"2021-04-14 23:26:49","commitOrder":2,"curCode":"    public String identifierFor(ObjectSpecification spec, Object pojo) {\n\n        if(pojo==null) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer cannot identify a pojo that is null (given type %s)\",\n                    spec.getCorrespondingClass().getName());\n        }\n\n        if(!isPersistableType(pojo.getClass())) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer does not recognize given type %s\",\n                    pojo.getClass().getName());\n        }\n\n        val persistenceManager = getPersistenceManager();\n        val primaryKey = persistenceManager.getObjectId(pojo);\n\n        if(primaryKey==null) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer does not recognize given object of type %s, \"\n                    + \"meaning the object has no identifier that associates it with the persistence layer. \"\n                    + \"(most likely, because the object is detached, eg. was not persisted after being new-ed up)\",\n                    pojo.getClass().getName());\n        }\n\n        final String identifier = JdoObjectIdSerializer.toOidIdentifier(primaryKey);\n        if(_Strings.isEmpty(identifier)) {\n            throw _Exceptions.illegalArgument(\n                    \"JdoObjectIdSerializer failed to convert primary key %s to a String.\",\n                    primaryKey.getClass().getName());\n        }\n\n        return identifier;\n    }\n","date":"2021-04-14 23:26:49","endLine":120,"groupId":"13526","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"identifierFor","params":"(ObjectSpecificationspec@Objectpojo)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-isis-10-0.7/blobInfo/CC_OUT/blobs/23/57a6d4cadb53ac6f36267ac168aa00f5a181dc.src","preCode":"    public String identifierFor(ObjectSpecification spec, Object pojo) {\n\n        if(pojo==null) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer cannot identify a pojo that is null (given type %s)\",\n                    spec.getCorrespondingClass().getName());\n        }\n\n        if(!isPersistableType(pojo.getClass())) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer does not recognize given type %s\",\n                    pojo.getClass().getName());\n        }\n\n        val persistenceManager = getPersistenceManager();\n        val primaryKey = persistenceManager.getObjectId(pojo);\n\n        if(primaryKey==null) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer does not recognize given object of type %s, \"\n                    + \"meaning the object has no identifier that associates it with the persistence layer. \"\n                    + \"(most likely, because the object is detached, eg. was not persisted after being new-ed up)\",\n                    pojo.getClass().getName());\n        }\n\n        final String identifier = JdoObjectIdSerializer.toOidIdentifier(primaryKey);\n        if(_Strings.isEmpty(identifier)) {\n            throw _Exceptions.illegalArgument(\n                    \"JdoObjectIdSerializer failed to convert primary key %s to a String.\",\n                    primaryKey.getClass().getName());\n        }\n\n        return identifier;\n    }\n","realPath":"persistence/jdo/datanucleus/src/main/java/org/apache/isis/persistence/jdo/datanucleus/metamodel/facets/entity/JdoEntityFacet.java","repoName":"isis","snippetEndLine":0,"snippetStartLine":0,"startLine":87,"status":"N"},{"authorDate":"2021-06-17 01:35:27","commitOrder":2,"curCode":"        public String identifierFor(final ObjectSpecification spec, final Object pojo) {\n\n            if(pojo==null) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer cannot identify a pojo that is null (given type %s)\",\n                        spec.getCorrespondingClass().getName());\n            }\n\n            if(!spec.isEntity()) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer does not recognize given type %s\",\n                        pojo.getClass().getName());\n            }\n\n            val entityManager = getEntityManager();\n            val persistenceUnitUtil = getPersistenceUnitUtil(entityManager);\n            val primaryKey = persistenceUnitUtil.getIdentifier(pojo);\n\n            if(primaryKey==null) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer does not recognize given object of type %s, \"\n                        + \"meaning the object has no identifier that associates it with the persistence layer. \"\n                        + \"(most likely, because the object is detached, eg. was not persisted after being new-ed up)\",\n                        pojo.getClass().getName());\n            }\n\n            return getObjectIdSerializer().stringify(primaryKey);\n\n        }\n","date":"2021-06-17 01:35:27","endLine":142,"groupId":"10274","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"identifierFor","params":"(finalObjectSpecificationspec@finalObjectpojo)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-isis-10-0.7/blobInfo/CC_OUT/blobs/b2/a1f215612f6379353948c02cd28cdd9488b890.src","preCode":"        public String identifierFor(ObjectSpecification spec, Object pojo) {\n\n            if(pojo==null) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer cannot identify a pojo that is null (given type %s)\",\n                        spec.getCorrespondingClass().getName());\n            }\n\n            if(!spec.isEntity()) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer does not recognize given type %s\",\n                        pojo.getClass().getName());\n            }\n\n            val entityManager = getEntityManager();\n            val persistenceUnitUtil = getPersistenceUnitUtil(entityManager);\n            val primaryKey = persistenceUnitUtil.getIdentifier(pojo);\n\n            if(primaryKey==null) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer does not recognize given object of type %s, \"\n                        + \"meaning the object has no identifier that associates it with the persistence layer. \"\n                        + \"(most likely, because the object is detached, eg. was not persisted after being new-ed up)\",\n                        pojo.getClass().getName());\n            }\n\n            return getObjectIdSerializer().stringify(primaryKey);\n\n        }\n","realPath":"persistence/jpa/integration/src/main/java/org/apache/isis/persistence/jpa/integration/metamodel/JpaEntityFacetFactory.java","repoName":"isis","snippetEndLine":0,"snippetStartLine":0,"startLine":114,"status":"M"}],"commitId":"ad5883b613b9e24b4c3bcdcbf7c798439c08d561","commitMessage":"@@@Merge pull request #587 from apache/2723_facet.preced\n\nISIS-2723: simplify facet precedence logic","date":"2021-06-17 01:35:27","modifiedFileCount":"805","status":"M","submitter":"Andi Huber"},{"authorTime":"2021-06-17 01:35:27","codes":[{"authorDate":"2021-06-22 15:51:35","commitOrder":3,"curCode":"    public String identifierFor(final ObjectSpecification spec, final Object pojo) {\n\n        if(pojo==null) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer cannot identify a pojo that is null (given type %s)\",\n                    spec.getCorrespondingClass().getName());\n        }\n\n        if(!isPersistableType(pojo.getClass())) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer does not recognize given type %s\",\n                    pojo.getClass().getName());\n        }\n\n        val persistenceManager = getPersistenceManager();\n        val primaryKey = persistenceManager.getObjectId(pojo);\n\n        if(primaryKey==null) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer does not recognize given object of type %s, \"\n                    + \"meaning the object has no identifier that associates it with the persistence layer. \"\n                    + \"(most likely, because the object is detached, eg. was not persisted after being new-ed up)\",\n                    pojo.getClass().getName());\n        }\n\n        final String identifier = JdoObjectIdSerializer.toOidIdentifier(primaryKey);\n        if(_Strings.isEmpty(identifier)) {\n            throw _Exceptions.illegalArgument(\n                    \"JdoObjectIdSerializer failed to convert primary key %s to a String.\",\n                    primaryKey.getClass().getName());\n        }\n\n        return identifier;\n    }\n","date":"2021-06-22 15:51:35","endLine":120,"groupId":"10362","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"identifierFor","params":"(finalObjectSpecificationspec@finalObjectpojo)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-isis-10-0.7/blobInfo/CC_OUT/blobs/ec/913e33104641f25212d4cbba54d8378c5a1b78.src","preCode":"    public String identifierFor(ObjectSpecification spec, Object pojo) {\n\n        if(pojo==null) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer cannot identify a pojo that is null (given type %s)\",\n                    spec.getCorrespondingClass().getName());\n        }\n\n        if(!isPersistableType(pojo.getClass())) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer does not recognize given type %s\",\n                    pojo.getClass().getName());\n        }\n\n        val persistenceManager = getPersistenceManager();\n        val primaryKey = persistenceManager.getObjectId(pojo);\n\n        if(primaryKey==null) {\n            throw _Exceptions.illegalArgument(\n                    \"The persistence layer does not recognize given object of type %s, \"\n                    + \"meaning the object has no identifier that associates it with the persistence layer. \"\n                    + \"(most likely, because the object is detached, eg. was not persisted after being new-ed up)\",\n                    pojo.getClass().getName());\n        }\n\n        final String identifier = JdoObjectIdSerializer.toOidIdentifier(primaryKey);\n        if(_Strings.isEmpty(identifier)) {\n            throw _Exceptions.illegalArgument(\n                    \"JdoObjectIdSerializer failed to convert primary key %s to a String.\",\n                    primaryKey.getClass().getName());\n        }\n\n        return identifier;\n    }\n","realPath":"persistence/jdo/datanucleus/src/main/java/org/apache/isis/persistence/jdo/datanucleus/metamodel/facets/entity/JdoEntityFacet.java","repoName":"isis","snippetEndLine":0,"snippetStartLine":0,"startLine":87,"status":"M"},{"authorDate":"2021-06-17 01:35:27","commitOrder":3,"curCode":"        public String identifierFor(final ObjectSpecification spec, final Object pojo) {\n\n            if(pojo==null) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer cannot identify a pojo that is null (given type %s)\",\n                        spec.getCorrespondingClass().getName());\n            }\n\n            if(!spec.isEntity()) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer does not recognize given type %s\",\n                        pojo.getClass().getName());\n            }\n\n            val entityManager = getEntityManager();\n            val persistenceUnitUtil = getPersistenceUnitUtil(entityManager);\n            val primaryKey = persistenceUnitUtil.getIdentifier(pojo);\n\n            if(primaryKey==null) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer does not recognize given object of type %s, \"\n                        + \"meaning the object has no identifier that associates it with the persistence layer. \"\n                        + \"(most likely, because the object is detached, eg. was not persisted after being new-ed up)\",\n                        pojo.getClass().getName());\n            }\n\n            return getObjectIdSerializer().stringify(primaryKey);\n\n        }\n","date":"2021-06-17 01:35:27","endLine":142,"groupId":"10362","id":6,"instanceNumber":2,"isCurCommit":1,"methodName":"identifierFor","params":"(finalObjectSpecificationspec@finalObjectpojo)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-isis-10-0.7/blobInfo/CC_OUT/blobs/b2/a1f215612f6379353948c02cd28cdd9488b890.src","preCode":"        public String identifierFor(final ObjectSpecification spec, final Object pojo) {\n\n            if(pojo==null) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer cannot identify a pojo that is null (given type %s)\",\n                        spec.getCorrespondingClass().getName());\n            }\n\n            if(!spec.isEntity()) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer does not recognize given type %s\",\n                        pojo.getClass().getName());\n            }\n\n            val entityManager = getEntityManager();\n            val persistenceUnitUtil = getPersistenceUnitUtil(entityManager);\n            val primaryKey = persistenceUnitUtil.getIdentifier(pojo);\n\n            if(primaryKey==null) {\n                throw _Exceptions.illegalArgument(\n                        \"The persistence layer does not recognize given object of type %s, \"\n                        + \"meaning the object has no identifier that associates it with the persistence layer. \"\n                        + \"(most likely, because the object is detached, eg. was not persisted after being new-ed up)\",\n                        pojo.getClass().getName());\n            }\n\n            return getObjectIdSerializer().stringify(primaryKey);\n\n        }\n","realPath":"persistence/jpa/integration/src/main/java/org/apache/isis/persistence/jpa/integration/metamodel/JpaEntityFacetFactory.java","repoName":"isis","snippetEndLine":0,"snippetStartLine":0,"startLine":114,"status":"N"}],"commitId":"7a90c44c45a0a66043e969d84547ff49e374a9e0","commitMessage":"@@@ISIS-2742: support meta-annotations for PersistenceCapable\n\nalso unify MM processing of PersistenceCapable annot. into a single\nFacetFactory","date":"2021-06-22 15:51:35","modifiedFileCount":"9","status":"M","submitter":"Andi Huber"}]
