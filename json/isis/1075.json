[{"authorTime":"2021-05-28 20:53:10","codes":[{"authorDate":"2021-05-28 20:53:10","commitOrder":1,"curCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityGeneratedLongId)entityRef.get().getPojo()).getId();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityGeneratedLongId.class,\n                        entity->Objects.equals(entity.getId(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n     \r\n        assertEquals(\n                EntityState.PERSISTABLE_DESTROYED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        entityRef.set(entity);\n    }\n","date":"2021-05-28 20:53:10","endLine":141,"groupId":"3863","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"removed_shouldBeProperlyDetected","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-isis-10-0.7/blobInfo/CC_OUT/blobs/e5/af29d96f4e3f155203402d1fee73615cd9aaf2.src","preCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityGeneratedLongId)entityRef.get().getPojo()).getId();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityGeneratedLongId.class,\n                        entity->Objects.equals(entity.getId(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n     \r\n        assertEquals(\n                EntityState.PERSISTABLE_DESTROYED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        entityRef.set(entity);\n    }\n","realPath":"regressiontests/stable-persistence-jpa/src/test/java/org/apache/isis/testdomain/persistence/jpa/entitylifecycle/JpaGeneratedLongIdEntityLifecycleTest.java","repoName":"isis","snippetEndLine":0,"snippetStartLine":0,"startLine":113,"status":"B"},{"authorDate":"2021-05-28 20:53:10","commitOrder":1,"curCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityNonGeneratedStringId)entityRef.get().getPojo()).getName();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityNonGeneratedStringId.class,\n                        entity->Objects.equals(entity.getName(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n     \r\n        assertEquals(\n                EntityState.PERSISTABLE_DESTROYED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        entityRef.set(entity);\n    }\n","date":"2021-05-28 20:53:10","endLine":146,"groupId":"5653","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"removed_shouldBeProperlyDetected","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-isis-10-0.7/blobInfo/CC_OUT/blobs/29/84452bac908f0eed30bd408094e1aca2a9ab96.src","preCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityNonGeneratedStringId)entityRef.get().getPojo()).getName();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityNonGeneratedStringId.class,\n                        entity->Objects.equals(entity.getName(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n     \r\n        assertEquals(\n                EntityState.PERSISTABLE_DESTROYED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        entityRef.set(entity);\n    }\n","realPath":"regressiontests/stable-persistence-jpa/src/test/java/org/apache/isis/testdomain/persistence/jpa/entitylifecycle/JpaNonGeneratedStringIdEntityLifecycleTest.java","repoName":"isis","snippetEndLine":0,"snippetStartLine":0,"startLine":118,"status":"B"}],"commitId":"efc2215175333383809fb5351302a4274049ed09","commitMessage":"@@@ISIS-2706: add regr. tests to cover entity lifecycle detection (JPA)","date":"2021-05-28 20:53:10","modifiedFileCount":"1","status":"B","submitter":"Andi Huber"},{"authorTime":"2021-05-28 22:28:31","codes":[{"authorDate":"2021-05-28 20:53:10","commitOrder":2,"curCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityGeneratedLongId)entityRef.get().getPojo()).getId();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityGeneratedLongId.class,\n                        entity->Objects.equals(entity.getId(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n     \r\n        assertEquals(\n                EntityState.PERSISTABLE_DESTROYED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        entityRef.set(entity);\n    }\n","date":"2021-05-28 20:53:10","endLine":141,"groupId":"3863","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"removed_shouldBeProperlyDetected","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-isis-10-0.7/blobInfo/CC_OUT/blobs/e5/af29d96f4e3f155203402d1fee73615cd9aaf2.src","preCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityGeneratedLongId)entityRef.get().getPojo()).getId();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityGeneratedLongId.class,\n                        entity->Objects.equals(entity.getId(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n     \r\n        assertEquals(\n                EntityState.PERSISTABLE_DESTROYED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        entityRef.set(entity);\n    }\n","realPath":"regressiontests/stable-persistence-jpa/src/test/java/org/apache/isis/testdomain/persistence/jpa/entitylifecycle/JpaGeneratedLongIdEntityLifecycleTest.java","repoName":"isis","snippetEndLine":0,"snippetStartLine":0,"startLine":113,"status":"N"},{"authorDate":"2021-05-28 22:28:31","commitOrder":2,"curCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityNonGeneratedStringId)entityRef.get().getPojo()).getName();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityNonGeneratedStringId.class,\n                        entity->Objects.equals(entity.getName(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n        \r\n        assertDetachedOrDeleted(entity);\n\n        entityRef.set(entity);\n    }\n","date":"2021-05-28 22:28:31","endLine":139,"groupId":"5653","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"removed_shouldBeProperlyDetected","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-isis-10-0.7/blobInfo/CC_OUT/blobs/65/ff4d1c406064c38dc888fb869e5cbc068e172a.src","preCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityNonGeneratedStringId)entityRef.get().getPojo()).getName();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityNonGeneratedStringId.class,\n                        entity->Objects.equals(entity.getName(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n     \r\n        assertEquals(\n                EntityState.PERSISTABLE_DESTROYED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        entityRef.set(entity);\n    }\n","realPath":"regressiontests/stable-persistence-jpa/src/test/java/org/apache/isis/testdomain/persistence/jpa/entitylifecycle/JpaNonGeneratedStringIdEntityLifecycleTest.java","repoName":"isis","snippetEndLine":0,"snippetStartLine":0,"startLine":113,"status":"M"}],"commitId":"effaaf651370d2fda3fb49baf570e3f8c4393259","commitMessage":"@@@ISIS-2706: if entity state is undecidable between DETACHED or REMOVED. \nreturn DETACHED","date":"2021-05-28 22:28:31","modifiedFileCount":"3","status":"M","submitter":"Andi Huber"},{"authorTime":"2021-05-28 22:42:50","codes":[{"authorDate":"2021-05-28 22:42:50","commitOrder":3,"curCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityGeneratedLongId)entityRef.get().getPojo()).getId();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityGeneratedLongId.class,\n                        entityPojo->Objects.equals(entityPojo.getId(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DESTROYED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        entityRef.set(entity);\n    }\n","date":"2021-05-28 22:42:50","endLine":141,"groupId":"9043","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"removed_shouldBeProperlyDetected","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-isis-10-0.7/blobInfo/CC_OUT/blobs/18/4bd397c44e494959427aa0ccbb10e58a9517ef.src","preCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityGeneratedLongId)entityRef.get().getPojo()).getId();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityGeneratedLongId.class,\n                        entity->Objects.equals(entity.getId(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DESTROYED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        entityRef.set(entity);\n    }\n","realPath":"regressiontests/stable-persistence-jpa/src/test/java/org/apache/isis/testdomain/persistence/jpa/entitylifecycle/JpaGeneratedLongIdEntityLifecycleTest.java","repoName":"isis","snippetEndLine":0,"snippetStartLine":0,"startLine":113,"status":"M"},{"authorDate":"2021-05-28 22:42:50","commitOrder":3,"curCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityNonGeneratedStringId)entityRef.get().getPojo()).getName();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityNonGeneratedStringId.class,\n                        entityPojo->Objects.equals(entityPojo.getName(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n        \r\n        assertDetachedOrDeleted(entity);\n\n        entityRef.set(entity);\n    }\n","date":"2021-05-28 22:42:50","endLine":139,"groupId":"6048","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"removed_shouldBeProperlyDetected","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-isis-10-0.7/blobInfo/CC_OUT/blobs/ad/8842ad8c6f83c80c38013295b6371287e4b1f4.src","preCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityNonGeneratedStringId)entityRef.get().getPojo()).getName();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityNonGeneratedStringId.class,\n                        entity->Objects.equals(entity.getName(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n        \r\n        assertDetachedOrDeleted(entity);\n\n        entityRef.set(entity);\n    }\n","realPath":"regressiontests/stable-persistence-jpa/src/test/java/org/apache/isis/testdomain/persistence/jpa/entitylifecycle/JpaNonGeneratedStringIdEntityLifecycleTest.java","repoName":"isis","snippetEndLine":0,"snippetStartLine":0,"startLine":113,"status":"M"}],"commitId":"53cffe295807316554d5919036b81703b670b33b","commitMessage":"@@@ISIS-2706: supposedly fixes compilation issues","date":"2021-05-28 22:42:50","modifiedFileCount":"2","status":"M","submitter":"Andi Huber"},{"authorTime":"2021-05-28 22:42:50","codes":[{"authorDate":"2021-05-28 22:44:52","commitOrder":4,"curCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityGeneratedLongId)entityRef.get().getPojo()).getId();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityGeneratedLongId.class,\n                        entityPojo->Objects.equals(entityPojo.getId(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n        \r\n        assertDetachedOrDeleted(entity);\n\n        entityRef.set(entity);\n    }\n","date":"2021-05-28 22:44:52","endLine":139,"groupId":"1075","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"removed_shouldBeProperlyDetected","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-isis-10-0.7/blobInfo/CC_OUT/blobs/c1/a599cdfdb6665dc1913a721abfdb9771b6d60e.src","preCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityGeneratedLongId)entityRef.get().getPojo()).getId();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityGeneratedLongId.class,\n                        entityPojo->Objects.equals(entityPojo.getId(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DESTROYED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        entityRef.set(entity);\n    }\n","realPath":"regressiontests/stable-persistence-jpa/src/test/java/org/apache/isis/testdomain/persistence/jpa/entitylifecycle/JpaGeneratedLongIdEntityLifecycleTest.java","repoName":"isis","snippetEndLine":0,"snippetStartLine":0,"startLine":113,"status":"M"},{"authorDate":"2021-05-28 22:42:50","commitOrder":4,"curCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityNonGeneratedStringId)entityRef.get().getPojo()).getName();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityNonGeneratedStringId.class,\n                        entityPojo->Objects.equals(entityPojo.getName(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n        \r\n        assertDetachedOrDeleted(entity);\n\n        entityRef.set(entity);\n    }\n","date":"2021-05-28 22:42:50","endLine":139,"groupId":"1075","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"removed_shouldBeProperlyDetected","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-isis-10-0.7/blobInfo/CC_OUT/blobs/ad/8842ad8c6f83c80c38013295b6371287e4b1f4.src","preCode":"    void removed_shouldBeProperlyDetected() {\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_DETACHED,\n                ManagedObjects.EntityUtil.getEntityState(entityRef.get()));\n\n        val id = ((JpaEntityNonGeneratedStringId)entityRef.get().getPojo()).getName();\n\n        val entity = objectManager.adapt(\n                repository.firstMatch(\n                        JpaEntityNonGeneratedStringId.class,\n                        entityPojo->Objects.equals(entityPojo.getName(), id))\n                .orElseThrow(_Exceptions::noSuchElement));\n\n        \r\n        assertEquals(\n                EntityState.PERSISTABLE_ATTACHED,\n                ManagedObjects.EntityUtil.getEntityState(entity));\n\n        repository.remove(entity.getPojo());\n\n        \r\n        assertDetachedOrDeleted(entity);\n\n        entityRef.set(entity);\n    }\n","realPath":"regressiontests/stable-persistence-jpa/src/test/java/org/apache/isis/testdomain/persistence/jpa/entitylifecycle/JpaNonGeneratedStringIdEntityLifecycleTest.java","repoName":"isis","snippetEndLine":0,"snippetStartLine":0,"startLine":113,"status":"N"}],"commitId":"49a9dc4f5a86e18bb8dba8d42aba52dabefe009a","commitMessage":"@@@ISIS-2706: test fixes","date":"2021-05-28 22:44:52","modifiedFileCount":"1","status":"M","submitter":"Andi Huber"}]
