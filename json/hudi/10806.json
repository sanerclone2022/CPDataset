[{"authorTime":"2021-03-17 07:43:53","codes":[{"authorDate":"2021-03-17 07:43:53","commitOrder":1,"curCode":"  public void testCompletedReplace() throws Exception {\n    String newCommitTime = HoodieTestTable.makeNewCommitTime();\n    createReplace(newCommitTime, WriteOperationType.INSERT_OVERWRITE);\n    HoodieArchivedMetaEntry metaEntry = MetadataConversionUtils.createMetaWrapper(\n        new HoodieInstant(State.COMPLETED, HoodieTimeline.REPLACE_COMMIT_ACTION, newCommitTime), metaClient);\n    assertEquals(metaEntry.getActionState(), State.COMPLETED.toString());\n    assertEquals(metaEntry.getHoodieReplaceCommitMetadata().getOperationType(), WriteOperationType.INSERT_OVERWRITE.toString());\n  }\n","date":"2021-03-17 07:43:53","endLine":88,"groupId":"2021","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testCompletedReplace","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/d8/a51708f6df5a63096848e8d65893fe9838aed4.src","preCode":"  public void testCompletedReplace() throws Exception {\n    String newCommitTime = HoodieTestTable.makeNewCommitTime();\n    createReplace(newCommitTime, WriteOperationType.INSERT_OVERWRITE);\n    HoodieArchivedMetaEntry metaEntry = MetadataConversionUtils.createMetaWrapper(\n        new HoodieInstant(State.COMPLETED, HoodieTimeline.REPLACE_COMMIT_ACTION, newCommitTime), metaClient);\n    assertEquals(metaEntry.getActionState(), State.COMPLETED.toString());\n    assertEquals(metaEntry.getHoodieReplaceCommitMetadata().getOperationType(), WriteOperationType.INSERT_OVERWRITE.toString());\n  }\n","realPath":"hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":81,"status":"B"},{"authorDate":"2021-03-17 07:43:53","commitOrder":1,"curCode":"  public void testCompletedCompaction() throws Exception {\n    String newCommitTime = HoodieTestTable.makeNewCommitTime();\n    createCompactionMetadata(newCommitTime);\n    HoodieArchivedMetaEntry metaEntry = MetadataConversionUtils.createMetaWrapper(\n        new HoodieInstant(State.COMPLETED, HoodieTimeline.COMMIT_ACTION, newCommitTime), metaClient);\n    assertEquals(metaEntry.getActionState(), State.COMPLETED.toString());\n    assertEquals(metaEntry.getHoodieCommitMetadata().getOperationType(), WriteOperationType.COMPACT.toString());\n  }\n","date":"2021-03-17 07:43:53","endLine":118,"groupId":"2021","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testCompletedCompaction","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/d8/a51708f6df5a63096848e8d65893fe9838aed4.src","preCode":"  public void testCompletedCompaction() throws Exception {\n    String newCommitTime = HoodieTestTable.makeNewCommitTime();\n    createCompactionMetadata(newCommitTime);\n    HoodieArchivedMetaEntry metaEntry = MetadataConversionUtils.createMetaWrapper(\n        new HoodieInstant(State.COMPLETED, HoodieTimeline.COMMIT_ACTION, newCommitTime), metaClient);\n    assertEquals(metaEntry.getActionState(), State.COMPLETED.toString());\n    assertEquals(metaEntry.getHoodieCommitMetadata().getOperationType(), WriteOperationType.COMPACT.toString());\n  }\n","realPath":"hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":111,"status":"B"}],"commitId":"74241947c123c860a1b0344f25cef316440a70d6","commitMessage":"@@@[HUDI-845] Added locking capability to allow multiple writers (#2374)\n\n* [HUDI-845] Added locking capability to allow multiple writers\n1. Added LockProvider API for pluggable lock methodologies\n2. Added Resolution Strategy API to allow for pluggable conflict resolution\n3. Added TableService client API to schedule table services\n4. Added Transaction Manager for wrapping actions within transactions","date":"2021-03-17 07:43:53","modifiedFileCount":"48","status":"B","submitter":"n3nash"},{"authorTime":"2021-03-17 07:43:53","codes":[{"authorDate":"2021-05-22 04:52:13","commitOrder":2,"curCode":"  public void testCompletedReplace() throws Exception {\n    String newCommitTime = HoodieTestTable.makeNewCommitTime();\n    createReplace(newCommitTime, WriteOperationType.INSERT_OVERWRITE, true);\n    HoodieArchivedMetaEntry metaEntry = MetadataConversionUtils.createMetaWrapper(\n        new HoodieInstant(State.COMPLETED, HoodieTimeline.REPLACE_COMMIT_ACTION, newCommitTime), metaClient);\n    assertEquals(metaEntry.getActionState(), State.COMPLETED.toString());\n    assertEquals(metaEntry.getHoodieReplaceCommitMetadata().getOperationType(), WriteOperationType.INSERT_OVERWRITE.toString());\n  }\n","date":"2021-05-22 04:52:13","endLine":89,"groupId":"10806","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testCompletedReplace","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/bd/c8eb62608f731a5ff16c055ea3c3e77bce7418.src","preCode":"  public void testCompletedReplace() throws Exception {\n    String newCommitTime = HoodieTestTable.makeNewCommitTime();\n    createReplace(newCommitTime, WriteOperationType.INSERT_OVERWRITE);\n    HoodieArchivedMetaEntry metaEntry = MetadataConversionUtils.createMetaWrapper(\n        new HoodieInstant(State.COMPLETED, HoodieTimeline.REPLACE_COMMIT_ACTION, newCommitTime), metaClient);\n    assertEquals(metaEntry.getActionState(), State.COMPLETED.toString());\n    assertEquals(metaEntry.getHoodieReplaceCommitMetadata().getOperationType(), WriteOperationType.INSERT_OVERWRITE.toString());\n  }\n","realPath":"hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":82,"status":"M"},{"authorDate":"2021-03-17 07:43:53","commitOrder":2,"curCode":"  public void testCompletedCompaction() throws Exception {\n    String newCommitTime = HoodieTestTable.makeNewCommitTime();\n    createCompactionMetadata(newCommitTime);\n    HoodieArchivedMetaEntry metaEntry = MetadataConversionUtils.createMetaWrapper(\n        new HoodieInstant(State.COMPLETED, HoodieTimeline.COMMIT_ACTION, newCommitTime), metaClient);\n    assertEquals(metaEntry.getActionState(), State.COMPLETED.toString());\n    assertEquals(metaEntry.getHoodieCommitMetadata().getOperationType(), WriteOperationType.COMPACT.toString());\n  }\n","date":"2021-03-17 07:43:53","endLine":118,"groupId":"10806","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testCompletedCompaction","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/d8/a51708f6df5a63096848e8d65893fe9838aed4.src","preCode":"  public void testCompletedCompaction() throws Exception {\n    String newCommitTime = HoodieTestTable.makeNewCommitTime();\n    createCompactionMetadata(newCommitTime);\n    HoodieArchivedMetaEntry metaEntry = MetadataConversionUtils.createMetaWrapper(\n        new HoodieInstant(State.COMPLETED, HoodieTimeline.COMMIT_ACTION, newCommitTime), metaClient);\n    assertEquals(metaEntry.getActionState(), State.COMPLETED.toString());\n    assertEquals(metaEntry.getHoodieCommitMetadata().getOperationType(), WriteOperationType.COMPACT.toString());\n  }\n","realPath":"hudi-client/hudi-client-common/src/test/java/org/apache/hudi/utils/TestMetadataConversionUtils.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":111,"status":"N"}],"commitId":"685f77b5dda92bb4ecd3a5480a1a5ed2eaee5fef","commitMessage":"@@@[HUDI-1740] Fix insert-overwrite API archival (#2784)\n\n- fix problem of archiving replace commits\n- Fix problem when getting empty replacecommit.requested\n- Improved the logic of handling empty and non-empty requested/inflight commit files. Added unit tests to cover both empty and non-empty inflight files cases and cleaned up some unused test util methods\n\nCo-authored-by: yorkzero831 <yorkzero8312@gmail.com>\nCo-authored-by: zheren.yu <zheren.yu@paypay-corp.co.jp>","date":"2021-05-22 04:52:13","modifiedFileCount":"10","status":"M","submitter":"Susu Dong"}]
