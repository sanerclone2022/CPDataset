[{"authorTime":"2020-11-18 17:57:11","codes":[{"authorDate":"2020-10-02 05:25:29","commitOrder":2,"curCode":"  protected void downgrade(HoodieTableVersion fromVersion, HoodieTableVersion toVersion, String instantTime) {\n    if (fromVersion == HoodieTableVersion.ONE && toVersion == HoodieTableVersion.ZERO) {\n      new OneToZeroDowngradeHandler().downgrade(config, context, instantTime);\n    } else {\n      throw new HoodieUpgradeDowngradeException(fromVersion.versionCode(), toVersion.versionCode(), false);\n    }\n  }\n","date":"2020-10-02 05:25:29","endLine":65,"groupId":"4998","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"downgrade","params":"(HoodieTableVersionfromVersion@HoodieTableVersiontoVersion@StringinstantTime)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/9c/13c5a780ce87da42b8a25e1deb36ca81c7bd58.src","preCode":"  protected void downgrade(HoodieTableVersion fromVersion, HoodieTableVersion toVersion, String instantTime) {\n    if (fromVersion == HoodieTableVersion.ONE && toVersion == HoodieTableVersion.ZERO) {\n      new OneToZeroDowngradeHandler().downgrade(config, context, instantTime);\n    } else {\n      throw new HoodieUpgradeDowngradeException(fromVersion.versionCode(), toVersion.versionCode(), false);\n    }\n  }\n","realPath":"hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngrade.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":59,"status":"NB"},{"authorDate":"2020-11-18 17:57:11","commitOrder":2,"curCode":"  protected void downgrade(HoodieTableVersion fromVersion, HoodieTableVersion toVersion, String instantTime) {\n    if (fromVersion == HoodieTableVersion.ONE && toVersion == HoodieTableVersion.ZERO) {\n      new OneToZeroDowngradeHandler().downgrade(config, context, instantTime);\n    } else {\n      throw new HoodieUpgradeDowngradeException(fromVersion.versionCode(), toVersion.versionCode(), false);\n    }\n  }\n","date":"2020-11-18 17:57:11","endLine":60,"groupId":"4998","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"downgrade","params":"(HoodieTableVersionfromVersion@HoodieTableVersiontoVersion@StringinstantTime)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/a9/6a14aa7800a374d38c9b724b3bef1f145b50fc.src","preCode":"  protected void downgrade(HoodieTableVersion fromVersion, HoodieTableVersion toVersion, String instantTime) {\n    if (fromVersion == HoodieTableVersion.ONE && toVersion == HoodieTableVersion.ZERO) {\n      new OneToZeroDowngradeHandler().downgrade(config, context, instantTime);\n    } else {\n      throw new HoodieUpgradeDowngradeException(fromVersion.versionCode(), toVersion.versionCode(), false);\n    }\n  }\n","realPath":"hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngrade.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":54,"status":"B"}],"commitId":"4d05680038752077ceaebef261b66a5afc761e10","commitMessage":"@@@[HUDI-1327] Introduce base implemetation of hudi-flink-client (#2176)\n\n","date":"2020-11-18 17:57:11","modifiedFileCount":"6","status":"M","submitter":"wangxianghu"},{"authorTime":"2021-08-15 08:20:23","codes":[{"authorDate":"2021-08-15 08:20:23","commitOrder":3,"curCode":"  protected Map<ConfigProperty, String> downgrade(HoodieTableVersion fromVersion, HoodieTableVersion toVersion, String instantTime) {\n    if (fromVersion == HoodieTableVersion.ONE && toVersion == HoodieTableVersion.ZERO) {\n      return new OneToZeroDowngradeHandler().downgrade(config, context, instantTime);\n    } else if (fromVersion == HoodieTableVersion.TWO && toVersion == HoodieTableVersion.ONE) {\n      return new TwoToOneDowngradeHandler().downgrade(config, context, instantTime);\n    } else {\n      throw new HoodieUpgradeDowngradeException(fromVersion.versionCode(), toVersion.versionCode(), false);\n    }\n  }\n","date":"2021-08-15 08:20:23","endLine":70,"groupId":"10734","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"downgrade","params":"(HoodieTableVersionfromVersion@HoodieTableVersiontoVersion@StringinstantTime)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/72/84db5df42936dd6a4e1d22ce32bbeb66eda817.src","preCode":"  protected void downgrade(HoodieTableVersion fromVersion, HoodieTableVersion toVersion, String instantTime) {\n    if (fromVersion == HoodieTableVersion.ONE && toVersion == HoodieTableVersion.ZERO) {\n      new OneToZeroDowngradeHandler().downgrade(config, context, instantTime);\n    } else {\n      throw new HoodieUpgradeDowngradeException(fromVersion.versionCode(), toVersion.versionCode(), false);\n    }\n  }\n","realPath":"hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/table/upgrade/SparkUpgradeDowngrade.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":62,"status":"M"},{"authorDate":"2021-08-15 08:20:23","commitOrder":3,"curCode":"  protected Map<ConfigProperty, String> downgrade(HoodieTableVersion fromVersion, HoodieTableVersion toVersion, String instantTime) {\n    if (fromVersion == HoodieTableVersion.ONE && toVersion == HoodieTableVersion.ZERO) {\n      return new OneToZeroDowngradeHandler().downgrade(config, context, instantTime);\n    } else if (fromVersion == HoodieTableVersion.TWO && toVersion == HoodieTableVersion.ONE) {\n      return new TwoToOneDowngradeHandler().downgrade(config, context, instantTime);\n    } else {\n      throw new HoodieUpgradeDowngradeException(fromVersion.versionCode(), toVersion.versionCode(), false);\n    }\n  }\n","date":"2021-08-15 08:20:23","endLine":66,"groupId":"10734","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"downgrade","params":"(HoodieTableVersionfromVersion@HoodieTableVersiontoVersion@StringinstantTime)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/67/376aef587af8d021991b6f0fc7f32c072ae0eb.src","preCode":"  protected void downgrade(HoodieTableVersion fromVersion, HoodieTableVersion toVersion, String instantTime) {\n    if (fromVersion == HoodieTableVersion.ONE && toVersion == HoodieTableVersion.ZERO) {\n      new OneToZeroDowngradeHandler().downgrade(config, context, instantTime);\n    } else {\n      throw new HoodieUpgradeDowngradeException(fromVersion.versionCode(), toVersion.versionCode(), false);\n    }\n  }\n","realPath":"hudi-client/hudi-flink-client/src/main/java/org/apache/hudi/table/upgrade/FlinkUpgradeDowngrade.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":58,"status":"M"}],"commitId":"23dca6c237517bc9d9407556af6b1042f09ae76b","commitMessage":"@@@[HUDI-2268] Add upgrade and downgrade to and from 0.9.0 (#3470)\n\n- Added upgrade and downgrade step to and from 0.9.0. Upgrade adds few table properties. Downgrade recreates timeline server based marker files if any. ","date":"2021-08-15 08:20:23","modifiedFileCount":"16","status":"M","submitter":"Y Ethan Guo"}]
