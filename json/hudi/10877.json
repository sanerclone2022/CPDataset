[{"authorTime":"2020-04-13 08:55:26","codes":[{"authorDate":"2020-04-13 08:55:26","commitOrder":1,"curCode":"  public void testDefaultValue() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EVOLVED_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, new Schema.Parser().parse(EVOLVED_SCHEMA));\n    Assert.assertEquals(rec1.get(\"new_col1\"), \"dummy_val\");\n    Assert.assertNull(rec1.get(\"new_col2\"));\n  }\n","date":"2020-04-13 08:55:26","endLine":86,"groupId":"3201","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testDefaultValue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/ed/cb37d4efb790c97ca0e5103f783977c42bca0a.src","preCode":"  public void testDefaultValue() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EVOLVED_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, new Schema.Parser().parse(EVOLVED_SCHEMA));\n    Assert.assertEquals(rec1.get(\"new_col1\"), \"dummy_val\");\n    Assert.assertNull(rec1.get(\"new_col2\"));\n  }\n","realPath":"hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":77,"status":"B"},{"authorDate":"2020-04-13 08:55:26","commitOrder":1,"curCode":"  public void testMetadataField() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EXAMPLE_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, new Schema.Parser().parse(SCHEMA_WITH_METADATA_FIELD));\n    Assert.assertNull(rec1.get(\"_hoodie_commit_time\"));\n  }\n","date":"2020-04-13 08:55:26","endLine":109,"groupId":"3201","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testMetadataField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/ed/cb37d4efb790c97ca0e5103f783977c42bca0a.src","preCode":"  public void testMetadataField() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EXAMPLE_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, new Schema.Parser().parse(SCHEMA_WITH_METADATA_FIELD));\n    Assert.assertNull(rec1.get(\"_hoodie_commit_time\"));\n  }\n","realPath":"hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":101,"status":"B"}],"commitId":"6d7ca2cf7e441ad19d32d7a25739e454f39ed253","commitMessage":"@@@[HUDI-727]: Copy default values of fields if not present when rewriting incoming record with new schema (#1427)\n\n","date":"2020-04-13 08:55:26","modifiedFileCount":"3","status":"B","submitter":"Pratyaksh Sharma"},{"authorTime":"2020-04-16 03:35:01","codes":[{"authorDate":"2020-04-16 03:35:01","commitOrder":2,"curCode":"  public void testDefaultValue() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EVOLVED_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, new Schema.Parser().parse(EVOLVED_SCHEMA));\n    assertEquals(rec1.get(\"new_col1\"), \"dummy_val\");\n    assertNull(rec1.get(\"new_col2\"));\n  }\n","date":"2020-04-16 03:35:01","endLine":90,"groupId":"3201","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testDefaultValue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/e2/c12661e3eebc068db9c7bc00bc6ba9e4ae0ce3.src","preCode":"  public void testDefaultValue() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EVOLVED_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, new Schema.Parser().parse(EVOLVED_SCHEMA));\n    Assert.assertEquals(rec1.get(\"new_col1\"), \"dummy_val\");\n    Assert.assertNull(rec1.get(\"new_col2\"));\n  }\n","realPath":"hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":81,"status":"M"},{"authorDate":"2020-04-16 03:35:01","commitOrder":2,"curCode":"  public void testMetadataField() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EXAMPLE_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, new Schema.Parser().parse(SCHEMA_WITH_METADATA_FIELD));\n    assertNull(rec1.get(\"_hoodie_commit_time\"));\n  }\n","date":"2020-04-16 03:35:01","endLine":113,"groupId":"3201","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testMetadataField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/e2/c12661e3eebc068db9c7bc00bc6ba9e4ae0ce3.src","preCode":"  public void testMetadataField() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EXAMPLE_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, new Schema.Parser().parse(SCHEMA_WITH_METADATA_FIELD));\n    Assert.assertNull(rec1.get(\"_hoodie_commit_time\"));\n  }\n","realPath":"hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":105,"status":"M"}],"commitId":"d65efe659d36dfb80be16a6389c5aba2f8701c39","commitMessage":"@@@[HUDI-780] Migrate test cases to Junit 5 (#1504)\n\n","date":"2020-04-16 03:35:01","modifiedFileCount":"14","status":"M","submitter":"Raymond Xu"},{"authorTime":"2020-05-21 00:04:43","codes":[{"authorDate":"2020-05-21 00:04:43","commitOrder":3,"curCode":"  public void testDefaultValue() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EVOLVED_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    Schema schemaWithMetadata = HoodieAvroUtils.addMetadataFields(new Schema.Parser().parse(EVOLVED_SCHEMA));\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, schemaWithMetadata);\n    assertEquals(rec1.get(\"new_col1\"), \"dummy_val\");\n    assertNull(rec1.get(\"new_col2\"));\n    assertNull(rec1.get(HoodieRecord.RECORD_KEY_METADATA_FIELD));\n  }\n","date":"2020-05-21 00:04:43","endLine":116,"groupId":"3201","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testDefaultValue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/7d/5cf0408b1ee8e63261ecc3d52a6b0db3772f45.src","preCode":"  public void testDefaultValue() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EVOLVED_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, new Schema.Parser().parse(EVOLVED_SCHEMA));\n    assertEquals(rec1.get(\"new_col1\"), \"dummy_val\");\n    assertNull(rec1.get(\"new_col2\"));\n  }\n","realPath":"hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":105,"status":"M"},{"authorDate":"2020-05-21 00:04:43","commitOrder":3,"curCode":"  public void testMetadataField() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EXAMPLE_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, new Schema.Parser().parse(SCHEMA_WITH_METADATA_FIELD));\n    assertNull(rec1.get(\"_hoodie_commit_time\"));\n    assertNull(rec1.get(\"nullable_field\"));\n    assertNull(rec1.get(\"nullable_field_wo_default\"));\n  }\n","date":"2020-05-21 00:04:43","endLine":141,"groupId":"3201","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testMetadataField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/7d/5cf0408b1ee8e63261ecc3d52a6b0db3772f45.src","preCode":"  public void testMetadataField() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EXAMPLE_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, new Schema.Parser().parse(SCHEMA_WITH_METADATA_FIELD));\n    assertNull(rec1.get(\"_hoodie_commit_time\"));\n  }\n","realPath":"hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":131,"status":"M"}],"commitId":"6a0aa9a645d11ed7b50e18aa0563dafcd9d145f7","commitMessage":"@@@[HUDI-803] Replaced used of NullNode with JsonProperties.NULL_VALUE in HoodieAvroUtils (#1538)\n\n- added more test cases in TestHoodieAvroUtils.class\n\nCo-authored-by: Vinoth Chandar <vinoth@apache.org>","date":"2020-05-21 00:04:43","modifiedFileCount":"2","status":"M","submitter":"Pratyaksh Sharma"},{"authorTime":"2020-05-21 00:04:43","codes":[{"authorDate":"2021-09-10 22:03:35","commitOrder":4,"curCode":"  public void testDefaultValue() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EVOLVED_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    Schema schemaWithMetadata = HoodieAvroUtils.addMetadataFields(new Schema.Parser().parse(EVOLVED_SCHEMA));\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, schemaWithMetadata);\n    assertEquals(rec1.get(\"new_col_not_nullable_default_dummy_val\"), \"dummy_val\");\n    assertNull(rec1.get(\"new_col_nullable_wo_default\"));\n    assertNull(rec1.get(\"new_col_nullable_default_null\"));\n    assertEquals(rec1.get(\"new_col_nullable_default_dummy_val\"), \"dummy_val\");\n    assertNull(rec1.get(HoodieRecord.RECORD_KEY_METADATA_FIELD));\n  }\n","date":"2021-09-10 22:03:35","endLine":121,"groupId":"10877","id":7,"instanceNumber":1,"isCurCommit":1,"methodName":"testDefaultValue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/6f/5fe92158d72ace520bab49d946dc4834937fe9.src","preCode":"  public void testDefaultValue() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EVOLVED_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    Schema schemaWithMetadata = HoodieAvroUtils.addMetadataFields(new Schema.Parser().parse(EVOLVED_SCHEMA));\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, schemaWithMetadata);\n    assertEquals(rec1.get(\"new_col1\"), \"dummy_val\");\n    assertNull(rec1.get(\"new_col2\"));\n    assertNull(rec1.get(HoodieRecord.RECORD_KEY_METADATA_FIELD));\n  }\n","realPath":"hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":108,"status":"M"},{"authorDate":"2020-05-21 00:04:43","commitOrder":4,"curCode":"  public void testMetadataField() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EXAMPLE_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, new Schema.Parser().parse(SCHEMA_WITH_METADATA_FIELD));\n    assertNull(rec1.get(\"_hoodie_commit_time\"));\n    assertNull(rec1.get(\"nullable_field\"));\n    assertNull(rec1.get(\"nullable_field_wo_default\"));\n  }\n","date":"2020-05-21 00:04:43","endLine":141,"groupId":"10877","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testMetadataField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/7d/5cf0408b1ee8e63261ecc3d52a6b0db3772f45.src","preCode":"  public void testMetadataField() {\n    GenericRecord rec = new GenericData.Record(new Schema.Parser().parse(EXAMPLE_SCHEMA));\n    rec.put(\"_row_key\", \"key1\");\n    rec.put(\"non_pii_col\", \"val1\");\n    rec.put(\"pii_col\", \"val2\");\n    rec.put(\"timestamp\", 3.5);\n    GenericRecord rec1 = HoodieAvroUtils.rewriteRecord(rec, new Schema.Parser().parse(SCHEMA_WITH_METADATA_FIELD));\n    assertNull(rec1.get(\"_hoodie_commit_time\"));\n    assertNull(rec1.get(\"nullable_field\"));\n    assertNull(rec1.get(\"nullable_field_wo_default\"));\n  }\n","realPath":"hudi-common/src/test/java/org/apache/hudi/avro/TestHoodieAvroUtils.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":131,"status":"N"}],"commitId":"bd1d2d4952e2664e2049e79ac571578cddca4500","commitMessage":"@@@[MINOR] Add avro schema evolution test with (non)nullable column and with(out) default value (#3639)\n\n","date":"2021-09-10 22:03:35","modifiedFileCount":"1","status":"M","submitter":"Sagar Sumit"}]
