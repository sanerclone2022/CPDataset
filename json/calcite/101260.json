[{"authorTime":"2015-09-22 16:20:38","codes":[{"authorDate":"2015-09-22 16:20:38","commitOrder":1,"curCode":"  @Test public void testUnion3() {\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    final RelBuilder builder = RelBuilder.create(config().build());\n    RelNode root =\n        builder.scan(\"DEPT\")\n            .project(builder.field(\"DEPTNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"EMPNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"DEPTNO\"))\n            .union(true, 3)\n            .build();\n    assertThat(str(root),\n        is(\"LogicalUnion(all=[true])\\n\"\n            + \"  LogicalProject(DEPTNO=[$0])\\n\"\n            + \"    LogicalTableScan(table=[[scott, DEPT]])\\n\"\n            + \"  LogicalProject(EMPNO=[$0])\\n\"\n            + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"\n            + \"  LogicalProject(DEPTNO=[$7])\\n\"\n            + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"));\n  }\n","date":"2015-09-28 11:22:49","endLine":510,"groupId":"4628","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testUnion3","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-calcite-10-0.7/blobInfo/CC_OUT/blobs/5e/11fd1d574f791dd869cfb77876e386225d651f.src","preCode":"  @Test public void testUnion3() {\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    final RelBuilder builder = RelBuilder.create(config().build());\n    RelNode root =\n        builder.scan(\"DEPT\")\n            .project(builder.field(\"DEPTNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"EMPNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"DEPTNO\"))\n            .union(true, 3)\n            .build();\n    assertThat(str(root),\n        is(\"LogicalUnion(all=[true])\\n\"\n            + \"  LogicalProject(DEPTNO=[$0])\\n\"\n            + \"    LogicalTableScan(table=[[scott, DEPT]])\\n\"\n            + \"  LogicalProject(EMPNO=[$0])\\n\"\n            + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"\n            + \"  LogicalProject(DEPTNO=[$7])\\n\"\n            + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"));\n  }\n","realPath":"core/src/test/java/org/apache/calcite/test/RelBuilderTest.java","repoName":"calcite","snippetEndLine":0,"snippetStartLine":0,"startLine":485,"status":"B"},{"authorDate":"2015-09-22 16:20:38","commitOrder":1,"curCode":"  @Test public void testIntersect3() {\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    final RelBuilder builder = RelBuilder.create(config().build());\n    RelNode root =\n        builder.scan(\"DEPT\")\n            .project(builder.field(\"DEPTNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"EMPNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"DEPTNO\"))\n            .intersect(true, 3)\n            .build();\n    assertThat(str(root),\n        is(\"LogicalIntersect(all=[true])\\n\"\n            + \"  LogicalProject(DEPTNO=[$0])\\n\"\n            + \"    LogicalTableScan(table=[[scott, DEPT]])\\n\"\n            + \"  LogicalProject(EMPNO=[$0])\\n\"\n            + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"\n            + \"  LogicalProject(DEPTNO=[$7])\\n\"\n            + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"));\n  }\n","date":"2015-09-28 11:22:49","endLine":586,"groupId":"4628","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testIntersect3","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-calcite-10-0.7/blobInfo/CC_OUT/blobs/5e/11fd1d574f791dd869cfb77876e386225d651f.src","preCode":"  @Test public void testIntersect3() {\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    final RelBuilder builder = RelBuilder.create(config().build());\n    RelNode root =\n        builder.scan(\"DEPT\")\n            .project(builder.field(\"DEPTNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"EMPNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"DEPTNO\"))\n            .intersect(true, 3)\n            .build();\n    assertThat(str(root),\n        is(\"LogicalIntersect(all=[true])\\n\"\n            + \"  LogicalProject(DEPTNO=[$0])\\n\"\n            + \"    LogicalTableScan(table=[[scott, DEPT]])\\n\"\n            + \"  LogicalProject(EMPNO=[$0])\\n\"\n            + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"\n            + \"  LogicalProject(DEPTNO=[$7])\\n\"\n            + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"));\n  }\n","realPath":"core/src/test/java/org/apache/calcite/test/RelBuilderTest.java","repoName":"calcite","snippetEndLine":0,"snippetStartLine":0,"startLine":561,"status":"B"}],"commitId":"815fa262b83d5a864b1eacdc3661df3b04704c20","commitMessage":"@@@[CALCITE-828] Use RelBuilder in rules rather than type-specific RelNode factories\n\nAll rules now have a RelBuilderFactory.  from which RelOptCall can\ncreate a RelBuilder. All built-in rules that took a relational\nexpression factory (for example ProjectFactory) now use the RelBuilder.\nWe have converted some.  but not all.  other implicit uses of a factory.\n\nWe now recommend that any rules that are generic have a\nRelBuilderFactory constructor parameter.  but we have not changed\nexisting rules to implement this policy. People will need to adapt\nrules and write tests to ensure the rules are generic.\n\nAdd various methods to RelBuilder.\n\nMostly we add new rule constructors and deprecate the old constructor.\nBut a few breaking changes:\n* Rename ProtoRelBuilder to RelBuilderFactory;\n* Rename DEFAULT_PROTO to LOGICAL_BUILDER;\n* Change signature of TableScan.project method;\n* Change signature of RelFieldTrimmer constructor;\n* Add filter argument to RelBuilder.aggregateCall method.\n\nAlso.  not an API change.  but a change in behavior: RelBuilder methods\nto create set operations (union.  except.  intersect) get their\nleft-to-right arguments by reading the oldest-to-newest stack elements.\n","date":"2015-09-28 11:22:49","modifiedFileCount":"49","status":"B","submitter":"Julian Hyde"},{"authorTime":"2018-03-01 10:10:35","codes":[{"authorDate":"2018-03-01 10:10:35","commitOrder":2,"curCode":"  @Test public void testUnion3() {\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    final RelBuilder builder = RelBuilder.create(config().build());\n    RelNode root =\n        builder.scan(\"DEPT\")\n            .project(builder.field(\"DEPTNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"EMPNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"DEPTNO\"))\n            .union(true, 3)\n            .build();\n    final String expected = \"\"\n        + \"LogicalUnion(all=[true])\\n\"\n        + \"  LogicalProject(DEPTNO=[$0])\\n\"\n        + \"    LogicalTableScan(table=[[scott, DEPT]])\\n\"\n        + \"  LogicalProject(EMPNO=[$0])\\n\"\n        + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"\n        + \"  LogicalProject(DEPTNO=[$7])\\n\"\n        + \"    LogicalTableScan(table=[[scott, EMP]])\\n\";\n    assertThat(root, hasTree(expected));\n  }\n","date":"2018-03-12 15:16:13","endLine":1046,"groupId":"4628","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testUnion3","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-calcite-10-0.7/blobInfo/CC_OUT/blobs/12/9019101c478fdb0d8c9c1f7978cbf45c487a35.src","preCode":"  @Test public void testUnion3() {\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    final RelBuilder builder = RelBuilder.create(config().build());\n    RelNode root =\n        builder.scan(\"DEPT\")\n            .project(builder.field(\"DEPTNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"EMPNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"DEPTNO\"))\n            .union(true, 3)\n            .build();\n    assertThat(str(root),\n        is(\"LogicalUnion(all=[true])\\n\"\n            + \"  LogicalProject(DEPTNO=[$0])\\n\"\n            + \"    LogicalTableScan(table=[[scott, DEPT]])\\n\"\n            + \"  LogicalProject(EMPNO=[$0])\\n\"\n            + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"\n            + \"  LogicalProject(DEPTNO=[$7])\\n\"\n            + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"));\n  }\n","realPath":"core/src/test/java/org/apache/calcite/test/RelBuilderTest.java","repoName":"calcite","snippetEndLine":0,"snippetStartLine":0,"startLine":1020,"status":"M"},{"authorDate":"2018-03-01 10:10:35","commitOrder":2,"curCode":"  @Test public void testIntersect3() {\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    final RelBuilder builder = RelBuilder.create(config().build());\n    RelNode root =\n        builder.scan(\"DEPT\")\n            .project(builder.field(\"DEPTNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"EMPNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"DEPTNO\"))\n            .intersect(true, 3)\n            .build();\n    final String expected = \"\"\n        + \"LogicalIntersect(all=[true])\\n\"\n        + \"  LogicalProject(DEPTNO=[$0])\\n\"\n        + \"    LogicalTableScan(table=[[scott, DEPT]])\\n\"\n        + \"  LogicalProject(EMPNO=[$0])\\n\"\n        + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"\n        + \"  LogicalProject(DEPTNO=[$7])\\n\"\n        + \"    LogicalTableScan(table=[[scott, EMP]])\\n\";\n    assertThat(root, hasTree(expected));\n  }\n","date":"2018-03-12 15:16:13","endLine":1124,"groupId":"4628","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testIntersect3","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-calcite-10-0.7/blobInfo/CC_OUT/blobs/12/9019101c478fdb0d8c9c1f7978cbf45c487a35.src","preCode":"  @Test public void testIntersect3() {\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    final RelBuilder builder = RelBuilder.create(config().build());\n    RelNode root =\n        builder.scan(\"DEPT\")\n            .project(builder.field(\"DEPTNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"EMPNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"DEPTNO\"))\n            .intersect(true, 3)\n            .build();\n    assertThat(str(root),\n        is(\"LogicalIntersect(all=[true])\\n\"\n            + \"  LogicalProject(DEPTNO=[$0])\\n\"\n            + \"    LogicalTableScan(table=[[scott, DEPT]])\\n\"\n            + \"  LogicalProject(EMPNO=[$0])\\n\"\n            + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"\n            + \"  LogicalProject(DEPTNO=[$7])\\n\"\n            + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"));\n  }\n","realPath":"core/src/test/java/org/apache/calcite/test/RelBuilderTest.java","repoName":"calcite","snippetEndLine":0,"snippetStartLine":0,"startLine":1098,"status":"M"}],"commitId":"fb8ebd31526cd2e203fa3526ca8de7a22ee0d139","commitMessage":"@@@[CALCITE-2197] Fix test failures on Windows due to line endings\n\nAdd several new matchers in Matchers: isLinux.  containsStringLinux. \nhasTree.  compose. Change tests that generate platform-specific strings\nto use them.\n","date":"2018-03-12 15:16:13","modifiedFileCount":"13","status":"M","submitter":"Julian Hyde"},{"authorTime":"2020-04-02 10:39:10","codes":[{"authorDate":"2020-04-02 10:39:10","commitOrder":3,"curCode":"  @Test void testUnion3() {\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    final RelBuilder builder = RelBuilder.create(config().build());\n    RelNode root =\n        builder.scan(\"DEPT\")\n            .project(builder.field(\"DEPTNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"EMPNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"DEPTNO\"))\n            .union(true, 3)\n            .build();\n    final String expected = \"\"\n        + \"LogicalUnion(all=[true])\\n\"\n        + \"  LogicalProject(DEPTNO=[$0])\\n\"\n        + \"    LogicalTableScan(table=[[scott, DEPT]])\\n\"\n        + \"  LogicalProject(EMPNO=[$0])\\n\"\n        + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"\n        + \"  LogicalProject(DEPTNO=[$7])\\n\"\n        + \"    LogicalTableScan(table=[[scott, EMP]])\\n\";\n    assertThat(root, hasTree(expected));\n  }\n","date":"2020-04-06 04:57:49","endLine":1705,"groupId":"101260","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testUnion3","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-calcite-10-0.7/blobInfo/CC_OUT/blobs/cb/daecb405cbec050a5895b3b551f3f9b9367c58.src","preCode":"  @Test public void testUnion3() {\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    final RelBuilder builder = RelBuilder.create(config().build());\n    RelNode root =\n        builder.scan(\"DEPT\")\n            .project(builder.field(\"DEPTNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"EMPNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"DEPTNO\"))\n            .union(true, 3)\n            .build();\n    final String expected = \"\"\n        + \"LogicalUnion(all=[true])\\n\"\n        + \"  LogicalProject(DEPTNO=[$0])\\n\"\n        + \"    LogicalTableScan(table=[[scott, DEPT]])\\n\"\n        + \"  LogicalProject(EMPNO=[$0])\\n\"\n        + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"\n        + \"  LogicalProject(DEPTNO=[$7])\\n\"\n        + \"    LogicalTableScan(table=[[scott, EMP]])\\n\";\n    assertThat(root, hasTree(expected));\n  }\n","realPath":"core/src/test/java/org/apache/calcite/test/RelBuilderTest.java","repoName":"calcite","snippetEndLine":0,"snippetStartLine":0,"startLine":1679,"status":"M"},{"authorDate":"2020-04-02 10:39:10","commitOrder":3,"curCode":"  @Test void testIntersect3() {\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    final RelBuilder builder = RelBuilder.create(config().build());\n    RelNode root =\n        builder.scan(\"DEPT\")\n            .project(builder.field(\"DEPTNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"EMPNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"DEPTNO\"))\n            .intersect(true, 3)\n            .build();\n    final String expected = \"\"\n        + \"LogicalIntersect(all=[true])\\n\"\n        + \"  LogicalProject(DEPTNO=[$0])\\n\"\n        + \"    LogicalTableScan(table=[[scott, DEPT]])\\n\"\n        + \"  LogicalProject(EMPNO=[$0])\\n\"\n        + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"\n        + \"  LogicalProject(DEPTNO=[$7])\\n\"\n        + \"    LogicalTableScan(table=[[scott, EMP]])\\n\";\n    assertThat(root, hasTree(expected));\n  }\n","date":"2020-04-06 04:57:49","endLine":1856,"groupId":"101260","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testIntersect3","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-calcite-10-0.7/blobInfo/CC_OUT/blobs/cb/daecb405cbec050a5895b3b551f3f9b9367c58.src","preCode":"  @Test public void testIntersect3() {\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    final RelBuilder builder = RelBuilder.create(config().build());\n    RelNode root =\n        builder.scan(\"DEPT\")\n            .project(builder.field(\"DEPTNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"EMPNO\"))\n            .scan(\"EMP\")\n            .project(builder.field(\"DEPTNO\"))\n            .intersect(true, 3)\n            .build();\n    final String expected = \"\"\n        + \"LogicalIntersect(all=[true])\\n\"\n        + \"  LogicalProject(DEPTNO=[$0])\\n\"\n        + \"    LogicalTableScan(table=[[scott, DEPT]])\\n\"\n        + \"  LogicalProject(EMPNO=[$0])\\n\"\n        + \"    LogicalTableScan(table=[[scott, EMP]])\\n\"\n        + \"  LogicalProject(DEPTNO=[$7])\\n\"\n        + \"    LogicalTableScan(table=[[scott, EMP]])\\n\";\n    assertThat(root, hasTree(expected));\n  }\n","realPath":"core/src/test/java/org/apache/calcite/test/RelBuilderTest.java","repoName":"calcite","snippetEndLine":0,"snippetStartLine":0,"startLine":1830,"status":"M"}],"commitId":"9492dd4146f63ddc028010d6c4e86f6a5cb29a8d","commitMessage":"@@@[CALCITE-3892] Make junit test classes and methods non-public where possible\n\nPrior to junit 5.  classes and methods had to be public. This is no\nlonger the case.\n\nSome classes need to remain public because they are referenced from\nelsewhere.  or if they use reflection somehow. The remaining 'public'\nkeyword will be informative to maintainers.\n","date":"2020-04-06 04:57:49","modifiedFileCount":"196","status":"M","submitter":"Julian Hyde"}]
