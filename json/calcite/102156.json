[{"authorTime":"2020-09-30 01:31:14","codes":[{"authorDate":"2020-09-30 01:31:14","commitOrder":2,"curCode":"  private Expression translateCastToTime(RelDataType sourceType, Expression operand) {\n    Expression convert = null;\n    switch (sourceType.getSqlTypeName()) {\n    case CHAR:\n    case VARCHAR:\n      convert =\n          Expressions.call(BuiltInMethod.STRING_TO_TIME.method, operand);\n      break;\n    case TIME_WITH_LOCAL_TIME_ZONE:\n      convert = RexImpTable.optimize2(\n          operand,\n          Expressions.call(\n              BuiltInMethod.TIME_WITH_LOCAL_TIME_ZONE_TO_TIME.method,\n              operand,\n              Expressions.call(BuiltInMethod.TIME_ZONE.method, root)));\n      break;\n    case TIMESTAMP:\n      convert = Expressions.convert_(\n          Expressions.call(\n              BuiltInMethod.FLOOR_MOD.method,\n              operand,\n              Expressions.constant(DateTimeUtils.MILLIS_PER_DAY)),\n          int.class);\n      break;\n    case TIMESTAMP_WITH_LOCAL_TIME_ZONE:\n      convert = RexImpTable.optimize2(\n          operand,\n          Expressions.call(\n              BuiltInMethod.TIMESTAMP_WITH_LOCAL_TIME_ZONE_TO_TIME.method,\n              operand,\n              Expressions.call(BuiltInMethod.TIME_ZONE.method, root)));\n      break;\n    default:\n      break;\n    }\n    return convert;\n  }\n","date":"2020-10-07 05:43:06","endLine":631,"groupId":"15414","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"translateCastToTime","params":"(RelDataTypesourceType@Expressionoperand)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-calcite-10-0.7/blobInfo/CC_OUT/blobs/15/ace8f46811d117ab75418179ab96343ae5c789.src","preCode":"  private Expression translateCastToTime(RelDataType sourceType, Expression operand) {\n    Expression convert = null;\n    switch (sourceType.getSqlTypeName()) {\n    case CHAR:\n    case VARCHAR:\n      convert =\n          Expressions.call(BuiltInMethod.STRING_TO_TIME.method, operand);\n      break;\n    case TIME_WITH_LOCAL_TIME_ZONE:\n      convert = RexImpTable.optimize2(\n          operand,\n          Expressions.call(\n              BuiltInMethod.TIME_WITH_LOCAL_TIME_ZONE_TO_TIME.method,\n              operand,\n              Expressions.call(BuiltInMethod.TIME_ZONE.method, root)));\n      break;\n    case TIMESTAMP:\n      convert = Expressions.convert_(\n          Expressions.call(\n              BuiltInMethod.FLOOR_MOD.method,\n              operand,\n              Expressions.constant(DateTimeUtils.MILLIS_PER_DAY)),\n          int.class);\n      break;\n    case TIMESTAMP_WITH_LOCAL_TIME_ZONE:\n      convert = RexImpTable.optimize2(\n          operand,\n          Expressions.call(\n              BuiltInMethod.TIMESTAMP_WITH_LOCAL_TIME_ZONE_TO_TIME.method,\n              operand,\n              Expressions.call(BuiltInMethod.TIME_ZONE.method, root)));\n      break;\n    default:\n      break;\n    }\n    return convert;\n  }\n","realPath":"core/src/main/java/org/apache/calcite/adapter/enumerable/RexToLixTranslator.java","repoName":"calcite","snippetEndLine":0,"snippetStartLine":0,"startLine":595,"status":"B"},{"authorDate":"2020-09-30 01:31:14","commitOrder":2,"curCode":"  private static Expression scaleIntervalToNumber(\n      RelDataType sourceType,\n      RelDataType targetType,\n      Expression operand) {\n    switch (targetType.getSqlTypeName().getFamily()) {\n    case NUMERIC:\n      switch (sourceType.getSqlTypeName()) {\n      case INTERVAL_YEAR:\n      case INTERVAL_YEAR_MONTH:\n      case INTERVAL_MONTH:\n      case INTERVAL_DAY:\n      case INTERVAL_DAY_HOUR:\n      case INTERVAL_DAY_MINUTE:\n      case INTERVAL_DAY_SECOND:\n      case INTERVAL_HOUR:\n      case INTERVAL_HOUR_MINUTE:\n      case INTERVAL_HOUR_SECOND:\n      case INTERVAL_MINUTE:\n      case INTERVAL_MINUTE_SECOND:\n      case INTERVAL_SECOND:\n        \r\n        final BigDecimal multiplier = BigDecimal.ONE;\n        final BigDecimal divider =\n            sourceType.getSqlTypeName().getEndUnit().multiplier;\n        return RexImpTable.multiplyDivide(operand, multiplier, divider);\n      default:\n        break;\n      }\n      break;\n    default:\n      break;\n    }\n    return operand;\n  }\n","date":"2020-10-07 05:43:06","endLine":965,"groupId":"2612","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"scaleIntervalToNumber","params":"(RelDataTypesourceType@RelDataTypetargetType@Expressionoperand)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-calcite-10-0.7/blobInfo/CC_OUT/blobs/15/ace8f46811d117ab75418179ab96343ae5c789.src","preCode":"  private static Expression scaleIntervalToNumber(\n      RelDataType sourceType,\n      RelDataType targetType,\n      Expression operand) {\n    switch (targetType.getSqlTypeName().getFamily()) {\n    case NUMERIC:\n      switch (sourceType.getSqlTypeName()) {\n      case INTERVAL_YEAR:\n      case INTERVAL_YEAR_MONTH:\n      case INTERVAL_MONTH:\n      case INTERVAL_DAY:\n      case INTERVAL_DAY_HOUR:\n      case INTERVAL_DAY_MINUTE:\n      case INTERVAL_DAY_SECOND:\n      case INTERVAL_HOUR:\n      case INTERVAL_HOUR_MINUTE:\n      case INTERVAL_HOUR_SECOND:\n      case INTERVAL_MINUTE:\n      case INTERVAL_MINUTE_SECOND:\n      case INTERVAL_SECOND:\n        \r\n        final BigDecimal multiplier = BigDecimal.ONE;\n        final BigDecimal divider =\n            sourceType.getSqlTypeName().getEndUnit().multiplier;\n        return RexImpTable.multiplyDivide(operand, multiplier, divider);\n      default:\n        break;\n      }\n      break;\n    default:\n      break;\n    }\n    return operand;\n  }\n","realPath":"core/src/main/java/org/apache/calcite/adapter/enumerable/RexToLixTranslator.java","repoName":"calcite","snippetEndLine":0,"snippetStartLine":0,"startLine":932,"status":"MB"}],"commitId":"1b94f37e888cf2d186362473529e6c147afe0f6e","commitMessage":"@@@[CALCITE-4314] Add missing default branches to switch statement\n\nNote: the changes are mechanical.\nThe intention is to keep the previous behavior and prevent adding new\nnon exchaustive switch statements in the future.\n\nSee https://errorprone.info/bugpattern/MissingCasesInEnumSwitch\n","date":"2020-10-07 05:43:06","modifiedFileCount":"98","status":"M","submitter":"Vladimir Sitnikov"},{"authorTime":"2020-05-29 00:04:40","codes":[{"authorDate":"2020-05-29 00:04:40","commitOrder":3,"curCode":"  private @Nullable Expression translateCastToTime(RelDataType sourceType, Expression operand) {\n    Expression convert = null;\n    switch (sourceType.getSqlTypeName()) {\n    case CHAR:\n    case VARCHAR:\n      convert =\n          Expressions.call(BuiltInMethod.STRING_TO_TIME.method, operand);\n      break;\n    case TIME_WITH_LOCAL_TIME_ZONE:\n      convert = RexImpTable.optimize2(\n          operand,\n          Expressions.call(\n              BuiltInMethod.TIME_WITH_LOCAL_TIME_ZONE_TO_TIME.method,\n              operand,\n              Expressions.call(BuiltInMethod.TIME_ZONE.method, root)));\n      break;\n    case TIMESTAMP:\n      convert = Expressions.convert_(\n          Expressions.call(\n              BuiltInMethod.FLOOR_MOD.method,\n              operand,\n              Expressions.constant(DateTimeUtils.MILLIS_PER_DAY)),\n          int.class);\n      break;\n    case TIMESTAMP_WITH_LOCAL_TIME_ZONE:\n      convert = RexImpTable.optimize2(\n          operand,\n          Expressions.call(\n              BuiltInMethod.TIMESTAMP_WITH_LOCAL_TIME_ZONE_TO_TIME.method,\n              operand,\n              Expressions.call(BuiltInMethod.TIME_ZONE.method, root)));\n      break;\n    default:\n      break;\n    }\n    return convert;\n  }\n","date":"2020-11-30 06:45:33","endLine":636,"groupId":"102156","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"translateCastToTime","params":"(RelDataTypesourceType@Expressionoperand)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-calcite-10-0.7/blobInfo/CC_OUT/blobs/ee/78362efd5815b5334cc4d1ed7a5d472c53f7e0.src","preCode":"  private Expression translateCastToTime(RelDataType sourceType, Expression operand) {\n    Expression convert = null;\n    switch (sourceType.getSqlTypeName()) {\n    case CHAR:\n    case VARCHAR:\n      convert =\n          Expressions.call(BuiltInMethod.STRING_TO_TIME.method, operand);\n      break;\n    case TIME_WITH_LOCAL_TIME_ZONE:\n      convert = RexImpTable.optimize2(\n          operand,\n          Expressions.call(\n              BuiltInMethod.TIME_WITH_LOCAL_TIME_ZONE_TO_TIME.method,\n              operand,\n              Expressions.call(BuiltInMethod.TIME_ZONE.method, root)));\n      break;\n    case TIMESTAMP:\n      convert = Expressions.convert_(\n          Expressions.call(\n              BuiltInMethod.FLOOR_MOD.method,\n              operand,\n              Expressions.constant(DateTimeUtils.MILLIS_PER_DAY)),\n          int.class);\n      break;\n    case TIMESTAMP_WITH_LOCAL_TIME_ZONE:\n      convert = RexImpTable.optimize2(\n          operand,\n          Expressions.call(\n              BuiltInMethod.TIMESTAMP_WITH_LOCAL_TIME_ZONE_TO_TIME.method,\n              operand,\n              Expressions.call(BuiltInMethod.TIME_ZONE.method, root)));\n      break;\n    default:\n      break;\n    }\n    return convert;\n  }\n","realPath":"core/src/main/java/org/apache/calcite/adapter/enumerable/RexToLixTranslator.java","repoName":"calcite","snippetEndLine":0,"snippetStartLine":0,"startLine":600,"status":"M"},{"authorDate":"2020-05-29 00:04:40","commitOrder":3,"curCode":"  private static Expression scaleIntervalToNumber(\n      RelDataType sourceType,\n      RelDataType targetType,\n      Expression operand) {\n    switch (requireNonNull(targetType.getSqlTypeName().getFamily(),\n        () -> \"SqlTypeFamily for \" + targetType)) {\n    case NUMERIC:\n      switch (sourceType.getSqlTypeName()) {\n      case INTERVAL_YEAR:\n      case INTERVAL_YEAR_MONTH:\n      case INTERVAL_MONTH:\n      case INTERVAL_DAY:\n      case INTERVAL_DAY_HOUR:\n      case INTERVAL_DAY_MINUTE:\n      case INTERVAL_DAY_SECOND:\n      case INTERVAL_HOUR:\n      case INTERVAL_HOUR_MINUTE:\n      case INTERVAL_HOUR_SECOND:\n      case INTERVAL_MINUTE:\n      case INTERVAL_MINUTE_SECOND:\n      case INTERVAL_SECOND:\n        \r\n        final BigDecimal multiplier = BigDecimal.ONE;\n        final BigDecimal divider =\n            sourceType.getSqlTypeName().getEndUnit().multiplier;\n        return RexImpTable.multiplyDivide(operand, multiplier, divider);\n      default:\n        break;\n      }\n      break;\n    default:\n      break;\n    }\n    return operand;\n  }\n","date":"2020-11-30 06:45:33","endLine":977,"groupId":"102156","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"scaleIntervalToNumber","params":"(RelDataTypesourceType@RelDataTypetargetType@Expressionoperand)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-calcite-10-0.7/blobInfo/CC_OUT/blobs/ee/78362efd5815b5334cc4d1ed7a5d472c53f7e0.src","preCode":"  private static Expression scaleIntervalToNumber(\n      RelDataType sourceType,\n      RelDataType targetType,\n      Expression operand) {\n    switch (targetType.getSqlTypeName().getFamily()) {\n    case NUMERIC:\n      switch (sourceType.getSqlTypeName()) {\n      case INTERVAL_YEAR:\n      case INTERVAL_YEAR_MONTH:\n      case INTERVAL_MONTH:\n      case INTERVAL_DAY:\n      case INTERVAL_DAY_HOUR:\n      case INTERVAL_DAY_MINUTE:\n      case INTERVAL_DAY_SECOND:\n      case INTERVAL_HOUR:\n      case INTERVAL_HOUR_MINUTE:\n      case INTERVAL_HOUR_SECOND:\n      case INTERVAL_MINUTE:\n      case INTERVAL_MINUTE_SECOND:\n      case INTERVAL_SECOND:\n        \r\n        final BigDecimal multiplier = BigDecimal.ONE;\n        final BigDecimal divider =\n            sourceType.getSqlTypeName().getEndUnit().multiplier;\n        return RexImpTable.multiplyDivide(operand, multiplier, divider);\n      default:\n        break;\n      }\n      break;\n    default:\n      break;\n    }\n    return operand;\n  }\n","realPath":"core/src/main/java/org/apache/calcite/adapter/enumerable/RexToLixTranslator.java","repoName":"calcite","snippetEndLine":0,"snippetStartLine":0,"startLine":943,"status":"M"}],"commitId":"d9a81b88ad561e7e4cedae93e805e0d7a53a7f1a","commitMessage":"@@@[CALCITE-4199] Add nullability annotations\n\nThe commit includes javadoc updates and refactorings made by Julian Hyde in https://github.com/apache/calcite/pull/2278\n","date":"2020-11-30 06:45:33","modifiedFileCount":"1012","status":"M","submitter":"Vladimir Sitnikov"}]
