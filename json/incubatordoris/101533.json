[{"authorTime":"2020-07-28 15:18:52","codes":[{"authorDate":"2020-07-21 12:42:42","commitOrder":2,"curCode":"    public static TruncateTableInfo read(DataInput in) throws IOException {\n        if (Catalog.getCurrentCatalogJournalVersion() < FeMetaVersion.VERSION_74) {\n            TruncateTableInfo info = new TruncateTableInfo();\n            info.readFields(in);\n            return info;\n        } else {\n            String json = Text.readString(in);\n            return GsonUtils.GSON.fromJson(json, TruncateTableInfo.class);\n        }\n    }\n","date":"2020-07-21 12:42:42","endLine":82,"groupId":"1292","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"read","params":"(DataInputin)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/30/3212353e2e980352d709cfe7af564a22e931ac.src","preCode":"    public static TruncateTableInfo read(DataInput in) throws IOException {\n        if (Catalog.getCurrentCatalogJournalVersion() < FeMetaVersion.VERSION_74) {\n            TruncateTableInfo info = new TruncateTableInfo();\n            info.readFields(in);\n            return info;\n        } else {\n            String json = Text.readString(in);\n            return GsonUtils.GSON.fromJson(json, TruncateTableInfo.class);\n        }\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/persist/TruncateTableInfo.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"NB"},{"authorDate":"2020-07-28 15:18:52","commitOrder":2,"curCode":"    public static DropDbInfo read(DataInput in) throws IOException {\n        if (Catalog.getCurrentCatalogJournalVersion() < FeMetaVersion.VERSION_88) {\n            DropDbInfo info = new DropDbInfo();\n            info.readFields(in);\n            return info;\n        } else {\n            String json = Text.readString(in);\n            return GsonUtils.GSON.fromJson(json, DropDbInfo.class);\n        }\n    }\n","date":"2020-07-28 15:18:52","endLine":67,"groupId":"1292","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"read","params":"(DataInputin)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/6d/c01f25ae7257a021874a6715d34e8896fde35a.src","preCode":"    public static DropDbInfo read(DataInput in) throws IOException {\n        if (Catalog.getCurrentCatalogJournalVersion() < FeMetaVersion.VERSION_88) {\n            DropDbInfo info = new DropDbInfo();\n            info.readFields(in);\n            return info;\n        } else {\n            String json = Text.readString(in);\n            return GsonUtils.GSON.fromJson(json, DropDbInfo.class);\n        }\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/persist/DropDbInfo.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":58,"status":"B"}],"commitId":"150f8e0e2b5e6c0224554c75715d030efe64fa8d","commitMessage":"@@@Support check committed txns before catalog drop meta.  like db.  table.  partition etc (#4029)\n\nThis PR is to ensure that dropped db .  table or partition can be with normal state after recovered by user. Commited txns can not be aborted.  because the partitions's commited versions have been changed.  and some tablets may already have new visible versions. If user just don't want the meta(db.  table or partition) anymore.  just use drop force instead of drop to skip committed txn check.","date":"2020-07-28 15:18:52","modifiedFileCount":"20","status":"M","submitter":"caiconghui"},{"authorTime":"2020-07-30 09:54:20","codes":[{"authorDate":"2020-07-21 12:42:42","commitOrder":3,"curCode":"    public static TruncateTableInfo read(DataInput in) throws IOException {\n        if (Catalog.getCurrentCatalogJournalVersion() < FeMetaVersion.VERSION_74) {\n            TruncateTableInfo info = new TruncateTableInfo();\n            info.readFields(in);\n            return info;\n        } else {\n            String json = Text.readString(in);\n            return GsonUtils.GSON.fromJson(json, TruncateTableInfo.class);\n        }\n    }\n","date":"2020-07-21 12:42:42","endLine":82,"groupId":"101533","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"read","params":"(DataInputin)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/30/3212353e2e980352d709cfe7af564a22e931ac.src","preCode":"    public static TruncateTableInfo read(DataInput in) throws IOException {\n        if (Catalog.getCurrentCatalogJournalVersion() < FeMetaVersion.VERSION_74) {\n            TruncateTableInfo info = new TruncateTableInfo();\n            info.readFields(in);\n            return info;\n        } else {\n            String json = Text.readString(in);\n            return GsonUtils.GSON.fromJson(json, TruncateTableInfo.class);\n        }\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/persist/TruncateTableInfo.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"N"},{"authorDate":"2020-07-30 09:54:20","commitOrder":3,"curCode":"    public static DropDbInfo read(DataInput in) throws IOException {\n        if (Catalog.getCurrentCatalogJournalVersion() < FeMetaVersion.VERSION_89) {\n            DropDbInfo info = new DropDbInfo();\n            info.readFields(in);\n            return info;\n        } else {\n            String json = Text.readString(in);\n            return GsonUtils.GSON.fromJson(json, DropDbInfo.class);\n        }\n    }\n","date":"2020-07-30 09:54:20","endLine":67,"groupId":"101533","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"read","params":"(DataInputin)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/1f/b335cd379fe86afd84e83384b590d4cf6284ac.src","preCode":"    public static DropDbInfo read(DataInput in) throws IOException {\n        if (Catalog.getCurrentCatalogJournalVersion() < FeMetaVersion.VERSION_88) {\n            DropDbInfo info = new DropDbInfo();\n            info.readFields(in);\n            return info;\n        } else {\n            String json = Text.readString(in);\n            return GsonUtils.GSON.fromJson(json, DropDbInfo.class);\n        }\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/persist/DropDbInfo.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":58,"status":"M"}],"commitId":"237271c764e19fb68c23b9d571741d65a0c6d61a","commitMessage":"@@@[Bug] Fix fe meta version problem.  make drop meta check code easy to read and add doc content for drop meta check (#4205)\n\nThis PR is mainly do three things:\n1. Fix fe meta version bug introduced by #4029 .  when fix conflict with #4086 \n2. Make drop check code easy to read\n3. Add doc content for drop meta check","date":"2020-07-30 09:54:20","modifiedFileCount":"7","status":"M","submitter":"caiconghui"}]
