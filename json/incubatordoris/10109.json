[{"authorTime":"2020-07-21 12:42:42","codes":[{"authorDate":"2020-10-15 22:49:39","commitOrder":2,"curCode":"    public void setUp() {\n        fakeCatalog = new FakeCatalog();\n\n        catalog = AccessTestUtil.fetchAdminCatalog();\n        FakeCatalog.setCatalog(catalog);\n\n        analyzer = AccessTestUtil.fetchAdminAnalyzer(true);\n        new Expectations(analyzer) {\n            {\n                analyzer.getDefaultDb();\n                minTimes = 0;\n                result = \"testCluster:testDb\";\n\n                analyzer.getQualifiedUser();\n                minTimes = 0;\n                result = \"testCluster:testUser\";\n\n                analyzer.getClusterName();\n                minTimes = 0;\n                result = \"testCluster\";\n\n                analyzer.getCatalog();\n                minTimes = 0;\n                result = catalog;\n            }\n        };\n    }\n","date":"2020-10-15 22:49:39","endLine":47,"groupId":"1569","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/51/04b713682aed815a3b45264abbc939cc2682e4.src","preCode":"    public void setUp() {\n        fakeCatalog = new FakeCatalog();\n\n        catalog = AccessTestUtil.fetchAdminCatalog();\n        FakeCatalog.setCatalog(catalog);\n\n        analyzer = AccessTestUtil.fetchAdminAnalyzer(true);\n        new Expectations(analyzer) {\n            {\n                analyzer.getDefaultDb();\n                minTimes = 0;\n                result = \"testCluster:testDb\";\n\n                analyzer.getQualifiedUser();\n                minTimes = 0;\n                result = \"testCluster:testUser\";\n\n                analyzer.getClusterName();\n                minTimes = 0;\n                result = \"testCluster\";\n\n                analyzer.getCatalog();\n                minTimes = 0;\n                result = catalog;\n            }\n        };\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/analysis/CancelLoadStmtTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":21,"status":"B"},{"authorDate":"2020-07-21 12:42:42","commitOrder":2,"curCode":"    public static Database mockDb(String name) {\n        Database db = new Database();\n        OlapTable olapTable = mockTable(\"testTable\");\n\n        new Expectations(db) {\n            {\n                db.getTable(\"testTable\");\n                minTimes = 0;\n                result = olapTable;\n\n                db.getTable(\"emptyTable\");\n                minTimes = 0;\n                result = null;\n\n                db.getTableNamesWithLock();\n                minTimes = 0;\n                result = Sets.newHashSet(\"testTable\");\n\n                db.getTables();\n                minTimes = 0;\n                result = Lists.newArrayList(olapTable);\n\n                db.readLock();\n                minTimes = 0;\n\n                db.readUnlock();\n                minTimes = 0;\n\n                db.getFullName();\n                minTimes = 0;\n                result = name;\n            }\n        };\n        return db;\n    }\n","date":"2020-07-21 12:42:42","endLine":265,"groupId":"5621","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"mockDb","params":"(Stringname)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/d2/22a6abf0c3060ddf5b787449bdf7386050bcaf.src","preCode":"    public static Database mockDb(String name) {\n        Database db = new Database();\n        OlapTable olapTable = mockTable(\"testTable\");\n\n        new Expectations(db) {\n            {\n                db.getTable(\"testTable\");\n                minTimes = 0;\n                result = olapTable;\n\n                db.getTable(\"emptyTable\");\n                minTimes = 0;\n                result = null;\n\n                db.getTableNamesWithLock();\n                minTimes = 0;\n                result = Sets.newHashSet(\"testTable\");\n\n                db.getTables();\n                minTimes = 0;\n                result = Lists.newArrayList(olapTable);\n\n                db.readLock();\n                minTimes = 0;\n\n                db.readUnlock();\n                minTimes = 0;\n\n                db.getFullName();\n                minTimes = 0;\n                result = name;\n            }\n        };\n        return db;\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/analysis/AccessTestUtil.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":231,"status":"NB"}],"commitId":"21e7428999c1ec5cd201eebba8a38ebb50a3b662","commitMessage":"@@@[Feature] Support cancel load jobs in batch (#4515)\n\nSupport statement like:\n`cancel load where label like 'xxx';`","date":"2020-10-15 22:49:39","modifiedFileCount":"4","status":"M","submitter":"xy720"},{"authorTime":"2021-09-03 13:34:49","codes":[{"authorDate":"2020-10-15 22:49:39","commitOrder":3,"curCode":"    public void setUp() {\n        fakeCatalog = new FakeCatalog();\n\n        catalog = AccessTestUtil.fetchAdminCatalog();\n        FakeCatalog.setCatalog(catalog);\n\n        analyzer = AccessTestUtil.fetchAdminAnalyzer(true);\n        new Expectations(analyzer) {\n            {\n                analyzer.getDefaultDb();\n                minTimes = 0;\n                result = \"testCluster:testDb\";\n\n                analyzer.getQualifiedUser();\n                minTimes = 0;\n                result = \"testCluster:testUser\";\n\n                analyzer.getClusterName();\n                minTimes = 0;\n                result = \"testCluster\";\n\n                analyzer.getCatalog();\n                minTimes = 0;\n                result = catalog;\n            }\n        };\n    }\n","date":"2020-10-15 22:49:39","endLine":47,"groupId":"10109","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/51/04b713682aed815a3b45264abbc939cc2682e4.src","preCode":"    public void setUp() {\n        fakeCatalog = new FakeCatalog();\n\n        catalog = AccessTestUtil.fetchAdminCatalog();\n        FakeCatalog.setCatalog(catalog);\n\n        analyzer = AccessTestUtil.fetchAdminAnalyzer(true);\n        new Expectations(analyzer) {\n            {\n                analyzer.getDefaultDb();\n                minTimes = 0;\n                result = \"testCluster:testDb\";\n\n                analyzer.getQualifiedUser();\n                minTimes = 0;\n                result = \"testCluster:testUser\";\n\n                analyzer.getClusterName();\n                minTimes = 0;\n                result = \"testCluster\";\n\n                analyzer.getCatalog();\n                minTimes = 0;\n                result = catalog;\n            }\n        };\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/analysis/CancelLoadStmtTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":21,"status":"N"},{"authorDate":"2021-09-03 13:34:49","commitOrder":3,"curCode":"    public static Database mockDb(String name) {\n        Database db = new Database();\n        OlapTable olapTable = mockTable(\"testTable\");\n\n        new Expectations(db) {\n            {\n                db.getTableNullable(\"testTable\");\n                minTimes = 0;\n                result = olapTable;\n\n                db.getTableNullable(\"emptyTable\");\n                minTimes = 0;\n                result = null;\n\n                db.getTableNamesWithLock();\n                minTimes = 0;\n                result = Sets.newHashSet(\"testTable\");\n\n                db.getTables();\n                minTimes = 0;\n                result = Lists.newArrayList(olapTable);\n\n                db.readLock();\n                minTimes = 0;\n\n                db.readUnlock();\n                minTimes = 0;\n\n                db.getFullName();\n                minTimes = 0;\n                result = name;\n            }\n        };\n        return db;\n    }\n","date":"2021-09-03 13:34:49","endLine":265,"groupId":"10109","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"mockDb","params":"(Stringname)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/61/587052dfc19befa3e4580f6538868a3bcd7c70.src","preCode":"    public static Database mockDb(String name) {\n        Database db = new Database();\n        OlapTable olapTable = mockTable(\"testTable\");\n\n        new Expectations(db) {\n            {\n                db.getTable(\"testTable\");\n                minTimes = 0;\n                result = olapTable;\n\n                db.getTable(\"emptyTable\");\n                minTimes = 0;\n                result = null;\n\n                db.getTableNamesWithLock();\n                minTimes = 0;\n                result = Sets.newHashSet(\"testTable\");\n\n                db.getTables();\n                minTimes = 0;\n                result = Lists.newArrayList(olapTable);\n\n                db.readLock();\n                minTimes = 0;\n\n                db.readUnlock();\n                minTimes = 0;\n\n                db.getFullName();\n                minTimes = 0;\n                result = name;\n            }\n        };\n        return db;\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/analysis/AccessTestUtil.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":231,"status":"M"}],"commitId":"df54b34f9843adf80d5fa753383797690e9458dd","commitMessage":"@@@[Catalog] Enforce null check at Catalog.getDb and Database.getTable (#6416)\n\nfix #5378 #5391 #5688 #5973 #6155 and all replay NPE. All replay method can now throw MetaNotFoundException and caught to log a warning for potential inconsistent metadata cases.\n\ntry to establish a clear notice for future developer to check null.","date":"2021-09-03 13:34:49","modifiedFileCount":"190","status":"M","submitter":"ccoffline"}]
