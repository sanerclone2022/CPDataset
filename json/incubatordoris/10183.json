[{"authorTime":"2020-07-21 12:42:42","codes":[{"authorDate":"2020-07-21 12:42:42","commitOrder":1,"curCode":"    public void testNormal() throws AnalysisException, UserException {\n        List<AlterClause> ops = Lists.newArrayList();\n        ops.add(new DropColumnClause(\"col1\", \"\", null));\n        ops.add(new DropColumnClause(\"col2\", \"\", null));\n        AlterTableStmt stmt = new AlterTableStmt(new TableName(\"testDb\", \"testTbl\"), ops);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"ALTER TABLE `testCluster:testDb`.`testTbl` DROP COLUMN `col1`, \\nDROP COLUMN `col2`\",\n                stmt.toSql());\n        Assert.assertEquals(\"testCluster:testDb\", stmt.getTbl().getDb());\n        Assert.assertEquals(2, stmt.getOps().size());\n    }\n","date":"2020-07-21 12:42:42","endLine":75,"groupId":"8218","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testNormal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/99/c800574fcc18d504b84f768c328b78ae2a155d.src","preCode":"    public void testNormal() throws AnalysisException, UserException {\n        List<AlterClause> ops = Lists.newArrayList();\n        ops.add(new DropColumnClause(\"col1\", \"\", null));\n        ops.add(new DropColumnClause(\"col2\", \"\", null));\n        AlterTableStmt stmt = new AlterTableStmt(new TableName(\"testDb\", \"testTbl\"), ops);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"ALTER TABLE `testCluster:testDb`.`testTbl` DROP COLUMN `col1`, \\nDROP COLUMN `col2`\",\n                stmt.toSql());\n        Assert.assertEquals(\"testCluster:testDb\", stmt.getTbl().getDb());\n        Assert.assertEquals(2, stmt.getOps().size());\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/analysis/AlterTableStmtTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":65,"status":"B"},{"authorDate":"2020-07-21 12:42:42","commitOrder":1,"curCode":"    public void testNoTable() throws AnalysisException, UserException {\n        List<AlterClause> ops = Lists.newArrayList();\n        ops.add(new DropColumnClause(\"col1\", \"\", null));\n        AlterTableStmt stmt = new AlterTableStmt(null, ops);\n        stmt.analyze(analyzer);\n\n        Assert.fail(\"No exception throws.\");\n    }\n","date":"2020-07-21 12:42:42","endLine":99,"groupId":"1999","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testNoTable","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/99/c800574fcc18d504b84f768c328b78ae2a155d.src","preCode":"    public void testNoTable() throws AnalysisException, UserException {\n        List<AlterClause> ops = Lists.newArrayList();\n        ops.add(new DropColumnClause(\"col1\", \"\", null));\n        AlterTableStmt stmt = new AlterTableStmt(null, ops);\n        stmt.analyze(analyzer);\n\n        Assert.fail(\"No exception throws.\");\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/analysis/AlterTableStmtTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":92,"status":"B"}],"commitId":"ad17afef9139a9aeedeb2e92638e95886d515f14","commitMessage":"@@@[CodeRefactor] #4098 Make FE multi module (#4099)\n\nThis PR change the FE code structure to maven multi module structure. \nSee ISSUE: #4098 for more info.  such as How to resolve conflicts.","date":"2020-07-21 12:42:42","modifiedFileCount":"0","status":"B","submitter":"Mingyu Chen"},{"authorTime":"2020-07-28 15:18:52","codes":[{"authorDate":"2020-07-28 15:18:52","commitOrder":2,"curCode":"    public void testNormal() throws UserException {\n        List<AlterClause> ops = Lists.newArrayList();\n        ops.add(new DropColumnClause(\"col1\", \"\", null));\n        ops.add(new DropColumnClause(\"col2\", \"\", null));\n        AlterTableStmt stmt = new AlterTableStmt(new TableName(\"testDb\", \"testTbl\"), ops);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"ALTER TABLE `testCluster:testDb`.`testTbl` DROP COLUMN `col1`, \\nDROP COLUMN `col2`\",\n                stmt.toSql());\n        Assert.assertEquals(\"testCluster:testDb\", stmt.getTbl().getDb());\n        Assert.assertEquals(2, stmt.getOps().size());\n    }\n","date":"2020-07-28 15:18:52","endLine":75,"groupId":"10183","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testNormal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/42/da34ddbb77408389f86357a05ec8ee2ce25a7a.src","preCode":"    public void testNormal() throws AnalysisException, UserException {\n        List<AlterClause> ops = Lists.newArrayList();\n        ops.add(new DropColumnClause(\"col1\", \"\", null));\n        ops.add(new DropColumnClause(\"col2\", \"\", null));\n        AlterTableStmt stmt = new AlterTableStmt(new TableName(\"testDb\", \"testTbl\"), ops);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"ALTER TABLE `testCluster:testDb`.`testTbl` DROP COLUMN `col1`, \\nDROP COLUMN `col2`\",\n                stmt.toSql());\n        Assert.assertEquals(\"testCluster:testDb\", stmt.getTbl().getDb());\n        Assert.assertEquals(2, stmt.getOps().size());\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/analysis/AlterTableStmtTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":65,"status":"M"},{"authorDate":"2020-07-28 15:18:52","commitOrder":2,"curCode":"    public void testNoTable() throws UserException {\n        List<AlterClause> ops = Lists.newArrayList();\n        ops.add(new DropColumnClause(\"col1\", \"\", null));\n        AlterTableStmt stmt = new AlterTableStmt(null, ops);\n        stmt.analyze(analyzer);\n\n        Assert.fail(\"No exception throws.\");\n    }\n","date":"2020-07-28 15:18:52","endLine":99,"groupId":"10183","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testNoTable","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/42/da34ddbb77408389f86357a05ec8ee2ce25a7a.src","preCode":"    public void testNoTable() throws AnalysisException, UserException {\n        List<AlterClause> ops = Lists.newArrayList();\n        ops.add(new DropColumnClause(\"col1\", \"\", null));\n        AlterTableStmt stmt = new AlterTableStmt(null, ops);\n        stmt.analyze(analyzer);\n\n        Assert.fail(\"No exception throws.\");\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/analysis/AlterTableStmtTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":92,"status":"M"}],"commitId":"150f8e0e2b5e6c0224554c75715d030efe64fa8d","commitMessage":"@@@Support check committed txns before catalog drop meta.  like db.  table.  partition etc (#4029)\n\nThis PR is to ensure that dropped db .  table or partition can be with normal state after recovered by user. Commited txns can not be aborted.  because the partitions's commited versions have been changed.  and some tablets may already have new visible versions. If user just don't want the meta(db.  table or partition) anymore.  just use drop force instead of drop to skip committed txn check.","date":"2020-07-28 15:18:52","modifiedFileCount":"20","status":"M","submitter":"caiconghui"}]
