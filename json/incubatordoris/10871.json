[{"authorTime":"2020-07-21 12:42:42","codes":[{"authorDate":"2021-05-26 09:58:02","commitOrder":2,"curCode":"    public ShowResultSetMetaData getMetaData() {\n        ShowResultSetMetaData.Builder builder = ShowResultSetMetaData.builder();\n        builder.addColumn(new Column(\"DbName\", ScalarType.createVarchar(30)));\n        builder.addColumn(new Column(\"TableName\", ScalarType.createVarchar(30)));\n        builder.addColumn(new Column(\"DbId\", ScalarType.createVarchar(30)));\n        return builder.build();\n    }\n","date":"2021-05-26 09:58:02","endLine":72,"groupId":"3650","id":1,"instanceNumber":1,"isCurCommit":1,"methodName":"getMetaData","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/7f/0f09585d1a71a5f353226296d4481ddd5463c6.src","preCode":"    public ShowResultSetMetaData getMetaData() {\n        ShowResultSetMetaData.Builder builder = ShowResultSetMetaData.builder();\n        builder.addColumn(new Column(\"DbName\", ScalarType.createVarchar(30)));\n        builder.addColumn(new Column(\"TableName\", ScalarType.createVarchar(30)));\n        builder.addColumn(new Column(\"DbId\", ScalarType.createVarchar(30)));\n        return builder.build();\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/analysis/ShowTableIdStmt.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":66,"status":"B"},{"authorDate":"2020-07-21 12:42:42","commitOrder":2,"curCode":"    public ShowResultSetMetaData getMetaData() {\n        ShowResultSetMetaData.Builder builder = ShowResultSetMetaData.builder();\n        if (isShowSingleTablet) {\n            builder.addColumn(new Column(\"DbName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"TableName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"PartitionName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"IndexName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"DbId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"TableId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"PartitionId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"IndexId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"IsSync\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"DetailCmd\", ScalarType.createVarchar(30)));\n        } else {\n            for (String title : TabletsProcDir.TITLE_NAMES) {\n                builder.addColumn(new Column(title, ScalarType.createVarchar(30)));\n            }\n        }\n        return builder.build();\n    }\n","date":"2020-07-21 12:42:42","endLine":294,"groupId":"3650","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"getMetaData","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/ac/8063a5a49945f82e9fd374b5f97378264437f5.src","preCode":"    public ShowResultSetMetaData getMetaData() {\n        ShowResultSetMetaData.Builder builder = ShowResultSetMetaData.builder();\n        if (isShowSingleTablet) {\n            builder.addColumn(new Column(\"DbName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"TableName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"PartitionName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"IndexName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"DbId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"TableId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"PartitionId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"IndexId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"IsSync\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"DetailCmd\", ScalarType.createVarchar(30)));\n        } else {\n            for (String title : TabletsProcDir.TITLE_NAMES) {\n                builder.addColumn(new Column(title, ScalarType.createVarchar(30)));\n            }\n        }\n        return builder.build();\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/analysis/ShowTabletStmt.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":275,"status":"NB"}],"commitId":"ba69f7a7c80c843a2e6fbff4218e7b8dea681b60","commitMessage":"@@@[Command] [SQL] Add show database/table/partition id command (#5807)\n\nIn BE.  when a problem happened.  in the log.  we can find the database id.  table id.  partition id. \nbut no database name.  table name.  partition name.\n\nIn FE.  there also no way to find database name/table name/partition name accourding to\ndatabase id/table id/partition id. Therefore.  this patch add 3 new commands:\n\n1. show database id;\nmysql> show database 10002;\n+----------------------+\n| DbName               |\n+----------------------+\n| default_cluster:test |\n+----------------------+\n\n2. show table id;\nmysql> show table 11100;\n+----------------------+-----------+-------+\n| DbName               | TableName | DbId  |\n+----------------------+-----------+-------+\n| default_cluster:test | table2    | 10002 |\n+----------------------+-----------+-------+\n\n3. show partition id;\nmysql> show partition 11099;\n+----------------------+-----------+---------------+-------+---------+\n| DbName               | TableName | PartitionName | DbId  | TableId |\n+----------------------+-----------+---------------+-------+---------+\n| default_cluster:test | table2    | p201708       | 10002 | 11100   |\n+----------------------+-----------+---------------+-------+---------+","date":"2021-05-26 09:58:02","modifiedFileCount":"1","status":"M","submitter":"xinghuayu007"},{"authorTime":"2021-09-17 10:11:37","codes":[{"authorDate":"2021-05-26 09:58:02","commitOrder":3,"curCode":"    public ShowResultSetMetaData getMetaData() {\n        ShowResultSetMetaData.Builder builder = ShowResultSetMetaData.builder();\n        builder.addColumn(new Column(\"DbName\", ScalarType.createVarchar(30)));\n        builder.addColumn(new Column(\"TableName\", ScalarType.createVarchar(30)));\n        builder.addColumn(new Column(\"DbId\", ScalarType.createVarchar(30)));\n        return builder.build();\n    }\n","date":"2021-05-26 09:58:02","endLine":72,"groupId":"10871","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"getMetaData","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/7f/0f09585d1a71a5f353226296d4481ddd5463c6.src","preCode":"    public ShowResultSetMetaData getMetaData() {\n        ShowResultSetMetaData.Builder builder = ShowResultSetMetaData.builder();\n        builder.addColumn(new Column(\"DbName\", ScalarType.createVarchar(30)));\n        builder.addColumn(new Column(\"TableName\", ScalarType.createVarchar(30)));\n        builder.addColumn(new Column(\"DbId\", ScalarType.createVarchar(30)));\n        return builder.build();\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/analysis/ShowTableIdStmt.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":66,"status":"N"},{"authorDate":"2021-09-17 10:11:37","commitOrder":3,"curCode":"    public ShowResultSetMetaData getMetaData() {\n        ShowResultSetMetaData.Builder builder = ShowResultSetMetaData.builder();\n        if (isShowSingleTablet) {\n            builder.addColumn(new Column(\"DbName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"TableName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"PartitionName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"IndexName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"DbId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"TableId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"PartitionId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"IndexId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"IsSync\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"Order\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"DetailCmd\", ScalarType.createVarchar(30)));\n        } else {\n            for (String title : TabletsProcDir.TITLE_NAMES) {\n                builder.addColumn(new Column(title, ScalarType.createVarchar(30)));\n            }\n        }\n        return builder.build();\n    }\n","date":"2021-09-17 10:11:37","endLine":295,"groupId":"10871","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"getMetaData","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/d3/1db2655d580a6598c33255c6e5022a66147195.src","preCode":"    public ShowResultSetMetaData getMetaData() {\n        ShowResultSetMetaData.Builder builder = ShowResultSetMetaData.builder();\n        if (isShowSingleTablet) {\n            builder.addColumn(new Column(\"DbName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"TableName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"PartitionName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"IndexName\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"DbId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"TableId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"PartitionId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"IndexId\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"IsSync\", ScalarType.createVarchar(30)));\n            builder.addColumn(new Column(\"DetailCmd\", ScalarType.createVarchar(30)));\n        } else {\n            for (String title : TabletsProcDir.TITLE_NAMES) {\n                builder.addColumn(new Column(title, ScalarType.createVarchar(30)));\n            }\n        }\n        return builder.build();\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/analysis/ShowTabletStmt.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":275,"status":"M"}],"commitId":"fee8e6afc56709d1616e310fc9bb229e63439630","commitMessage":"@@@[Bug] Fix some bugs (#6665)\n\n1.Fix a potential BE coredump of sending batch when loading data. (Fix [Bug] BE crash when loading data #6656)\n2.Fix a potential BE coredump when doing schema change. (Fix [Bug] BE crash when doing alter task #6657)\n3.Optimize the metric of base_compaction_request_failed.\n4.Add Order column in show tablet result. (Fix [Feature] Add order column in SHOW TABLET stmt result #6658)\n5.Fix bug that tablet repair slot not being released. (Fix [Bug] Tablet scheduler stop working #6659)\n6.Fix bug that REPLICA_MISSING error can not be handled. (Fix [Bug] REPLICA_MISSING error can not be handled. #6660)\n7.Modify column name of SHOW PROC \"/cluster_balance/cluster_load_stat\"\n8.Optimize the result of SHOW PROC \"/statistic\" to show COLOCATE_MISMATCH tablets (Fix [Feature] the health status of colocate table's tablet is not shown in show proc statistic #6663)\n9.Fix bug that show load where state='pending' can not be executed. (Fix [Bug] show load where state='pending' can not be executed. #6664)","date":"2021-09-17 10:11:37","modifiedFileCount":"16","status":"M","submitter":"Mingyu Chen"}]
