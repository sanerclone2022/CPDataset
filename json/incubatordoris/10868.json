[{"authorTime":"2020-07-21 12:42:42","codes":[{"authorDate":"2020-07-21 12:42:42","commitOrder":1,"curCode":"    public String toSql() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(\"RESTORE SNAPSHOT \").append(labelName.toSql());\n        sb.append(\"\\n\").append(\"FROM \").append(repoName).append(\"\\nON\\n(\");\n\n        sb.append(Joiner.on(\",\\n\").join(tblRefs));\n\n        sb.append(\"\\n)\\nPROPERTIES\\n(\");\n        sb.append(new PrintableMap<String, String>(properties, \" = \", true, true));\n        sb.append(\"\\n)\");\n        return sb.toString();\n    }\n","date":"2020-07-21 12:42:42","endLine":158,"groupId":"3943","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"toSql","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/f7/7562e8ee2bae99cdf70162d96942dd07e4e0b8.src","preCode":"    public String toSql() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(\"RESTORE SNAPSHOT \").append(labelName.toSql());\n        sb.append(\"\\n\").append(\"FROM \").append(repoName).append(\"\\nON\\n(\");\n\n        sb.append(Joiner.on(\",\\n\").join(tblRefs));\n\n        sb.append(\"\\n)\\nPROPERTIES\\n(\");\n        sb.append(new PrintableMap<String, String>(properties, \" = \", true, true));\n        sb.append(\"\\n)\");\n        return sb.toString();\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/analysis/RestoreStmt.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":147,"status":"B"},{"authorDate":"2020-07-21 12:42:42","commitOrder":1,"curCode":"    public String toSql() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(\"BACKUP SNAPSHOT \").append(labelName.toSql());\n        sb.append(\"\\n\").append(\"TO \").append(repoName).append(\"\\nON\\n(\");\n\n        sb.append(Joiner.on(\",\\n\").join(tblRefs));\n\n        sb.append(\"\\n)\\nPROPERTIES\\n(\");\n        sb.append(new PrintableMap<String, String>(properties, \" = \", true, true));\n        sb.append(\"\\n)\");\n        return sb.toString();\n    }\n","date":"2020-07-21 12:42:42","endLine":105,"groupId":"3943","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"toSql","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/21/bd9aaeb773746154e06808c3453e811ad7ff7b.src","preCode":"    public String toSql() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(\"BACKUP SNAPSHOT \").append(labelName.toSql());\n        sb.append(\"\\n\").append(\"TO \").append(repoName).append(\"\\nON\\n(\");\n\n        sb.append(Joiner.on(\",\\n\").join(tblRefs));\n\n        sb.append(\"\\n)\\nPROPERTIES\\n(\");\n        sb.append(new PrintableMap<String, String>(properties, \" = \", true, true));\n        sb.append(\"\\n)\");\n        return sb.toString();\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/analysis/BackupStmt.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":94,"status":"B"}],"commitId":"ad17afef9139a9aeedeb2e92638e95886d515f14","commitMessage":"@@@[CodeRefactor] #4098 Make FE multi module (#4099)\n\nThis PR change the FE code structure to maven multi module structure. \nSee ISSUE: #4098 for more info.  such as How to resolve conflicts.","date":"2020-07-21 12:42:42","modifiedFileCount":"0","status":"B","submitter":"Mingyu Chen"},{"authorTime":"2021-02-01 00:12:35","codes":[{"authorDate":"2021-02-01 00:12:35","commitOrder":2,"curCode":"    public String toSql() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(\"RESTORE SNAPSHOT \").append(labelName.toSql());\n        sb.append(\"\\n\").append(\"FROM \").append(repoName).append(\"\\n\");\n        if (abstractBackupTableRefClause != null) {\n            sb.append(abstractBackupTableRefClause.toSql()).append(\"\\n\");\n        }\n        sb.append(\"PROPERTIES\\n(\");\n        sb.append(new PrintableMap<String, String>(properties, \" = \", true, true));\n        sb.append(\"\\n)\");\n        return sb.toString();\n    }\n","date":"2021-02-01 00:12:35","endLine":157,"groupId":"10868","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"toSql","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/a3/97d44764e57cd39f54c3bd6967ac21b1df7c89.src","preCode":"    public String toSql() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(\"RESTORE SNAPSHOT \").append(labelName.toSql());\n        sb.append(\"\\n\").append(\"FROM \").append(repoName).append(\"\\nON\\n(\");\n\n        sb.append(Joiner.on(\",\\n\").join(tblRefs));\n\n        sb.append(\"\\n)\\nPROPERTIES\\n(\");\n        sb.append(new PrintableMap<String, String>(properties, \" = \", true, true));\n        sb.append(\"\\n)\");\n        return sb.toString();\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/analysis/RestoreStmt.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":146,"status":"M"},{"authorDate":"2021-02-01 00:12:35","commitOrder":2,"curCode":"    public String toSql() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(\"BACKUP SNAPSHOT \").append(labelName.toSql());\n        sb.append(\"\\n\").append(\"TO \").append(repoName).append(\"\\n\");\n        if (abstractBackupTableRefClause != null) {\n            sb.append(abstractBackupTableRefClause.toSql()).append(\"\\n\");\n        }\n        sb.append(\"PROPERTIES\\n(\");\n        sb.append(new PrintableMap<>(properties, \" = \", true, true));\n        sb.append(\"\\n)\");\n        return sb.toString();\n    }\n","date":"2021-02-01 00:12:35","endLine":129,"groupId":"10868","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"toSql","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/89/709b9ba803b7dc245d7c45f593663a26939041.src","preCode":"    public String toSql() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(\"BACKUP SNAPSHOT \").append(labelName.toSql());\n        sb.append(\"\\n\").append(\"TO \").append(repoName).append(\"\\nON\\n(\");\n\n        sb.append(Joiner.on(\",\\n\").join(tblRefs));\n\n        sb.append(\"\\n)\\nPROPERTIES\\n(\");\n        sb.append(new PrintableMap<String, String>(properties, \" = \", true, true));\n        sb.append(\"\\n)\");\n        return sb.toString();\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/analysis/BackupStmt.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":118,"status":"M"}],"commitId":"bb7ba00ccf91e2a66b1f8932d134a06b63a73263","commitMessage":"@@@[Backup]Support content.  exclude and whole database in backup (#5314)\n\nThis PR support following functions:\n1. Support content properties in backup stmt. It means user can backup only metadata or\nmeta+data which use content [METADATA_ONLY| ALL]attribute to distinguish.\n2. Support exclude some tables in backup and restore stmt. This means that some\nvery large and unimportant tables can be excluded when the entire database is backed up.\n3. Support backup and restore whole database instead of declaring each table name\nin the backup and restore statement.\n\nThe backup and restore api has changed as following:\n```\nBACKUP SNAPSHOT [db_name].{snapshot_name}\nTO 'repo_name'\n[ON|EXCLUDE (\n    'table_name' [partition (p1. ...)]\n)]\n[properties (\n    \"content\" = \"metadata_only|all\"\n)]\n\nRESTORE SNAPSHOT [db_name].{snapshot_name}\nTO 'repo_name'\n[EXCLUDE|ON (\n    'table_name' [partition (p1. ...)]\n)]\n[properties (\n)]\n```","date":"2021-02-01 00:12:35","modifiedFileCount":"9","status":"M","submitter":"EmmyMiao87"}]
