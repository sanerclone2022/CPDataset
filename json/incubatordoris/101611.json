[{"authorTime":"2020-07-21 12:42:42","codes":[{"authorDate":"2020-07-21 12:42:42","commitOrder":1,"curCode":"    public boolean diskExceedLimitByStorageMedium(TStorageMedium storageMedium) {\n        if (getDiskNumByStorageMedium(storageMedium) <= 0) {\n            return true;\n        }\n        ImmutableMap<String, DiskInfo> diskInfos = disksRef.get();\n        boolean exceedLimit = true;\n        for (DiskInfo diskInfo : diskInfos.values()) {\n            if (diskInfo.getState() == DiskState.ONLINE && diskInfo.getStorageMedium() == storageMedium && !diskInfo.exceedLimit(true)) {\n                exceedLimit = false;\n                break;\n            }\n        }\n        return exceedLimit;\n    }\n","date":"2020-07-21 12:42:42","endLine":370,"groupId":"923","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"diskExceedLimitByStorageMedium","params":"(TStorageMediumstorageMedium)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/31/d1c9c4aad978a37ba1469003e8b8ebc8f59adb.src","preCode":"    public boolean diskExceedLimitByStorageMedium(TStorageMedium storageMedium) {\n        if (getDiskNumByStorageMedium(storageMedium) <= 0) {\n            return true;\n        }\n        ImmutableMap<String, DiskInfo> diskInfos = disksRef.get();\n        boolean exceedLimit = true;\n        for (DiskInfo diskInfo : diskInfos.values()) {\n            if (diskInfo.getState() == DiskState.ONLINE && diskInfo.getStorageMedium() == storageMedium && !diskInfo.exceedLimit(true)) {\n                exceedLimit = false;\n                break;\n            }\n        }\n        return exceedLimit;\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/system/Backend.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":357,"status":"B"},{"authorDate":"2020-07-21 12:42:42","commitOrder":1,"curCode":"    public boolean diskExceedLimit() {\n        if (getDiskNum() <= 0) {\n            return true;\n        }\n        ImmutableMap<String, DiskInfo> diskInfos = disksRef.get();\n        boolean exceedLimit = true;\n        for (DiskInfo diskInfo : diskInfos.values()) {\n            if (diskInfo.getState() == DiskState.ONLINE && !diskInfo.exceedLimit(true)) {\n                exceedLimit = false;\n                break;\n            }\n        }\n        return exceedLimit;\n    }\n","date":"2020-07-21 12:42:42","endLine":385,"groupId":"3692","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"diskExceedLimit","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/31/d1c9c4aad978a37ba1469003e8b8ebc8f59adb.src","preCode":"    public boolean diskExceedLimit() {\n        if (getDiskNum() <= 0) {\n            return true;\n        }\n        ImmutableMap<String, DiskInfo> diskInfos = disksRef.get();\n        boolean exceedLimit = true;\n        for (DiskInfo diskInfo : diskInfos.values()) {\n            if (diskInfo.getState() == DiskState.ONLINE && !diskInfo.exceedLimit(true)) {\n                exceedLimit = false;\n                break;\n            }\n        }\n        return exceedLimit;\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/system/Backend.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":372,"status":"B"}],"commitId":"ad17afef9139a9aeedeb2e92638e95886d515f14","commitMessage":"@@@[CodeRefactor] #4098 Make FE multi module (#4099)\n\nThis PR change the FE code structure to maven multi module structure. \nSee ISSUE: #4098 for more info.  such as How to resolve conflicts.","date":"2020-07-21 12:42:42","modifiedFileCount":"0","status":"B","submitter":"Mingyu Chen"},{"authorTime":"2020-07-27 15:48:35","codes":[{"authorDate":"2020-07-27 15:48:35","commitOrder":2,"curCode":"    public boolean diskExceedLimitByStorageMedium(TStorageMedium storageMedium) {\n        if (getDiskNumByStorageMedium(storageMedium) <= 0) {\n            return true;\n        }\n        ImmutableMap<String, DiskInfo> diskInfos = disksRef;\n        boolean exceedLimit = true;\n        for (DiskInfo diskInfo : diskInfos.values()) {\n            if (diskInfo.getState() == DiskState.ONLINE && diskInfo.getStorageMedium() == storageMedium && !diskInfo.exceedLimit(true)) {\n                exceedLimit = false;\n                break;\n            }\n        }\n        return exceedLimit;\n    }\n","date":"2020-07-27 15:48:35","endLine":367,"groupId":"101611","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"diskExceedLimitByStorageMedium","params":"(TStorageMediumstorageMedium)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/44/410250ba9c9e03e34f7b5d89776a6c19ac0dbe.src","preCode":"    public boolean diskExceedLimitByStorageMedium(TStorageMedium storageMedium) {\n        if (getDiskNumByStorageMedium(storageMedium) <= 0) {\n            return true;\n        }\n        ImmutableMap<String, DiskInfo> diskInfos = disksRef.get();\n        boolean exceedLimit = true;\n        for (DiskInfo diskInfo : diskInfos.values()) {\n            if (diskInfo.getState() == DiskState.ONLINE && diskInfo.getStorageMedium() == storageMedium && !diskInfo.exceedLimit(true)) {\n                exceedLimit = false;\n                break;\n            }\n        }\n        return exceedLimit;\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/system/Backend.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":354,"status":"M"},{"authorDate":"2020-07-27 15:48:35","commitOrder":2,"curCode":"    public boolean diskExceedLimit() {\n        if (getDiskNum() <= 0) {\n            return true;\n        }\n        ImmutableMap<String, DiskInfo> diskInfos = disksRef;\n        boolean exceedLimit = true;\n        for (DiskInfo diskInfo : diskInfos.values()) {\n            if (diskInfo.getState() == DiskState.ONLINE && !diskInfo.exceedLimit(true)) {\n                exceedLimit = false;\n                break;\n            }\n        }\n        return exceedLimit;\n    }\n","date":"2020-07-27 15:48:35","endLine":382,"groupId":"101611","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"diskExceedLimit","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/44/410250ba9c9e03e34f7b5d89776a6c19ac0dbe.src","preCode":"    public boolean diskExceedLimit() {\n        if (getDiskNum() <= 0) {\n            return true;\n        }\n        ImmutableMap<String, DiskInfo> diskInfos = disksRef.get();\n        boolean exceedLimit = true;\n        for (DiskInfo diskInfo : diskInfos.values()) {\n            if (diskInfo.getState() == DiskState.ONLINE && !diskInfo.exceedLimit(true)) {\n                exceedLimit = false;\n                break;\n            }\n        }\n        return exceedLimit;\n    }\n","realPath":"fe/fe-core/src/main/java/org/apache/doris/system/Backend.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":369,"status":"M"}],"commitId":"94ac0f43dcd4688262a822c22d46fab529f87bf6","commitMessage":"@@@Use LongAdder or volatile long to replace AtomicLong in some scenarios (#4131)\n\nThis PR is to use LongAdder or volatile long to replace AtomicLong in some scenarios.\nIn the statistical summation scenario.  LongAdder(introduced by jdk1.8) has better performance than AtomicLong in high concurrency update scenario. And if we just want to keep get and set operation for variable to be atomic.  just add volatile at the front of the variable is enough.  use AtomicLong is a little heavy.\nNOTE: LongAdder is usually preferable to AtomicLong when multiple threads update a common sum that is used for purposes such as collecting statistics.  not for fine-grained synchronization control.  such as auto-incremental ids.","date":"2020-07-27 15:48:35","modifiedFileCount":"16","status":"M","submitter":"caiconghui"}]
