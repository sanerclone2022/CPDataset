[{"authorTime":"2020-07-21 12:42:42","codes":[{"authorDate":"2020-09-16 17:57:48","commitOrder":2,"curCode":"    public void testWhere() throws UserException, AnalysisException {\n        ShowResourcesStmt stmt = new ShowResourcesStmt(null, null, null);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES\", stmt.toString());\n\n        SlotRef slotRef = new SlotRef(null, \"name\");\n        StringLiteral stringLiteral = new StringLiteral(\"abc\");\n        BinaryPredicate binaryPredicate = new BinaryPredicate(Operator.EQ, slotRef, stringLiteral);\n        stmt = new ShowResourcesStmt(binaryPredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES WHERE `name` = \\'abc\\' LIMIT 10\", stmt.toString());\n\n        LikePredicate likePredicate = new LikePredicate(org.apache.doris.analysis.LikePredicate.Operator.LIKE,\n                slotRef, stringLiteral);\n        stmt = new ShowResourcesStmt(likePredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES WHERE `name` LIKE \\'abc\\' LIMIT 10\", stmt.toString());\n    }\n","date":"2020-09-16 17:57:48","endLine":77,"groupId":"1525","id":1,"instanceNumber":1,"isCurCommit":1,"methodName":"testWhere","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/b7/06d9c9486c99d5e90395cef9df692f6cac75e9.src","preCode":"    public void testWhere() throws UserException, AnalysisException {\n        ShowResourcesStmt stmt = new ShowResourcesStmt(null, null, null);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES\", stmt.toString());\n\n        SlotRef slotRef = new SlotRef(null, \"name\");\n        StringLiteral stringLiteral = new StringLiteral(\"abc\");\n        BinaryPredicate binaryPredicate = new BinaryPredicate(Operator.EQ, slotRef, stringLiteral);\n        stmt = new ShowResourcesStmt(binaryPredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES WHERE `name` = \\'abc\\' LIMIT 10\", stmt.toString());\n\n        LikePredicate likePredicate = new LikePredicate(org.apache.doris.analysis.LikePredicate.Operator.LIKE,\n                slotRef, stringLiteral);\n        stmt = new ShowResourcesStmt(likePredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES WHERE `name` LIKE \\'abc\\' LIMIT 10\", stmt.toString());\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/analysis/ShowResourcesStmtTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":60,"status":"B"},{"authorDate":"2020-07-21 12:42:42","commitOrder":2,"curCode":"    public void testWhere() throws UserException, AnalysisException {\n        ShowLoadStmt stmt = new ShowLoadStmt(null, null, null, null);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb`\", stmt.toString());\n\n        SlotRef slotRef = new SlotRef(null, \"label\");\n        StringLiteral stringLiteral = new StringLiteral(\"abc\");\n        BinaryPredicate binaryPredicate = new BinaryPredicate(Operator.EQ, slotRef, stringLiteral);\n        stmt = new ShowLoadStmt(null, binaryPredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb` WHERE `label` = \\'abc\\' LIMIT 10\", stmt.toString());\n\n        LikePredicate likePredicate = new LikePredicate(org.apache.doris.analysis.LikePredicate.Operator.LIKE,\n                                                        slotRef, stringLiteral);\n        stmt = new ShowLoadStmt(null, likePredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb` WHERE `label` LIKE \\'abc\\' LIMIT 10\", stmt.toString());\n    }\n","date":"2020-07-21 12:42:42","endLine":116,"groupId":"1525","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testWhere","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/a4/5687575fbc218ab6766216eabffa815bfdcecc.src","preCode":"    public void testWhere() throws UserException, AnalysisException {\n        ShowLoadStmt stmt = new ShowLoadStmt(null, null, null, null);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb`\", stmt.toString());\n\n        SlotRef slotRef = new SlotRef(null, \"label\");\n        StringLiteral stringLiteral = new StringLiteral(\"abc\");\n        BinaryPredicate binaryPredicate = new BinaryPredicate(Operator.EQ, slotRef, stringLiteral);\n        stmt = new ShowLoadStmt(null, binaryPredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb` WHERE `label` = \\'abc\\' LIMIT 10\", stmt.toString());\n\n        LikePredicate likePredicate = new LikePredicate(org.apache.doris.analysis.LikePredicate.Operator.LIKE,\n                                                        slotRef, stringLiteral);\n        stmt = new ShowLoadStmt(null, likePredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb` WHERE `label` LIKE \\'abc\\' LIMIT 10\", stmt.toString());\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/analysis/ShowLoadStmtTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":99,"status":"NB"}],"commitId":"a1f52ec2abbf7b0d5cdc242c7312173934c2265e","commitMessage":"@@@[SQL] Support where.  limit.  order clause in show resourcestmt. (#4502)\n\n* [SQL] Support where.  limit.  order clause in show resourcestmt.\n\nGrammar\n\n    SHOW RESOURCES\n    [\n        WHERE\n        [NAME [ = \"your_resource_name\" | LIKE \"name_matcher\"]]\n        [RESOURCETYPE = [\"SPARK\"]]\n    ]\n    [ORDER BY ...]\n    [LIMIT limit][OFFSET offset];\n\nissue #4501","date":"2020-09-16 17:57:48","modifiedFileCount":"3","status":"M","submitter":"HappenLee"},{"authorTime":"2021-07-30 09:24:06","codes":[{"authorDate":"2020-09-16 17:57:48","commitOrder":3,"curCode":"    public void testWhere() throws UserException, AnalysisException {\n        ShowResourcesStmt stmt = new ShowResourcesStmt(null, null, null);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES\", stmt.toString());\n\n        SlotRef slotRef = new SlotRef(null, \"name\");\n        StringLiteral stringLiteral = new StringLiteral(\"abc\");\n        BinaryPredicate binaryPredicate = new BinaryPredicate(Operator.EQ, slotRef, stringLiteral);\n        stmt = new ShowResourcesStmt(binaryPredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES WHERE `name` = \\'abc\\' LIMIT 10\", stmt.toString());\n\n        LikePredicate likePredicate = new LikePredicate(org.apache.doris.analysis.LikePredicate.Operator.LIKE,\n                slotRef, stringLiteral);\n        stmt = new ShowResourcesStmt(likePredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES WHERE `name` LIKE \\'abc\\' LIMIT 10\", stmt.toString());\n    }\n","date":"2020-09-16 17:57:48","endLine":77,"groupId":"1525","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"testWhere","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/b7/06d9c9486c99d5e90395cef9df692f6cac75e9.src","preCode":"    public void testWhere() throws UserException, AnalysisException {\n        ShowResourcesStmt stmt = new ShowResourcesStmt(null, null, null);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES\", stmt.toString());\n\n        SlotRef slotRef = new SlotRef(null, \"name\");\n        StringLiteral stringLiteral = new StringLiteral(\"abc\");\n        BinaryPredicate binaryPredicate = new BinaryPredicate(Operator.EQ, slotRef, stringLiteral);\n        stmt = new ShowResourcesStmt(binaryPredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES WHERE `name` = \\'abc\\' LIMIT 10\", stmt.toString());\n\n        LikePredicate likePredicate = new LikePredicate(org.apache.doris.analysis.LikePredicate.Operator.LIKE,\n                slotRef, stringLiteral);\n        stmt = new ShowResourcesStmt(likePredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES WHERE `name` LIKE \\'abc\\' LIMIT 10\", stmt.toString());\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/analysis/ShowResourcesStmtTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":60,"status":"N"},{"authorDate":"2021-07-30 09:24:06","commitOrder":3,"curCode":"    public void testWhere() throws UserException, AnalysisException {\n        ShowLoadStmt stmt = new ShowLoadStmt(null, null, null, null);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb`\", stmt.toString());\n\n        SlotRef slotRef = new SlotRef(null, \"label\");\n        StringLiteral stringLiteral = new StringLiteral(\"abc\");\n        BinaryPredicate binaryPredicate = new BinaryPredicate(Operator.EQ, slotRef, stringLiteral);\n        stmt = new ShowLoadStmt(null, binaryPredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb` WHERE `label` = \\'abc\\' LIMIT 10\", stmt.toString());\n\n        StringLiteral stringLiteralLike = new StringLiteral(\"ab%\");\n        LikePredicate likePredicate = new LikePredicate(org.apache.doris.analysis.LikePredicate.Operator.LIKE,\n                                                        slotRef, stringLiteralLike);\n\n        stmt = new ShowLoadStmt(null, likePredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb` WHERE `label` LIKE \\'ab%\\' LIMIT 10\", stmt.toString());\n    }\n","date":"2021-07-30 09:24:06","endLine":118,"groupId":"1573","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testWhere","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/b9/027f360be5ef032b2721ec95e129e02e0f295a.src","preCode":"    public void testWhere() throws UserException, AnalysisException {\n        ShowLoadStmt stmt = new ShowLoadStmt(null, null, null, null);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb`\", stmt.toString());\n\n        SlotRef slotRef = new SlotRef(null, \"label\");\n        StringLiteral stringLiteral = new StringLiteral(\"abc\");\n        BinaryPredicate binaryPredicate = new BinaryPredicate(Operator.EQ, slotRef, stringLiteral);\n        stmt = new ShowLoadStmt(null, binaryPredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb` WHERE `label` = \\'abc\\' LIMIT 10\", stmt.toString());\n\n        LikePredicate likePredicate = new LikePredicate(org.apache.doris.analysis.LikePredicate.Operator.LIKE,\n                                                        slotRef, stringLiteral);\n        stmt = new ShowLoadStmt(null, likePredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb` WHERE `label` LIKE \\'abc\\' LIMIT 10\", stmt.toString());\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/analysis/ShowLoadStmtTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":99,"status":"M"}],"commitId":"14db74fac6ea3bff78b6e7557d621e623ebbee8e","commitMessage":"@@@[Bug] Fix show load like match (#6314)\n\n* fix show load like match\n\n* Compatible with historical issues","date":"2021-07-30 09:24:06","modifiedFileCount":"5","status":"M","submitter":"DinoZhang"},{"authorTime":"2021-09-17 10:11:37","codes":[{"authorDate":"2020-09-16 17:57:48","commitOrder":4,"curCode":"    public void testWhere() throws UserException, AnalysisException {\n        ShowResourcesStmt stmt = new ShowResourcesStmt(null, null, null);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES\", stmt.toString());\n\n        SlotRef slotRef = new SlotRef(null, \"name\");\n        StringLiteral stringLiteral = new StringLiteral(\"abc\");\n        BinaryPredicate binaryPredicate = new BinaryPredicate(Operator.EQ, slotRef, stringLiteral);\n        stmt = new ShowResourcesStmt(binaryPredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES WHERE `name` = \\'abc\\' LIMIT 10\", stmt.toString());\n\n        LikePredicate likePredicate = new LikePredicate(org.apache.doris.analysis.LikePredicate.Operator.LIKE,\n                slotRef, stringLiteral);\n        stmt = new ShowResourcesStmt(likePredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES WHERE `name` LIKE \\'abc\\' LIMIT 10\", stmt.toString());\n    }\n","date":"2020-09-16 17:57:48","endLine":77,"groupId":"1014","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"testWhere","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/b7/06d9c9486c99d5e90395cef9df692f6cac75e9.src","preCode":"    public void testWhere() throws UserException, AnalysisException {\n        ShowResourcesStmt stmt = new ShowResourcesStmt(null, null, null);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES\", stmt.toString());\n\n        SlotRef slotRef = new SlotRef(null, \"name\");\n        StringLiteral stringLiteral = new StringLiteral(\"abc\");\n        BinaryPredicate binaryPredicate = new BinaryPredicate(Operator.EQ, slotRef, stringLiteral);\n        stmt = new ShowResourcesStmt(binaryPredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES WHERE `name` = \\'abc\\' LIMIT 10\", stmt.toString());\n\n        LikePredicate likePredicate = new LikePredicate(org.apache.doris.analysis.LikePredicate.Operator.LIKE,\n                slotRef, stringLiteral);\n        stmt = new ShowResourcesStmt(likePredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW RESOURCES WHERE `name` LIKE \\'abc\\' LIMIT 10\", stmt.toString());\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/analysis/ShowResourcesStmtTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":60,"status":"N"},{"authorDate":"2021-09-17 10:11:37","commitOrder":4,"curCode":"    public void testWhere() throws UserException, AnalysisException {\n        ShowLoadStmt stmt = new ShowLoadStmt(null, null, null, null);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb`\", stmt.toString());\n\n        SlotRef slotRef = new SlotRef(null, \"label\");\n        StringLiteral stringLiteral = new StringLiteral(\"abc\");\n        BinaryPredicate binaryPredicate = new BinaryPredicate(Operator.EQ, slotRef, stringLiteral);\n        stmt = new ShowLoadStmt(null, binaryPredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb` WHERE `label` = \\'abc\\' LIMIT 10\", stmt.toString());\n\n        StringLiteral stringLiteralLike = new StringLiteral(\"ab%\");\n        LikePredicate likePredicate = new LikePredicate(org.apache.doris.analysis.LikePredicate.Operator.LIKE,\n                slotRef, stringLiteralLike);\n\n        stmt = new ShowLoadStmt(null, likePredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb` WHERE `label` LIKE \\'ab%\\' LIMIT 10\", stmt.toString());\n\n        BinaryPredicate statePredicate = new BinaryPredicate(Operator.EQ, new SlotRef(null, \"state\"), new StringLiteral(\"PENDING\"));\n        stmt = new ShowLoadStmt(null, statePredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb` WHERE `state` = \\'PENDING\\' LIMIT 10\", stmt.toString());\n    }\n","date":"2021-09-17 10:11:37","endLine":124,"groupId":"1014","id":6,"instanceNumber":2,"isCurCommit":1,"methodName":"testWhere","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/66/d807ade972324eb8050cc99933359e25dc79c1.src","preCode":"    public void testWhere() throws UserException, AnalysisException {\n        ShowLoadStmt stmt = new ShowLoadStmt(null, null, null, null);\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb`\", stmt.toString());\n\n        SlotRef slotRef = new SlotRef(null, \"label\");\n        StringLiteral stringLiteral = new StringLiteral(\"abc\");\n        BinaryPredicate binaryPredicate = new BinaryPredicate(Operator.EQ, slotRef, stringLiteral);\n        stmt = new ShowLoadStmt(null, binaryPredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb` WHERE `label` = \\'abc\\' LIMIT 10\", stmt.toString());\n\n        StringLiteral stringLiteralLike = new StringLiteral(\"ab%\");\n        LikePredicate likePredicate = new LikePredicate(org.apache.doris.analysis.LikePredicate.Operator.LIKE,\n                                                        slotRef, stringLiteralLike);\n\n        stmt = new ShowLoadStmt(null, likePredicate, null, new LimitElement(10));\n        stmt.analyze(analyzer);\n        Assert.assertEquals(\"SHOW LOAD FROM `testCluster:testDb` WHERE `label` LIKE \\'ab%\\' LIMIT 10\", stmt.toString());\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/analysis/ShowLoadStmtTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":100,"status":"M"}],"commitId":"fee8e6afc56709d1616e310fc9bb229e63439630","commitMessage":"@@@[Bug] Fix some bugs (#6665)\n\n1.Fix a potential BE coredump of sending batch when loading data. (Fix [Bug] BE crash when loading data #6656)\n2.Fix a potential BE coredump when doing schema change. (Fix [Bug] BE crash when doing alter task #6657)\n3.Optimize the metric of base_compaction_request_failed.\n4.Add Order column in show tablet result. (Fix [Feature] Add order column in SHOW TABLET stmt result #6658)\n5.Fix bug that tablet repair slot not being released. (Fix [Bug] Tablet scheduler stop working #6659)\n6.Fix bug that REPLICA_MISSING error can not be handled. (Fix [Bug] REPLICA_MISSING error can not be handled. #6660)\n7.Modify column name of SHOW PROC \"/cluster_balance/cluster_load_stat\"\n8.Optimize the result of SHOW PROC \"/statistic\" to show COLOCATE_MISMATCH tablets (Fix [Feature] the health status of colocate table's tablet is not shown in show proc statistic #6663)\n9.Fix bug that show load where state='pending' can not be executed. (Fix [Bug] show load where state='pending' can not be executed. #6664)","date":"2021-09-17 10:11:37","modifiedFileCount":"16","status":"M","submitter":"Mingyu Chen"}]
