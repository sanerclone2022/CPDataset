[{"authorTime":"2020-07-21 12:42:42","codes":[{"authorDate":"2020-07-21 12:42:42","commitOrder":1,"curCode":"    public void testUpdateNumOfDataErrorRowMoreThanMax(@Mocked Catalog catalog) {\n        RoutineLoadJob routineLoadJob = new KafkaRoutineLoadJob();\n        Deencapsulation.setField(routineLoadJob, \"maxErrorNum\", 0);\n        Deencapsulation.setField(routineLoadJob, \"maxBatchRows\", 0);\n        Deencapsulation.invoke(routineLoadJob, \"updateNumOfData\", 1L, 1L, 0L, 1L, 1L, false);\n\n        Assert.assertEquals(RoutineLoadJob.JobState.PAUSED, Deencapsulation.getField(routineLoadJob, \"state\"));\n\n    }\n","date":"2020-07-21 12:42:42","endLine":266,"groupId":"2946","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testUpdateNumOfDataErrorRowMoreThanMax","params":"(@MockedCatalogcatalog)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/3e/a320bedaf78a42fc09ffcab189b13074b38b1f.src","preCode":"    public void testUpdateNumOfDataErrorRowMoreThanMax(@Mocked Catalog catalog) {\n        RoutineLoadJob routineLoadJob = new KafkaRoutineLoadJob();\n        Deencapsulation.setField(routineLoadJob, \"maxErrorNum\", 0);\n        Deencapsulation.setField(routineLoadJob, \"maxBatchRows\", 0);\n        Deencapsulation.invoke(routineLoadJob, \"updateNumOfData\", 1L, 1L, 0L, 1L, 1L, false);\n\n        Assert.assertEquals(RoutineLoadJob.JobState.PAUSED, Deencapsulation.getField(routineLoadJob, \"state\"));\n\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/load/routineload/RoutineLoadJobTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":258,"status":"B"},{"authorDate":"2020-07-21 12:42:42","commitOrder":1,"curCode":"    public void testUpdateTotalMoreThanBatch() {\n        RoutineLoadJob routineLoadJob = new KafkaRoutineLoadJob();\n        Deencapsulation.setField(routineLoadJob, \"state\", RoutineLoadJob.JobState.RUNNING);\n        Deencapsulation.setField(routineLoadJob, \"maxErrorNum\", 10);\n        Deencapsulation.setField(routineLoadJob, \"maxBatchRows\", 10);\n        Deencapsulation.setField(routineLoadJob, \"currentErrorRows\", 1);\n        Deencapsulation.setField(routineLoadJob, \"currentTotalRows\", 99);\n        Deencapsulation.invoke(routineLoadJob, \"updateNumOfData\", 2L, 0L, 0L, 1L, 1L, false);\n\n        Assert.assertEquals(RoutineLoadJob.JobState.RUNNING, Deencapsulation.getField(routineLoadJob, \"state\"));\n        Assert.assertEquals(new Long(0), Deencapsulation.getField(routineLoadJob, \"currentErrorRows\"));\n        Assert.assertEquals(new Long(0), Deencapsulation.getField(routineLoadJob, \"currentTotalRows\"));\n\n    }\n","date":"2020-07-21 12:42:42","endLine":282,"groupId":"2947","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testUpdateTotalMoreThanBatch","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/3e/a320bedaf78a42fc09ffcab189b13074b38b1f.src","preCode":"    public void testUpdateTotalMoreThanBatch() {\n        RoutineLoadJob routineLoadJob = new KafkaRoutineLoadJob();\n        Deencapsulation.setField(routineLoadJob, \"state\", RoutineLoadJob.JobState.RUNNING);\n        Deencapsulation.setField(routineLoadJob, \"maxErrorNum\", 10);\n        Deencapsulation.setField(routineLoadJob, \"maxBatchRows\", 10);\n        Deencapsulation.setField(routineLoadJob, \"currentErrorRows\", 1);\n        Deencapsulation.setField(routineLoadJob, \"currentTotalRows\", 99);\n        Deencapsulation.invoke(routineLoadJob, \"updateNumOfData\", 2L, 0L, 0L, 1L, 1L, false);\n\n        Assert.assertEquals(RoutineLoadJob.JobState.RUNNING, Deencapsulation.getField(routineLoadJob, \"state\"));\n        Assert.assertEquals(new Long(0), Deencapsulation.getField(routineLoadJob, \"currentErrorRows\"));\n        Assert.assertEquals(new Long(0), Deencapsulation.getField(routineLoadJob, \"currentTotalRows\"));\n\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/load/routineload/RoutineLoadJobTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":269,"status":"B"}],"commitId":"ad17afef9139a9aeedeb2e92638e95886d515f14","commitMessage":"@@@[CodeRefactor] #4098 Make FE multi module (#4099)\n\nThis PR change the FE code structure to maven multi module structure. \nSee ISSUE: #4098 for more info.  such as How to resolve conflicts.","date":"2020-07-21 12:42:42","modifiedFileCount":"0","status":"B","submitter":"Mingyu Chen"},{"authorTime":"2021-07-17 10:43:59","codes":[{"authorDate":"2020-07-21 12:42:42","commitOrder":2,"curCode":"    public void testUpdateNumOfDataErrorRowMoreThanMax(@Mocked Catalog catalog) {\n        RoutineLoadJob routineLoadJob = new KafkaRoutineLoadJob();\n        Deencapsulation.setField(routineLoadJob, \"maxErrorNum\", 0);\n        Deencapsulation.setField(routineLoadJob, \"maxBatchRows\", 0);\n        Deencapsulation.invoke(routineLoadJob, \"updateNumOfData\", 1L, 1L, 0L, 1L, 1L, false);\n\n        Assert.assertEquals(RoutineLoadJob.JobState.PAUSED, Deencapsulation.getField(routineLoadJob, \"state\"));\n\n    }\n","date":"2020-07-21 12:42:42","endLine":266,"groupId":"10426","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testUpdateNumOfDataErrorRowMoreThanMax","params":"(@MockedCatalogcatalog)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/3e/a320bedaf78a42fc09ffcab189b13074b38b1f.src","preCode":"    public void testUpdateNumOfDataErrorRowMoreThanMax(@Mocked Catalog catalog) {\n        RoutineLoadJob routineLoadJob = new KafkaRoutineLoadJob();\n        Deencapsulation.setField(routineLoadJob, \"maxErrorNum\", 0);\n        Deencapsulation.setField(routineLoadJob, \"maxBatchRows\", 0);\n        Deencapsulation.invoke(routineLoadJob, \"updateNumOfData\", 1L, 1L, 0L, 1L, 1L, false);\n\n        Assert.assertEquals(RoutineLoadJob.JobState.PAUSED, Deencapsulation.getField(routineLoadJob, \"state\"));\n\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/load/routineload/RoutineLoadJobTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":258,"status":"N"},{"authorDate":"2021-07-17 10:43:59","commitOrder":2,"curCode":"    public void testUpdateTotalMoreThanBatch() {\n        RoutineLoadJob routineLoadJob = new KafkaRoutineLoadJob();\n        Deencapsulation.setField(routineLoadJob, \"state\", RoutineLoadJob.JobState.RUNNING);\n        Deencapsulation.setField(routineLoadJob, \"maxErrorNum\", 10);\n        Deencapsulation.setField(routineLoadJob, \"maxBatchRows\", 10);\n        RoutineLoadStatistic jobStatistic = Deencapsulation.getField(routineLoadJob, \"jobStatistic\");\n        Deencapsulation.setField(jobStatistic, \"currentErrorRows\", 1);\n        Deencapsulation.setField(jobStatistic, \"currentTotalRows\", 99);\n        Deencapsulation.invoke(routineLoadJob, \"updateNumOfData\", 2L, 0L, 0L, 1L, 1L, false);\n\n        Assert.assertEquals(RoutineLoadJob.JobState.RUNNING, Deencapsulation.getField(routineLoadJob, \"state\"));\n        Assert.assertEquals(new Long(0), Deencapsulation.getField(jobStatistic, \"currentErrorRows\"));\n        Assert.assertEquals(new Long(0), Deencapsulation.getField(jobStatistic, \"currentTotalRows\"));\n\n    }\n","date":"2021-07-17 10:43:59","endLine":292,"groupId":"10426","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testUpdateTotalMoreThanBatch","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-incubatordoris-10-0.7/blobInfo/CC_OUT/blobs/23/aeb1768878c96a6189ec905aa23e25ca05620e.src","preCode":"    public void testUpdateTotalMoreThanBatch() {\n        RoutineLoadJob routineLoadJob = new KafkaRoutineLoadJob();\n        Deencapsulation.setField(routineLoadJob, \"state\", RoutineLoadJob.JobState.RUNNING);\n        Deencapsulation.setField(routineLoadJob, \"maxErrorNum\", 10);\n        Deencapsulation.setField(routineLoadJob, \"maxBatchRows\", 10);\n        Deencapsulation.setField(routineLoadJob, \"currentErrorRows\", 1);\n        Deencapsulation.setField(routineLoadJob, \"currentTotalRows\", 99);\n        Deencapsulation.invoke(routineLoadJob, \"updateNumOfData\", 2L, 0L, 0L, 1L, 1L, false);\n\n        Assert.assertEquals(RoutineLoadJob.JobState.RUNNING, Deencapsulation.getField(routineLoadJob, \"state\"));\n        Assert.assertEquals(new Long(0), Deencapsulation.getField(routineLoadJob, \"currentErrorRows\"));\n        Assert.assertEquals(new Long(0), Deencapsulation.getField(routineLoadJob, \"currentTotalRows\"));\n\n    }\n","realPath":"fe/fe-core/src/test/java/org/apache/doris/load/routineload/RoutineLoadJobTest.java","repoName":"incubatordoris","snippetEndLine":0,"snippetStartLine":0,"startLine":278,"status":"M"}],"commitId":"e39e1571ecdbe907fc755c01c268784c64c2377b","commitMessage":"@@@[Feature] Add an indicator called errorRowsAfterResumed to distinguish between ? (#6092)\n\n1. [enhancement] add an indicator called errorRowsAfterResumed to distinguish between totalErrorRows(called errorRows) and errorRowsAfterResumed. (#6092)\n2. [Refactor] separate some indicators from RoutineLoadJob class to avoid changing FeMetaVersion while modifying indicators of RoutineLoadJob.(#6092)","date":"2021-07-17 10:43:59","modifiedFileCount":"6","status":"M","submitter":"Henry2SS"}]
