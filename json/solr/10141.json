[{"authorTime":"2017-10-05 01:56:46","codes":[{"authorDate":"2017-10-05 01:56:46","commitOrder":1,"curCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfit function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= pf.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","date":"2017-10-05 02:02:13","endLine":101,"groupId":"1169","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"doWork","params":"(Object...objects)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/2c/0bf2a3e45b2ee291e7d1a30ff4f818bc2e4265.src","preCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfit function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= pf.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","realPath":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/PolyFitEvaluator.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":39,"status":"B"},{"authorDate":"2017-10-05 01:56:46","commitOrder":1,"curCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfitDerivative function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n    UnivariateFunction univariateFunction = pf.derivative();\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= univariateFunction.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","date":"2017-10-05 02:02:13","endLine":103,"groupId":"1169","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"doWork","params":"(Object...objects)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/1a/acb9ee90bfab1e6ac57db13a71a1edbdb3162f.src","preCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfitDerivative function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n    UnivariateFunction univariateFunction = pf.derivative();\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= univariateFunction.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","realPath":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/PolyFitDerivativeEvaluator.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":40,"status":"B"}],"commitId":"1782dd9ca901eced0adbe9932cdbc50ad5792663","commitMessage":"@@@SOLR-11436: Add polyfit and polyfitDerivative Stream Evaluators\n","date":"2017-10-05 02:02:13","modifiedFileCount":"2","status":"B","submitter":"Joel Bernstein"},{"authorTime":"2017-12-05 10:08:58","codes":[{"authorDate":"2017-12-05 10:08:58","commitOrder":2,"curCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfit function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= pf.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","date":"2017-12-05 10:09:41","endLine":101,"groupId":"26818","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"doWork","params":"(Object...objects)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/05/3656582442b42beb4e05e120ba55bd4458cca0.src","preCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfit function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= pf.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","realPath":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/PolyFitEvaluator.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":39,"status":"M"},{"authorDate":"2017-12-05 10:08:58","commitOrder":2,"curCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfitDerivative function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n    UnivariateFunction univariateFunction = pf.derivative();\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= univariateFunction.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","date":"2017-12-05 10:09:41","endLine":103,"groupId":"26818","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"doWork","params":"(Object...objects)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/77/5693842cf1caffe2555ec678772b14f2ee31aa.src","preCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfitDerivative function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((BigDecimal) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n    UnivariateFunction univariateFunction = pf.derivative();\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= univariateFunction.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","realPath":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/PolyFitDerivativeEvaluator.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":40,"status":"M"}],"commitId":"8750e5f2a97e2011da7a3c821dca38a31d0f9bf1","commitMessage":"@@@SOLR-11485: Add olsRegress.  spline and derivative Stream Evaluators\n","date":"2017-12-05 10:09:41","modifiedFileCount":"46","status":"M","submitter":"Joel Bernstein"},{"authorTime":"2017-12-05 10:08:58","codes":[{"authorDate":"2018-08-07 22:12:07","commitOrder":3,"curCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfit function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= pf.value(xvalue);\n      list.add(yvalue);\n    }\n\n\n    VectorFunction vec = new VectorFunction(pf, list);\n    vec.addToContext(\"x\", x);\n    vec.addToContext(\"y\", y);\n\n    return vec;\n  }\n","date":"2018-08-07 22:31:53","endLine":105,"groupId":"26818","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"doWork","params":"(Object...objects)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/52/92c9404698b4bb5150d93c1ac28e363a843f11.src","preCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfit function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= pf.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","realPath":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/PolyFitEvaluator.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":38,"status":"M"},{"authorDate":"2017-12-05 10:08:58","commitOrder":3,"curCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfitDerivative function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n    UnivariateFunction univariateFunction = pf.derivative();\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= univariateFunction.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","date":"2017-12-05 10:09:41","endLine":103,"groupId":"26818","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"doWork","params":"(Object...objects)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/77/5693842cf1caffe2555ec678772b14f2ee31aa.src","preCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfitDerivative function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n    UnivariateFunction univariateFunction = pf.derivative();\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= univariateFunction.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","realPath":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/PolyFitDerivativeEvaluator.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":40,"status":"N"}],"commitId":"2ca5a6d12e48e5d58811d7991da028cb2d70e86f","commitMessage":"@@@SOLR-12629: The predict evaluator should work with the polyfit function\n","date":"2018-08-07 22:31:53","modifiedFileCount":"2","status":"M","submitter":"Joel Bernstein"},{"authorTime":"2020-06-08 09:31:51","codes":[{"authorDate":"2018-08-07 22:12:07","commitOrder":4,"curCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfit function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= pf.value(xvalue);\n      list.add(yvalue);\n    }\n\n\n    VectorFunction vec = new VectorFunction(pf, list);\n    vec.addToContext(\"x\", x);\n    vec.addToContext(\"y\", y);\n\n    return vec;\n  }\n","date":"2018-08-07 22:31:53","endLine":105,"groupId":"26818","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"doWork","params":"(Object...objects)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/52/92c9404698b4bb5150d93c1ac28e363a843f11.src","preCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfit function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= pf.value(xvalue);\n      list.add(yvalue);\n    }\n\n\n    VectorFunction vec = new VectorFunction(pf, list);\n    vec.addToContext(\"x\", x);\n    vec.addToContext(\"y\", y);\n\n    return vec;\n  }\n","realPath":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/PolyFitEvaluator.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":38,"status":"N"},{"authorDate":"2020-06-08 09:31:51","commitOrder":4,"curCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfitDerivative function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n    UnivariateFunction univariateFunction = pf.derivative();\n\n    @SuppressWarnings({\"rawtypes\"})\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= univariateFunction.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","date":"2020-06-08 09:31:51","endLine":104,"groupId":"26818","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"doWork","params":"(Object...objects)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/ec/02316c7bd7d63628e6936a2be52399257eded6.src","preCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfitDerivative function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n    UnivariateFunction univariateFunction = pf.derivative();\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= univariateFunction.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","realPath":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/PolyFitDerivativeEvaluator.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":40,"status":"M"}],"commitId":"7bf59a16bda85b19b68b639b395d143019a89fde","commitMessage":"@@@SOLR-14544: Fix or suppress warnings in solr/client/solrj/io/eval\n","date":"2020-06-08 09:31:51","modifiedFileCount":"110","status":"M","submitter":"Erick Erickson"},{"authorTime":"2021-06-22 00:19:37","codes":[{"authorDate":"2021-06-22 00:19:37","commitOrder":5,"curCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfit function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List<?>) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List<?>) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      y = ((List<?>) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List<?>) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        y = ((List<?>) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List<?>) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n\n    List<Number> list = new ArrayList<>();\n    for(double xvalue : x) {\n      double yvalue= pf.value(xvalue);\n      list.add(yvalue);\n    }\n\n\n    VectorFunction vec = new VectorFunction(pf, list);\n    vec.addToContext(\"x\", x);\n    vec.addToContext(\"y\", y);\n\n    return vec;\n  }\n","date":"2021-06-22 00:19:37","endLine":105,"groupId":"10141","id":9,"instanceNumber":1,"isCurCommit":1,"methodName":"doWork","params":"(Object...objects)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/d6/b16ace12b924a02373531d263c4856e7bd5d6b.src","preCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfit function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= pf.value(xvalue);\n      list.add(yvalue);\n    }\n\n\n    VectorFunction vec = new VectorFunction(pf, list);\n    vec.addToContext(\"x\", x);\n    vec.addToContext(\"y\", y);\n\n    return vec;\n  }\n","realPath":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/PolyFitEvaluator.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":38,"status":"M"},{"authorDate":"2021-06-22 00:19:37","commitOrder":5,"curCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfitDerivative function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List<?>) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List<?>) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      y = ((List<?>) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List<?>) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        y = ((List<?>) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List<?>) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n    UnivariateFunction univariateFunction = pf.derivative();\n\n    List<Double> list = new ArrayList<>();\n    for(double xvalue : x) {\n      double yvalue= univariateFunction.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","date":"2021-06-22 00:19:37","endLine":102,"groupId":"10141","id":10,"instanceNumber":2,"isCurCommit":1,"methodName":"doWork","params":"(Object...objects)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/cb/60ab9b480e9570da7ec700f29205dc2df0b415.src","preCode":"  public Object doWork(Object... objects) throws IOException{\n\n    if(objects.length > 3) {\n      throw new IOException(\"polyfitDerivative function takes a maximum of 3 arguments.\");\n    }\n\n    Object first = objects[0];\n\n    double[] x = null;\n    double[] y = null;\n    int degree = 3;\n\n    if(objects.length == 1) {\n      \r\n\n      y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      x = new double[y.length];\n      for(int i=0; i<y.length; i++) {\n        x[i] = i;\n      }\n\n    } else if(objects.length == 3) {\n      \r\n\n      Object second = objects[1];\n      x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      degree = ((Number)objects[2]).intValue();\n    } else if(objects.length == 2) {\n      if(objects[1] instanceof List) {\n        \r\n        Object second = objects[1];\n        x = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        y = ((List) second).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n      } else {\n        \r\n        y = ((List) first).stream().mapToDouble(value -> ((Number) value).doubleValue()).toArray();\n        x = new double[y.length];\n        for(int i=0; i<y.length; i++) {\n          x[i] = i;\n        }\n\n        degree = ((Number)objects[1]).intValue();\n      }\n    }\n\n    PolynomialCurveFitter curveFitter = PolynomialCurveFitter.create(degree);\n    WeightedObservedPoints points = new WeightedObservedPoints();\n    for(int i=0; i<x.length; i++) {\n      points.add(x[i], y[i]);\n    }\n\n    double[] coef = curveFitter.fit(points.toList());\n    PolynomialFunction pf = new PolynomialFunction(coef);\n    UnivariateFunction univariateFunction = pf.derivative();\n\n    @SuppressWarnings({\"rawtypes\"})\n    List list = new ArrayList();\n    for(double xvalue : x) {\n      double yvalue= univariateFunction.value(xvalue);\n      list.add(yvalue);\n    }\n\n    return list;\n  }\n","realPath":"solr/solrj/src/java/org/apache/solr/client/solrj/io/eval/PolyFitDerivativeEvaluator.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":39,"status":"M"}],"commitId":"1725e778ac86d88e2deff8f7339d45bb4e50a719","commitMessage":"@@@SOLR-15385 RawTypes Part III.  contrib and solrj (#169)\n\n* SOLR-15385 RawTypes Part III.  contrib and solrj\n\nCo-authored-by: Christine Poerschke <cpoerschke@apache.org>","date":"2021-06-22 00:19:37","modifiedFileCount":"216","status":"M","submitter":"Mike Drob"}]
