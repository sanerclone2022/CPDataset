[{"authorTime":"2017-01-26 09:23:13","codes":[{"authorDate":"2017-01-26 09:23:13","commitOrder":1,"curCode":"  public void testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog() {\n    for (String fieldToUpdate : Arrays.asList(\"field_to_update_i1\", \"field_to_update_i_dvo\")) {\n      clearIndex();\n      \n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, \"666\")));\n      assertQ(fieldToUpdate + \": initial RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      assertU(commit());\n      assertQ(fieldToUpdate + \": post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n    }\n    \n  }\n","date":"2017-01-26 09:23:13","endLine":1188,"groupId":"51881","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/2d/07af7d880aeba9163656cba506435e401ab199.src","preCode":"  public void testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog() {\n    for (String fieldToUpdate : Arrays.asList(\"field_to_update_i1\", \"field_to_update_i_dvo\")) {\n      clearIndex();\n      \n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, \"666\")));\n      assertQ(fieldToUpdate + \": initial RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      assertU(commit());\n      assertQ(fieldToUpdate + \": post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n    }\n    \n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/processor/AtomicUpdatesTest.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":1140,"status":"B"},{"authorDate":"2017-01-26 09:23:13","commitOrder":1,"curCode":"  public void testAtomicUpdateOfFieldsWithDefaultValue() {\n    \r\n    for (String fieldToUpdate : Arrays.asList(\"intDefault\", \"intDvoDefault\")) {\n      clearIndex();\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#7\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='708']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG#7 after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"set\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#8\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \n      assertU(commit());\n      \n      assertQ(fieldToUpdate + \": doc7 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      assertQ(fieldToUpdate + \": doc8 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n    }\n    \n  }\n","date":"2017-01-26 09:23:13","endLine":1282,"groupId":"52897","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testAtomicUpdateOfFieldsWithDefaultValue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/2d/07af7d880aeba9163656cba506435e401ab199.src","preCode":"  public void testAtomicUpdateOfFieldsWithDefaultValue() {\n    \r\n    for (String fieldToUpdate : Arrays.asList(\"intDefault\", \"intDvoDefault\")) {\n      clearIndex();\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#7\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='708']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG#7 after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"set\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#8\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \n      assertU(commit());\n      \n      assertQ(fieldToUpdate + \": doc7 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      assertQ(fieldToUpdate + \": doc8 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n    }\n    \n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/processor/AtomicUpdatesTest.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":1191,"status":"B"}],"commitId":"5375410807aecf3cc67f82ca1e9ee591f39d0ac7","commitMessage":"@@@SOLR-5944: In-place updates of Numeric DocValues\n","date":"2017-01-26 09:23:13","modifiedFileCount":"22","status":"B","submitter":"Ishan Chattopadhyaya"},{"authorTime":"2017-03-13 21:16:08","codes":[{"authorDate":"2017-01-26 09:23:13","commitOrder":2,"curCode":"  public void testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog() {\n    for (String fieldToUpdate : Arrays.asList(\"field_to_update_i1\", \"field_to_update_i_dvo\")) {\n      clearIndex();\n      \n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, \"666\")));\n      assertQ(fieldToUpdate + \": initial RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      assertU(commit());\n      assertQ(fieldToUpdate + \": post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n    }\n    \n  }\n","date":"2017-01-26 09:23:13","endLine":1188,"groupId":"51881","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/2d/07af7d880aeba9163656cba506435e401ab199.src","preCode":"  public void testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog() {\n    for (String fieldToUpdate : Arrays.asList(\"field_to_update_i1\", \"field_to_update_i_dvo\")) {\n      clearIndex();\n      \n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, \"666\")));\n      assertQ(fieldToUpdate + \": initial RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      assertU(commit());\n      assertQ(fieldToUpdate + \": post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n    }\n    \n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/processor/AtomicUpdatesTest.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":1140,"status":"N"},{"authorDate":"2017-03-13 21:16:08","commitOrder":2,"curCode":"  public void testAtomicUpdateOfFieldsWithDefaultValue() {\n    \r\n    for (String fieldToUpdate : Arrays.asList(\"intDefault\", \"intDvoDefault\")) {\n      clearIndex();\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#7\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='708']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG#7 after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"set\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#8\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \n      assertU(commit());\n      \n      assertQ(fieldToUpdate + \": doc7 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      assertQ(fieldToUpdate + \": doc8 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n    }\n    \n  }\n","date":"2017-03-13 21:16:08","endLine":1298,"groupId":"51882","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testAtomicUpdateOfFieldsWithDefaultValue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/bf/cf01523f267f8b88894725562659d0fe253dec.src","preCode":"  public void testAtomicUpdateOfFieldsWithDefaultValue() {\n    \r\n    for (String fieldToUpdate : Arrays.asList(\"intDefault\", \"intDvoDefault\")) {\n      clearIndex();\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#7\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='708']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG#7 after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"set\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#8\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \n      assertU(commit());\n      \n      assertQ(fieldToUpdate + \": doc7 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      assertQ(fieldToUpdate + \": doc8 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n    }\n    \n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/processor/AtomicUpdatesTest.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":1207,"status":"M"}],"commitId":"a06c39f3e50a1616cd7c48f4454dd77be17c7278","commitMessage":"@@@SOLR-9838: 'inc' atomic update doesn't respect default field value\n","date":"2017-03-13 21:16:08","modifiedFileCount":"2","status":"M","submitter":"Ishan Chattopadhyaya"},{"authorTime":"2017-06-29 17:00:17","codes":[{"authorDate":"2017-06-29 17:00:17","commitOrder":3,"curCode":"  public void testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog() {\n    for (String fieldToUpdate : Arrays.asList(\"field_to_update_i1\", \"field_to_update_i_dvo\")) {\n      clearIndex();\n      \n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, \"666\")));\n      assertQ(fieldToUpdate + \": initial RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      assertU(commit());\n      assertQ(fieldToUpdate + \": post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n    }\n    \n  }\n","date":"2017-06-29 17:00:17","endLine":1205,"groupId":"51881","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/19/780df966eab4ef4d55b6a6b643b30bac6f183a.src","preCode":"  public void testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog() {\n    for (String fieldToUpdate : Arrays.asList(\"field_to_update_i1\", \"field_to_update_i_dvo\")) {\n      clearIndex();\n      \n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, \"666\")));\n      assertQ(fieldToUpdate + \": initial RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      assertU(commit());\n      assertQ(fieldToUpdate + \": post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n    }\n    \n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/processor/AtomicUpdatesTest.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":1157,"status":"M"},{"authorDate":"2017-06-29 17:00:17","commitOrder":3,"curCode":"  public void testAtomicUpdateOfFieldsWithDefaultValue() {\n    \r\n    for (String fieldToUpdate : Arrays.asList(\"intDefault\", \"intDvoDefault\")) {\n      clearIndex();\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#7\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='708']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG#7 after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"set\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#8\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \n      assertU(commit());\n      \n      assertQ(fieldToUpdate + \": doc7 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      assertQ(fieldToUpdate + \": doc8 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n    }\n    \n  }\n","date":"2017-06-29 17:00:17","endLine":1298,"groupId":"51882","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testAtomicUpdateOfFieldsWithDefaultValue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/19/780df966eab4ef4d55b6a6b643b30bac6f183a.src","preCode":"  public void testAtomicUpdateOfFieldsWithDefaultValue() {\n    \r\n    for (String fieldToUpdate : Arrays.asList(\"intDefault\", \"intDvoDefault\")) {\n      clearIndex();\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#7\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='708']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG#7 after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"set\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#8\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \n      assertU(commit());\n      \n      assertQ(fieldToUpdate + \": doc7 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      assertQ(fieldToUpdate + \": doc8 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/int[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n    }\n    \n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/processor/AtomicUpdatesTest.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":1207,"status":"M"}],"commitId":"b4fa0e785b70e39a3a1420bc020ad1183308b7af","commitMessage":"@@@Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/lucene-solr\n","date":"2017-06-29 17:00:17","modifiedFileCount":"697","status":"M","submitter":"Karl Wright"},{"authorTime":"2018-11-26 10:47:49","codes":[{"authorDate":"2018-11-26 10:47:49","commitOrder":4,"curCode":"  public void testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog() {\n    for (String fieldToUpdate : Arrays.asList(\"field_to_update_i1\", \"field_to_update_i_dvo\")) {\n      clearIndex();\n      \n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, \"666\")));\n      assertQ(fieldToUpdate + \": initial RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=8\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=8\"\n              );\n\n      assertU(commit());\n      assertQ(fieldToUpdate + \": post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=8\"\n              );\n    }\n    \n  }\n","date":"2018-11-26 10:47:49","endLine":1251,"groupId":"51881","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/f7/2fd6702a59167a89ad4d92a9d559013dbaaf9d.src","preCode":"  public void testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog() {\n    for (String fieldToUpdate : Arrays.asList(\"field_to_update_i1\", \"field_to_update_i_dvo\")) {\n      clearIndex();\n      \n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, \"666\")));\n      assertQ(fieldToUpdate + \": initial RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      assertU(commit());\n      assertQ(fieldToUpdate + \": post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n    }\n    \n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/processor/AtomicUpdatesTest.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":1203,"status":"M"},{"authorDate":"2018-11-26 10:47:49","commitOrder":4,"curCode":"  public void testAtomicUpdateOfFieldsWithDefaultValue() {\n    \r\n    for (String fieldToUpdate : Arrays.asList(\"intDefault\", \"intDvoDefault\")) {\n      clearIndex();\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#7\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='708']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG#7 after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"set\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#8\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n      \n      assertU(commit());\n      \n      assertQ(fieldToUpdate + \": doc7 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n      assertQ(fieldToUpdate + \": doc8 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n    }\n    \n  }\n","date":"2018-11-26 10:47:49","endLine":1344,"groupId":"51882","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testAtomicUpdateOfFieldsWithDefaultValue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/f7/2fd6702a59167a89ad4d92a9d559013dbaaf9d.src","preCode":"  public void testAtomicUpdateOfFieldsWithDefaultValue() {\n    \r\n    for (String fieldToUpdate : Arrays.asList(\"intDefault\", \"intDvoDefault\")) {\n      clearIndex();\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#7\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='708']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG#7 after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"set\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#8\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      \n      assertU(commit());\n      \n      assertQ(fieldToUpdate + \": doc7 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n      assertQ(fieldToUpdate + \": doc8 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=6\"\n              );\n    }\n    \n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/processor/AtomicUpdatesTest.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":1253,"status":"M"}],"commitId":"a346ba0d3c371ec9f314c21fe67afeca64846cf0","commitMessage":"@@@SOLR-5211:  Always populate _root_ (if defined).\nAnd.  small refactor: Clarified how _version_ is transferred from root to children.\n","date":"2018-11-26 10:47:49","modifiedFileCount":"9","status":"M","submitter":"Moshe"},{"authorTime":"2019-06-20 23:59:22","codes":[{"authorDate":"2019-06-20 23:59:22","commitOrder":5,"curCode":"  public void testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog() {\n    for (String fieldToUpdate : Arrays.asList(\"field_to_update_i1\", \"field_to_update_i_dvo\")) {\n      clearIndex();\n      \n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, \"666\")));\n      assertQ(fieldToUpdate + \": initial RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              );\n\n      assertU(commit());\n      assertQ(fieldToUpdate + \": post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              );\n    }\n    \n  }\n","date":"2019-06-20 23:59:22","endLine":1292,"groupId":"102953","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/6c/66285160c176f34b26854b996cc8984e111fe2.src","preCode":"  public void testFieldsWithDefaultValuesWhenAtomicUpdatesAgainstTlog() {\n    for (String fieldToUpdate : Arrays.asList(\"field_to_update_i1\", \"field_to_update_i_dvo\")) {\n      clearIndex();\n      \n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, \"666\")));\n      assertQ(fieldToUpdate + \": initial RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=8\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=8\"\n              );\n\n      assertU(commit());\n      assertQ(fieldToUpdate + \": post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              , \"//doc/int[@name='intDefault'][.='42']\"\n              , \"//doc/int[@name='intDvoDefault'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=8\"\n              );\n    }\n    \n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/processor/AtomicUpdatesTest.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":1247,"status":"M"},{"authorDate":"2019-06-20 23:59:22","commitOrder":5,"curCode":"  public void testAtomicUpdateOfFieldsWithDefaultValue() {\n    \r\n    for (String fieldToUpdate : Arrays.asList(\"intDefault\", \"intDvoDefault\")) {\n      clearIndex();\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#7\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='708']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG#7 after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"set\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#8\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              );\n      \n      assertU(commit());\n      \n      assertQ(fieldToUpdate + \": doc7 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              );\n      assertQ(fieldToUpdate + \": doc8 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              );\n    }\n    \n  }\n","date":"2019-06-20 23:59:22","endLine":1379,"groupId":"102953","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"testAtomicUpdateOfFieldsWithDefaultValue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/6c/66285160c176f34b26854b996cc8984e111fe2.src","preCode":"  public void testAtomicUpdateOfFieldsWithDefaultValue() {\n    \r\n    for (String fieldToUpdate : Arrays.asList(\"intDefault\", \"intDvoDefault\")) {\n      clearIndex();\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#7\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='708']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"7\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG#7 after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"set\", \"666\"))));\n      assertQ(fieldToUpdate + \": initial RTG#8\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='666']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n      \r\n      assertU(adoc(sdoc(\"id\", \"8\", fieldToUpdate, ImmutableMap.of(\"inc\", -555))));\n      assertQ(fieldToUpdate + \": RTG after atomic update\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n      \n      assertU(commit());\n      \n      assertQ(fieldToUpdate + \": doc7 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"7\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='7']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='153']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n      assertQ(fieldToUpdate + \": doc8 post commit RTG\"\n              , req(\"qt\", \"/get\", \"id\", \"8\")\n              , \"count(//doc)=1\"\n              , \"//doc/str[@name='id'][.='8']\"\n              , \"//doc/int[@name='\"+fieldToUpdate+\"'][.='111']\"\n              \r\n              , \"//doc/int[@name!='\"+fieldToUpdate+\"'][.='42']\"\n              , \"//doc/long[@name='_version_']\"\n              , \"//doc/date[@name='timestamp']\"\n              , \"//doc/arr[@name='multiDefault']/str[.='muLti-Default']\"\n              , \"count(//doc/*)=7\"\n              );\n    }\n    \n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/processor/AtomicUpdatesTest.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":1294,"status":"M"}],"commitId":"54c5b8a7f1d54e16a2aace7be0f766c5c8f67b8e","commitMessage":"@@@SOLR-13523: Fix Atomic Updates when _nest_path_ is declared.\nChange the most common test schema to include this field so we better\ntest our code paths.\n","date":"2019-06-20 23:59:22","modifiedFileCount":"5","status":"M","submitter":"David Smiley"}]
