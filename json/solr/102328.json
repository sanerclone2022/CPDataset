[{"authorTime":"2012-12-13 23:03:19","codes":[{"authorDate":"2012-12-13 23:03:19","commitOrder":1,"curCode":"  ShardRequest buildShardQuery(ResponseBuilder rb, String q, String key) {\n    ShardRequest s = new ShardRequest();\n    s.params = new ModifiableSolrParams(rb.req.getParams());\n    s.purpose |= ShardRequest.PURPOSE_GET_MLT_RESULTS;\n    \r\n    s.purpose |= ShardRequest.PURPOSE_PRIVATE;\n    \n    s.params.remove(ShardParams.SHARDS);\n    \r\n    \n    \r\n    s.params.set(MoreLikeThisComponent.DIST_DOC_ID, key);\n    s.params.set(CommonParams.START, 0);\n    int mltcount = s.params.getInt(MoreLikeThisParams.DOC_COUNT, 20);\n    s.params.set(CommonParams.ROWS, mltcount);\n    \n    \r\n    s.params.remove(CommonParams.FL);\n    \n    \r\n    \r\n    \r\n    \r\n    \r\n    String id = rb.req.getSchema().getUniqueKeyField()\n    .getName();\n    s.params.set(CommonParams.FL, \"score,\" + id);\n    s.params.set(\"sort\", \"score desc\");\n    \r\n    s.params.set(CommonParams.Q, q);\n    \n    s.shards = ShardRequest.ALL_SHARDS;\n    return s;\n  }\n","date":"2012-12-13 23:03:19","endLine":317,"groupId":"40688","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"buildShardQuery","params":"(ResponseBuilderrb@Stringq@Stringkey)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/ed/1782c76264a9ba68f7e31fd6971b4490c04da8.src","preCode":"  ShardRequest buildShardQuery(ResponseBuilder rb, String q, String key) {\n    ShardRequest s = new ShardRequest();\n    s.params = new ModifiableSolrParams(rb.req.getParams());\n    s.purpose |= ShardRequest.PURPOSE_GET_MLT_RESULTS;\n    \r\n    s.purpose |= ShardRequest.PURPOSE_PRIVATE;\n    \n    s.params.remove(ShardParams.SHARDS);\n    \r\n    \n    \r\n    s.params.set(MoreLikeThisComponent.DIST_DOC_ID, key);\n    s.params.set(CommonParams.START, 0);\n    int mltcount = s.params.getInt(MoreLikeThisParams.DOC_COUNT, 20);\n    s.params.set(CommonParams.ROWS, mltcount);\n    \n    \r\n    s.params.remove(CommonParams.FL);\n    \n    \r\n    \r\n    \r\n    \r\n    \r\n    String id = rb.req.getSchema().getUniqueKeyField()\n    .getName();\n    s.params.set(CommonParams.FL, \"score,\" + id);\n    s.params.set(\"sort\", \"score desc\");\n    \r\n    s.params.set(CommonParams.Q, q);\n    \n    s.shards = ShardRequest.ALL_SHARDS;\n    return s;\n  }\n","realPath":"solr/core/src/java/org/apache/solr/handler/component/MoreLikeThisComponent.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":284,"status":"B"},{"authorDate":"2012-12-13 23:03:19","commitOrder":1,"curCode":"  ShardRequest buildMLTQuery(ResponseBuilder rb, String q) {\n    ShardRequest s = new ShardRequest();\n    s.params = new ModifiableSolrParams();\n    \n\n    s.params.set(CommonParams.START, 0);\n\n    String id = rb.req.getSchema().getUniqueKeyField() .getName();\n\n    s.params.set(CommonParams.FL, \"score,\" + id);\n    \r\n    s.params.set(CommonParams.Q, q);\n    \n    s.shards = ShardRequest.ALL_SHARDS;\n    return s;\n  }\n","date":"2012-12-13 23:03:19","endLine":334,"groupId":"59275","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"buildMLTQuery","params":"(ResponseBuilderrb@Stringq)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/ed/1782c76264a9ba68f7e31fd6971b4490c04da8.src","preCode":"  ShardRequest buildMLTQuery(ResponseBuilder rb, String q) {\n    ShardRequest s = new ShardRequest();\n    s.params = new ModifiableSolrParams();\n    \n\n    s.params.set(CommonParams.START, 0);\n\n    String id = rb.req.getSchema().getUniqueKeyField() .getName();\n\n    s.params.set(CommonParams.FL, \"score,\" + id);\n    \r\n    s.params.set(CommonParams.Q, q);\n    \n    s.shards = ShardRequest.ALL_SHARDS;\n    return s;\n  }\n","realPath":"solr/core/src/java/org/apache/solr/handler/component/MoreLikeThisComponent.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":319,"status":"B"}],"commitId":"acf4f12feef64d6c5b7a82e58ebe4614769ee0ab","commitMessage":"@@@SOLR-788: Distributed search support for MLT.\n\ngit-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1421326 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2012-12-13 23:03:19","modifiedFileCount":"3","status":"B","submitter":"Mark Robert Miller"},{"authorTime":"2012-12-13 23:03:19","codes":[{"authorDate":"2012-12-21 00:04:23","commitOrder":2,"curCode":"  ShardRequest buildShardQuery(ResponseBuilder rb, String q, String key) {\n    ShardRequest s = new ShardRequest();\n    s.params = new ModifiableSolrParams(rb.req.getParams());\n    s.purpose |= ShardRequest.PURPOSE_GET_MLT_RESULTS;\n    \r\n    s.purpose |= ShardRequest.PURPOSE_PRIVATE;\n    \n    s.params.remove(ShardParams.SHARDS);\n    \r\n    \n    \r\n    s.params.set(MoreLikeThisComponent.DIST_DOC_ID, key);\n    s.params.set(CommonParams.START, 0);\n    int mltcount = s.params.getInt(MoreLikeThisParams.DOC_COUNT, 20);\n    s.params.set(CommonParams.ROWS, mltcount);\n    \n    \r\n    s.params.remove(CommonParams.FL);\n    \n    \r\n    \r\n    \r\n    \r\n    \r\n    String id = rb.req.getSchema().getUniqueKeyField()\n    .getName();\n    s.params.set(CommonParams.FL, \"score,\" + id);\n    s.params.set(\"sort\", \"score desc\");\n    \r\n    s.params.set(CommonParams.Q, q);\n    \n    return s;\n  }\n","date":"2012-12-21 00:04:23","endLine":320,"groupId":"40688","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"buildShardQuery","params":"(ResponseBuilderrb@Stringq@Stringkey)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/b9/6ce4c5e1dc85ca1a875448fc2d0936c555a6b8.src","preCode":"  ShardRequest buildShardQuery(ResponseBuilder rb, String q, String key) {\n    ShardRequest s = new ShardRequest();\n    s.params = new ModifiableSolrParams(rb.req.getParams());\n    s.purpose |= ShardRequest.PURPOSE_GET_MLT_RESULTS;\n    \r\n    s.purpose |= ShardRequest.PURPOSE_PRIVATE;\n    \n    s.params.remove(ShardParams.SHARDS);\n    \r\n    \n    \r\n    s.params.set(MoreLikeThisComponent.DIST_DOC_ID, key);\n    s.params.set(CommonParams.START, 0);\n    int mltcount = s.params.getInt(MoreLikeThisParams.DOC_COUNT, 20);\n    s.params.set(CommonParams.ROWS, mltcount);\n    \n    \r\n    s.params.remove(CommonParams.FL);\n    \n    \r\n    \r\n    \r\n    \r\n    \r\n    String id = rb.req.getSchema().getUniqueKeyField()\n    .getName();\n    s.params.set(CommonParams.FL, \"score,\" + id);\n    s.params.set(\"sort\", \"score desc\");\n    \r\n    s.params.set(CommonParams.Q, q);\n    \n    s.shards = ShardRequest.ALL_SHARDS;\n    return s;\n  }\n","realPath":"solr/core/src/java/org/apache/solr/handler/component/MoreLikeThisComponent.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":288,"status":"M"},{"authorDate":"2012-12-13 23:03:19","commitOrder":2,"curCode":"  ShardRequest buildMLTQuery(ResponseBuilder rb, String q) {\n    ShardRequest s = new ShardRequest();\n    s.params = new ModifiableSolrParams();\n    \n\n    s.params.set(CommonParams.START, 0);\n\n    String id = rb.req.getSchema().getUniqueKeyField() .getName();\n\n    s.params.set(CommonParams.FL, \"score,\" + id);\n    \r\n    s.params.set(CommonParams.Q, q);\n    \n    s.shards = ShardRequest.ALL_SHARDS;\n    return s;\n  }\n","date":"2012-12-13 23:03:19","endLine":334,"groupId":"59275","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"buildMLTQuery","params":"(ResponseBuilderrb@Stringq)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/ed/1782c76264a9ba68f7e31fd6971b4490c04da8.src","preCode":"  ShardRequest buildMLTQuery(ResponseBuilder rb, String q) {\n    ShardRequest s = new ShardRequest();\n    s.params = new ModifiableSolrParams();\n    \n\n    s.params.set(CommonParams.START, 0);\n\n    String id = rb.req.getSchema().getUniqueKeyField() .getName();\n\n    s.params.set(CommonParams.FL, \"score,\" + id);\n    \r\n    s.params.set(CommonParams.Q, q);\n    \n    s.shards = ShardRequest.ALL_SHARDS;\n    return s;\n  }\n","realPath":"solr/core/src/java/org/apache/solr/handler/component/MoreLikeThisComponent.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":319,"status":"N"}],"commitId":"430b975221cf4d06673af630f0011825311bc036","commitMessage":"@@@clean up and expand distrib mlt tests - still ignored until I can test on freebsd\n\ngit-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1424555 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2012-12-21 00:04:23","modifiedFileCount":"3","status":"M","submitter":"Mark Robert Miller"},{"authorTime":"2012-12-13 23:03:19","codes":[{"authorDate":"2017-03-23 15:42:20","commitOrder":3,"curCode":"  ShardRequest buildShardQuery(ResponseBuilder rb, String q, String key) {\n    ShardRequest s = new ShardRequest();\n    s.params = new ModifiableSolrParams(rb.req.getParams());\n    s.purpose |= ShardRequest.PURPOSE_GET_MLT_RESULTS;\n    \r\n    s.purpose |= ShardRequest.PURPOSE_PRIVATE;\n    \n    s.params.remove(ShardParams.SHARDS);\n    \r\n    \n    \r\n    s.params.set(MoreLikeThisComponent.DIST_DOC_ID, key);\n    s.params.set(CommonParams.START, 0);\n    int mltcount = s.params.getInt(MoreLikeThisParams.DOC_COUNT, 20); \r\n    s.params.set(CommonParams.ROWS, mltcount);\n    \n    \r\n    s.params.remove(CommonParams.FL);\n    \n    \r\n    \r\n    \r\n    \r\n    \r\n    String id = rb.req.getSchema().getUniqueKeyField()\n    .getName();\n    s.params.set(CommonParams.FL, \"score,\" + id);\n    s.params.set(SORT, \"score desc\");\n    \r\n    s.params.set(CommonParams.Q, q);\n    \n    return s;\n  }\n","date":"2017-03-23 15:42:20","endLine":349,"groupId":"102328","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"buildShardQuery","params":"(ResponseBuilderrb@Stringq@Stringkey)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/ff/b5858890776a11b9ff95a616f064b2d12c9660.src","preCode":"  ShardRequest buildShardQuery(ResponseBuilder rb, String q, String key) {\n    ShardRequest s = new ShardRequest();\n    s.params = new ModifiableSolrParams(rb.req.getParams());\n    s.purpose |= ShardRequest.PURPOSE_GET_MLT_RESULTS;\n    \r\n    s.purpose |= ShardRequest.PURPOSE_PRIVATE;\n    \n    s.params.remove(ShardParams.SHARDS);\n    \r\n    \n    \r\n    s.params.set(MoreLikeThisComponent.DIST_DOC_ID, key);\n    s.params.set(CommonParams.START, 0);\n    int mltcount = s.params.getInt(MoreLikeThisParams.DOC_COUNT, 20); \r\n    s.params.set(CommonParams.ROWS, mltcount);\n    \n    \r\n    s.params.remove(CommonParams.FL);\n    \n    \r\n    \r\n    \r\n    \r\n    \r\n    String id = rb.req.getSchema().getUniqueKeyField()\n    .getName();\n    s.params.set(CommonParams.FL, \"score,\" + id);\n    s.params.set(\"sort\", \"score desc\");\n    \r\n    s.params.set(CommonParams.Q, q);\n    \n    return s;\n  }\n","realPath":"solr/core/src/java/org/apache/solr/handler/component/MoreLikeThisComponent.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":317,"status":"M"},{"authorDate":"2012-12-13 23:03:19","commitOrder":3,"curCode":"  ShardRequest buildMLTQuery(ResponseBuilder rb, String q) {\n    ShardRequest s = new ShardRequest();\n    s.params = new ModifiableSolrParams();\n    \n\n    s.params.set(CommonParams.START, 0);\n\n    String id = rb.req.getSchema().getUniqueKeyField() .getName();\n\n    s.params.set(CommonParams.FL, \"score,\" + id);\n    \r\n    s.params.set(CommonParams.Q, q);\n    \n    s.shards = ShardRequest.ALL_SHARDS;\n    return s;\n  }\n","date":"2012-12-13 23:03:19","endLine":334,"groupId":"102328","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"buildMLTQuery","params":"(ResponseBuilderrb@Stringq)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/ed/1782c76264a9ba68f7e31fd6971b4490c04da8.src","preCode":"  ShardRequest buildMLTQuery(ResponseBuilder rb, String q) {\n    ShardRequest s = new ShardRequest();\n    s.params = new ModifiableSolrParams();\n    \n\n    s.params.set(CommonParams.START, 0);\n\n    String id = rb.req.getSchema().getUniqueKeyField() .getName();\n\n    s.params.set(CommonParams.FL, \"score,\" + id);\n    \r\n    s.params.set(CommonParams.Q, q);\n    \n    s.shards = ShardRequest.ALL_SHARDS;\n    return s;\n  }\n","realPath":"solr/core/src/java/org/apache/solr/handler/component/MoreLikeThisComponent.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":319,"status":"N"}],"commitId":"4edfc1a9c7b877a23cffbf5f73a2728173fa663d","commitMessage":"@@@SOLR-6615: use constants for 'sort'.  'distrib'\n","date":"2017-03-23 15:42:20","modifiedFileCount":"37","status":"M","submitter":"Noble Paul"}]
