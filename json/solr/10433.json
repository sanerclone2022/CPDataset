[{"authorTime":"2013-01-27 06:20:16","codes":[{"authorDate":"2011-07-10 07:01:53","commitOrder":2,"curCode":"  public void testSolrQueryMethods() {\n    SolrQuery q = new SolrQuery(\"dog\");\n    boolean b = false;\n    \n    q.setFacetLimit(10);\n    q.addFacetField(\"price\");\n    q.addFacetField(\"state\");\n    Assert.assertEquals(q.getFacetFields().length, 2);\n    q.addFacetQuery(\"instock:true\");\n    q.addFacetQuery(\"instock:false\");\n    q.addFacetQuery(\"a:b\");\n    Assert.assertEquals(q.getFacetQuery().length, 3);\n    \n    b = q.removeFacetField(\"price\");\n    Assert.assertEquals(b, true);\n    b = q.removeFacetField(\"price2\");\n    Assert.assertEquals(b, false);\n    b = q.removeFacetField(\"state\");\n    Assert.assertEquals(b, true);\n    Assert.assertEquals(null, q.getFacetFields());\n    \n    b = q.removeFacetQuery(\"instock:true\");\n    Assert.assertEquals(b, true);\n    b = q.removeFacetQuery(\"instock:false\");\n    b = q.removeFacetQuery(\"a:c\");\n    Assert.assertEquals(b, false);\n    b = q.removeFacetQuery(\"a:b\");\n    Assert.assertEquals(null, q.getFacetQuery());   \n    \n    q.addSortField(\"price\", SolrQuery.ORDER.asc);\n    q.addSortField(\"date\", SolrQuery.ORDER.desc);\n    q.addSortField(\"qty\", SolrQuery.ORDER.desc);\n    q.removeSortField(\"date\", SolrQuery.ORDER.desc);\n    Assert.assertEquals(2, q.getSortFields().length);\n    q.removeSortField(\"price\", SolrQuery.ORDER.asc);\n    q.removeSortField(\"qty\", SolrQuery.ORDER.desc);\n    Assert.assertEquals(null, q.getSortFields());\n    \n    q.addHighlightField(\"hl1\");\n    q.addHighlightField(\"hl2\");\n    q.setHighlightSnippets(2);\n    Assert.assertEquals(2, q.getHighlightFields().length);\n    Assert.assertEquals(100, q.getHighlightFragsize());\n    Assert.assertEquals(q.getHighlightSnippets(), 2);\n    q.removeHighlightField(\"hl1\");\n    q.removeHighlightField(\"hl3\");\n    Assert.assertEquals(1, q.getHighlightFields().length);\n    q.removeHighlightField(\"hl2\");\n    Assert.assertEquals(null, q.getHighlightFields());\n    \n    \r\n    Assert.assertEquals(q.toString(), \"q=dog\");\n\n    \r\n    q.setTimeAllowed(1000);\n    Assert.assertEquals((Integer)1000, q.getTimeAllowed() );\n    \r\n    q.setTimeAllowed(null);\n    Assert.assertEquals(null, q.getTimeAllowed() ); \n    \n    \r\n  }\n","date":"2011-07-10 07:01:53","endLine":93,"groupId":"34414","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testSolrQueryMethods","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/4e/edeb9a57c41c17853e90e211c929122e3d045f.src","preCode":"  public void testSolrQueryMethods() {\n    SolrQuery q = new SolrQuery(\"dog\");\n    boolean b = false;\n    \n    q.setFacetLimit(10);\n    q.addFacetField(\"price\");\n    q.addFacetField(\"state\");\n    Assert.assertEquals(q.getFacetFields().length, 2);\n    q.addFacetQuery(\"instock:true\");\n    q.addFacetQuery(\"instock:false\");\n    q.addFacetQuery(\"a:b\");\n    Assert.assertEquals(q.getFacetQuery().length, 3);\n    \n    b = q.removeFacetField(\"price\");\n    Assert.assertEquals(b, true);\n    b = q.removeFacetField(\"price2\");\n    Assert.assertEquals(b, false);\n    b = q.removeFacetField(\"state\");\n    Assert.assertEquals(b, true);\n    Assert.assertEquals(null, q.getFacetFields());\n    \n    b = q.removeFacetQuery(\"instock:true\");\n    Assert.assertEquals(b, true);\n    b = q.removeFacetQuery(\"instock:false\");\n    b = q.removeFacetQuery(\"a:c\");\n    Assert.assertEquals(b, false);\n    b = q.removeFacetQuery(\"a:b\");\n    Assert.assertEquals(null, q.getFacetQuery());   \n    \n    q.addSortField(\"price\", SolrQuery.ORDER.asc);\n    q.addSortField(\"date\", SolrQuery.ORDER.desc);\n    q.addSortField(\"qty\", SolrQuery.ORDER.desc);\n    q.removeSortField(\"date\", SolrQuery.ORDER.desc);\n    Assert.assertEquals(2, q.getSortFields().length);\n    q.removeSortField(\"price\", SolrQuery.ORDER.asc);\n    q.removeSortField(\"qty\", SolrQuery.ORDER.desc);\n    Assert.assertEquals(null, q.getSortFields());\n    \n    q.addHighlightField(\"hl1\");\n    q.addHighlightField(\"hl2\");\n    q.setHighlightSnippets(2);\n    Assert.assertEquals(2, q.getHighlightFields().length);\n    Assert.assertEquals(100, q.getHighlightFragsize());\n    Assert.assertEquals(q.getHighlightSnippets(), 2);\n    q.removeHighlightField(\"hl1\");\n    q.removeHighlightField(\"hl3\");\n    Assert.assertEquals(1, q.getHighlightFields().length);\n    q.removeHighlightField(\"hl2\");\n    Assert.assertEquals(null, q.getHighlightFields());\n    \n    \r\n    Assert.assertEquals(q.toString(), \"q=dog\");\n\n    \r\n    q.setTimeAllowed(1000);\n    Assert.assertEquals((Integer)1000, q.getTimeAllowed() );\n    \r\n    q.setTimeAllowed(null);\n    Assert.assertEquals(null, q.getTimeAllowed() ); \n    \n    \r\n  }\n","realPath":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrQueryTest.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":32,"status":"NB"},{"authorDate":"2013-01-27 06:20:16","commitOrder":2,"curCode":"  public void testSort() throws IOException {\n\n    SolrQuery q = new SolrQuery(\"dog\");\n\n    \r\n    q.addSort(\"price\", SolrQuery.ORDER.asc);\n    q.addSort(\"date\", SolrQuery.ORDER.desc);\n    q.addSort(\"qty\", SolrQuery.ORDER.desc);\n    Assert.assertEquals(3, q.getSorts().size());\n    Assert.assertEquals(\"price asc,date desc,qty desc\", q.get(CommonParams.SORT));\n\n    \r\n    q.removeSort(\"date\");\n    Assert.assertEquals(2, q.getSorts().size());\n    Assert.assertEquals(\"price asc,qty desc\", q.get(CommonParams.SORT));\n\n    \r\n    q.removeSort(\"price\");\n    q.removeSort(\"qty\");\n    Assert.assertTrue(q.getSorts().isEmpty());\n    Assert.assertNull(q.get(CommonParams.SORT));\n\n    \r\n    q.addSort(\"price\", SolrQuery.ORDER.asc);\n    q.clearSorts();\n    Assert.assertTrue(q.getSorts().isEmpty());\n    Assert.assertNull(q.get(CommonParams.SORT));\n\n    \r\n    q.clearSorts();\n    q.addSort(\"1\", SolrQuery.ORDER.asc);\n    q.addSort(\"2\", SolrQuery.ORDER.asc);\n    q.addSort(\"3\", SolrQuery.ORDER.asc);\n    q.addOrUpdateSort(\"2\", SolrQuery.ORDER.desc);\n    q.addOrUpdateSort(\"4\", SolrQuery.ORDER.desc);\n    Assert.assertEquals(\"1 asc,2 desc,3 asc,4 desc\", q.get(CommonParams.SORT));\n\n    \r\n    q.clearSorts();\n    q.addSort(new SortClause(\"1\", SolrQuery.ORDER.asc));\n    q.addSort(new SortClause(\"2\", SolrQuery.ORDER.asc));\n    q.addSort(new SortClause(\"3\", SolrQuery.ORDER.asc));\n    q.addOrUpdateSort(SortClause.desc(\"2\"));\n    q.addOrUpdateSort(SortClause.asc(\"4\"));\n    Assert.assertEquals(\"1 asc,2 desc,3 asc,4 asc\", q.get(CommonParams.SORT));\n    q.setSort(SortClause.asc(\"A\"));\n    q.addSort(SortClause.asc(\"B\"));\n    q.addSort(SortClause.asc(\"C\"));\n    q.addSort(SortClause.asc(\"D\"));\n    Assert.assertEquals(\"A asc,B asc,C asc,D asc\", q.get(CommonParams.SORT));\n\n    \r\n    q.setSort(SortClause.asc(\"A\"));\n    q.addSort(SortClause.asc(\"B\"));\n    q.addSort(SortClause.asc(\"C\"));\n    q.addSort(SortClause.asc(\"D\"));\n    q.removeSort(\"A\");\n    q.removeSort(SortClause.asc(\"C\"));\n    q.removeSort(SortClause.desc(\"B\"));\n    Assert.assertEquals(\"D asc\", q.get(CommonParams.SORT));\n\n    \r\n    q.clearSorts();\n    q.addSort(\"1\", SolrQuery.ORDER.asc);\n    ObjectOutputStream out = new ObjectOutputStream(new ByteArrayOutputStream());\n    out.writeObject(q);\n    out.close();\n  }\n","date":"2013-01-27 06:20:16","endLine":268,"groupId":"51578","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testSort","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/b5/3d73d5165000892a44351f9e5313ed6f5228c9.src","preCode":"  public void testSort() throws IOException {\n\n    SolrQuery q = new SolrQuery(\"dog\");\n\n    \r\n    q.addSort(\"price\", SolrQuery.ORDER.asc);\n    q.addSort(\"date\", SolrQuery.ORDER.desc);\n    q.addSort(\"qty\", SolrQuery.ORDER.desc);\n    Assert.assertEquals(3, q.getSorts().size());\n    Assert.assertEquals(\"price asc,date desc,qty desc\", q.get(CommonParams.SORT));\n\n    \r\n    q.removeSort(\"date\");\n    Assert.assertEquals(2, q.getSorts().size());\n    Assert.assertEquals(\"price asc,qty desc\", q.get(CommonParams.SORT));\n\n    \r\n    q.removeSort(\"price\");\n    q.removeSort(\"qty\");\n    Assert.assertTrue(q.getSorts().isEmpty());\n    Assert.assertNull(q.get(CommonParams.SORT));\n\n    \r\n    q.addSort(\"price\", SolrQuery.ORDER.asc);\n    q.clearSorts();\n    Assert.assertTrue(q.getSorts().isEmpty());\n    Assert.assertNull(q.get(CommonParams.SORT));\n\n    \r\n    q.clearSorts();\n    q.addSort(\"1\", SolrQuery.ORDER.asc);\n    q.addSort(\"2\", SolrQuery.ORDER.asc);\n    q.addSort(\"3\", SolrQuery.ORDER.asc);\n    q.addOrUpdateSort(\"2\", SolrQuery.ORDER.desc);\n    q.addOrUpdateSort(\"4\", SolrQuery.ORDER.desc);\n    Assert.assertEquals(\"1 asc,2 desc,3 asc,4 desc\", q.get(CommonParams.SORT));\n\n    \r\n    q.clearSorts();\n    q.addSort(new SortClause(\"1\", SolrQuery.ORDER.asc));\n    q.addSort(new SortClause(\"2\", SolrQuery.ORDER.asc));\n    q.addSort(new SortClause(\"3\", SolrQuery.ORDER.asc));\n    q.addOrUpdateSort(SortClause.desc(\"2\"));\n    q.addOrUpdateSort(SortClause.asc(\"4\"));\n    Assert.assertEquals(\"1 asc,2 desc,3 asc,4 asc\", q.get(CommonParams.SORT));\n    q.setSort(SortClause.asc(\"A\"));\n    q.addSort(SortClause.asc(\"B\"));\n    q.addSort(SortClause.asc(\"C\"));\n    q.addSort(SortClause.asc(\"D\"));\n    Assert.assertEquals(\"A asc,B asc,C asc,D asc\", q.get(CommonParams.SORT));\n\n    \r\n    q.setSort(SortClause.asc(\"A\"));\n    q.addSort(SortClause.asc(\"B\"));\n    q.addSort(SortClause.asc(\"C\"));\n    q.addSort(SortClause.asc(\"D\"));\n    q.removeSort(\"A\");\n    q.removeSort(SortClause.asc(\"C\"));\n    q.removeSort(SortClause.desc(\"B\"));\n    Assert.assertEquals(\"D asc\", q.get(CommonParams.SORT));\n\n    \r\n    q.clearSorts();\n    q.addSort(\"1\", SolrQuery.ORDER.asc);\n    ObjectOutputStream out = new ObjectOutputStream(new ByteArrayOutputStream());\n    out.writeObject(q);\n    out.close();\n  }\n","realPath":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrQueryTest.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":201,"status":"B"}],"commitId":"23a338e22e8469b9ccc63c034c22c2959b6e3bb4","commitMessage":"@@@Fix for SOLR-3926.  thanks Eirik\n\ngit-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1438977 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2013-01-27 06:20:16","modifiedFileCount":"2","status":"M","submitter":"Erick Erickson"},{"authorTime":"2013-01-27 06:20:16","codes":[{"authorDate":"2015-01-21 23:06:04","commitOrder":3,"curCode":"  public void testSolrQueryMethods() {\n    SolrQuery q = new SolrQuery(\"dog\");\n    boolean b = false;\n    \n    q.setFacetLimit(10);\n    q.addFacetField(\"price\");\n    q.addFacetField(\"state\");\n    Assert.assertEquals(q.getFacetFields().length, 2);\n    q.addFacetQuery(\"instock:true\");\n    q.addFacetQuery(\"instock:false\");\n    q.addFacetQuery(\"a:b\");\n    Assert.assertEquals(q.getFacetQuery().length, 3);\n    \n    b = q.removeFacetField(\"price\");\n    Assert.assertEquals(b, true);\n    b = q.removeFacetField(\"price2\");\n    Assert.assertEquals(b, false);\n    b = q.removeFacetField(\"state\");\n    Assert.assertEquals(b, true);\n    Assert.assertEquals(null, q.getFacetFields());\n    \n    b = q.removeFacetQuery(\"instock:true\");\n    Assert.assertEquals(b, true);\n    b = q.removeFacetQuery(\"instock:false\");\n    b = q.removeFacetQuery(\"a:c\");\n    Assert.assertEquals(b, false);\n    b = q.removeFacetQuery(\"a:b\");\n    Assert.assertEquals(null, q.getFacetQuery());   \n    \n    q.addSort(\"price\", SolrQuery.ORDER.asc);\n    q.addSort(\"date\", SolrQuery.ORDER.desc);\n    q.addSort(\"qty\", SolrQuery.ORDER.desc);\n    q.removeSort(new SortClause(\"date\", SolrQuery.ORDER.desc));\n    Assert.assertEquals(2, q.getSorts().size());\n    q.removeSort(new SortClause(\"price\", SolrQuery.ORDER.asc));\n    q.removeSort(new SortClause(\"qty\", SolrQuery.ORDER.desc));\n    Assert.assertEquals(0, q.getSorts().size());\n    \n    q.addHighlightField(\"hl1\");\n    q.addHighlightField(\"hl2\");\n    q.setHighlightSnippets(2);\n    Assert.assertEquals(2, q.getHighlightFields().length);\n    Assert.assertEquals(100, q.getHighlightFragsize());\n    Assert.assertEquals(q.getHighlightSnippets(), 2);\n    q.removeHighlightField(\"hl1\");\n    q.removeHighlightField(\"hl3\");\n    Assert.assertEquals(1, q.getHighlightFields().length);\n    q.removeHighlightField(\"hl2\");\n    Assert.assertEquals(null, q.getHighlightFields());\n    \n    \r\n    Assert.assertEquals(q.toString(), \"q=dog\");\n\n    \r\n    q.setTimeAllowed(1000);\n    Assert.assertEquals((Integer)1000, q.getTimeAllowed() );\n    \r\n    q.setTimeAllowed(null);\n    Assert.assertEquals(null, q.getTimeAllowed() ); \n    \n    \r\n  }\n","date":"2015-01-21 23:06:04","endLine":105,"groupId":"10433","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testSolrQueryMethods","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/7b/5be047a834c016270b40c4e17bf48b5aaf4c8a.src","preCode":"  public void testSolrQueryMethods() {\n    SolrQuery q = new SolrQuery(\"dog\");\n    boolean b = false;\n    \n    q.setFacetLimit(10);\n    q.addFacetField(\"price\");\n    q.addFacetField(\"state\");\n    Assert.assertEquals(q.getFacetFields().length, 2);\n    q.addFacetQuery(\"instock:true\");\n    q.addFacetQuery(\"instock:false\");\n    q.addFacetQuery(\"a:b\");\n    Assert.assertEquals(q.getFacetQuery().length, 3);\n    \n    b = q.removeFacetField(\"price\");\n    Assert.assertEquals(b, true);\n    b = q.removeFacetField(\"price2\");\n    Assert.assertEquals(b, false);\n    b = q.removeFacetField(\"state\");\n    Assert.assertEquals(b, true);\n    Assert.assertEquals(null, q.getFacetFields());\n    \n    b = q.removeFacetQuery(\"instock:true\");\n    Assert.assertEquals(b, true);\n    b = q.removeFacetQuery(\"instock:false\");\n    b = q.removeFacetQuery(\"a:c\");\n    Assert.assertEquals(b, false);\n    b = q.removeFacetQuery(\"a:b\");\n    Assert.assertEquals(null, q.getFacetQuery());   \n    \n    q.addSortField(\"price\", SolrQuery.ORDER.asc);\n    q.addSortField(\"date\", SolrQuery.ORDER.desc);\n    q.addSortField(\"qty\", SolrQuery.ORDER.desc);\n    q.removeSortField(\"date\", SolrQuery.ORDER.desc);\n    Assert.assertEquals(2, q.getSortFields().length);\n    q.removeSortField(\"price\", SolrQuery.ORDER.asc);\n    q.removeSortField(\"qty\", SolrQuery.ORDER.desc);\n    Assert.assertEquals(null, q.getSortFields());\n    \n    q.addHighlightField(\"hl1\");\n    q.addHighlightField(\"hl2\");\n    q.setHighlightSnippets(2);\n    Assert.assertEquals(2, q.getHighlightFields().length);\n    Assert.assertEquals(100, q.getHighlightFragsize());\n    Assert.assertEquals(q.getHighlightSnippets(), 2);\n    q.removeHighlightField(\"hl1\");\n    q.removeHighlightField(\"hl3\");\n    Assert.assertEquals(1, q.getHighlightFields().length);\n    q.removeHighlightField(\"hl2\");\n    Assert.assertEquals(null, q.getHighlightFields());\n    \n    \r\n    Assert.assertEquals(q.toString(), \"q=dog\");\n\n    \r\n    q.setTimeAllowed(1000);\n    Assert.assertEquals((Integer)1000, q.getTimeAllowed() );\n    \r\n    q.setTimeAllowed(null);\n    Assert.assertEquals(null, q.getTimeAllowed() ); \n    \n    \r\n  }\n","realPath":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrQueryTest.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":44,"status":"M"},{"authorDate":"2013-01-27 06:20:16","commitOrder":3,"curCode":"  public void testSort() throws IOException {\n\n    SolrQuery q = new SolrQuery(\"dog\");\n\n    \r\n    q.addSort(\"price\", SolrQuery.ORDER.asc);\n    q.addSort(\"date\", SolrQuery.ORDER.desc);\n    q.addSort(\"qty\", SolrQuery.ORDER.desc);\n    Assert.assertEquals(3, q.getSorts().size());\n    Assert.assertEquals(\"price asc,date desc,qty desc\", q.get(CommonParams.SORT));\n\n    \r\n    q.removeSort(\"date\");\n    Assert.assertEquals(2, q.getSorts().size());\n    Assert.assertEquals(\"price asc,qty desc\", q.get(CommonParams.SORT));\n\n    \r\n    q.removeSort(\"price\");\n    q.removeSort(\"qty\");\n    Assert.assertTrue(q.getSorts().isEmpty());\n    Assert.assertNull(q.get(CommonParams.SORT));\n\n    \r\n    q.addSort(\"price\", SolrQuery.ORDER.asc);\n    q.clearSorts();\n    Assert.assertTrue(q.getSorts().isEmpty());\n    Assert.assertNull(q.get(CommonParams.SORT));\n\n    \r\n    q.clearSorts();\n    q.addSort(\"1\", SolrQuery.ORDER.asc);\n    q.addSort(\"2\", SolrQuery.ORDER.asc);\n    q.addSort(\"3\", SolrQuery.ORDER.asc);\n    q.addOrUpdateSort(\"2\", SolrQuery.ORDER.desc);\n    q.addOrUpdateSort(\"4\", SolrQuery.ORDER.desc);\n    Assert.assertEquals(\"1 asc,2 desc,3 asc,4 desc\", q.get(CommonParams.SORT));\n\n    \r\n    q.clearSorts();\n    q.addSort(new SortClause(\"1\", SolrQuery.ORDER.asc));\n    q.addSort(new SortClause(\"2\", SolrQuery.ORDER.asc));\n    q.addSort(new SortClause(\"3\", SolrQuery.ORDER.asc));\n    q.addOrUpdateSort(SortClause.desc(\"2\"));\n    q.addOrUpdateSort(SortClause.asc(\"4\"));\n    Assert.assertEquals(\"1 asc,2 desc,3 asc,4 asc\", q.get(CommonParams.SORT));\n    q.setSort(SortClause.asc(\"A\"));\n    q.addSort(SortClause.asc(\"B\"));\n    q.addSort(SortClause.asc(\"C\"));\n    q.addSort(SortClause.asc(\"D\"));\n    Assert.assertEquals(\"A asc,B asc,C asc,D asc\", q.get(CommonParams.SORT));\n\n    \r\n    q.setSort(SortClause.asc(\"A\"));\n    q.addSort(SortClause.asc(\"B\"));\n    q.addSort(SortClause.asc(\"C\"));\n    q.addSort(SortClause.asc(\"D\"));\n    q.removeSort(\"A\");\n    q.removeSort(SortClause.asc(\"C\"));\n    q.removeSort(SortClause.desc(\"B\"));\n    Assert.assertEquals(\"D asc\", q.get(CommonParams.SORT));\n\n    \r\n    q.clearSorts();\n    q.addSort(\"1\", SolrQuery.ORDER.asc);\n    ObjectOutputStream out = new ObjectOutputStream(new ByteArrayOutputStream());\n    out.writeObject(q);\n    out.close();\n  }\n","date":"2013-01-27 06:20:16","endLine":268,"groupId":"10433","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testSort","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/b5/3d73d5165000892a44351f9e5313ed6f5228c9.src","preCode":"  public void testSort() throws IOException {\n\n    SolrQuery q = new SolrQuery(\"dog\");\n\n    \r\n    q.addSort(\"price\", SolrQuery.ORDER.asc);\n    q.addSort(\"date\", SolrQuery.ORDER.desc);\n    q.addSort(\"qty\", SolrQuery.ORDER.desc);\n    Assert.assertEquals(3, q.getSorts().size());\n    Assert.assertEquals(\"price asc,date desc,qty desc\", q.get(CommonParams.SORT));\n\n    \r\n    q.removeSort(\"date\");\n    Assert.assertEquals(2, q.getSorts().size());\n    Assert.assertEquals(\"price asc,qty desc\", q.get(CommonParams.SORT));\n\n    \r\n    q.removeSort(\"price\");\n    q.removeSort(\"qty\");\n    Assert.assertTrue(q.getSorts().isEmpty());\n    Assert.assertNull(q.get(CommonParams.SORT));\n\n    \r\n    q.addSort(\"price\", SolrQuery.ORDER.asc);\n    q.clearSorts();\n    Assert.assertTrue(q.getSorts().isEmpty());\n    Assert.assertNull(q.get(CommonParams.SORT));\n\n    \r\n    q.clearSorts();\n    q.addSort(\"1\", SolrQuery.ORDER.asc);\n    q.addSort(\"2\", SolrQuery.ORDER.asc);\n    q.addSort(\"3\", SolrQuery.ORDER.asc);\n    q.addOrUpdateSort(\"2\", SolrQuery.ORDER.desc);\n    q.addOrUpdateSort(\"4\", SolrQuery.ORDER.desc);\n    Assert.assertEquals(\"1 asc,2 desc,3 asc,4 desc\", q.get(CommonParams.SORT));\n\n    \r\n    q.clearSorts();\n    q.addSort(new SortClause(\"1\", SolrQuery.ORDER.asc));\n    q.addSort(new SortClause(\"2\", SolrQuery.ORDER.asc));\n    q.addSort(new SortClause(\"3\", SolrQuery.ORDER.asc));\n    q.addOrUpdateSort(SortClause.desc(\"2\"));\n    q.addOrUpdateSort(SortClause.asc(\"4\"));\n    Assert.assertEquals(\"1 asc,2 desc,3 asc,4 asc\", q.get(CommonParams.SORT));\n    q.setSort(SortClause.asc(\"A\"));\n    q.addSort(SortClause.asc(\"B\"));\n    q.addSort(SortClause.asc(\"C\"));\n    q.addSort(SortClause.asc(\"D\"));\n    Assert.assertEquals(\"A asc,B asc,C asc,D asc\", q.get(CommonParams.SORT));\n\n    \r\n    q.setSort(SortClause.asc(\"A\"));\n    q.addSort(SortClause.asc(\"B\"));\n    q.addSort(SortClause.asc(\"C\"));\n    q.addSort(SortClause.asc(\"D\"));\n    q.removeSort(\"A\");\n    q.removeSort(SortClause.asc(\"C\"));\n    q.removeSort(SortClause.desc(\"B\"));\n    Assert.assertEquals(\"D asc\", q.get(CommonParams.SORT));\n\n    \r\n    q.clearSorts();\n    q.addSort(\"1\", SolrQuery.ORDER.asc);\n    ObjectOutputStream out = new ObjectOutputStream(new ByteArrayOutputStream());\n    out.writeObject(q);\n    out.close();\n  }\n","realPath":"solr/solrj/src/test/org/apache/solr/client/solrj/SolrQueryTest.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":201,"status":"N"}],"commitId":"344be1a6b196e5fce7ffeae020ff97de77f75ff7","commitMessage":"@@@SOLR-6976: Remove methods and classes deprecated in 4.x\n\ngit-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1653549 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2015-01-21 23:06:04","modifiedFileCount":"44","status":"M","submitter":"Alan Woodward"}]
