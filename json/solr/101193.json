[{"authorTime":"2014-02-05 20:17:45","codes":[{"authorDate":"2014-02-05 20:17:45","commitOrder":1,"curCode":"  public void testPreExistingMultiValue() throws Exception {\n    SolrInputDocument doc;\n    parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"text_multivalue\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.langsField\", \"languages\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.map\", \"true\");\n    liProcessor = createLangIdProcessor(parameters);\n    \n    doc = englishDoc();\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    \n    doc = englishDoc();\n    doc.setField(\"language\", \"no\");\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    assertNotNull(liProcessor.process(doc).getFieldValue(\"text_multivalue_no\"));\n  }\n","date":"2014-02-05 20:17:45","endLine":178,"groupId":"36522","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testPreExistingMultiValue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/d8/45d182aac1919857eaac0e169c74b9c64c68c6.src","preCode":"  public void testPreExistingMultiValue() throws Exception {\n    SolrInputDocument doc;\n    parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"text_multivalue\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.langsField\", \"languages\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.map\", \"true\");\n    liProcessor = createLangIdProcessor(parameters);\n    \n    doc = englishDoc();\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    \n    doc = englishDoc();\n    doc.setField(\"language\", \"no\");\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    assertNotNull(liProcessor.process(doc).getFieldValue(\"text_multivalue_no\"));\n  }\n","realPath":"solr/contrib/langid/src/test/org/apache/solr/update/processor/LanguageIdentifierUpdateProcessorFactoryTestCase.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":159,"status":"B"},{"authorDate":"2014-02-05 20:17:45","commitOrder":1,"curCode":"  public void testPreExistingMultiValueMixedLang() throws Exception {\n    SolrInputDocument doc;\n    parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"text_multivalue\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.langsField\", \"languages\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.map\", \"true\");\n    liProcessor = createLangIdProcessor(parameters);\n\n    doc = mixedEnglishRussianDoc();\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"languages\"));\n\n    doc = mixedEnglishRussianDoc();\n    doc.setField(\"language\", \"no\");\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    assertNotNull(liProcessor.process(doc).getFieldValue(\"text_multivalue_no\"));\n  }\n","date":"2014-02-05 20:17:45","endLine":204,"groupId":"36522","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testPreExistingMultiValueMixedLang","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/d8/45d182aac1919857eaac0e169c74b9c64c68c6.src","preCode":"  public void testPreExistingMultiValueMixedLang() throws Exception {\n    SolrInputDocument doc;\n    parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"text_multivalue\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.langsField\", \"languages\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.map\", \"true\");\n    liProcessor = createLangIdProcessor(parameters);\n\n    doc = mixedEnglishRussianDoc();\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"languages\"));\n\n    doc = mixedEnglishRussianDoc();\n    doc.setField(\"language\", \"no\");\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    assertNotNull(liProcessor.process(doc).getFieldValue(\"text_multivalue_no\"));\n  }\n","realPath":"solr/contrib/langid/src/test/org/apache/solr/update/processor/LanguageIdentifierUpdateProcessorFactoryTestCase.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":185,"status":"B"}],"commitId":"e63b46137de6ecf5bf799396ff39ff8374847120","commitMessage":"@@@SOLR-5598: LanguageIdentifierUpdateProcessor ignores all but the first value of multiValued string fields\n\ngit-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1564732 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2014-02-05 20:17:45","modifiedFileCount":"2","status":"B","submitter":"Shalin Shekhar Mangar"},{"authorTime":"2014-08-16 02:12:26","codes":[{"authorDate":"2014-08-16 02:12:26","commitOrder":2,"curCode":"  public void testPreExistingMultiValue() throws Exception {\n    SolrInputDocument doc;\n    ModifiableSolrParams parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"text_multivalue\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.langsField\", \"languages\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.map\", \"true\");\n    liProcessor = createLangIdProcessor(parameters);\n    \n    doc = englishDoc();\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    \n    doc = englishDoc();\n    doc.setField(\"language\", \"no\");\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    assertNotNull(liProcessor.process(doc).getFieldValue(\"text_multivalue_no\"));\n  }\n","date":"2014-08-16 02:12:26","endLine":174,"groupId":"36522","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testPreExistingMultiValue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/8b/987ce3da0982bff63c32a0c010ba3135a1088c.src","preCode":"  public void testPreExistingMultiValue() throws Exception {\n    SolrInputDocument doc;\n    parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"text_multivalue\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.langsField\", \"languages\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.map\", \"true\");\n    liProcessor = createLangIdProcessor(parameters);\n    \n    doc = englishDoc();\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    \n    doc = englishDoc();\n    doc.setField(\"language\", \"no\");\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    assertNotNull(liProcessor.process(doc).getFieldValue(\"text_multivalue_no\"));\n  }\n","realPath":"solr/contrib/langid/src/test/org/apache/solr/update/processor/LanguageIdentifierUpdateProcessorFactoryTestCase.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":155,"status":"M"},{"authorDate":"2014-08-16 02:12:26","commitOrder":2,"curCode":"  public void testPreExistingMultiValueMixedLang() throws Exception {\n    SolrInputDocument doc;\n    ModifiableSolrParams parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"text_multivalue\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.langsField\", \"languages\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.map\", \"true\");\n    liProcessor = createLangIdProcessor(parameters);\n\n    doc = mixedEnglishRussianDoc();\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"languages\"));\n\n    doc = mixedEnglishRussianDoc();\n    doc.setField(\"language\", \"no\");\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    assertNotNull(liProcessor.process(doc).getFieldValue(\"text_multivalue_no\"));\n  }\n","date":"2014-08-16 02:12:26","endLine":200,"groupId":"36522","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testPreExistingMultiValueMixedLang","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/8b/987ce3da0982bff63c32a0c010ba3135a1088c.src","preCode":"  public void testPreExistingMultiValueMixedLang() throws Exception {\n    SolrInputDocument doc;\n    parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"text_multivalue\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.langsField\", \"languages\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.map\", \"true\");\n    liProcessor = createLangIdProcessor(parameters);\n\n    doc = mixedEnglishRussianDoc();\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"languages\"));\n\n    doc = mixedEnglishRussianDoc();\n    doc.setField(\"language\", \"no\");\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    assertNotNull(liProcessor.process(doc).getFieldValue(\"text_multivalue_no\"));\n  }\n","realPath":"solr/contrib/langid/src/test/org/apache/solr/update/processor/LanguageIdentifierUpdateProcessorFactoryTestCase.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":181,"status":"M"}],"commitId":"7dc2b104b132d561778dd2ef0161709c0e78c891","commitMessage":"@@@SOLR-6381: Fix brokenness with RAM accounting in Java 9 (this is just a workaround for the bug in test framework.  but it makes the test behave correct - using static fields here is a bug!)\n\ngit-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1618252 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2014-08-16 02:12:26","modifiedFileCount":"2","status":"M","submitter":"Uwe Schindler"},{"authorTime":"2019-01-04 01:26:27","codes":[{"authorDate":"2019-01-04 01:26:27","commitOrder":3,"curCode":"  public void testPreExistingMultiValue() throws Exception {\n    SolrInputDocument doc;\n    ModifiableSolrParams parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"text_multivalue\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.langsField\", \"languages\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.map\", \"true\");\n    liProcessor = createLangIdProcessor(parameters);\n    \n    doc = englishDoc();\n    assertEquals(\"en\", process(doc).getFieldValue(\"language\"));\n    assertEquals(\"en\", process(doc).getFieldValue(\"languages\"));\n    \n    doc = englishDoc();\n    doc.setField(\"language\", \"no\");\n    assertEquals(\"no\", process(doc).getFieldValue(\"language\"));\n    assertEquals(\"no\", process(doc).getFieldValue(\"languages\"));\n    assertNotNull(process(doc).getFieldValue(\"text_multivalue_no\"));\n  }\n","date":"2019-01-04 01:27:24","endLine":177,"groupId":"101193","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testPreExistingMultiValue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/9f/c3eb10b04896dc1d79308763dde7554da39d42.src","preCode":"  public void testPreExistingMultiValue() throws Exception {\n    SolrInputDocument doc;\n    ModifiableSolrParams parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"text_multivalue\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.langsField\", \"languages\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.map\", \"true\");\n    liProcessor = createLangIdProcessor(parameters);\n    \n    doc = englishDoc();\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    \n    doc = englishDoc();\n    doc.setField(\"language\", \"no\");\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    assertNotNull(liProcessor.process(doc).getFieldValue(\"text_multivalue_no\"));\n  }\n","realPath":"solr/contrib/langid/src/test/org/apache/solr/update/processor/LanguageIdentifierUpdateProcessorFactoryTestCase.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":158,"status":"M"},{"authorDate":"2019-01-04 01:26:27","commitOrder":3,"curCode":"  public void testPreExistingMultiValueMixedLang() throws Exception {\n    SolrInputDocument doc;\n    ModifiableSolrParams parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"text_multivalue\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.langsField\", \"languages\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.map\", \"true\");\n    liProcessor = createLangIdProcessor(parameters);\n\n    doc = mixedEnglishRussianDoc();\n    assertEquals(\"en\", process(doc).getFieldValue(\"language\"));\n    assertEquals(\"en\", process(doc).getFieldValue(\"languages\"));\n\n    doc = mixedEnglishRussianDoc();\n    doc.setField(\"language\", \"no\");\n    assertEquals(\"no\", process(doc).getFieldValue(\"language\"));\n    assertEquals(\"no\", process(doc).getFieldValue(\"languages\"));\n    assertNotNull(process(doc).getFieldValue(\"text_multivalue_no\"));\n  }\n","date":"2019-01-04 01:27:24","endLine":203,"groupId":"101193","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testPreExistingMultiValueMixedLang","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/9f/c3eb10b04896dc1d79308763dde7554da39d42.src","preCode":"  public void testPreExistingMultiValueMixedLang() throws Exception {\n    SolrInputDocument doc;\n    ModifiableSolrParams parameters = new ModifiableSolrParams();\n    parameters.add(\"langid.fl\", \"text_multivalue\");\n    parameters.add(\"langid.langField\", \"language\");\n    parameters.add(\"langid.langsField\", \"languages\");\n    parameters.add(\"langid.enforceSchema\", \"false\");\n    parameters.add(\"langid.map\", \"true\");\n    liProcessor = createLangIdProcessor(parameters);\n\n    doc = mixedEnglishRussianDoc();\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"en\", liProcessor.process(doc).getFieldValue(\"languages\"));\n\n    doc = mixedEnglishRussianDoc();\n    doc.setField(\"language\", \"no\");\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"language\"));\n    assertEquals(\"no\", liProcessor.process(doc).getFieldValue(\"languages\"));\n    assertNotNull(liProcessor.process(doc).getFieldValue(\"text_multivalue_no\"));\n  }\n","realPath":"solr/contrib/langid/src/test/org/apache/solr/update/processor/LanguageIdentifierUpdateProcessorFactoryTestCase.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":184,"status":"M"}],"commitId":"00f8f3a13acd3c4da491e7169afdfbdc0f38e26d","commitMessage":"@@@SOLR-11774: langid.map.individual now works together with langid.map.keepOrig\n","date":"2019-01-04 01:27:24","modifiedFileCount":"5","status":"M","submitter":"Jan H?ydahl"}]
