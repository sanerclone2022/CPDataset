[{"authorTime":"2013-04-02 00:16:03","codes":[{"authorDate":"2013-04-02 00:16:03","commitOrder":1,"curCode":"  public void testUpgradeThenRestart() throws Exception {\n    assertSchemaResource(collection, \"managed-schema\");\n    deleteCore();\n    File nonManagedSchemaFile = new File(tmpConfDir, \"schema-minimal.xml\");\n    assertFalse(nonManagedSchemaFile.exists());\n    initCore(\"solrconfig-managed-schema.xml\", \"schema-minimal.xml\", tmpSolrHome.getPath());\n    File managedSchemaFile = new File(tmpConfDir, \"managed-schema\");\n    assertTrue(managedSchemaFile.exists());\n    String managedSchema = FileUtils.readFileToString(managedSchemaFile, \"UTF-8\");\n    assertTrue(managedSchema.contains(\"DO NOT EDIT\"));\n    File upgradedOriginalSchemaFile = new File(tmpConfDir, \"schema-minimal.xml.bak\");\n    assertTrue(upgradedOriginalSchemaFile.exists());\n    assertSchemaResource(collection, \"managed-schema\");\n  }\n","date":"2013-04-02 00:16:03","endLine":85,"groupId":"33028","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testUpgradeThenRestart","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/37/ba880fbd59df3685d7e7e0fb0ed446eb55051d.src","preCode":"  public void testUpgradeThenRestart() throws Exception {\n    assertSchemaResource(collection, \"managed-schema\");\n    deleteCore();\n    File nonManagedSchemaFile = new File(tmpConfDir, \"schema-minimal.xml\");\n    assertFalse(nonManagedSchemaFile.exists());\n    initCore(\"solrconfig-managed-schema.xml\", \"schema-minimal.xml\", tmpSolrHome.getPath());\n    File managedSchemaFile = new File(tmpConfDir, \"managed-schema\");\n    assertTrue(managedSchemaFile.exists());\n    String managedSchema = FileUtils.readFileToString(managedSchemaFile, \"UTF-8\");\n    assertTrue(managedSchema.contains(\"DO NOT EDIT\"));\n    File upgradedOriginalSchemaFile = new File(tmpConfDir, \"schema-minimal.xml.bak\");\n    assertTrue(upgradedOriginalSchemaFile.exists());\n    assertSchemaResource(collection, \"managed-schema\");\n  }\n","realPath":"solr/core/src/test/org/apache/solr/schema/TestManagedSchema.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":72,"status":"B"},{"authorDate":"2013-04-02 00:16:03","commitOrder":1,"curCode":"  public void testUpgradeThenRestartNonManagedAfterPuttingBackNonManagedSchema() throws Exception {\n    assertSchemaResource(collection, \"managed-schema\");\n    deleteCore();\n    File nonManagedSchemaFile = new File(tmpConfDir, \"schema-minimal.xml\");\n    assertFalse(nonManagedSchemaFile.exists());\n    File upgradedOriginalSchemaFile = new File(tmpConfDir, \"schema-minimal.xml.bak\");\n    assertTrue(upgradedOriginalSchemaFile.exists());\n    \n    \r\n    FileUtils.moveFile(upgradedOriginalSchemaFile, nonManagedSchemaFile);\n    initCore(\"solrconfig-basic.xml\", \"schema-minimal.xml\", tmpSolrHome.getPath());\n    assertSchemaResource(collection, \"schema-minimal.xml\");\n  }\n","date":"2013-04-02 00:16:03","endLine":107,"groupId":"52793","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testUpgradeThenRestartNonManagedAfterPuttingBackNonManagedSchema","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/37/ba880fbd59df3685d7e7e0fb0ed446eb55051d.src","preCode":"  public void testUpgradeThenRestartNonManagedAfterPuttingBackNonManagedSchema() throws Exception {\n    assertSchemaResource(collection, \"managed-schema\");\n    deleteCore();\n    File nonManagedSchemaFile = new File(tmpConfDir, \"schema-minimal.xml\");\n    assertFalse(nonManagedSchemaFile.exists());\n    File upgradedOriginalSchemaFile = new File(tmpConfDir, \"schema-minimal.xml.bak\");\n    assertTrue(upgradedOriginalSchemaFile.exists());\n    \n    \r\n    FileUtils.moveFile(upgradedOriginalSchemaFile, nonManagedSchemaFile);\n    initCore(\"solrconfig-basic.xml\", \"schema-minimal.xml\", tmpSolrHome.getPath());\n    assertSchemaResource(collection, \"schema-minimal.xml\");\n  }\n","realPath":"solr/core/src/test/org/apache/solr/schema/TestManagedSchema.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":95,"status":"B"}],"commitId":"b1e4ba6843e78e92168e3ac315ea8238095a39d6","commitMessage":"@@@SOLR-4658: In preparation for REST API requests that can modify the schema.  a \"managed schema\" is introduced.\n\ngit-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1463182 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2013-04-02 00:16:03","modifiedFileCount":"18","status":"B","submitter":"Steven Rowe"},{"authorTime":"2021-09-16 20:43:31","codes":[{"authorDate":"2021-09-16 20:43:31","commitOrder":2,"curCode":"  public void testUpgradeThenRestart() throws Exception {\n    assertSchemaResource(collection, \"managed-schema.xml\");\n    deleteCore();\n    File nonManagedSchemaFile = new File(tmpConfDir, \"schema-minimal.xml\");\n    assertFalse(nonManagedSchemaFile.exists());\n    initCore(\"solrconfig-managed-schema.xml\", \"schema-minimal.xml\", tmpSolrHome.getPath());\n    File managedSchemaFile = new File(tmpConfDir, \"managed-schema.xml\");\n    assertTrue(managedSchemaFile.exists());\n    String managedSchema = FileUtils.readFileToString(managedSchemaFile, \"UTF-8\");\n    assertTrue(managedSchema.contains(\"DO NOT EDIT\"));\n    File upgradedOriginalSchemaFile = new File(tmpConfDir, \"schema-minimal.xml.bak\");\n    assertTrue(upgradedOriginalSchemaFile.exists());\n    assertSchemaResource(collection, \"managed-schema.xml\");\n  }\n","date":"2021-09-16 20:43:31","endLine":105,"groupId":"102711","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"testUpgradeThenRestart","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/42/a5a79a321defc265288209deb339419792b44d.src","preCode":"  public void testUpgradeThenRestart() throws Exception {\n    assertSchemaResource(collection, \"managed-schema\");\n    deleteCore();\n    File nonManagedSchemaFile = new File(tmpConfDir, \"schema-minimal.xml\");\n    assertFalse(nonManagedSchemaFile.exists());\n    initCore(\"solrconfig-managed-schema.xml\", \"schema-minimal.xml\", tmpSolrHome.getPath());\n    File managedSchemaFile = new File(tmpConfDir, \"managed-schema\");\n    assertTrue(managedSchemaFile.exists());\n    String managedSchema = FileUtils.readFileToString(managedSchemaFile, \"UTF-8\");\n    assertTrue(managedSchema.contains(\"DO NOT EDIT\"));\n    File upgradedOriginalSchemaFile = new File(tmpConfDir, \"schema-minimal.xml.bak\");\n    assertTrue(upgradedOriginalSchemaFile.exists());\n    assertSchemaResource(collection, \"managed-schema\");\n  }\n","realPath":"solr/core/src/test/org/apache/solr/schema/TestManagedSchema.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":92,"status":"M"},{"authorDate":"2021-09-16 20:43:31","commitOrder":2,"curCode":"  public void testUpgradeThenRestartNonManagedAfterPuttingBackNonManagedSchema() throws Exception {\n    assertSchemaResource(collection, \"managed-schema.xml\");\n    deleteCore();\n    File nonManagedSchemaFile = new File(tmpConfDir, \"schema-minimal.xml\");\n    assertFalse(nonManagedSchemaFile.exists());\n    File upgradedOriginalSchemaFile = new File(tmpConfDir, \"schema-minimal.xml.bak\");\n    assertTrue(upgradedOriginalSchemaFile.exists());\n\n    \r\n    FileUtils.moveFile(upgradedOriginalSchemaFile, nonManagedSchemaFile);\n    initCore(\"solrconfig-basic.xml\", \"schema-minimal.xml\", tmpSolrHome.getPath());\n    assertSchemaResource(collection, \"schema-minimal.xml\");\n  }\n","date":"2021-09-16 20:43:31","endLine":127,"groupId":"102711","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"testUpgradeThenRestartNonManagedAfterPuttingBackNonManagedSchema","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/42/a5a79a321defc265288209deb339419792b44d.src","preCode":"  public void testUpgradeThenRestartNonManagedAfterPuttingBackNonManagedSchema() throws Exception {\n    assertSchemaResource(collection, \"managed-schema\");\n    deleteCore();\n    File nonManagedSchemaFile = new File(tmpConfDir, \"schema-minimal.xml\");\n    assertFalse(nonManagedSchemaFile.exists());\n    File upgradedOriginalSchemaFile = new File(tmpConfDir, \"schema-minimal.xml.bak\");\n    assertTrue(upgradedOriginalSchemaFile.exists());\n    \n    \r\n    FileUtils.moveFile(upgradedOriginalSchemaFile, nonManagedSchemaFile);\n    initCore(\"solrconfig-basic.xml\", \"schema-minimal.xml\", tmpSolrHome.getPath());\n    assertSchemaResource(collection, \"schema-minimal.xml\");\n  }\n","realPath":"solr/core/src/test/org/apache/solr/schema/TestManagedSchema.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":115,"status":"M"}],"commitId":"df903cbdc1de7fb2c3469b9773d6f9d23d591a5d","commitMessage":"@@@ SOLR-10887: Append .xml to managed-schema file VERSION 2 (#279)\n\nManaged schema file is now called \"managed-schema.xml\".  however there is a fallback to \"managed-schema\" since that is a common legacy name for the file.   Updated the name of the files used in running tests.","date":"2021-09-16 20:43:31","modifiedFileCount":"9","status":"M","submitter":"Eric Pugh"}]
