[{"authorTime":"2017-02-16 11:51:21","codes":[{"authorDate":"2017-02-16 11:51:21","commitOrder":1,"curCode":"  public void testLogReplayWithReorderedDBQInsertingChildnodes() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          updateJ(jsonDelQ(\"id:B2\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\"));\n          \r\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1013\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==4\") \r\n    );\n  }\n","date":"2017-02-16 11:51:21","endLine":353,"groupId":"4103","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testLogReplayWithReorderedDBQInsertingChildnodes","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/84/ba2fa5dd7f041e599ab15f560a24f592d63a91.src","preCode":"  public void testLogReplayWithReorderedDBQInsertingChildnodes() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          updateJ(jsonDelQ(\"id:B2\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\"));\n          \r\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1013\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==4\") \r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestRecovery.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":344,"status":"B"},{"authorDate":"2017-02-16 11:51:21","commitOrder":1,"curCode":"  public void testLogReplayWithReorderedDBQUpdateWithDifferentChildCount() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1011\", 2)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1012\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B2\", \"1013\", 2)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          updateJ(jsonDelQ(\"id:B3\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1019\"));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B2\", \"1018\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==8\") \r\n    );\n  }\n","date":"2017-02-16 11:51:21","endLine":373,"groupId":"4105","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testLogReplayWithReorderedDBQUpdateWithDifferentChildCount","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/84/ba2fa5dd7f041e599ab15f560a24f592d63a91.src","preCode":"  public void testLogReplayWithReorderedDBQUpdateWithDifferentChildCount() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1011\", 2)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1012\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B2\", \"1013\", 2)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          updateJ(jsonDelQ(\"id:B3\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1019\"));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B2\", \"1018\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==8\") \r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestRecovery.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":357,"status":"B"}],"commitId":"99188ae00c0c46d9af47b9773d492de40de4aa83","commitMessage":"@@@SOLR-10114: add _version_ field to child documents.  fix reordered-dbq to not drop child docs\n","date":"2017-02-16 11:51:21","modifiedFileCount":"4","status":"B","submitter":"yonik"},{"authorTime":"2017-02-17 04:12:35","codes":[{"authorDate":"2017-02-17 04:12:35","commitOrder":2,"curCode":"  public void testLogReplayWithReorderedDBQInsertingChildnodes() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          updateJ(jsonDelQ(\"id:RDBQ4_2\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\"));\n          \r\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ4_1\", \"1013\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==4\") \r\n    );\n  }\n","date":"2017-02-17 04:12:44","endLine":350,"groupId":"4103","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testLogReplayWithReorderedDBQInsertingChildnodes","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/4b/0c51c23522e650915dd38c7298dda093a52205.src","preCode":"  public void testLogReplayWithReorderedDBQInsertingChildnodes() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          updateJ(jsonDelQ(\"id:B2\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\"));\n          \r\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1013\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==4\") \r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestRecovery.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":341,"status":"M"},{"authorDate":"2017-02-17 04:12:35","commitOrder":2,"curCode":"  public void testLogReplayWithReorderedDBQUpdateWithDifferentChildCount() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ5_1\", \"1011\", 2)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ5_1\", \"1012\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ5_2\", \"1013\", 2)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          updateJ(jsonDelQ(\"id:RDBQ5_3\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1019\"));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ5_2\", \"1018\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==8\") \r\n    );\n  }\n","date":"2017-02-17 04:12:44","endLine":370,"groupId":"4105","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testLogReplayWithReorderedDBQUpdateWithDifferentChildCount","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/4b/0c51c23522e650915dd38c7298dda093a52205.src","preCode":"  public void testLogReplayWithReorderedDBQUpdateWithDifferentChildCount() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1011\", 2)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1012\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B2\", \"1013\", 2)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          updateJ(jsonDelQ(\"id:B3\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1019\"));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B2\", \"1018\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==8\") \r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestRecovery.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":354,"status":"M"}],"commitId":"7a45f1015e73bc4f793a63be6b7414d53e008e05","commitMessage":"@@@SOLR-10114: fix flakey TestRecovery\n","date":"2017-02-17 04:12:44","modifiedFileCount":"1","status":"M","submitter":"yonik"},{"authorTime":"2017-04-14 13:17:03","codes":[{"authorDate":"2017-04-14 13:17:03","commitOrder":3,"curCode":"  public void testLogReplayWithReorderedDBQInsertingChildnodes() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          String v1013 = getNextVersion();\n          String v1017_del = \"-\" + getNextVersion();\n          \n          updateJ(jsonDelQ(\"id:RDBQ4_2\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", v1017_del));\n          \r\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ4_1\", v1013, 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==4\") \r\n    );\n  }\n","date":"2017-04-14 13:17:03","endLine":371,"groupId":"103119","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testLogReplayWithReorderedDBQInsertingChildnodes","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/b6/ec6b16f391a143bf4fc3b73743f8a3a0e16a41.src","preCode":"  public void testLogReplayWithReorderedDBQInsertingChildnodes() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          updateJ(jsonDelQ(\"id:RDBQ4_2\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\"));\n          \r\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ4_1\", \"1013\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==4\") \r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestRecovery.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":359,"status":"M"},{"authorDate":"2017-04-14 13:17:03","commitOrder":3,"curCode":"  public void testLogReplayWithReorderedDBQUpdateWithDifferentChildCount() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          String v1011 = getNextVersion();\n          String v1012 = getNextVersion();\n          String v1013 = getNextVersion();\n          String v1018 = getNextVersion();\n          String v1019_del = \"-\" + getNextVersion();\n      \n          \r\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ5_1\", v1011, 2)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ5_1\", v1012, 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ5_2\", v1013, 2)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          updateJ(jsonDelQ(\"id:RDBQ5_3\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", v1019_del));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ5_2\", v1018, 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==8\") \r\n    );\n  }\n","date":"2017-04-14 13:17:03","endLine":397,"groupId":"103119","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testLogReplayWithReorderedDBQUpdateWithDifferentChildCount","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/b6/ec6b16f391a143bf4fc3b73743f8a3a0e16a41.src","preCode":"  public void testLogReplayWithReorderedDBQUpdateWithDifferentChildCount() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ5_1\", \"1011\", 2)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ5_1\", \"1012\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ5_2\", \"1013\", 2)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          updateJ(jsonDelQ(\"id:RDBQ5_3\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1019\"));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ5_2\", \"1018\", 3)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==8\") \r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestRecovery.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":375,"status":"M"}],"commitId":"4dc367414fbaa6451a6ef0c5786adebf108c7608","commitMessage":"@@@SOLR-10151: Use monotonically incrementing counter for doc ids in TestRecovery.\n","date":"2017-04-14 13:17:03","modifiedFileCount":"1","status":"M","submitter":"markrmiller"}]
