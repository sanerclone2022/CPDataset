[{"authorTime":"2017-02-16 11:51:21","codes":[{"authorDate":"2017-02-16 11:51:21","commitOrder":1,"curCode":"  public void testLogReplayWithReorderedDBQByAsterixAndChildDocs() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1010\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B2\", \"1018\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonDelQ(\"id:*\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\")); \r\n          \r\n          updateJ(jsonAdd(sdoc(\"id\", \"B3\", \"_version_\", \"1012\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B4\", \"1020\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==6\")\n    );\n  }\n","date":"2017-02-16 11:51:21","endLine":323,"groupId":"30209","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testLogReplayWithReorderedDBQByAsterixAndChildDocs","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/84/ba2fa5dd7f041e599ab15f560a24f592d63a91.src","preCode":"  public void testLogReplayWithReorderedDBQByAsterixAndChildDocs() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1010\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B2\", \"1018\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonDelQ(\"id:*\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\")); \r\n          \r\n          updateJ(jsonAdd(sdoc(\"id\", \"B3\", \"_version_\", \"1012\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B4\", \"1020\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==6\")\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestRecovery.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":308,"status":"B"},{"authorDate":"2017-02-16 11:51:21","commitOrder":1,"curCode":"  public void testLogReplayWithReorderedDBQByIdAndChildDocs() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1010\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B2\", \"1018\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonDelQ(\"id:B1 id:B2 id:B3 id:B4\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\")); \r\n          \r\n          updateJ(jsonAdd(sdoc(\"id\", \"B3\", \"_version_\", \"1012\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B4\", \"1020\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==8\") \r\n    );\n  }\n","date":"2017-02-16 11:51:21","endLine":341,"groupId":"30209","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testLogReplayWithReorderedDBQByIdAndChildDocs","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/84/ba2fa5dd7f041e599ab15f560a24f592d63a91.src","preCode":"  public void testLogReplayWithReorderedDBQByIdAndChildDocs() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1010\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B2\", \"1018\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonDelQ(\"id:B1 id:B2 id:B3 id:B4\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\")); \r\n          \r\n          updateJ(jsonAdd(sdoc(\"id\", \"B3\", \"_version_\", \"1012\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B4\", \"1020\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==8\") \r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestRecovery.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":326,"status":"B"}],"commitId":"99188ae00c0c46d9af47b9773d492de40de4aa83","commitMessage":"@@@SOLR-10114: add _version_ field to child documents.  fix reordered-dbq to not drop child docs\n","date":"2017-02-16 11:51:21","modifiedFileCount":"4","status":"B","submitter":"yonik"},{"authorTime":"2017-02-17 04:12:35","codes":[{"authorDate":"2017-02-17 04:12:35","commitOrder":2,"curCode":"  public void testLogReplayWithReorderedDBQByAsterixAndChildDocs() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ2_1\", \"1010\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ2_2\", \"1018\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonDelQ(\"_root_:RDBQ2_1 _root_:RDBQ2_2 id:RDBQ2_3 _root_:RDBQ2_4\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\")); \r\n          \r\n          updateJ(jsonAdd(sdoc(\"id\", \"RDBQ2_3\", \"_version_\", \"1012\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ2_4\", \"1020\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==6\")\n    );\n  }\n","date":"2017-02-17 04:12:44","endLine":320,"groupId":"30209","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testLogReplayWithReorderedDBQByAsterixAndChildDocs","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/4b/0c51c23522e650915dd38c7298dda093a52205.src","preCode":"  public void testLogReplayWithReorderedDBQByAsterixAndChildDocs() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1010\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B2\", \"1018\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonDelQ(\"id:*\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\")); \r\n          \r\n          updateJ(jsonAdd(sdoc(\"id\", \"B3\", \"_version_\", \"1012\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B4\", \"1020\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==6\")\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestRecovery.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":305,"status":"M"},{"authorDate":"2017-02-17 04:12:35","commitOrder":2,"curCode":"  public void testLogReplayWithReorderedDBQByIdAndChildDocs() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ3_1\", \"1010\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ3_2\", \"1018\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonDelQ(\"id:RDBQ3_1 id:RDBQ3_2 id:RDBQ3_3 id:RDBQ3_4\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\")); \r\n          \r\n          updateJ(jsonAdd(sdoc(\"id\", \"RDBQ3_3\", \"_version_\", \"1012\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ3_4\", \"1020\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==8\") \r\n    );\n  }\n","date":"2017-02-17 04:12:44","endLine":338,"groupId":"30209","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testLogReplayWithReorderedDBQByIdAndChildDocs","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/4b/0c51c23522e650915dd38c7298dda093a52205.src","preCode":"  public void testLogReplayWithReorderedDBQByIdAndChildDocs() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B1\", \"1010\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B2\", \"1018\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonDelQ(\"id:B1 id:B2 id:B3 id:B4\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\")); \r\n          \r\n          updateJ(jsonAdd(sdoc(\"id\", \"B3\", \"_version_\", \"1012\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"B4\", \"1020\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==8\") \r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestRecovery.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":323,"status":"M"}],"commitId":"7a45f1015e73bc4f793a63be6b7414d53e008e05","commitMessage":"@@@SOLR-10114: fix flakey TestRecovery\n","date":"2017-02-17 04:12:44","modifiedFileCount":"1","status":"M","submitter":"yonik"},{"authorTime":"2017-04-14 13:17:03","codes":[{"authorDate":"2017-04-14 13:17:03","commitOrder":3,"curCode":"  public void testLogReplayWithReorderedDBQByAsterixAndChildDocs() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          String v1010 = getNextVersion();\n          String v1012 = getNextVersion();\n          String v1017_del = \"-\" + getNextVersion();\n          String v1018 = getNextVersion();\n          String v1020 = getNextVersion();\n          \n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ2_1\", v1010)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ2_2\", v1018)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonDelQ(\"_root_:RDBQ2_1 _root_:RDBQ2_2 id:RDBQ2_3 _root_:RDBQ2_4\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", v1017_del)); \r\n          \r\n          updateJ(jsonAdd(sdoc(\"id\", \"RDBQ2_3\", \"_version_\", v1012)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ2_4\", v1020)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==6\")\n    );\n  }\n","date":"2017-04-14 13:17:03","endLine":332,"groupId":"103118","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testLogReplayWithReorderedDBQByAsterixAndChildDocs","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/b6/ec6b16f391a143bf4fc3b73743f8a3a0e16a41.src","preCode":"  public void testLogReplayWithReorderedDBQByAsterixAndChildDocs() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ2_1\", \"1010\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ2_2\", \"1018\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonDelQ(\"_root_:RDBQ2_1 _root_:RDBQ2_2 id:RDBQ2_3 _root_:RDBQ2_4\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\")); \r\n          \r\n          updateJ(jsonAdd(sdoc(\"id\", \"RDBQ2_3\", \"_version_\", \"1012\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ2_4\", \"1020\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==6\")\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestRecovery.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":311,"status":"M"},{"authorDate":"2017-04-14 13:17:03","commitOrder":3,"curCode":"  public void testLogReplayWithReorderedDBQByIdAndChildDocs() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          String v1010 = getNextVersion();\n          String v1012 = getNextVersion();\n          String v1017_del = \"-\" + getNextVersion();\n          String v1018 = getNextVersion();\n          String v1020 = getNextVersion();\n      \n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ3_1\", v1010)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ3_2\", v1018)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonDelQ(\"id:RDBQ3_1 id:RDBQ3_2 id:RDBQ3_3 id:RDBQ3_4\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", v1017_del)); \r\n          \r\n          updateJ(jsonAdd(sdoc(\"id\", \"RDBQ3_3\", \"_version_\", v1012)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ3_4\", v1020)), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==8\") \r\n    );\n  }\n","date":"2017-04-14 13:17:03","endLine":356,"groupId":"103118","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testLogReplayWithReorderedDBQByIdAndChildDocs","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/b6/ec6b16f391a143bf4fc3b73743f8a3a0e16a41.src","preCode":"  public void testLogReplayWithReorderedDBQByIdAndChildDocs() throws Exception {\n    testLogReplayWithReorderedDBQWrapper(() -> {\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ3_1\", \"1010\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ3_2\", \"1018\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonDelQ(\"id:RDBQ3_1 id:RDBQ3_2 id:RDBQ3_3 id:RDBQ3_4\"), params(DISTRIB_UPDATE_PARAM, FROM_LEADER, \"_version_\", \"-1017\")); \r\n          \r\n          updateJ(jsonAdd(sdoc(\"id\", \"RDBQ3_3\", \"_version_\", \"1012\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n          \r\n          updateJ(jsonAdd(sdocWithChildren(\"RDBQ3_4\", \"1020\")), params(DISTRIB_UPDATE_PARAM, FROM_LEADER));\n        },\n        () -> assertJQ(req(\"q\", \"*:*\"), \"/response/numFound==8\") \r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestRecovery.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":335,"status":"M"}],"commitId":"4dc367414fbaa6451a6ef0c5786adebf108c7608","commitMessage":"@@@SOLR-10151: Use monotonically incrementing counter for doc ids in TestRecovery.\n","date":"2017-04-14 13:17:03","modifiedFileCount":"1","status":"M","submitter":"markrmiller"}]
