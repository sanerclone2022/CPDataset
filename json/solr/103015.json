[{"authorTime":"2018-07-11 10:59:41","codes":[{"authorDate":"2018-07-11 10:59:41","commitOrder":1,"curCode":"  public void testDeeplyNestedURPGrandChild() throws Exception {\n    final String[] tests = {\n        \"/response/docs/[0]/id=='4'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#0/grandChild#'\"\n    };\n    indexSampleData(jDoc);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":*/grandChild#*\",\n        \"fl\",\"*\",\n        \"sort\",\"id desc\",\n        \"wt\",\"json\"),\n        tests);\n  }\n","date":"2018-07-11 10:59:41","endLine":115,"groupId":"17985","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testDeeplyNestedURPGrandChild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/ab/36f0e12714c193767737e0f252d0ea505127ff.src","preCode":"  public void testDeeplyNestedURPGrandChild() throws Exception {\n    final String[] tests = {\n        \"/response/docs/[0]/id=='4'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#0/grandChild#'\"\n    };\n    indexSampleData(jDoc);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":*/grandChild#*\",\n        \"fl\",\"*\",\n        \"sort\",\"id desc\",\n        \"wt\",\"json\"),\n        tests);\n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/TestNestedUpdateProcessor.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":103,"status":"B"},{"authorDate":"2018-07-11 10:59:41","commitOrder":1,"curCode":"  public void testDeeplyNestedURPChildren() throws Exception {\n    final String[] childrenTests = {\n        \"/response/docs/[0]/id=='2'\",\n        \"/response/docs/[1]/id=='3'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#0'\",\n        \"/response/docs/[1]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#1'\"\n    };\n    indexSampleData(jDoc);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":children#?\",\n        \"fl\",\"*\",\n        \"sort\",\"id asc\",\n        \"wt\",\"json\"),\n        childrenTests);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":anotherChildList#?\",\n        \"fl\",\"*\",\n        \"sort\",\"id asc\",\n        \"wt\",\"json\"),\n        \"/response/docs/[0]/id=='4'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='anotherChildList#0'\");\n  }\n","date":"2018-07-11 10:59:41","endLine":139,"groupId":"17985","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testDeeplyNestedURPChildren","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/ab/36f0e12714c193767737e0f252d0ea505127ff.src","preCode":"  public void testDeeplyNestedURPChildren() throws Exception {\n    final String[] childrenTests = {\n        \"/response/docs/[0]/id=='2'\",\n        \"/response/docs/[1]/id=='3'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#0'\",\n        \"/response/docs/[1]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#1'\"\n    };\n    indexSampleData(jDoc);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":children#?\",\n        \"fl\",\"*\",\n        \"sort\",\"id asc\",\n        \"wt\",\"json\"),\n        childrenTests);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":anotherChildList#?\",\n        \"fl\",\"*\",\n        \"sort\",\"id asc\",\n        \"wt\",\"json\"),\n        \"/response/docs/[0]/id=='4'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='anotherChildList#0'\");\n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/TestNestedUpdateProcessor.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":118,"status":"B"}],"commitId":"fe180bbd59ef45679f3cffa252fff0aa069b7427","commitMessage":"@@@SOLR-12441: New NestedUpdateProcessorFactory\n","date":"2018-07-11 10:59:41","modifiedFileCount":"1","status":"B","submitter":"David Smiley"},{"authorTime":"2018-08-29 22:02:09","codes":[{"authorDate":"2018-08-29 22:02:09","commitOrder":2,"curCode":"  public void testDeeplyNestedURPGrandChild() throws Exception {\n    final String[] tests = {\n        \"/response/docs/[0]/id=='4'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#0/grandChild#'\"\n    };\n    indexSampleData(jDoc);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":*/grandChild\",\n        \"fl\",\"*, _nest_path_\",\n        \"sort\",\"id desc\",\n        \"wt\",\"json\"),\n        tests);\n  }\n","date":"2018-08-29 22:02:09","endLine":115,"groupId":"17985","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testDeeplyNestedURPGrandChild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/b3/864851dade7c39757de610ef32c4cd501d76eb.src","preCode":"  public void testDeeplyNestedURPGrandChild() throws Exception {\n    final String[] tests = {\n        \"/response/docs/[0]/id=='4'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#0/grandChild#'\"\n    };\n    indexSampleData(jDoc);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":*/grandChild#*\",\n        \"fl\",\"*\",\n        \"sort\",\"id desc\",\n        \"wt\",\"json\"),\n        tests);\n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/TestNestedUpdateProcessor.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":103,"status":"M"},{"authorDate":"2018-08-29 22:02:09","commitOrder":2,"curCode":"  public void testDeeplyNestedURPChildren() throws Exception {\n    final String[] childrenTests = {\n        \"/response/docs/[0]/id=='2'\",\n        \"/response/docs/[1]/id=='3'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#0'\",\n        \"/response/docs/[1]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#1'\"\n    };\n    indexSampleData(jDoc);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":children/\",\n        \"fl\",\"*, _nest_path_\",\n        \"sort\",\"id asc\",\n        \"wt\",\"json\"),\n        childrenTests);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":anotherChildList/\",\n        \"fl\",\"*, _nest_path_\",\n        \"sort\",\"id asc\",\n        \"wt\",\"json\"),\n        \"/response/docs/[0]/id=='4'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='anotherChildList#0'\");\n  }\n","date":"2018-08-29 22:02:09","endLine":139,"groupId":"17985","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testDeeplyNestedURPChildren","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/b3/864851dade7c39757de610ef32c4cd501d76eb.src","preCode":"  public void testDeeplyNestedURPChildren() throws Exception {\n    final String[] childrenTests = {\n        \"/response/docs/[0]/id=='2'\",\n        \"/response/docs/[1]/id=='3'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#0'\",\n        \"/response/docs/[1]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#1'\"\n    };\n    indexSampleData(jDoc);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":children#?\",\n        \"fl\",\"*\",\n        \"sort\",\"id asc\",\n        \"wt\",\"json\"),\n        childrenTests);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":anotherChildList#?\",\n        \"fl\",\"*\",\n        \"sort\",\"id asc\",\n        \"wt\",\"json\"),\n        \"/response/docs/[0]/id=='4'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='anotherChildList#0'\");\n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/TestNestedUpdateProcessor.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":118,"status":"M"}],"commitId":"5a0e7a615a9b1e7ac97c6b0f9e5604dcc1aeb03f","commitMessage":"@@@SOLR-12519: child doc transformer can now produce a nested structure.\nFixed SolrDocument's confusion of field-attached child documents in addField()\nFixed AtomicUpdateDocumentMerger's confusion of field-attached child documents in isAtomicUpdate()\n","date":"2018-08-29 22:02:09","modifiedFileCount":"5","status":"M","submitter":"David Smiley"},{"authorTime":"2019-01-29 02:25:06","codes":[{"authorDate":"2019-01-29 02:25:06","commitOrder":3,"curCode":"  public void testDeeplyNestedURPGrandChild() throws Exception {\n    final String[] tests = {\n        \"/response/docs/[0]/id=='4'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='/children#0/grandChild#'\"\n    };\n    indexSampleData(jDoc);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":*/grandChild\",\n        \"fl\",\"*, _nest_path_\",\n        \"sort\",\"id desc\",\n        \"wt\",\"json\"),\n        tests);\n  }\n","date":"2019-01-29 02:25:06","endLine":115,"groupId":"103015","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testDeeplyNestedURPGrandChild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/43/8489596c2f27a7b9beb04ec12741ae4f3ed449.src","preCode":"  public void testDeeplyNestedURPGrandChild() throws Exception {\n    final String[] tests = {\n        \"/response/docs/[0]/id=='4'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#0/grandChild#'\"\n    };\n    indexSampleData(jDoc);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":*/grandChild\",\n        \"fl\",\"*, _nest_path_\",\n        \"sort\",\"id desc\",\n        \"wt\",\"json\"),\n        tests);\n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/TestNestedUpdateProcessor.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":103,"status":"M"},{"authorDate":"2019-01-29 02:25:06","commitOrder":3,"curCode":"  public void testDeeplyNestedURPChildren() throws Exception {\n    final String[] childrenTests = {\n        \"/response/docs/[0]/id=='2'\",\n        \"/response/docs/[1]/id=='3'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='/children#0'\",\n        \"/response/docs/[1]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='/children#1'\"\n    };\n    indexSampleData(jDoc);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":\\\\/children\",\n        \"fl\",\"*, _nest_path_\",\n        \"sort\",\"id asc\",\n        \"wt\",\"json\"),\n        childrenTests);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":\\\\/anotherChildList\",\n        \"fl\",\"*, _nest_path_\",\n        \"sort\",\"id asc\",\n        \"wt\",\"json\"),\n        \"/response/docs/[0]/id=='4'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='/anotherChildList#0'\");\n  }\n","date":"2019-01-29 02:25:06","endLine":154,"groupId":"103015","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testDeeplyNestedURPChildren","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/43/8489596c2f27a7b9beb04ec12741ae4f3ed449.src","preCode":"  public void testDeeplyNestedURPChildren() throws Exception {\n    final String[] childrenTests = {\n        \"/response/docs/[0]/id=='2'\",\n        \"/response/docs/[1]/id=='3'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#0'\",\n        \"/response/docs/[1]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='children#1'\"\n    };\n    indexSampleData(jDoc);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":children/\",\n        \"fl\",\"*, _nest_path_\",\n        \"sort\",\"id asc\",\n        \"wt\",\"json\"),\n        childrenTests);\n\n    assertJQ(req(\"q\", IndexSchema.NEST_PATH_FIELD_NAME + \":anotherChildList/\",\n        \"fl\",\"*, _nest_path_\",\n        \"sort\",\"id asc\",\n        \"wt\",\"json\"),\n        \"/response/docs/[0]/id=='4'\",\n        \"/response/docs/[0]/\" + IndexSchema.NEST_PATH_FIELD_NAME + \"=='anotherChildList#0'\");\n  }\n","realPath":"solr/core/src/test/org/apache/solr/update/TestNestedUpdateProcessor.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":133,"status":"M"}],"commitId":"381a30b26ca1737123b65aefc685367d1aa038b9","commitMessage":"@@@SOLR-12768: added _nest_path_ to the default schema (thereby enabling nested docs)\n* new NestPathField encapsulating details for how _nest_path_ is indexed\n** tweaked the analysis to index 1 token instead of variable\n* TokenizerChain has new CustomAnalyzer copy-constructor\n","date":"2019-01-29 02:25:06","modifiedFileCount":"6","status":"M","submitter":"David Smiley"}]
