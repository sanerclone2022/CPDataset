[{"authorTime":"2012-09-17 11:17:02","codes":[{"authorDate":"2012-09-17 11:17:02","commitOrder":1,"curCode":"  public void testSort() throws Exception {\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\"));\n    assertU(adoc(\"id\", \"999\", fieldName, \"70,70\"));\r\n    assertU(commit());\n\n    \r\n    assertJQ(req(\n        \"q\", fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\")\n        , 1e-9\n        , \"/response/docs/[0]/score==1.0\"\n        , \"/response/docs/[1]/score==1.0\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=recipDistance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score desc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==0.3099695\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==0.19970943\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(4,0 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\" )\n        , 1e-4\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"  );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(4,0 d=9))\\\"\" )\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"  );\n  }\n","date":"2012-09-17 11:17:02","endLine":260,"groupId":"19546","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testSort","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/6c/73fdb9be12ba2b15ae5d5b894acad064ebd2a2.src","preCode":"  public void testSort() throws Exception {\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\"));\n    assertU(adoc(\"id\", \"999\", fieldName, \"70,70\"));\r\n    assertU(commit());\n\n    \r\n    assertJQ(req(\n        \"q\", fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\")\n        , 1e-9\n        , \"/response/docs/[0]/score==1.0\"\n        , \"/response/docs/[1]/score==1.0\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=recipDistance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score desc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==0.3099695\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==0.19970943\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(4,0 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\" )\n        , 1e-4\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"  );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(4,0 d=9))\\\"\" )\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"  );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":193,"status":"B"},{"authorDate":"2012-09-17 11:17:02","commitOrder":1,"curCode":"  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"twodoubles\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\r\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));\r\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"\r\n    );\n  }\n","date":"2012-09-17 11:17:02","endLine":278,"groupId":"52705","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testSortMultiVal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/6c/73fdb9be12ba2b15ae5d5b894acad064ebd2a2.src","preCode":"  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"twodoubles\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\r\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));\r\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"\r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":263,"status":"B"}],"commitId":"bf05f70a0be4e45e241aed540b2e594621c01c04","commitMessage":"@@@SOLR-3304 Solr adapters for the new Lucene 4 spatial module\n\ngit-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1386457 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2012-09-17 11:17:02","modifiedFileCount":"0","status":"B","submitter":"David Wayne Smiley"},{"authorTime":"2012-09-23 05:15:31","codes":[{"authorDate":"2012-09-17 11:17:02","commitOrder":2,"curCode":"  public void testSort() throws Exception {\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\"));\n    assertU(adoc(\"id\", \"999\", fieldName, \"70,70\"));\r\n    assertU(commit());\n\n    \r\n    assertJQ(req(\n        \"q\", fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\")\n        , 1e-9\n        , \"/response/docs/[0]/score==1.0\"\n        , \"/response/docs/[1]/score==1.0\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=recipDistance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score desc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==0.3099695\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==0.19970943\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(4,0 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\" )\n        , 1e-4\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"  );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(4,0 d=9))\\\"\" )\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"  );\n  }\n","date":"2012-09-17 11:17:02","endLine":260,"groupId":"19546","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testSort","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/6c/73fdb9be12ba2b15ae5d5b894acad064ebd2a2.src","preCode":"  public void testSort() throws Exception {\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\"));\n    assertU(adoc(\"id\", \"999\", fieldName, \"70,70\"));\r\n    assertU(commit());\n\n    \r\n    assertJQ(req(\n        \"q\", fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\")\n        , 1e-9\n        , \"/response/docs/[0]/score==1.0\"\n        , \"/response/docs/[1]/score==1.0\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=recipDistance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score desc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==0.3099695\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==0.19970943\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(4,0 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\" )\n        , 1e-4\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"  );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(4,0 d=9))\\\"\" )\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"  );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":193,"status":"N"},{"authorDate":"2012-09-23 05:15:31","commitOrder":2,"curCode":"  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"pointvector\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\r\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));\r\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"\r\n    );\n  }\n","date":"2012-09-23 05:15:31","endLine":279,"groupId":"52705","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testSortMultiVal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/73/5611d5388395a139ac872086943d6c159b8ae1.src","preCode":"  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"twodoubles\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\r\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));\r\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"\r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":264,"status":"M"}],"commitId":"e9cffebf96fc3ede501628548c0590cd9a4a6a87","commitMessage":"@@@LUCENE-4374 Rename TwoDoubles to PointVector\n\ngit-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1388900 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2012-09-23 05:15:31","modifiedFileCount":"4","status":"M","submitter":"David Wayne Smiley"},{"authorTime":"2012-09-23 05:15:31","codes":[{"authorDate":"2013-01-06 14:01:58","commitOrder":3,"curCode":"  public void testSort() throws Exception {\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\"));\n    assertU(adoc(\"id\", \"999\", fieldName, \"70,70\"));\r\n    assertU(commit());\n\n    \r\n    assertJQ(req(\n        \"q\", fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\")\n        , 1e-9\n        , \"/response/docs/[0]/score==1.0\"\n        , \"/response/docs/[1]/score==1.0\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=recipDistance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score desc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==0.3099695\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==0.19970943\"\n    );\n\n    \r\n    assertJQ(req(\n        \r\n        \"q\", \"{! score=distance filter=false}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=0.000001))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(4,0 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\" )\n        , 1e-4\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"  );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(4,0 d=9))\\\"\" )\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"  );\n  }\n","date":"2013-01-06 14:01:58","endLine":308,"groupId":"3533","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testSort","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/28/667b5b8d1c352a82c693199f39b78e7158c628.src","preCode":"  public void testSort() throws Exception {\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\"));\n    assertU(adoc(\"id\", \"999\", fieldName, \"70,70\"));\r\n    assertU(commit());\n\n    \r\n    assertJQ(req(\n        \"q\", fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\")\n        , 1e-9\n        , \"/response/docs/[0]/score==1.0\"\n        , \"/response/docs/[1]/score==1.0\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=recipDistance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score desc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==0.3099695\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==0.19970943\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(4,0 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\" )\n        , 1e-4\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"  );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(4,0 d=9))\\\"\" )\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"  );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":228,"status":"M"},{"authorDate":"2012-09-23 05:15:31","commitOrder":3,"curCode":"  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"pointvector\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\r\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));\r\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"\r\n    );\n  }\n","date":"2012-09-23 05:15:31","endLine":279,"groupId":"52705","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testSortMultiVal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/73/5611d5388395a139ac872086943d6c159b8ae1.src","preCode":"  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"pointvector\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\r\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));\r\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"\r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":264,"status":"N"}],"commitId":"9c5d4ff5cbd886228126440ea0171d824577d471","commitMessage":"@@@SOLR-4255: add spatial filter=false local-param option\n\ngit-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1429466 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2013-01-06 14:01:58","modifiedFileCount":"2","status":"M","submitter":"David Wayne Smiley"},{"authorTime":"2014-01-25 03:40:14","codes":[{"authorDate":"2014-01-25 03:40:14","commitOrder":4,"curCode":"  public void testSort() throws Exception {\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\"));\n    assertU(adoc(\"id\", \"999\", fieldName, \"70,70\"));\r\n    assertU(commit());\n\n    \r\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, null, null),\n        \"fl\",\"id,score\")\n        , 1e-9\n        , \"/response/docs/[0]/score==1.0\"\n        , \"/response/docs/[1]/score==1.0\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"recipDistance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score desc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==0.3099695\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==0.19970943\"\n    );\n\n    \r\n    assertJQ(req(\n        \r\n        \"q\", radiusQuery(3, 4, 0.000001, \"distance\", \"false\"),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(4, 0, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", radiusQuery(3, 4, 9, \"distance\", null))\n        , 1e-4\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"  );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", radiusQuery(4, 0, 9, \"distance\", null))\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"  );\n  }\n","date":"2014-01-25 03:40:14","endLine":324,"groupId":"19546","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testSort","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/f1/ae0f150c8d4a44adefb9ca1185149e002a07ad.src","preCode":"  public void testSort() throws Exception {\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\"));\n    assertU(adoc(\"id\", \"999\", fieldName, \"70,70\"));\r\n    assertU(commit());\n\n    \r\n    assertJQ(req(\n        \"q\", fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\")\n        , 1e-9\n        , \"/response/docs/[0]/score==1.0\"\n        , \"/response/docs/[1]/score==1.0\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=recipDistance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score desc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==0.3099695\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==0.19970943\"\n    );\n\n    \r\n    assertJQ(req(\n        \r\n        \"q\", \"{! score=distance filter=false}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=0.000001))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(4,0 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\" )\n        , 1e-4\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"  );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(4,0 d=9))\\\"\" )\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"  );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":243,"status":"M"},{"authorDate":"2014-01-25 03:40:14","commitOrder":4,"curCode":"  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"pointvector\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\r\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));\r\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"\r\n    );\n  }\n","date":"2014-01-25 03:40:14","endLine":358,"groupId":"52705","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testSortMultiVal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/f1/ae0f150c8d4a44adefb9ca1185149e002a07ad.src","preCode":"  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"pointvector\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\r\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));\r\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", \"{! score=distance}\"+fieldName +\":\\\"Intersects(Circle(3,4 d=9))\\\"\",\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"\r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":343,"status":"M"}],"commitId":"33d88bef57ef0d2c385ec88cc4d32e4f4dacd34f","commitMessage":"@@@LUCENE-5395: Upgrade Spatial4j 0.4. Moved away from stuff deprecated in Spatial4j.\n\ngit-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1561129 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2014-01-25 03:40:14","modifiedFileCount":"22","status":"M","submitter":"David Wayne Smiley"},{"authorTime":"2014-11-26 02:49:08","codes":[{"authorDate":"2014-01-25 03:40:14","commitOrder":5,"curCode":"  public void testSort() throws Exception {\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\"));\n    assertU(adoc(\"id\", \"999\", fieldName, \"70,70\"));\r\n    assertU(commit());\n\n    \r\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, null, null),\n        \"fl\",\"id,score\")\n        , 1e-9\n        , \"/response/docs/[0]/score==1.0\"\n        , \"/response/docs/[1]/score==1.0\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"recipDistance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score desc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==0.3099695\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==0.19970943\"\n    );\n\n    \r\n    assertJQ(req(\n        \r\n        \"q\", radiusQuery(3, 4, 0.000001, \"distance\", \"false\"),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(4, 0, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", radiusQuery(3, 4, 9, \"distance\", null))\n        , 1e-4\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"  );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", radiusQuery(4, 0, 9, \"distance\", null))\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"  );\n  }\n","date":"2014-01-25 03:40:14","endLine":324,"groupId":"19546","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"testSort","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/f1/ae0f150c8d4a44adefb9ca1185149e002a07ad.src","preCode":"  public void testSort() throws Exception {\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\"));\n    assertU(adoc(\"id\", \"999\", fieldName, \"70,70\"));\r\n    assertU(commit());\n\n    \r\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, null, null),\n        \"fl\",\"id,score\")\n        , 1e-9\n        , \"/response/docs/[0]/score==1.0\"\n        , \"/response/docs/[1]/score==1.0\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"recipDistance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score desc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==0.3099695\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==0.19970943\"\n    );\n\n    \r\n    assertJQ(req(\n        \r\n        \"q\", radiusQuery(3, 4, 0.000001, \"distance\", \"false\"),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(4, 0, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", radiusQuery(3, 4, 9, \"distance\", null))\n        , 1e-4\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"  );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", radiusQuery(4, 0, 9, \"distance\", null))\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"  );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":243,"status":"N"},{"authorDate":"2014-11-26 02:49:08","commitOrder":5,"curCode":"  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || fieldName.equals(\"bbox\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\r\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));\r\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"\r\n    );\n  }\n","date":"2014-11-26 02:49:08","endLine":361,"groupId":"52705","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"testSortMultiVal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/12/c57254a1920676de67fe9696b934697a9b61ed.src","preCode":"  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\", fieldName.equals(\"pointvector\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\r\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));\r\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"\r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":345,"status":"M"}],"commitId":"f39a0e5786aa0bd0c78e3f571b8b9bfa3d552c2c","commitMessage":"@@@SOLR-6784: BBoxField's 'score' mode should have been optional.\n\ngit-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1641670 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2014-11-26 02:49:08","modifiedFileCount":"4","status":"M","submitter":"David Wayne Smiley"},{"authorTime":"2017-03-12 09:48:01","codes":[{"authorDate":"2017-03-12 09:48:01","commitOrder":6,"curCode":"  public void testSort() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\"));\n    if (random().nextBoolean()) {\n      assertU(commit()); \r\n    }\n    if (random().nextBoolean()) {\n      assertU(adoc(\"id\", \"999\", fieldName, \"70,70\"));\r\n    } else {\n      assertU(adoc(\"id\", \"999\")); \r\n    }\n    assertU(commit());\n\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, null, null),\n        \"fl\",\"id\",\n        \"sort\",\"geodist() asc\",\n        \"sfield\", fieldName, \"pt\", \"3,4\")\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, null, null),\n        \"fl\",\"id\",\n        \"sort\",\"geodist() desc\", \r\n        \"sfield\", fieldName, \"pt\", \"3,4\")\n        , 1e-3\n        , \"/response/docs/[0]/id=='101'\" \r\n        , \"/response/docs/[1]/id=='100'\" \r\n    );\n\n    \r\n    \r\n    \r\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, null, null),\n        \"fl\",\"id,score\")\n        , 1e-9\n        , \"/response/docs/[0]/score==1.0\"\n        , \"/response/docs/[1]/score==1.0\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"recipDistance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score desc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==0.3099695\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==0.19970943\"\n    );\n\n    \r\n    assertJQ(req(\n        \r\n        \"q\", radiusQuery(3, 4, 0.000001, \"distance\", \"false\"),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(4, 0, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", radiusQuery(3, 4, 9, \"distance\", null))\n        , 1e-4\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"  );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", radiusQuery(4, 0, 9, \"distance\", null))\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"  );\n  }\n","date":"2017-03-12 09:48:01","endLine":368,"groupId":"19546","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"testSort","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/8c/d96aea11fb617027466a8cd9ca0592651a410f.src","preCode":"  public void testSort() throws Exception {\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\"));\n    assertU(adoc(\"id\", \"999\", fieldName, \"70,70\"));\r\n    assertU(commit());\n\n    \r\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, null, null),\n        \"fl\",\"id,score\")\n        , 1e-9\n        , \"/response/docs/[0]/score==1.0\"\n        , \"/response/docs/[1]/score==1.0\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"recipDistance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score desc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==0.3099695\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==0.19970943\"\n    );\n\n    \r\n    assertJQ(req(\n        \r\n        \"q\", radiusQuery(3, 4, 0.000001, \"distance\", \"false\"),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(4, 0, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", radiusQuery(3, 4, 9, \"distance\", null))\n        , 1e-4\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"  );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", radiusQuery(4, 0, 9, \"distance\", null))\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"  );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":254,"status":"M"},{"authorDate":"2017-03-12 09:48:01","commitOrder":6,"curCode":"  public void testSortMultiVal() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || fieldName.equals(\"bbox\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\r\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));\r\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"\r\n    );\n  }\n","date":"2017-03-12 09:48:01","endLine":406,"groupId":"52705","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"testSortMultiVal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/8c/d96aea11fb617027466a8cd9ca0592651a410f.src","preCode":"  public void testSortMultiVal() throws Exception {\n    RandomizedTest.assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || fieldName.equals(\"bbox\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\r\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));\r\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"\r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":389,"status":"M"}],"commitId":"182c20c4e55c39362f6d46d388eb2b8e0a9052e6","commitMessage":"@@@SOLR-10039: New LatLonPointSpatialField\n","date":"2017-03-12 09:48:01","modifiedFileCount":"2","status":"M","submitter":"David Smiley"},{"authorTime":"2017-06-29 17:00:17","codes":[{"authorDate":"2017-03-12 09:48:01","commitOrder":7,"curCode":"  public void testSort() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\"));\n    if (random().nextBoolean()) {\n      assertU(commit()); \r\n    }\n    if (random().nextBoolean()) {\n      assertU(adoc(\"id\", \"999\", fieldName, \"70,70\"));\r\n    } else {\n      assertU(adoc(\"id\", \"999\")); \r\n    }\n    assertU(commit());\n\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, null, null),\n        \"fl\",\"id\",\n        \"sort\",\"geodist() asc\",\n        \"sfield\", fieldName, \"pt\", \"3,4\")\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, null, null),\n        \"fl\",\"id\",\n        \"sort\",\"geodist() desc\", \r\n        \"sfield\", fieldName, \"pt\", \"3,4\")\n        , 1e-3\n        , \"/response/docs/[0]/id=='101'\" \r\n        , \"/response/docs/[1]/id=='100'\" \r\n    );\n\n    \r\n    \r\n    \r\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, null, null),\n        \"fl\",\"id,score\")\n        , 1e-9\n        , \"/response/docs/[0]/score==1.0\"\n        , \"/response/docs/[1]/score==1.0\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"recipDistance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score desc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==0.3099695\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==0.19970943\"\n    );\n\n    \r\n    assertJQ(req(\n        \r\n        \"q\", radiusQuery(3, 4, 0.000001, \"distance\", \"false\"),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(4, 0, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", radiusQuery(3, 4, 9, \"distance\", null))\n        , 1e-4\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"  );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", radiusQuery(4, 0, 9, \"distance\", null))\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"  );\n  }\n","date":"2017-03-12 09:48:01","endLine":368,"groupId":"103259","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"testSort","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/8c/d96aea11fb617027466a8cd9ca0592651a410f.src","preCode":"  public void testSort() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\"));\n    if (random().nextBoolean()) {\n      assertU(commit()); \r\n    }\n    if (random().nextBoolean()) {\n      assertU(adoc(\"id\", \"999\", fieldName, \"70,70\"));\r\n    } else {\n      assertU(adoc(\"id\", \"999\")); \r\n    }\n    assertU(commit());\n\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, null, null),\n        \"fl\",\"id\",\n        \"sort\",\"geodist() asc\",\n        \"sfield\", fieldName, \"pt\", \"3,4\")\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, null, null),\n        \"fl\",\"id\",\n        \"sort\",\"geodist() desc\", \r\n        \"sfield\", fieldName, \"pt\", \"3,4\")\n        , 1e-3\n        , \"/response/docs/[0]/id=='101'\" \r\n        , \"/response/docs/[1]/id=='100'\" \r\n    );\n\n    \r\n    \r\n    \r\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, null, null),\n        \"fl\",\"id,score\")\n        , 1e-9\n        , \"/response/docs/[0]/score==1.0\"\n        , \"/response/docs/[1]/score==1.0\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"recipDistance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score desc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==0.3099695\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==0.19970943\"\n    );\n\n    \r\n    assertJQ(req(\n        \r\n        \"q\", radiusQuery(3, 4, 0.000001, \"distance\", \"false\"),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-3\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[0]/score==2.827493\"\n        , \"/response/docs/[1]/id=='101'\"\n        , \"/response/docs/[1]/score==5.089807\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\", radiusQuery(4, 0, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"\n    );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", radiusQuery(3, 4, 9, \"distance\", null))\n        , 1e-4\n        , \"/response/docs/[0]/id=='100'\"\n        , \"/response/docs/[1]/id=='101'\"  );\n\n    \r\n    assertJQ(req(\n        \"q\",\"-id:999\",\r\n        \"fl\",\"id,score\",\n        \"sort\",\"query($sortQuery) asc\", \r\n        \"sortQuery\", radiusQuery(4, 0, 9, \"distance\", null))\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[1]/id=='100'\"  );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":254,"status":"N"},{"authorDate":"2017-06-29 17:00:17","commitOrder":7,"curCode":"  public void testSortMultiVal() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || isBBoxField(fieldName));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\r\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));\r\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"\r\n    );\n  }\n","date":"2017-06-29 17:00:17","endLine":412,"groupId":"103259","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"testSortMultiVal","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/7a/8c06a2a88f464450283acf55eded47406bac14.src","preCode":"  public void testSortMultiVal() throws Exception {\n    assumeTrue(\"dist sorting not supported on field \" + fieldName, canCalcDistance);\n    assumeFalse(\"Multivalue not supported for this field\",\n        fieldName.equals(\"pointvector\") || fieldName.equals(\"bbox\"));\n\n    assertU(adoc(\"id\", \"100\", fieldName, \"1,2\"));\r\n    assertU(adoc(\"id\", \"101\", fieldName, \"4,-1\", fieldName, \"3,5\"));\r\n    assertU(commit());\n\n    assertJQ(req(\n        \"q\", radiusQuery(3, 4, 9, \"distance\", null),\n        \"fl\",\"id,score\",\n        \"sort\",\"score asc\")\r\n        , 1e-4\n        , \"/response/docs/[0]/id=='101'\"\n        , \"/response/docs/[0]/score==0.99862987\"\r\n    );\n  }\n","realPath":"solr/core/src/test/org/apache/solr/search/TestSolr4Spatial.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":395,"status":"M"}],"commitId":"b4fa0e785b70e39a3a1420bc020ad1183308b7af","commitMessage":"@@@Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/lucene-solr\n","date":"2017-06-29 17:00:17","modifiedFileCount":"697","status":"M","submitter":"Karl Wright"}]
