[{"authorTime":"2013-06-27 04:18:33","codes":[{"authorDate":"2012-01-26 03:49:26","commitOrder":2,"curCode":"  public void finish(UpdateLog.SyncLevel syncLevel) {\n    if (syncLevel == UpdateLog.SyncLevel.NONE) return;\n    try {\n      synchronized (this) {\n        fos.flushBuffer();\n      }\n\n      if (syncLevel == UpdateLog.SyncLevel.FSYNC) {\n        \r\n        \r\n        \r\n        raf.getFD().sync();\n      }\n\n    } catch (IOException e) {\n      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, e);\n    }\n  }\n","date":"2012-01-26 03:49:26","endLine":481,"groupId":"53712","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"finish","params":"(UpdateLog.SyncLevelsyncLevel)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/d5/e2f09f2f895019f8d79e1b6b22d2f42c6ecfc5.src","preCode":"  public void finish(UpdateLog.SyncLevel syncLevel) {\n    if (syncLevel == UpdateLog.SyncLevel.NONE) return;\n    try {\n      synchronized (this) {\n        fos.flushBuffer();\n      }\n\n      if (syncLevel == UpdateLog.SyncLevel.FSYNC) {\n        \r\n        \r\n        \r\n        raf.getFD().sync();\n      }\n\n    } catch (IOException e) {\n      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, e);\n    }\n  }\n","realPath":"solr/core/src/java/org/apache/solr/update/TransactionLog.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":464,"status":"NB"},{"authorDate":"2013-06-27 04:18:33","commitOrder":2,"curCode":"  public void finish(UpdateLog.SyncLevel syncLevel) {\n    if (syncLevel == UpdateLog.SyncLevel.NONE) return;\n    try {\n      synchronized (this) {\n        fos.flushBuffer();\n        \n        \r\n        \r\n        \r\n        \r\n        tlogOutStream.hflush();\n      }\n\n      if (syncLevel == UpdateLog.SyncLevel.FSYNC) {\n        \r\n        \r\n        \r\n        \n        \r\n        tlogOutStream.hsync();\n      }\n\n    } catch (IOException e) {\n      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, e);\n    }\n  }\n","date":"2013-06-27 04:18:33","endLine":297,"groupId":"736","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"finish","params":"(UpdateLog.SyncLevelsyncLevel)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/93/5774d766a5c5ddd5f1ed912cc6a70a37946212.src","preCode":"  public void finish(UpdateLog.SyncLevel syncLevel) {\n    if (syncLevel == UpdateLog.SyncLevel.NONE) return;\n    try {\n      synchronized (this) {\n        fos.flushBuffer();\n        \n        \r\n        \r\n        \r\n        \r\n        tlogOutStream.hflush();\n      }\n\n      if (syncLevel == UpdateLog.SyncLevel.FSYNC) {\n        \r\n        \r\n        \r\n        \n        \r\n        tlogOutStream.hsync();\n      }\n\n    } catch (IOException e) {\n      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, e);\n    }\n  }\n","realPath":"solr/core/src/java/org/apache/solr/update/HdfsTransactionLog.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":272,"status":"B"}],"commitId":"b9e1537a7e12e6c15622452e48d8ca8c23aa98c4","commitMessage":"@@@SOLR-4916: Add support to write and read Solr index files and transaction log files to and from HDFS.\n\ngit-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1497072 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2013-06-27 04:18:33","modifiedFileCount":"42","status":"M","submitter":"Mark Robert Miller"},{"authorTime":"2014-08-21 22:16:07","codes":[{"authorDate":"2012-01-26 03:49:26","commitOrder":3,"curCode":"  public void finish(UpdateLog.SyncLevel syncLevel) {\n    if (syncLevel == UpdateLog.SyncLevel.NONE) return;\n    try {\n      synchronized (this) {\n        fos.flushBuffer();\n      }\n\n      if (syncLevel == UpdateLog.SyncLevel.FSYNC) {\n        \r\n        \r\n        \r\n        raf.getFD().sync();\n      }\n\n    } catch (IOException e) {\n      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, e);\n    }\n  }\n","date":"2012-01-26 03:49:26","endLine":481,"groupId":"102038","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"finish","params":"(UpdateLog.SyncLevelsyncLevel)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/d5/e2f09f2f895019f8d79e1b6b22d2f42c6ecfc5.src","preCode":"  public void finish(UpdateLog.SyncLevel syncLevel) {\n    if (syncLevel == UpdateLog.SyncLevel.NONE) return;\n    try {\n      synchronized (this) {\n        fos.flushBuffer();\n      }\n\n      if (syncLevel == UpdateLog.SyncLevel.FSYNC) {\n        \r\n        \r\n        \r\n        raf.getFD().sync();\n      }\n\n    } catch (IOException e) {\n      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, e);\n    }\n  }\n","realPath":"solr/core/src/java/org/apache/solr/update/TransactionLog.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":464,"status":"N"},{"authorDate":"2014-08-21 22:16:07","commitOrder":3,"curCode":"  public void finish(UpdateLog.SyncLevel syncLevel) {\n    if (syncLevel == UpdateLog.SyncLevel.NONE) return;\n    try {\n      synchronized (this) {\n        fos.flushBuffer();\n      }\n\n      if (syncLevel == UpdateLog.SyncLevel.FSYNC) {\n        tlogOutStream.hsync();\n      } else {\n        tlogOutStream.hflush();\n      }\n\n    } catch (IOException e) {\n      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, e);\n    }\n  }\n","date":"2014-08-21 22:16:07","endLine":288,"groupId":"102038","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"finish","params":"(UpdateLog.SyncLevelsyncLevel)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/73/df56e6d3f09a01c5b02342432d6458aeede027.src","preCode":"  public void finish(UpdateLog.SyncLevel syncLevel) {\n    if (syncLevel == UpdateLog.SyncLevel.NONE) return;\n    try {\n      synchronized (this) {\n        fos.flushBuffer();\n        \n        \r\n        \r\n        \r\n        \r\n        tlogOutStream.hflush();\n      }\n\n      if (syncLevel == UpdateLog.SyncLevel.FSYNC) {\n        \r\n        \r\n        \r\n        \n        \r\n        tlogOutStream.hsync();\n      }\n\n    } catch (IOException e) {\n      throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, e);\n    }\n  }\n","realPath":"solr/core/src/java/org/apache/solr/update/HdfsTransactionLog.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":272,"status":"M"}],"commitId":"e681856c55c805b5d050231b6934e04ced46a507","commitMessage":"@@@SOLR-6268: HdfsUpdateLog has a race condition that can expose a closed HDFS FileSystem instance and should close it's FileSystem instance if either inherited close method is called.\n\ngit-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1619402 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2014-08-21 22:16:07","modifiedFileCount":"2","status":"M","submitter":"Mark Robert Miller"}]
