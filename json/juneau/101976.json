[{"authorTime":"2021-02-06 03:17:15","codes":[{"authorDate":"2021-02-06 03:17:15","commitOrder":1,"curCode":"\tpublic void testWatcher_LONGRUNNING() throws Exception {\n\t\tConfigFileStore fs = ConfigFileStore.create().directory(DIR).enableWatcher().watcherSensitivity(WatcherSensitivity.HIGH).build();\n\n\t\tfinal CountDownLatch latch = new CountDownLatch(4);\n\t\tfs.register(\"X.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"X\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tIOUtils.write(new File(DIR, \"Z.ini\"), new StringReader(\"zzz\"));\n\t\tIOUtils.write(new File(DIR, \"X.cfg\"), new StringReader(\"xxx\"));\n\t\tIOUtils.write(new File(DIR, \"Y.cfg\"), new StringReader(\"yyy\"));\n\t\tif (! latch.await(10, TimeUnit.SECONDS))\n\t\t\tthrow new Exception(\"CountDownLatch never reached zero.\");\n\t}\n","date":"2021-02-06 03:17:15","endLine":178,"groupId":"9432","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testWatcher_LONGRUNNING","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-juneau-10-0.7/blobInfo/CC_OUT/blobs/27/0196ba384d88e31402abb819d6dff9919be48c.src","preCode":"\tpublic void testWatcher_LONGRUNNING() throws Exception {\n\t\tConfigFileStore fs = ConfigFileStore.create().directory(DIR).enableWatcher().watcherSensitivity(WatcherSensitivity.HIGH).build();\n\n\t\tfinal CountDownLatch latch = new CountDownLatch(4);\n\t\tfs.register(\"X.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"X\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tIOUtils.write(new File(DIR, \"Z.ini\"), new StringReader(\"zzz\"));\n\t\tIOUtils.write(new File(DIR, \"X.cfg\"), new StringReader(\"xxx\"));\n\t\tIOUtils.write(new File(DIR, \"Y.cfg\"), new StringReader(\"yyy\"));\n\t\tif (! latch.await(10, TimeUnit.SECONDS))\n\t\t\tthrow new Exception(\"CountDownLatch never reached zero.\");\n\t}\n","realPath":"juneau-utest/src/test/java/org/apache/juneau/config/store/ConfigFileStoreTest.java","repoName":"juneau","snippetEndLine":0,"snippetStartLine":0,"startLine":141,"status":"B"},{"authorDate":"2021-02-06 03:17:15","commitOrder":1,"curCode":"\tpublic void testUpdate() throws Exception {\n\t\tConfigFileStore fs = ConfigFileStore.create().directory(DIR).build();\n\n\t\tfinal CountDownLatch latch = new CountDownLatch(4);\n\t\tfs.register(\"X.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"X\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\n\t\tfs.update(\"X.cfg\", \"xxx\");\n\t\tfs.update(\"Y.cfg\", \"yyy\");\n\t\tif (! latch.await(10, TimeUnit.SECONDS))\n\t\t\tthrow new Exception(\"CountDownLatch never reached zero.\");\n\t}\n","date":"2021-02-06 03:17:15","endLine":218,"groupId":"9432","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testUpdate","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-juneau-10-0.7/blobInfo/CC_OUT/blobs/27/0196ba384d88e31402abb819d6dff9919be48c.src","preCode":"\tpublic void testUpdate() throws Exception {\n\t\tConfigFileStore fs = ConfigFileStore.create().directory(DIR).build();\n\n\t\tfinal CountDownLatch latch = new CountDownLatch(4);\n\t\tfs.register(\"X.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"X\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\n\t\tfs.update(\"X.cfg\", \"xxx\");\n\t\tfs.update(\"Y.cfg\", \"yyy\");\n\t\tif (! latch.await(10, TimeUnit.SECONDS))\n\t\t\tthrow new Exception(\"CountDownLatch never reached zero.\");\n\t}\n","realPath":"juneau-utest/src/test/java/org/apache/juneau/config/store/ConfigFileStoreTest.java","repoName":"juneau","snippetEndLine":0,"snippetStartLine":0,"startLine":181,"status":"B"}],"commitId":"be23bff717ddb90a892c743156f56c11bd5bceee","commitMessage":"@@@Move unit tests into a single top-level project.","date":"2021-02-06 03:17:15","modifiedFileCount":"0","status":"B","submitter":"JamesBognar"},{"authorTime":"2021-02-06 03:17:15","codes":[{"authorDate":"2021-03-06 02:45:28","commitOrder":2,"curCode":"\tpublic void testWatcher_LONGRUNNING() throws Exception {\n\t\tConfigFileStore fs = ConfigFileStore.create().directory(DIR).enableWatcher().watcherSensitivity(WatcherSensitivity.HIGH).build();\n\n\t\tfinal CountDownLatch latch = new CountDownLatch(4);\n\t\tfs.register(\"X.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"X\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tpipe(new StringReader(\"zzz\"), new File(DIR, \"Z.ini\"));\n\t\tpipe(new StringReader(\"xxx\"), new File(DIR, \"X.cfg\"));\n\t\tpipe(new StringReader(\"yyy\"), new File(DIR, \"Y.cfg\"));\n\t\tif (! latch.await(10, TimeUnit.SECONDS))\n\t\t\tthrow new Exception(\"CountDownLatch never reached zero.\");\n\t}\n","date":"2021-03-06 02:45:28","endLine":179,"groupId":"9432","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testWatcher_LONGRUNNING","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-juneau-10-0.7/blobInfo/CC_OUT/blobs/51/bf5e12abb0d6104410ec74cb1585fa02dae557.src","preCode":"\tpublic void testWatcher_LONGRUNNING() throws Exception {\n\t\tConfigFileStore fs = ConfigFileStore.create().directory(DIR).enableWatcher().watcherSensitivity(WatcherSensitivity.HIGH).build();\n\n\t\tfinal CountDownLatch latch = new CountDownLatch(4);\n\t\tfs.register(\"X.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"X\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tIOUtils.write(new File(DIR, \"Z.ini\"), new StringReader(\"zzz\"));\n\t\tIOUtils.write(new File(DIR, \"X.cfg\"), new StringReader(\"xxx\"));\n\t\tIOUtils.write(new File(DIR, \"Y.cfg\"), new StringReader(\"yyy\"));\n\t\tif (! latch.await(10, TimeUnit.SECONDS))\n\t\t\tthrow new Exception(\"CountDownLatch never reached zero.\");\n\t}\n","realPath":"juneau-utest/src/test/java/org/apache/juneau/config/store/ConfigFileStoreTest.java","repoName":"juneau","snippetEndLine":0,"snippetStartLine":0,"startLine":142,"status":"M"},{"authorDate":"2021-02-06 03:17:15","commitOrder":2,"curCode":"\tpublic void testUpdate() throws Exception {\n\t\tConfigFileStore fs = ConfigFileStore.create().directory(DIR).build();\n\n\t\tfinal CountDownLatch latch = new CountDownLatch(4);\n\t\tfs.register(\"X.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"X\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\n\t\tfs.update(\"X.cfg\", \"xxx\");\n\t\tfs.update(\"Y.cfg\", \"yyy\");\n\t\tif (! latch.await(10, TimeUnit.SECONDS))\n\t\t\tthrow new Exception(\"CountDownLatch never reached zero.\");\n\t}\n","date":"2021-02-06 03:17:15","endLine":218,"groupId":"9432","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testUpdate","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-juneau-10-0.7/blobInfo/CC_OUT/blobs/27/0196ba384d88e31402abb819d6dff9919be48c.src","preCode":"\tpublic void testUpdate() throws Exception {\n\t\tConfigFileStore fs = ConfigFileStore.create().directory(DIR).build();\n\n\t\tfinal CountDownLatch latch = new CountDownLatch(4);\n\t\tfs.register(\"X.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"X\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\n\t\tfs.update(\"X.cfg\", \"xxx\");\n\t\tfs.update(\"Y.cfg\", \"yyy\");\n\t\tif (! latch.await(10, TimeUnit.SECONDS))\n\t\t\tthrow new Exception(\"CountDownLatch never reached zero.\");\n\t}\n","realPath":"juneau-utest/src/test/java/org/apache/juneau/config/store/ConfigFileStoreTest.java","repoName":"juneau","snippetEndLine":0,"snippetStartLine":0,"startLine":181,"status":"N"}],"commitId":"acf59946f90ebf9c4b0bfa45258b9f6277a948c1","commitMessage":"@@@REST refactoring.","date":"2021-03-06 02:45:28","modifiedFileCount":"48","status":"M","submitter":"JamesBognar"},{"authorTime":"2021-02-06 03:17:15","codes":[{"authorDate":"2021-07-23 23:49:36","commitOrder":3,"curCode":"\tpublic void testWatcher_LONGRUNNING() throws Exception {\n\t\tConfigFileStore fs = ConfigFileStore.create().directory(DIR).enableWatcher().watcherSensitivity(WatcherSensitivity.HIGH).build();\n\n\t\tfinal CountDownLatch latch = new CountDownLatch(4);\n\t\tfs.register(\"X.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"X\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tpipe(reader(\"zzz\"), new File(DIR, \"Z.ini\"));\n\t\tpipe(reader(\"xxx\"), new File(DIR, \"X.cfg\"));\n\t\tpipe(reader(\"yyy\"), new File(DIR, \"Y.cfg\"));\n\t\tif (! latch.await(10, TimeUnit.SECONDS))\n\t\t\tthrow new Exception(\"CountDownLatch never reached zero.\");\n\t}\n","date":"2021-07-23 23:49:36","endLine":180,"groupId":"101976","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testWatcher_LONGRUNNING","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-juneau-10-0.7/blobInfo/CC_OUT/blobs/f5/ad15041afee64beae74b7252f69d47346799ba.src","preCode":"\tpublic void testWatcher_LONGRUNNING() throws Exception {\n\t\tConfigFileStore fs = ConfigFileStore.create().directory(DIR).enableWatcher().watcherSensitivity(WatcherSensitivity.HIGH).build();\n\n\t\tfinal CountDownLatch latch = new CountDownLatch(4);\n\t\tfs.register(\"X.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"X\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tpipe(new StringReader(\"zzz\"), new File(DIR, \"Z.ini\"));\n\t\tpipe(new StringReader(\"xxx\"), new File(DIR, \"X.cfg\"));\n\t\tpipe(new StringReader(\"yyy\"), new File(DIR, \"Y.cfg\"));\n\t\tif (! latch.await(10, TimeUnit.SECONDS))\n\t\t\tthrow new Exception(\"CountDownLatch never reached zero.\");\n\t}\n","realPath":"juneau-utest/src/test/java/org/apache/juneau/config/store/ConfigFileStoreTest.java","repoName":"juneau","snippetEndLine":0,"snippetStartLine":0,"startLine":143,"status":"M"},{"authorDate":"2021-02-06 03:17:15","commitOrder":3,"curCode":"\tpublic void testUpdate() throws Exception {\n\t\tConfigFileStore fs = ConfigFileStore.create().directory(DIR).build();\n\n\t\tfinal CountDownLatch latch = new CountDownLatch(4);\n\t\tfs.register(\"X.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"X\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\n\t\tfs.update(\"X.cfg\", \"xxx\");\n\t\tfs.update(\"Y.cfg\", \"yyy\");\n\t\tif (! latch.await(10, TimeUnit.SECONDS))\n\t\t\tthrow new Exception(\"CountDownLatch never reached zero.\");\n\t}\n","date":"2021-02-06 03:17:15","endLine":218,"groupId":"101976","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testUpdate","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-juneau-10-0.7/blobInfo/CC_OUT/blobs/27/0196ba384d88e31402abb819d6dff9919be48c.src","preCode":"\tpublic void testUpdate() throws Exception {\n\t\tConfigFileStore fs = ConfigFileStore.create().directory(DIR).build();\n\n\t\tfinal CountDownLatch latch = new CountDownLatch(4);\n\t\tfs.register(\"X.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"X\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"xxx\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y.cfg\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\t\tfs.register(\"Y\", new ConfigStoreListener() {\n\t\t\t@Override\n\t\t\tpublic void onChange(String contents) {\n\t\t\t\tif (\"yyy\".equals(contents))\n\t\t\t\t\tlatch.countDown();\n\t\t\t}\n\t\t});\n\n\t\tfs.update(\"X.cfg\", \"xxx\");\n\t\tfs.update(\"Y.cfg\", \"yyy\");\n\t\tif (! latch.await(10, TimeUnit.SECONDS))\n\t\t\tthrow new Exception(\"CountDownLatch never reached zero.\");\n\t}\n","realPath":"juneau-utest/src/test/java/org/apache/juneau/config/store/ConfigFileStoreTest.java","repoName":"juneau","snippetEndLine":0,"snippetStartLine":0,"startLine":181,"status":"N"}],"commitId":"2284c5fc7c2b952899810997ef3797acb027f40d","commitMessage":"@@@Unit tests.","date":"2021-07-23 23:49:36","modifiedFileCount":"95","status":"M","submitter":"JamesBognar"}]
