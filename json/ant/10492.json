[{"authorTime":"2005-02-19 07:28:00","codes":[{"authorDate":"2009-08-27 18:14:07","commitOrder":5,"curCode":"    private long getTimeDiff(FTPClient ftp) {\n        long returnValue = 0;\n        File tempFile = findFileName(ftp);\n        try {\n            \r\n            FILE_UTILS.createNewFile(tempFile);\n            long localTimeStamp = tempFile.lastModified();\n            BufferedInputStream instream = new BufferedInputStream(new FileInputStream(tempFile));\n            ftp.storeFile(tempFile.getName(), instream);\n            instream.close();\n            boolean success = FTPReply.isPositiveCompletion(ftp.getReplyCode());\n            if (success) {\n                FTPFile [] ftpFiles = ftp.listFiles(tempFile.getName());\n                if (ftpFiles.length == 1) {\n                    long remoteTimeStamp = ftpFiles[0].getTimestamp().getTime().getTime();\n                    returnValue = localTimeStamp - remoteTimeStamp;\n                }\n                ftp.deleteFile(ftpFiles[0].getName());\n            }\n            \r\n            \r\n            Delete mydelete = new Delete();\n            mydelete.bindToOwner(task);\n            mydelete.setFile(tempFile.getCanonicalFile());\n            mydelete.execute();\n        } catch (Exception e) {\n            throw new BuildException(e, task.getLocation());\n        }\n        return returnValue;\n    }\n","date":"2009-08-27 18:14:07","endLine":1353,"groupId":"4280","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"getTimeDiff","params":"(FTPClientftp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/3a/490e4782ed37f2c31e237802fb6132e360acca.src","preCode":"    private long getTimeDiff(FTPClient ftp) {\n        long returnValue = 0;\n        File tempFile = findFileName(ftp);\n        try {\n            \r\n            FILE_UTILS.createNewFile(tempFile);\n            long localTimeStamp = tempFile.lastModified();\n            BufferedInputStream instream = new BufferedInputStream(new FileInputStream(tempFile));\n            ftp.storeFile(tempFile.getName(), instream);\n            instream.close();\n            boolean success = FTPReply.isPositiveCompletion(ftp.getReplyCode());\n            if (success) {\n                FTPFile [] ftpFiles = ftp.listFiles(tempFile.getName());\n                if (ftpFiles.length == 1) {\n                    long remoteTimeStamp = ftpFiles[0].getTimestamp().getTime().getTime();\n                    returnValue = localTimeStamp - remoteTimeStamp;\n                }\n                ftp.deleteFile(ftpFiles[0].getName());\n            }\n            \r\n            \r\n            Delete mydelete = new Delete();\n            mydelete.bindToOwner(task);\n            mydelete.setFile(tempFile.getCanonicalFile());\n            mydelete.execute();\n        } catch (Exception e) {\n            throw new BuildException(e, task.getLocation());\n        }\n        return returnValue;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTPTaskMirrorImpl.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":1324,"status":"B"},{"authorDate":"2005-02-19 07:28:00","commitOrder":5,"curCode":"    private long getTimeDiff(FTPClient ftp) {\n        long returnValue = 0;\n        File tempFile = findFileName(ftp);\n        try {\n            \r\n            FILE_UTILS.createNewFile(tempFile);\n            long localTimeStamp = tempFile.lastModified();\n            BufferedInputStream instream = new BufferedInputStream(new FileInputStream(tempFile));\n            ftp.storeFile(tempFile.getName(), instream);\n            instream.close();\n            boolean success = FTPReply.isPositiveCompletion(ftp.getReplyCode());\n            if (success) {\n                FTPFile [] ftpFiles = ftp.listFiles(tempFile.getName());\n                if (ftpFiles.length == 1) {\n                    long remoteTimeStamp = ftpFiles[0].getTimestamp().getTime().getTime();\n                    returnValue = localTimeStamp - remoteTimeStamp;\n                }\n                ftp.deleteFile(ftpFiles[0].getName());\n            }\n            \r\n            \r\n            Delete mydelete = new Delete();\n            mydelete.bindToOwner(this);\n            mydelete.setFile(tempFile.getCanonicalFile());\n            mydelete.execute();\n        } catch (Exception e) {\n            throw new BuildException(e, getLocation());\n        }\n        return returnValue;\n    }\n","date":"2005-02-19 07:28:00","endLine":1515,"groupId":"4280","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"getTimeDiff","params":"(FTPClientftp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/0d/b9934917424ca6d85da090950e2e54446c0be0.src","preCode":"    private long getTimeDiff(FTPClient ftp) {\n        long returnValue = 0;\n        File tempFile = findFileName(ftp);\n        try {\n            \r\n            FILE_UTILS.createNewFile(tempFile);\n            long localTimeStamp = tempFile.lastModified();\n            BufferedInputStream instream = new BufferedInputStream(new FileInputStream(tempFile));\n            ftp.storeFile(tempFile.getName(), instream);\n            instream.close();\n            boolean success = FTPReply.isPositiveCompletion(ftp.getReplyCode());\n            if (success) {\n                FTPFile [] ftpFiles = ftp.listFiles(tempFile.getName());\n                if (ftpFiles.length == 1) {\n                    long remoteTimeStamp = ftpFiles[0].getTimestamp().getTime().getTime();\n                    returnValue = localTimeStamp - remoteTimeStamp;\n                }\n                ftp.deleteFile(ftpFiles[0].getName());\n            }\n            \r\n            \r\n            Delete mydelete = new Delete();\n            mydelete.bindToOwner(this);\n            mydelete.setFile(tempFile.getCanonicalFile());\n            mydelete.execute();\n        } catch (Exception e) {\n            throw new BuildException(e, getLocation());\n        }\n        return returnValue;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTP.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":1486,"status":"NB"}],"commitId":"d72413184949c04015b452cf9cdf36bf2107061f","commitMessage":"@@@refactored <ftp> so commons-net may be loaded via a separate classloader.  Based on patch by Greg Roodt in PR 45860.  Not really tested.  yet.  therefore I haven't changed defaults.properties so far\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@808350 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2009-08-27 18:14:07","modifiedFileCount":"3","status":"M","submitter":"Stefan Bodewig"},{"authorTime":"2017-04-12 12:54:09","codes":[{"authorDate":"2017-04-12 12:54:09","commitOrder":6,"curCode":"    private long getTimeDiff(FTPClient ftp) {\n        long returnValue = 0;\n        File tempFile = findFileName(ftp);\n        try {\n            \r\n            FILE_UTILS.createNewFile(tempFile);\n            long localTimeStamp = tempFile.lastModified();\n            BufferedInputStream instream = new BufferedInputStream(Files.newInputStream(tempFile.toPath()));\n            ftp.storeFile(tempFile.getName(), instream);\n            instream.close();\n            boolean success = FTPReply.isPositiveCompletion(ftp.getReplyCode());\n            if (success) {\n                FTPFile [] ftpFiles = ftp.listFiles(tempFile.getName());\n                if (ftpFiles.length == 1) {\n                    long remoteTimeStamp = ftpFiles[0].getTimestamp().getTime().getTime();\n                    returnValue = localTimeStamp - remoteTimeStamp;\n                }\n                ftp.deleteFile(ftpFiles[0].getName());\n            }\n            \r\n            \r\n            Delete mydelete = new Delete();\n            mydelete.bindToOwner(task);\n            mydelete.setFile(tempFile.getCanonicalFile());\n            mydelete.execute();\n        } catch (Exception e) {\n            throw new BuildException(e, task.getLocation());\n        }\n        return returnValue;\n    }\n","date":"2017-04-12 12:54:09","endLine":1370,"groupId":"4280","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"getTimeDiff","params":"(FTPClientftp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/35/f01b35555bc0b0b12b02df9b4d0e4ed7b1a36e.src","preCode":"    private long getTimeDiff(FTPClient ftp) {\n        long returnValue = 0;\n        File tempFile = findFileName(ftp);\n        try {\n            \r\n            FILE_UTILS.createNewFile(tempFile);\n            long localTimeStamp = tempFile.lastModified();\n            BufferedInputStream instream = new BufferedInputStream(new FileInputStream(tempFile));\n            ftp.storeFile(tempFile.getName(), instream);\n            instream.close();\n            boolean success = FTPReply.isPositiveCompletion(ftp.getReplyCode());\n            if (success) {\n                FTPFile [] ftpFiles = ftp.listFiles(tempFile.getName());\n                if (ftpFiles.length == 1) {\n                    long remoteTimeStamp = ftpFiles[0].getTimestamp().getTime().getTime();\n                    returnValue = localTimeStamp - remoteTimeStamp;\n                }\n                ftp.deleteFile(ftpFiles[0].getName());\n            }\n            \r\n            \r\n            Delete mydelete = new Delete();\n            mydelete.bindToOwner(task);\n            mydelete.setFile(tempFile.getCanonicalFile());\n            mydelete.execute();\n        } catch (Exception e) {\n            throw new BuildException(e, task.getLocation());\n        }\n        return returnValue;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTPTaskMirrorImpl.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":1341,"status":"M"},{"authorDate":"2017-04-12 12:54:09","commitOrder":6,"curCode":"    private long getTimeDiff(FTPClient ftp) {\n        long returnValue = 0;\n        File tempFile = findFileName(ftp);\n        try {\n            \r\n            FILE_UTILS.createNewFile(tempFile);\n            long localTimeStamp = tempFile.lastModified();\n            BufferedInputStream instream = new BufferedInputStream(Files.newInputStream(tempFile.toPath()));\n            ftp.storeFile(tempFile.getName(), instream);\n            instream.close();\n            boolean success = FTPReply.isPositiveCompletion(ftp.getReplyCode());\n            if (success) {\n                FTPFile [] ftpFiles = ftp.listFiles(tempFile.getName());\n                if (ftpFiles.length == 1) {\n                    long remoteTimeStamp = ftpFiles[0].getTimestamp().getTime().getTime();\n                    returnValue = localTimeStamp - remoteTimeStamp;\n                }\n                ftp.deleteFile(ftpFiles[0].getName());\n            }\n            \r\n            \r\n            Delete mydelete = new Delete();\n            mydelete.bindToOwner(this);\n            mydelete.setFile(tempFile.getCanonicalFile());\n            mydelete.execute();\n        } catch (Exception e) {\n            throw new BuildException(e, getLocation());\n        }\n        return returnValue;\n    }\n","date":"2017-04-12 12:54:09","endLine":1981,"groupId":"4280","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"getTimeDiff","params":"(FTPClientftp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/a9/d079c2e36e244fe6f1f732c0deb6dc7ed9cd93.src","preCode":"    private long getTimeDiff(FTPClient ftp) {\n        long returnValue = 0;\n        File tempFile = findFileName(ftp);\n        try {\n            \r\n            FILE_UTILS.createNewFile(tempFile);\n            long localTimeStamp = tempFile.lastModified();\n            BufferedInputStream instream = new BufferedInputStream(new FileInputStream(tempFile));\n            ftp.storeFile(tempFile.getName(), instream);\n            instream.close();\n            boolean success = FTPReply.isPositiveCompletion(ftp.getReplyCode());\n            if (success) {\n                FTPFile [] ftpFiles = ftp.listFiles(tempFile.getName());\n                if (ftpFiles.length == 1) {\n                    long remoteTimeStamp = ftpFiles[0].getTimestamp().getTime().getTime();\n                    returnValue = localTimeStamp - remoteTimeStamp;\n                }\n                ftp.deleteFile(ftpFiles[0].getName());\n            }\n            \r\n            \r\n            Delete mydelete = new Delete();\n            mydelete.bindToOwner(this);\n            mydelete.setFile(tempFile.getCanonicalFile());\n            mydelete.execute();\n        } catch (Exception e) {\n            throw new BuildException(e, getLocation());\n        }\n        return returnValue;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTP.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":1952,"status":"M"}],"commitId":"af74d1f6b882cef5f4167d972638ad886d12d58c","commitMessage":"@@@reduce GC pressure by replacing File(In|Out)putStream\n","date":"2017-04-12 12:54:09","modifiedFileCount":"84","status":"M","submitter":"Stefan Bodewig"},{"authorTime":"2017-04-12 12:54:09","codes":[{"authorDate":"2017-04-13 23:15:22","commitOrder":7,"curCode":"    private long getTimeDiff(FTPClient ftp) {\n        long returnValue = 0;\n        File tempFile = findFileName(ftp);\n        try {\n            \r\n            FILE_UTILS.createNewFile(tempFile);\n            long localTimeStamp = tempFile.lastModified();\n            BufferedInputStream instream = new BufferedInputStream(Files.newInputStream(tempFile.toPath()));\n            ftp.storeFile(tempFile.getName(), instream);\n            instream.close();\n            if (FTPReply.isPositiveCompletion(ftp.getReplyCode())) {\n                FTPFile [] ftpFiles = ftp.listFiles(tempFile.getName());\n                if (ftpFiles.length == 1) {\n                    long remoteTimeStamp = ftpFiles[0].getTimestamp().getTime().getTime();\n                    returnValue = localTimeStamp - remoteTimeStamp;\n                }\n                ftp.deleteFile(ftpFiles[0].getName());\n            }\n            \r\n            \r\n            Delete mydelete = new Delete();\n            mydelete.bindToOwner(task);\n            mydelete.setFile(tempFile.getCanonicalFile());\n            mydelete.execute();\n        } catch (Exception e) {\n            throw new BuildException(e, task.getLocation());\n        }\n        return returnValue;\n    }\n","date":"2017-04-13 23:15:22","endLine":1389,"groupId":"10492","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"getTimeDiff","params":"(FTPClientftp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/f5/46b230ba9f5fd9068433aa8620bc9d58b1f599.src","preCode":"    private long getTimeDiff(FTPClient ftp) {\n        long returnValue = 0;\n        File tempFile = findFileName(ftp);\n        try {\n            \r\n            FILE_UTILS.createNewFile(tempFile);\n            long localTimeStamp = tempFile.lastModified();\n            BufferedInputStream instream = new BufferedInputStream(Files.newInputStream(tempFile.toPath()));\n            ftp.storeFile(tempFile.getName(), instream);\n            instream.close();\n            boolean success = FTPReply.isPositiveCompletion(ftp.getReplyCode());\n            if (success) {\n                FTPFile [] ftpFiles = ftp.listFiles(tempFile.getName());\n                if (ftpFiles.length == 1) {\n                    long remoteTimeStamp = ftpFiles[0].getTimestamp().getTime().getTime();\n                    returnValue = localTimeStamp - remoteTimeStamp;\n                }\n                ftp.deleteFile(ftpFiles[0].getName());\n            }\n            \r\n            \r\n            Delete mydelete = new Delete();\n            mydelete.bindToOwner(task);\n            mydelete.setFile(tempFile.getCanonicalFile());\n            mydelete.execute();\n        } catch (Exception e) {\n            throw new BuildException(e, task.getLocation());\n        }\n        return returnValue;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTPTaskMirrorImpl.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":1361,"status":"M"},{"authorDate":"2017-04-12 12:54:09","commitOrder":7,"curCode":"    private long getTimeDiff(FTPClient ftp) {\n        long returnValue = 0;\n        File tempFile = findFileName(ftp);\n        try {\n            \r\n            FILE_UTILS.createNewFile(tempFile);\n            long localTimeStamp = tempFile.lastModified();\n            BufferedInputStream instream = new BufferedInputStream(Files.newInputStream(tempFile.toPath()));\n            ftp.storeFile(tempFile.getName(), instream);\n            instream.close();\n            boolean success = FTPReply.isPositiveCompletion(ftp.getReplyCode());\n            if (success) {\n                FTPFile [] ftpFiles = ftp.listFiles(tempFile.getName());\n                if (ftpFiles.length == 1) {\n                    long remoteTimeStamp = ftpFiles[0].getTimestamp().getTime().getTime();\n                    returnValue = localTimeStamp - remoteTimeStamp;\n                }\n                ftp.deleteFile(ftpFiles[0].getName());\n            }\n            \r\n            \r\n            Delete mydelete = new Delete();\n            mydelete.bindToOwner(this);\n            mydelete.setFile(tempFile.getCanonicalFile());\n            mydelete.execute();\n        } catch (Exception e) {\n            throw new BuildException(e, getLocation());\n        }\n        return returnValue;\n    }\n","date":"2017-04-12 12:54:09","endLine":1981,"groupId":"10492","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"getTimeDiff","params":"(FTPClientftp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/a9/d079c2e36e244fe6f1f732c0deb6dc7ed9cd93.src","preCode":"    private long getTimeDiff(FTPClient ftp) {\n        long returnValue = 0;\n        File tempFile = findFileName(ftp);\n        try {\n            \r\n            FILE_UTILS.createNewFile(tempFile);\n            long localTimeStamp = tempFile.lastModified();\n            BufferedInputStream instream = new BufferedInputStream(Files.newInputStream(tempFile.toPath()));\n            ftp.storeFile(tempFile.getName(), instream);\n            instream.close();\n            boolean success = FTPReply.isPositiveCompletion(ftp.getReplyCode());\n            if (success) {\n                FTPFile [] ftpFiles = ftp.listFiles(tempFile.getName());\n                if (ftpFiles.length == 1) {\n                    long remoteTimeStamp = ftpFiles[0].getTimestamp().getTime().getTime();\n                    returnValue = localTimeStamp - remoteTimeStamp;\n                }\n                ftp.deleteFile(ftpFiles[0].getName());\n            }\n            \r\n            \r\n            Delete mydelete = new Delete();\n            mydelete.bindToOwner(this);\n            mydelete.setFile(tempFile.getCanonicalFile());\n            mydelete.execute();\n        } catch (Exception e) {\n            throw new BuildException(e, getLocation());\n        }\n        return returnValue;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTP.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":1952,"status":"N"}],"commitId":"b7d1e9bde44cb8e5233d6e70bb96e14cbb2f3e2d","commitMessage":"@@@java 5-8\n","date":"2017-04-13 23:15:22","modifiedFileCount":"609","status":"M","submitter":"Matt Benson"}]
