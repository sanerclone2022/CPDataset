[{"authorTime":"2003-08-22 00:56:12","codes":[{"authorDate":"2009-08-27 18:14:07","commitOrder":2,"curCode":"        public FTPFile[] listFiles(String directory, boolean changedir) {\n            \r\n            String currentPath = directory;\n            if (changedir) {\n                try {\n                    boolean result = ftp.changeWorkingDirectory(directory);\n                    if (!result) {\n                        return null;\n                    }\n                    currentPath = ftp.printWorkingDirectory();\n                } catch (IOException ioe) {\n                    throw new BuildException(ioe, task.getLocation());\n                }\n            }\n            if (fileListMap.containsKey(currentPath)) {\n                task.log(\"filelist map used in listing files\", Project.MSG_DEBUG);\n                return ((FTPFile[]) fileListMap.get(currentPath));\n            }\n            FTPFile[] result = null;\n            try {\n                result = ftp.listFiles();\n            } catch (IOException ioe) {\n                throw new BuildException(ioe, task.getLocation());\n            }\n            fileListMap.put(currentPath, result);\n            if (!remoteSensitivityChecked) {\n                checkRemoteSensitivity(result, directory);\n            }\n            return result;\n        }\n","date":"2009-08-27 18:14:07","endLine":588,"groupId":"7754","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"listFiles","params":"(Stringdirectory@booleanchangedir)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/3a/490e4782ed37f2c31e237802fb6132e360acca.src","preCode":"        public FTPFile[] listFiles(String directory, boolean changedir) {\n            \r\n            String currentPath = directory;\n            if (changedir) {\n                try {\n                    boolean result = ftp.changeWorkingDirectory(directory);\n                    if (!result) {\n                        return null;\n                    }\n                    currentPath = ftp.printWorkingDirectory();\n                } catch (IOException ioe) {\n                    throw new BuildException(ioe, task.getLocation());\n                }\n            }\n            if (fileListMap.containsKey(currentPath)) {\n                task.log(\"filelist map used in listing files\", Project.MSG_DEBUG);\n                return ((FTPFile[]) fileListMap.get(currentPath));\n            }\n            FTPFile[] result = null;\n            try {\n                result = ftp.listFiles();\n            } catch (IOException ioe) {\n                throw new BuildException(ioe, task.getLocation());\n            }\n            fileListMap.put(currentPath, result);\n            if (!remoteSensitivityChecked) {\n                checkRemoteSensitivity(result, directory);\n            }\n            return result;\n        }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTPTaskMirrorImpl.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":559,"status":"B"},{"authorDate":"2003-08-22 00:56:12","commitOrder":2,"curCode":"        public FTPFile[] listFiles(String directory, boolean changedir) {\n            \r\n            String currentPath = directory;\n            if (changedir) {\n                try {\n                    boolean result = ftp.changeWorkingDirectory(directory);\n                    if (!result) {\n                        return null;\n                    }\n                    currentPath = ftp.printWorkingDirectory();\n                } catch (IOException ioe) {\n                    throw new BuildException(ioe, getLocation());\n                }\n            }\n            if (fileListMap.containsKey(currentPath)) {\n                getProject().log(\"filelist map used in listing files\", Project.MSG_DEBUG);\n                return ((FTPFile[]) fileListMap.get(currentPath));\n            }\n            FTPFile[] result = null;\n            try {\n                result = ftp.listFiles();\n            } catch (IOException ioe) {\n                throw new BuildException(ioe, getLocation());\n            }\n            fileListMap.put(currentPath, result);\n            if (!remoteSensitivityChecked) {\n                checkRemoteSensitivity(result, directory);\n            }\n            return result;\n        }\n","date":"2003-08-22 00:56:12","endLine":553,"groupId":"705","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"listFiles","params":"(Stringdirectory@booleanchangedir)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/73/851051282272d41ee416f19972edbdf7f734d8.src","preCode":"        public FTPFile[] listFiles(String directory, boolean changedir) {\n            \r\n            String currentPath = directory;\n            if (changedir) {\n                try {\n                    boolean result = ftp.changeWorkingDirectory(directory);\n                    if (!result) {\n                        return null;\n                    }\n                    currentPath = ftp.printWorkingDirectory();\n                } catch (IOException ioe) {\n                    throw new BuildException(ioe, getLocation());\n                }\n            }\n            if (fileListMap.containsKey(currentPath)) {\n                getProject().log(\"filelist map used in listing files\", Project.MSG_DEBUG);\n                return ((FTPFile[]) fileListMap.get(currentPath));\n            }\n            FTPFile[] result = null;\n            try {\n                result = ftp.listFiles();\n            } catch (IOException ioe) {\n                throw new BuildException(ioe, getLocation());\n            }\n            fileListMap.put(currentPath, result);\n            if (!remoteSensitivityChecked) {\n                checkRemoteSensitivity(result, directory);\n            }\n            return result;\n        }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTP.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":524,"status":"NB"}],"commitId":"d72413184949c04015b452cf9cdf36bf2107061f","commitMessage":"@@@refactored <ftp> so commons-net may be loaded via a separate classloader.  Based on patch by Greg Roodt in PR 45860.  Not really tested.  yet.  therefore I haven't changed defaults.properties so far\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@808350 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2009-08-27 18:14:07","modifiedFileCount":"3","status":"M","submitter":"Stefan Bodewig"},{"authorTime":"2017-04-13 23:15:22","codes":[{"authorDate":"2017-04-13 23:15:22","commitOrder":3,"curCode":"        public FTPFile[] listFiles(String directory, boolean changedir) {\n            \r\n            String currentPath = directory;\n            if (changedir) {\n                try {\n                    if (!ftp.changeWorkingDirectory(directory)) {\n                        return null;\n                    }\n                    currentPath = ftp.printWorkingDirectory();\n                } catch (IOException ioe) {\n                    throw new BuildException(ioe, task.getLocation());\n                }\n            }\n            if (fileListMap.containsKey(currentPath)) {\n                task.log(\"filelist map used in listing files\", Project.MSG_DEBUG);\n                return fileListMap.get(currentPath);\n            }\n            FTPFile[] result;\n            try {\n                result = ftp.listFiles();\n            } catch (IOException ioe) {\n                throw new BuildException(ioe, task.getLocation());\n            }\n            fileListMap.put(currentPath, result);\n            if (!remoteSensitivityChecked) {\n                checkRemoteSensitivity(result, directory);\n            }\n            return result;\n        }\n","date":"2017-04-13 23:15:22","endLine":592,"groupId":"10481","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"listFiles","params":"(Stringdirectory@booleanchangedir)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/f5/46b230ba9f5fd9068433aa8620bc9d58b1f599.src","preCode":"        public FTPFile[] listFiles(String directory, boolean changedir) {\n            \r\n            String currentPath = directory;\n            if (changedir) {\n                try {\n                    boolean result = ftp.changeWorkingDirectory(directory);\n                    if (!result) {\n                        return null;\n                    }\n                    currentPath = ftp.printWorkingDirectory();\n                } catch (IOException ioe) {\n                    throw new BuildException(ioe, task.getLocation());\n                }\n            }\n            if (fileListMap.containsKey(currentPath)) {\n                task.log(\"filelist map used in listing files\", Project.MSG_DEBUG);\n                return ((FTPFile[]) fileListMap.get(currentPath));\n            }\n            FTPFile[] result = null;\n            try {\n                result = ftp.listFiles();\n            } catch (IOException ioe) {\n                throw new BuildException(ioe, task.getLocation());\n            }\n            fileListMap.put(currentPath, result);\n            if (!remoteSensitivityChecked) {\n                checkRemoteSensitivity(result, directory);\n            }\n            return result;\n        }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTPTaskMirrorImpl.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":564,"status":"M"},{"authorDate":"2017-04-13 23:15:22","commitOrder":3,"curCode":"        public FTPFile[] listFiles(String directory, boolean changedir) {\n            String currentPath = directory;\n            if (changedir) {\n                try {\n                    if (!ftp.changeWorkingDirectory(directory)) {\n                        return null;\n                    }\n                    currentPath = ftp.printWorkingDirectory();\n                } catch (IOException ioe) {\n                    throw new BuildException(ioe, getLocation());\n                }\n            }\n            if (fileListMap.containsKey(currentPath)) {\n                getProject().log(\"filelist map used in listing files\", Project.MSG_DEBUG);\n                return fileListMap.get(currentPath);\n            }\n            FTPFile[] result;\n            try {\n                result = ftp.listFiles();\n            } catch (IOException ioe) {\n                throw new BuildException(ioe, getLocation());\n            }\n            fileListMap.put(currentPath, result);\n            if (!remoteSensitivityChecked) {\n                checkRemoteSensitivity(result, directory);\n            }\n            return result;\n        }\n","date":"2017-04-13 23:15:22","endLine":695,"groupId":"10481","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"listFiles","params":"(Stringdirectory@booleanchangedir)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/2a/5239022c4fbbf3e893d2c9ad7a4fcdd809cc5c.src","preCode":"        public FTPFile[] listFiles(String directory, boolean changedir) {\n            \r\n            String currentPath = directory;\n            if (changedir) {\n                try {\n                    boolean result = ftp.changeWorkingDirectory(directory);\n                    if (!result) {\n                        return null;\n                    }\n                    currentPath = ftp.printWorkingDirectory();\n                } catch (IOException ioe) {\n                    throw new BuildException(ioe, getLocation());\n                }\n            }\n            if (fileListMap.containsKey(currentPath)) {\n                getProject().log(\"filelist map used in listing files\", Project.MSG_DEBUG);\n                return ((FTPFile[]) fileListMap.get(currentPath));\n            }\n            FTPFile[] result = null;\n            try {\n                result = ftp.listFiles();\n            } catch (IOException ioe) {\n                throw new BuildException(ioe, getLocation());\n            }\n            fileListMap.put(currentPath, result);\n            if (!remoteSensitivityChecked) {\n                checkRemoteSensitivity(result, directory);\n            }\n            return result;\n        }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTP.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":668,"status":"M"}],"commitId":"b7d1e9bde44cb8e5233d6e70bb96e14cbb2f3e2d","commitMessage":"@@@java 5-8\n","date":"2017-04-13 23:15:22","modifiedFileCount":"609","status":"M","submitter":"Matt Benson"}]
