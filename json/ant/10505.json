[{"authorTime":"2000-10-06 19:24:56","codes":[{"authorDate":"2000-10-06 19:24:56","commitOrder":3,"curCode":"    protected boolean okToDelete(File d) {\n        String[] list = d.list();\n        if (list == null) return false;     \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                if (!okToDelete(f)) return false;\n            } else {\n                return false;   \r\n            }\n        }\n\n        return true;\n    }\n","date":"2000-10-06 19:24:56","endLine":167,"groupId":"6627","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"okToDelete","params":"(Filed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/57/7bba2cdfc429d7376439e4fa3c34ee01c11ca5.src","preCode":"    protected boolean okToDelete(File d) {\n        String[] list = d.list();\n        if (list == null) return false;     \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                if (!okToDelete(f)) return false;\n            } else {\n                return false;   \r\n            }\n        }\n\n        return true;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/Move.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":152,"status":"B"},{"authorDate":"2000-10-06 19:24:56","commitOrder":3,"curCode":"    protected void deleteDir(File d) {\n        String[] list = d.list();\n        if (list == null) return;      \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                deleteDir(f);\n            } else {\n                throw new BuildException(\"UNEXPECTED ERROR - The file \" + f.getAbsolutePath() + \" should not exist!\");\n            }\n        }\n        log(\"Deleting directory \" + d.getAbsolutePath(), verbosity);\n        if (!d.delete()) {\n           throw new BuildException(\"Unable to delete directory \" + d.getAbsolutePath());\n       }\n    }\n","date":"2000-10-06 19:24:56","endLine":189,"groupId":"6896","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"deleteDir","params":"(Filed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/57/7bba2cdfc429d7376439e4fa3c34ee01c11ca5.src","preCode":"    protected void deleteDir(File d) {\n        String[] list = d.list();\n        if (list == null) return;      \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                deleteDir(f);\n            } else {\n                throw new BuildException(\"UNEXPECTED ERROR - The file \" + f.getAbsolutePath() + \" should not exist!\");\n            }\n        }\n        log(\"Deleting directory \" + d.getAbsolutePath(), verbosity);\n        if (!d.delete()) {\n           throw new BuildException(\"Unable to delete directory \" + d.getAbsolutePath());\n       }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/Move.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":172,"status":"MB"}],"commitId":"fd507cf2d23a705cb42d8870b483ee3f65d0bc8f","commitMessage":"@@@Added an includeEmptyDirs attribute to Copy and Move tasks.  The default\naction is to include empty directories in any copy and move action.  It makes\na lot more sense for Move.  and seems reasonable for Copy.\n\nFixed up Move to correctly remove the original directories rather than leave\nthem behind.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@268068 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2000-10-06 19:24:56","modifiedFileCount":"2","status":"M","submitter":"glennm"},{"authorTime":"2002-01-09 06:51:39","codes":[{"authorDate":"2002-01-09 06:51:39","commitOrder":4,"curCode":"    protected boolean okToDelete(File d) {\n        String[] list = d.list();\n        if (list == null) {\n          return false;\n        }     \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                if (!okToDelete(f)) {\n                  return false;\n                }\n            } else {\n                return false;   \r\n            }\n        }\n\n        return true;\n    }\n","date":"2002-01-09 06:51:39","endLine":231,"groupId":"6627","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"okToDelete","params":"(Filed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/f7/488ca6b2d09b26f491ded850af28749f396094.src","preCode":"    protected boolean okToDelete(File d) {\n        String[] list = d.list();\n        if (list == null) return false;     \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                if (!okToDelete(f)) return false;\n            } else {\n                return false;   \r\n            }\n        }\n\n        return true;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/Move.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":212,"status":"M"},{"authorDate":"2002-01-09 06:51:39","commitOrder":4,"curCode":"    protected void deleteDir(File d) {\n        String[] list = d.list();\n        if (list == null) {\n          return;\n        }      \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                deleteDir(f);\n            } else {\n                throw new BuildException(\"UNEXPECTED ERROR - The file \" + f.getAbsolutePath() + \" should not exist!\");\n            }\n        }\n        log(\"Deleting directory \" + d.getAbsolutePath(), verbosity);\n        if (!d.delete()) {\n           throw new BuildException(\"Unable to delete directory \" + d.getAbsolutePath());\n       }\n    }\n","date":"2002-01-09 06:51:39","endLine":255,"groupId":"6896","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"deleteDir","params":"(Filed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/f7/488ca6b2d09b26f491ded850af28749f396094.src","preCode":"    protected void deleteDir(File d) {\n        String[] list = d.list();\n        if (list == null) return;      \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                deleteDir(f);\n            } else {\n                throw new BuildException(\"UNEXPECTED ERROR - The file \" + f.getAbsolutePath() + \" should not exist!\");\n            }\n        }\n        log(\"Deleting directory \" + d.getAbsolutePath(), verbosity);\n        if (!d.delete()) {\n           throw new BuildException(\"Unable to delete directory \" + d.getAbsolutePath());\n       }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/Move.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":236,"status":"M"}],"commitId":"e3b6d1fe768d87352d3d0348638911045fc4668e","commitMessage":"@@@Fix bad coding style.\nthen/else parts of if statement and loop body must always been enclosed\nin a block statement.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@270637 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2002-01-09 06:51:39","modifiedFileCount":"48","status":"M","submitter":"Stephane Bailliez"},{"authorTime":"2004-10-08 00:03:52","codes":[{"authorDate":"2002-01-09 06:51:39","commitOrder":5,"curCode":"    protected boolean okToDelete(File d) {\n        String[] list = d.list();\n        if (list == null) {\n          return false;\n        }     \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                if (!okToDelete(f)) {\n                  return false;\n                }\n            } else {\n                return false;   \r\n            }\n        }\n\n        return true;\n    }\n","date":"2002-01-09 06:51:39","endLine":231,"groupId":"6627","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"okToDelete","params":"(Filed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/f7/488ca6b2d09b26f491ded850af28749f396094.src","preCode":"    protected boolean okToDelete(File d) {\n        String[] list = d.list();\n        if (list == null) {\n          return false;\n        }     \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                if (!okToDelete(f)) {\n                  return false;\n                }\n            } else {\n                return false;   \r\n            }\n        }\n\n        return true;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/Move.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":212,"status":"N"},{"authorDate":"2004-10-08 00:03:52","commitOrder":5,"curCode":"    protected void deleteDir(File d, boolean deleteFiles) {\n        String[] list = d.list();\n        if (list == null) {\n            return;\n        }      \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                deleteDir(f);\n            } else if (deleteFiles && !(f.delete())) {\n                throw new BuildException(\"Unable to delete file \"\n                                         + f.getAbsolutePath());\n            } else {\n                throw new BuildException(\"UNEXPECTED ERROR - The file \"\n                                         + f.getAbsolutePath()\n                                         + \" should not exist!\");\n            }\n        }\n        log(\"Deleting directory \" + d.getAbsolutePath(), verbosity);\n        if (!d.delete()) {\n            throw new BuildException(\"Unable to delete directory \"\n                                     + d.getAbsolutePath());\n        }\n    }\n","date":"2004-10-08 00:03:52","endLine":345,"groupId":"2403","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"deleteDir","params":"(Filed@booleandeleteFiles)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/3f/39004fb1492ce94a7ba3ae03d26f5bff7b22a5.src","preCode":"    protected void deleteDir(File d) {\n        String[] list = d.list();\n        if (list == null) {\n            return;\n        }      \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                deleteDir(f);\n            } else {\n                throw new BuildException(\"UNEXPECTED ERROR - The file \"\n                                         + f.getAbsolutePath()\n                                         + \" should not exist!\");\n            }\n        }\n        log(\"Deleting directory \" + d.getAbsolutePath(), verbosity);\n        if (!d.delete()) {\n            throw new BuildException(\"Unable to delete directory \"\n                                     + d.getAbsolutePath());\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/Move.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":320,"status":"M"}],"commitId":"a5a1cf23953be08f91c28840a830e295eb7b171c","commitMessage":"@@@Restore <move>'s ability to replace existing files and/or write\ninto existing directories.\nPR: 31031\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@276925 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2004-10-08 00:03:52","modifiedFileCount":"3","status":"M","submitter":"Matthew Jason Benson"},{"authorTime":"2011-09-29 21:52:19","codes":[{"authorDate":"2002-01-09 06:51:39","commitOrder":6,"curCode":"    protected boolean okToDelete(File d) {\n        String[] list = d.list();\n        if (list == null) {\n          return false;\n        }     \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                if (!okToDelete(f)) {\n                  return false;\n                }\n            } else {\n                return false;   \r\n            }\n        }\n\n        return true;\n    }\n","date":"2002-01-09 06:51:39","endLine":231,"groupId":"6627","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"okToDelete","params":"(Filed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/f7/488ca6b2d09b26f491ded850af28749f396094.src","preCode":"    protected boolean okToDelete(File d) {\n        String[] list = d.list();\n        if (list == null) {\n          return false;\n        }     \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                if (!okToDelete(f)) {\n                  return false;\n                }\n            } else {\n                return false;   \r\n            }\n        }\n\n        return true;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/Move.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":212,"status":"N"},{"authorDate":"2011-09-29 21:52:19","commitOrder":6,"curCode":"    protected void deleteDir(File d, boolean deleteFiles) {\n        String[] list = d.list();\n        if (list == null) {\n            return;\n        }      \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                deleteDir(f);\n            } else if (deleteFiles && !getFileUtils().tryHardToDelete(f,\n                                                                      performGc)) {\n                throw new BuildException(\"Unable to delete file \" + f.getAbsolutePath());\n            } else {\n                throw new BuildException(\"UNEXPECTED ERROR - The file \"\n                        + f.getAbsolutePath() + \" should not exist!\");\n            }\n        }\n        log(\"Deleting directory \" + d.getAbsolutePath(), verbosity);\n        if (!getFileUtils().tryHardToDelete(d, performGc)) {\n            throw new BuildException(\"Unable to delete directory \" + d.getAbsolutePath());\n        }\n    }\n","date":"2011-09-29 21:52:19","endLine":324,"groupId":"2403","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"deleteDir","params":"(Filed@booleandeleteFiles)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/99/404b920f98d30b82e3e0645ea0d3197db0292e.src","preCode":"    protected void deleteDir(File d, boolean deleteFiles) {\n        String[] list = d.list();\n        if (list == null) {\n            return;\n        }      \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                deleteDir(f);\n            } else if (deleteFiles && !(f.delete())) {\n                throw new BuildException(\"Unable to delete file \" + f.getAbsolutePath());\n            } else {\n                throw new BuildException(\"UNEXPECTED ERROR - The file \"\n                        + f.getAbsolutePath() + \" should not exist!\");\n            }\n        }\n        log(\"Deleting directory \" + d.getAbsolutePath(), verbosity);\n        if (!d.delete()) {\n            throw new BuildException(\"Unable to delete directory \" + d.getAbsolutePath());\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/Move.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":301,"status":"M"}],"commitId":"cba6d868a87e2a4cd4406345201de39dcabcd3fd","commitMessage":"@@@Make <move> use tryHardToDelete under the covers\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@1177307 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2011-09-29 21:52:19","modifiedFileCount":"1","status":"M","submitter":"Stefan Bodewig"},{"authorTime":"2017-04-13 23:15:22","codes":[{"authorDate":"2017-04-13 23:15:22","commitOrder":7,"curCode":"    protected boolean okToDelete(File d) {\n        String[] list = d.list();\n        if (list == null) {\n            return false;\n        }     \r\n\n        for (String s : list) {\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                if (!okToDelete(f)) {\n                    return false;\n                }\n            } else {\n                return false;   \r\n            }\n        }\n        return true;\n    }\n","date":"2017-04-13 23:15:22","endLine":278,"groupId":"10505","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"okToDelete","params":"(Filed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/47/d40e06ba84dfc643899ecc24d7fe79a736972a.src","preCode":"    protected boolean okToDelete(File d) {\n        String[] list = d.list();\n        if (list == null) {\n            return false;\n        }     \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                if (!okToDelete(f)) {\n                    return false;\n                }\n            } else {\n                return false;   \r\n            }\n        }\n        return true;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/Move.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":261,"status":"M"},{"authorDate":"2017-04-13 23:15:22","commitOrder":7,"curCode":"    protected void deleteDir(File d, boolean deleteFiles) {\n        String[] list = d.list();\n        if (list == null) {\n            return;\n        }      \r\n\n        for (String s : list) {\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                deleteDir(f);\n            } else if (deleteFiles\n                && !getFileUtils().tryHardToDelete(f, performGc)) {\n                throw new BuildException(\"Unable to delete file %s\",\n                    f.getAbsolutePath());\n            } else {\n                throw new BuildException(\n                    \"UNEXPECTED ERROR - The file %s should not exist!\",\n                    f.getAbsolutePath());\n            }\n        }\n        log(\"Deleting directory \" + d.getAbsolutePath(), verbosity);\n        if (!getFileUtils().tryHardToDelete(d, performGc)) {\n            throw new BuildException(\"Unable to delete directory %s\",\n                d.getAbsolutePath());\n        }\n    }\n","date":"2017-04-13 23:15:22","endLine":318,"groupId":"10505","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"deleteDir","params":"(Filed@booleandeleteFiles)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/47/d40e06ba84dfc643899ecc24d7fe79a736972a.src","preCode":"    protected void deleteDir(File d, boolean deleteFiles) {\n        String[] list = d.list();\n        if (list == null) {\n            return;\n        }      \r\n\n        for (int i = 0; i < list.length; i++) {\n            String s = list[i];\n            File f = new File(d, s);\n            if (f.isDirectory()) {\n                deleteDir(f);\n            } else if (deleteFiles && !getFileUtils().tryHardToDelete(f,\n                                                                      performGc)) {\n                throw new BuildException(\"Unable to delete file \" + f.getAbsolutePath());\n            } else {\n                throw new BuildException(\"UNEXPECTED ERROR - The file \"\n                        + f.getAbsolutePath() + \" should not exist!\");\n            }\n        }\n        log(\"Deleting directory \" + d.getAbsolutePath(), verbosity);\n        if (!getFileUtils().tryHardToDelete(d, performGc)) {\n            throw new BuildException(\"Unable to delete directory \" + d.getAbsolutePath());\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/Move.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":293,"status":"M"}],"commitId":"b7d1e9bde44cb8e5233d6e70bb96e14cbb2f3e2d","commitMessage":"@@@java 5-8\n","date":"2017-04-13 23:15:22","modifiedFileCount":"609","status":"M","submitter":"Matt Benson"}]
