[{"authorTime":"2001-01-25 22:39:17","codes":[{"authorDate":"2001-02-05 18:45:55","commitOrder":9,"curCode":"    protected void addVendorFiles(Hashtable ejbFiles, String baseName) {\n        super.addVendorFiles(ejbFiles, baseName);\n        \r\n\n        \r\n\n\n        File toplinkDD = null;\n        if (usingBaseJarName()) {\n            toplinkDD = new File(getConfig().descriptorDir, toplinkDescriptor);\n        }\n        else {\n            String ddPrefix = baseName + getConfig().baseNameTerminator;\n            File actualDir = (new File(getConfig().descriptorDir, ddPrefix)).getParentFile();\n            toplinkDD = new File(actualDir, toplinkDescriptor);\n        }\n        \n        if (toplinkDD.exists()) {\n            ejbFiles.put(META_DIR + toplinkDescriptor,\n                         toplinkDD);\n        }\n        else {\n            log(\"Unable to locate toplink deployment descriptor. It was expected to be in \" + \n                toplinkDD.getPath(), Project.MSG_WARN);\n        }                \n    }\n","date":"2001-02-05 18:45:55","endLine":130,"groupId":"781","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"addVendorFiles","params":"(HashtableejbFiles@StringbaseName)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/02/aa7dd6666933d55ca65d6101ec649b34a3f479.src","preCode":"    protected void addVendorFiles(Hashtable ejbFiles, String baseName) {\n        super.addVendorFiles(ejbFiles, baseName);\n        \r\n\n        \r\n\n\n        File toplinkDD = null;\n        if (usingBaseJarName()) {\n            toplinkDD = new File(getConfig().descriptorDir, toplinkDescriptor);\n        }\n        else {\n            String ddPrefix = baseName + getConfig().baseNameTerminator;\n            File actualDir = (new File(getConfig().descriptorDir, ddPrefix)).getParentFile();\n            toplinkDD = new File(actualDir, toplinkDescriptor);\n        }\n        \n        if (toplinkDD.exists()) {\n            ejbFiles.put(META_DIR + toplinkDescriptor,\n                         toplinkDD);\n        }\n        else {\n            log(\"Unable to locate toplink deployment descriptor. It was expected to be in \" + \n                toplinkDD.getPath(), Project.MSG_WARN);\n        }                \n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicTOPLinkDeploymentTool.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":105,"status":"B"},{"authorDate":"2001-01-25 22:39:17","commitOrder":9,"curCode":"    protected void addVendorFiles(Hashtable ejbFiles, String baseName) {\n        String ddPrefix = (usingBaseJarName() ? \"\" : baseName + getConfig().baseNameTerminator);\n\n        File weblogicDD = new File(getConfig().descriptorDir, ddPrefix + WL_DD);\n\n        if (weblogicDD.exists()) {\n            ejbFiles.put(META_DIR + WL_DD,\n                         weblogicDD);\n        }\n        else {\n            log(\"Unable to locate weblogic deployment descriptor. It was expected to be in \" + \n                weblogicDD.getPath(), Project.MSG_WARN);\n            return;\n        }\n\n        if (oldCMP) {\n            log(\"The old method for locating CMP files has been DEPRECATED.\", Project.MSG_VERBOSE);\n            log(\"Please adjust your weblogic descriptor and set oldCMP=\\\"false\\\" \" +\n                \"to use the new CMP descriptor inclusion mechanism. \", Project.MSG_VERBOSE);\n            \r\n            File weblogicCMPDD = new File(getConfig().descriptorDir, ddPrefix + WL_CMP_DD);\n                \n            if (weblogicCMPDD.exists()) {\n                ejbFiles.put(META_DIR + WL_CMP_DD,\n                             weblogicCMPDD);\n            }\n        }\n        else {\n            \r\n            \r\n            \r\n            \r\n            try\n            {\n                File ejbDescriptor = (File)ejbFiles.get(META_DIR + EJB_DD);\n                SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\n                saxParserFactory.setValidating(true);\n                SAXParser saxParser = saxParserFactory.newSAXParser();\n                DescriptorHandler handler = getWeblogicDescriptorHandler(ejbDescriptor.getParentFile());\n                saxParser.parse(new InputSource\n                                (new FileInputStream\n                                (weblogicDD)),\n                                handler);\n                                \n                Hashtable ht = handler.getFiles();\n                Enumeration e = ht.keys();\n                while(e.hasMoreElements()){\n                    String key = (String)e.nextElement();\n                    ejbFiles.put(key, ht.get(key));\n                }\n            }\n            catch(Exception e)\n            { \n                String msg = \"Exception while adding Vendor specific files: \" + e.toString();\n                throw new BuildException(msg, e);\n            }\n        }\n    }\n","date":"2001-01-25 22:39:17","endLine":322,"groupId":"5224","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"addVendorFiles","params":"(HashtableejbFiles@StringbaseName)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/2c/7911f3d99bb6a4b490bea7aa837d745875f1e5.src","preCode":"    protected void addVendorFiles(Hashtable ejbFiles, String baseName) {\n        String ddPrefix = (usingBaseJarName() ? \"\" : baseName + getConfig().baseNameTerminator);\n\n        File weblogicDD = new File(getConfig().descriptorDir, ddPrefix + WL_DD);\n\n        if (weblogicDD.exists()) {\n            ejbFiles.put(META_DIR + WL_DD,\n                         weblogicDD);\n        }\n        else {\n            log(\"Unable to locate weblogic deployment descriptor. It was expected to be in \" + \n                weblogicDD.getPath(), Project.MSG_WARN);\n            return;\n        }\n\n        if (oldCMP) {\n            log(\"The old method for locating CMP files has been DEPRECATED.\", Project.MSG_VERBOSE);\n            log(\"Please adjust your weblogic descriptor and set oldCMP=\\\"false\\\" \" +\n                \"to use the new CMP descriptor inclusion mechanism. \", Project.MSG_VERBOSE);\n            \r\n            File weblogicCMPDD = new File(getConfig().descriptorDir, ddPrefix + WL_CMP_DD);\n                \n            if (weblogicCMPDD.exists()) {\n                ejbFiles.put(META_DIR + WL_CMP_DD,\n                             weblogicCMPDD);\n            }\n        }\n        else {\n            \r\n            \r\n            \r\n            \r\n            try\n            {\n                File ejbDescriptor = (File)ejbFiles.get(META_DIR + EJB_DD);\n                SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\n                saxParserFactory.setValidating(true);\n                SAXParser saxParser = saxParserFactory.newSAXParser();\n                DescriptorHandler handler = getWeblogicDescriptorHandler(ejbDescriptor.getParentFile());\n                saxParser.parse(new InputSource\n                                (new FileInputStream\n                                (weblogicDD)),\n                                handler);\n                                \n                Hashtable ht = handler.getFiles();\n                Enumeration e = ht.keys();\n                while(e.hasMoreElements()){\n                    String key = (String)e.nextElement();\n                    ejbFiles.put(key, ht.get(key));\n                }\n            }\n            catch(Exception e)\n            { \n                String msg = \"Exception while adding Vendor specific files: \" + e.toString();\n                throw new BuildException(msg, e);\n            }\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicDeploymentTool.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":265,"status":"NB"}],"commitId":"614d36db8a2d97939574dc278afb7afe95b6e6c4","commitMessage":"@@@Fix up the location where the toplink element looks for descriptors.\n\nThanks to much persistence by Cyril Bouteille <CyrilBouteille@yahoo.com>\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@268583 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2001-02-05 18:45:55","modifiedFileCount":"1","status":"M","submitter":"Conor MacNeill"},{"authorTime":"2001-02-13 20:32:01","codes":[{"authorDate":"2001-02-05 18:45:55","commitOrder":10,"curCode":"    protected void addVendorFiles(Hashtable ejbFiles, String baseName) {\n        super.addVendorFiles(ejbFiles, baseName);\n        \r\n\n        \r\n\n\n        File toplinkDD = null;\n        if (usingBaseJarName()) {\n            toplinkDD = new File(getConfig().descriptorDir, toplinkDescriptor);\n        }\n        else {\n            String ddPrefix = baseName + getConfig().baseNameTerminator;\n            File actualDir = (new File(getConfig().descriptorDir, ddPrefix)).getParentFile();\n            toplinkDD = new File(actualDir, toplinkDescriptor);\n        }\n        \n        if (toplinkDD.exists()) {\n            ejbFiles.put(META_DIR + toplinkDescriptor,\n                         toplinkDD);\n        }\n        else {\n            log(\"Unable to locate toplink deployment descriptor. It was expected to be in \" + \n                toplinkDD.getPath(), Project.MSG_WARN);\n        }                \n    }\n","date":"2001-02-05 18:45:55","endLine":130,"groupId":"781","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"addVendorFiles","params":"(HashtableejbFiles@StringbaseName)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/02/aa7dd6666933d55ca65d6101ec649b34a3f479.src","preCode":"    protected void addVendorFiles(Hashtable ejbFiles, String baseName) {\n        super.addVendorFiles(ejbFiles, baseName);\n        \r\n\n        \r\n\n\n        File toplinkDD = null;\n        if (usingBaseJarName()) {\n            toplinkDD = new File(getConfig().descriptorDir, toplinkDescriptor);\n        }\n        else {\n            String ddPrefix = baseName + getConfig().baseNameTerminator;\n            File actualDir = (new File(getConfig().descriptorDir, ddPrefix)).getParentFile();\n            toplinkDD = new File(actualDir, toplinkDescriptor);\n        }\n        \n        if (toplinkDD.exists()) {\n            ejbFiles.put(META_DIR + toplinkDescriptor,\n                         toplinkDD);\n        }\n        else {\n            log(\"Unable to locate toplink deployment descriptor. It was expected to be in \" + \n                toplinkDD.getPath(), Project.MSG_WARN);\n        }                \n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicTOPLinkDeploymentTool.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":105,"status":"N"},{"authorDate":"2001-02-13 20:32:01","commitOrder":10,"curCode":"    protected void addVendorFiles(Hashtable ejbFiles, String baseName) {\n        String ddPrefix = (usingBaseJarName() ? \"\" : baseName + getConfig().baseNameTerminator);\n\n        File weblogicDD = new File(getConfig().descriptorDir, ddPrefix + WL_DD);\n\n        if (weblogicDD.exists()) {\n            ejbFiles.put(META_DIR + WL_DD,\n                         weblogicDD);\n        }\n        else {\n            log(\"Unable to locate weblogic deployment descriptor. It was expected to be in \" + \n                weblogicDD.getPath(), Project.MSG_WARN);\n            return;\n        }\n\n        if (!newCMP) {\n            log(\"The old method for locating CMP files has been DEPRECATED.\", Project.MSG_VERBOSE);\n            log(\"Please adjust your weblogic descriptor and set newCMP=\\\"true\\\" \" +\n                \"to use the new CMP descriptor inclusion mechanism. \", Project.MSG_VERBOSE);\n            \r\n            File weblogicCMPDD = new File(getConfig().descriptorDir, ddPrefix + WL_CMP_DD);\n                \n            if (weblogicCMPDD.exists()) {\n                ejbFiles.put(META_DIR + WL_CMP_DD,\n                             weblogicCMPDD);\n            }\n        }\n        else {\n            \r\n            \r\n            \r\n            \r\n            try\n            {\n                File ejbDescriptor = (File)ejbFiles.get(META_DIR + EJB_DD);\n                SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\n                saxParserFactory.setValidating(true);\n                SAXParser saxParser = saxParserFactory.newSAXParser();\n                DescriptorHandler handler = getWeblogicDescriptorHandler(ejbDescriptor.getParentFile());\n                saxParser.parse(new InputSource\n                                (new FileInputStream\n                                (weblogicDD)),\n                                handler);\n                                \n                Hashtable ht = handler.getFiles();\n                Enumeration e = ht.keys();\n                while(e.hasMoreElements()){\n                    String key = (String)e.nextElement();\n                    ejbFiles.put(key, ht.get(key));\n                }\n            }\n            catch(Exception e)\n            { \n                String msg = \"Exception while adding Vendor specific files: \" + e.toString();\n                throw new BuildException(msg, e);\n            }\n        }\n    }\n","date":"2001-02-13 20:32:01","endLine":339,"groupId":"5224","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"addVendorFiles","params":"(HashtableejbFiles@StringbaseName)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/81/abf204c360b0311afacf9b1de2dca86ab51475.src","preCode":"    protected void addVendorFiles(Hashtable ejbFiles, String baseName) {\n        String ddPrefix = (usingBaseJarName() ? \"\" : baseName + getConfig().baseNameTerminator);\n\n        File weblogicDD = new File(getConfig().descriptorDir, ddPrefix + WL_DD);\n\n        if (weblogicDD.exists()) {\n            ejbFiles.put(META_DIR + WL_DD,\n                         weblogicDD);\n        }\n        else {\n            log(\"Unable to locate weblogic deployment descriptor. It was expected to be in \" + \n                weblogicDD.getPath(), Project.MSG_WARN);\n            return;\n        }\n\n        if (oldCMP) {\n            log(\"The old method for locating CMP files has been DEPRECATED.\", Project.MSG_VERBOSE);\n            log(\"Please adjust your weblogic descriptor and set oldCMP=\\\"false\\\" \" +\n                \"to use the new CMP descriptor inclusion mechanism. \", Project.MSG_VERBOSE);\n            \r\n            File weblogicCMPDD = new File(getConfig().descriptorDir, ddPrefix + WL_CMP_DD);\n                \n            if (weblogicCMPDD.exists()) {\n                ejbFiles.put(META_DIR + WL_CMP_DD,\n                             weblogicCMPDD);\n            }\n        }\n        else {\n            \r\n            \r\n            \r\n            \r\n            try\n            {\n                File ejbDescriptor = (File)ejbFiles.get(META_DIR + EJB_DD);\n                SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\n                saxParserFactory.setValidating(true);\n                SAXParser saxParser = saxParserFactory.newSAXParser();\n                DescriptorHandler handler = getWeblogicDescriptorHandler(ejbDescriptor.getParentFile());\n                saxParser.parse(new InputSource\n                                (new FileInputStream\n                                (weblogicDD)),\n                                handler);\n                                \n                Hashtable ht = handler.getFiles();\n                Enumeration e = ht.keys();\n                while(e.hasMoreElements()){\n                    String key = (String)e.nextElement();\n                    ejbFiles.put(key, ht.get(key));\n                }\n            }\n            catch(Exception e)\n            { \n                String msg = \"Exception while adding Vendor specific files: \" + e.toString();\n                throw new BuildException(msg, e);\n            }\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicDeploymentTool.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":282,"status":"M"}],"commitId":"5337488612953eb072e38cb99e6b5d60999297da","commitMessage":"@@@Merge of 1.3 branch changes into the main branch\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@268652 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2001-02-13 20:32:01","modifiedFileCount":"16","status":"M","submitter":"Conor MacNeill"},{"authorTime":"2001-06-24 21:26:53","codes":[{"authorDate":"2001-06-24 21:26:53","commitOrder":11,"curCode":"    protected void addVendorFiles(Hashtable ejbFiles, String baseName, String descriptorFileName) {\n        super.addVendorFiles(ejbFiles, baseName, descriptorFileName);\n        \r\n\n        \r\n\n\n        File toplinkDD = null;\n        if (usingBaseJarName()) {\n            toplinkDD = new File(getConfig().descriptorDir, toplinkDescriptor);\n        }\n        else {\n            String ddPrefix = baseName + getConfig().baseNameTerminator;\n            File actualDir = (new File(getConfig().descriptorDir, ddPrefix)).getParentFile();\n            toplinkDD = new File(actualDir, toplinkDescriptor);\n        }\n        \n        if (toplinkDD.exists()) {\n            ejbFiles.put(META_DIR + toplinkDescriptor,\n                         toplinkDD);\n        }\n        else {\n            log(\"Unable to locate toplink deployment descriptor. It was expected to be in \" + \n                toplinkDD.getPath(), Project.MSG_WARN);\n        }                \n    }\n","date":"2001-06-24 21:26:53","endLine":130,"groupId":"781","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"addVendorFiles","params":"(HashtableejbFiles@StringbaseName@StringdescriptorFileName)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/e6/5e6a03dffc68206dad168dd34dd931dc1253c6.src","preCode":"    protected void addVendorFiles(Hashtable ejbFiles, String baseName) {\n        super.addVendorFiles(ejbFiles, baseName);\n        \r\n\n        \r\n\n\n        File toplinkDD = null;\n        if (usingBaseJarName()) {\n            toplinkDD = new File(getConfig().descriptorDir, toplinkDescriptor);\n        }\n        else {\n            String ddPrefix = baseName + getConfig().baseNameTerminator;\n            File actualDir = (new File(getConfig().descriptorDir, ddPrefix)).getParentFile();\n            toplinkDD = new File(actualDir, toplinkDescriptor);\n        }\n        \n        if (toplinkDD.exists()) {\n            ejbFiles.put(META_DIR + toplinkDescriptor,\n                         toplinkDD);\n        }\n        else {\n            log(\"Unable to locate toplink deployment descriptor. It was expected to be in \" + \n                toplinkDD.getPath(), Project.MSG_WARN);\n        }                \n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicTOPLinkDeploymentTool.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":105,"status":"M"},{"authorDate":"2001-06-24 21:26:53","commitOrder":11,"curCode":"    protected void addVendorFiles(Hashtable ejbFiles, String baseName, String descriptorFileName) {\n        String ddPrefix = null;\n        if (!usingBaseJarName()) {\n            ddPrefix = baseName + getConfig().baseNameTerminator;\n        }\n        else {\n            String canonicalDescriptor = descriptorFileName.replace('\\\\', '/');\n            int index = canonicalDescriptor.lastIndexOf('/');\n            if (index == -1) {\n                ddPrefix = \"\";\n            }\n            else {\n                ddPrefix = descriptorFileName.substring(0, index + 1);\n            }\n        }\n        File weblogicDD = new File(getConfig().descriptorDir, ddPrefix + WL_DD);\n\n        if (weblogicDD.exists()) {\n            ejbFiles.put(META_DIR + WL_DD,\n                         weblogicDD);\n        }\n        else {\n            log(\"Unable to locate weblogic deployment descriptor. It was expected to be in \" + \n                weblogicDD.getPath(), Project.MSG_WARN);\n            return;\n        }\n\n        if (!newCMP) {\n            log(\"The old method for locating CMP files has been DEPRECATED.\", Project.MSG_VERBOSE);\n            log(\"Please adjust your weblogic descriptor and set newCMP=\\\"true\\\" \" +\n                \"to use the new CMP descriptor inclusion mechanism. \", Project.MSG_VERBOSE);\n            \r\n            File weblogicCMPDD = new File(getConfig().descriptorDir, ddPrefix + WL_CMP_DD);\n                \n            if (weblogicCMPDD.exists()) {\n                ejbFiles.put(META_DIR + WL_CMP_DD,\n                             weblogicCMPDD);\n            }\n        }\n        else {\n            \r\n            \r\n            \r\n            \r\n            try\n            {\n                File ejbDescriptor = (File)ejbFiles.get(META_DIR + EJB_DD);\n                SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\n                saxParserFactory.setValidating(true);\n                SAXParser saxParser = saxParserFactory.newSAXParser();\n                DescriptorHandler handler = getWeblogicDescriptorHandler(ejbDescriptor.getParentFile());\n                saxParser.parse(new InputSource\n                                (new FileInputStream\n                                (weblogicDD)),\n                                handler);\n                                \n                Hashtable ht = handler.getFiles();\n                Enumeration e = ht.keys();\n                while(e.hasMoreElements()){\n                    String key = (String)e.nextElement();\n                    ejbFiles.put(key, ht.get(key));\n                }\n            }\n            catch(Exception e)\n            { \n                String msg = \"Exception while adding Vendor specific files: \" + e.toString();\n                throw new BuildException(msg, e);\n            }\n        }\n    }\n","date":"2001-06-24 21:26:53","endLine":369,"groupId":"5224","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"addVendorFiles","params":"(HashtableejbFiles@StringbaseName@StringdescriptorFileName)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/6d/508d387108e67dda4dcd821166f53539a8449c.src","preCode":"    protected void addVendorFiles(Hashtable ejbFiles, String baseName) {\n        String ddPrefix = (usingBaseJarName() ? \"\" : baseName + getConfig().baseNameTerminator);\n\n        File weblogicDD = new File(getConfig().descriptorDir, ddPrefix + WL_DD);\n\n        if (weblogicDD.exists()) {\n            ejbFiles.put(META_DIR + WL_DD,\n                         weblogicDD);\n        }\n        else {\n            log(\"Unable to locate weblogic deployment descriptor. It was expected to be in \" + \n                weblogicDD.getPath(), Project.MSG_WARN);\n            return;\n        }\n\n        if (!newCMP) {\n            log(\"The old method for locating CMP files has been DEPRECATED.\", Project.MSG_VERBOSE);\n            log(\"Please adjust your weblogic descriptor and set newCMP=\\\"true\\\" \" +\n                \"to use the new CMP descriptor inclusion mechanism. \", Project.MSG_VERBOSE);\n            \r\n            File weblogicCMPDD = new File(getConfig().descriptorDir, ddPrefix + WL_CMP_DD);\n                \n            if (weblogicCMPDD.exists()) {\n                ejbFiles.put(META_DIR + WL_CMP_DD,\n                             weblogicCMPDD);\n            }\n        }\n        else {\n            \r\n            \r\n            \r\n            \r\n            try\n            {\n                File ejbDescriptor = (File)ejbFiles.get(META_DIR + EJB_DD);\n                SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\n                saxParserFactory.setValidating(true);\n                SAXParser saxParser = saxParserFactory.newSAXParser();\n                DescriptorHandler handler = getWeblogicDescriptorHandler(ejbDescriptor.getParentFile());\n                saxParser.parse(new InputSource\n                                (new FileInputStream\n                                (weblogicDD)),\n                                handler);\n                                \n                Hashtable ht = handler.getFiles();\n                Enumeration e = ht.keys();\n                while(e.hasMoreElements()){\n                    String key = (String)e.nextElement();\n                    ejbFiles.put(key, ht.get(key));\n                }\n            }\n            catch(Exception e)\n            { \n                String msg = \"Exception while adding Vendor specific files: \" + e.toString();\n                throw new BuildException(msg, e);\n            }\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicDeploymentTool.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":300,"status":"M"}],"commitId":"ae030e51f42c55320ca562382941a157988b2b63","commitMessage":"@@@First steps on reforming the ejbjar naming conventions. This installment\nmake the basejarname attribute actually do something useful\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@269221 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2001-06-24 21:26:53","modifiedFileCount":"8","status":"M","submitter":"Conor MacNeill"},{"authorTime":"2001-06-25 23:17:37","codes":[{"authorDate":"2001-06-25 23:17:37","commitOrder":12,"curCode":"    protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix) {\n        super.addVendorFiles(ejbFiles, ddPrefix);\n        \r\n\n        \r\n\n\n        File toplinkDD = new File(getConfig().descriptorDir, ddPrefix + toplinkDescriptor);\n        \n        if (toplinkDD.exists()) {\n            ejbFiles.put(META_DIR + toplinkDescriptor,\n                         toplinkDD);\n        }\n        else {\n            log(\"Unable to locate toplink deployment descriptor. It was expected to be in \" + \n                toplinkDD.getPath(), Project.MSG_WARN);\n        }                \n    }\n","date":"2001-06-25 23:17:37","endLine":122,"groupId":"6692","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"addVendorFiles","params":"(HashtableejbFiles@StringddPrefix)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/6e/1e44aafd667bf70c536b49433d694bd891883a.src","preCode":"    protected void addVendorFiles(Hashtable ejbFiles, String baseName, String descriptorFileName) {\n        super.addVendorFiles(ejbFiles, baseName, descriptorFileName);\n        \r\n\n        \r\n\n\n        File toplinkDD = null;\n        if (usingBaseJarName()) {\n            toplinkDD = new File(getConfig().descriptorDir, toplinkDescriptor);\n        }\n        else {\n            String ddPrefix = baseName + getConfig().baseNameTerminator;\n            File actualDir = (new File(getConfig().descriptorDir, ddPrefix)).getParentFile();\n            toplinkDD = new File(actualDir, toplinkDescriptor);\n        }\n        \n        if (toplinkDD.exists()) {\n            ejbFiles.put(META_DIR + toplinkDescriptor,\n                         toplinkDD);\n        }\n        else {\n            log(\"Unable to locate toplink deployment descriptor. It was expected to be in \" + \n                toplinkDD.getPath(), Project.MSG_WARN);\n        }                \n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicTOPLinkDeploymentTool.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":105,"status":"M"},{"authorDate":"2001-06-25 23:17:37","commitOrder":12,"curCode":"    protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix) {\n        File weblogicDD = new File(getConfig().descriptorDir, ddPrefix + WL_DD);\n\n        if (weblogicDD.exists()) {\n            ejbFiles.put(META_DIR + WL_DD,\n                         weblogicDD);\n        }\n        else {\n            log(\"Unable to locate weblogic deployment descriptor. It was expected to be in \" + \n                weblogicDD.getPath(), Project.MSG_WARN);\n            return;\n        }\n\n        if (!newCMP) {\n            log(\"The old method for locating CMP files has been DEPRECATED.\", Project.MSG_VERBOSE);\n            log(\"Please adjust your weblogic descriptor and set newCMP=\\\"true\\\" \" +\n                \"to use the new CMP descriptor inclusion mechanism. \", Project.MSG_VERBOSE);\n            \r\n            File weblogicCMPDD = new File(getConfig().descriptorDir, ddPrefix + WL_CMP_DD);\n                \n            if (weblogicCMPDD.exists()) {\n                ejbFiles.put(META_DIR + WL_CMP_DD,\n                             weblogicCMPDD);\n            }\n        }\n        else {\n            \r\n            \r\n            \r\n            \r\n            try\n            {\n                File ejbDescriptor = (File)ejbFiles.get(META_DIR + EJB_DD);\n                SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\n                saxParserFactory.setValidating(true);\n                SAXParser saxParser = saxParserFactory.newSAXParser();\n                DescriptorHandler handler = getWeblogicDescriptorHandler(ejbDescriptor.getParentFile());\n                saxParser.parse(new InputSource\n                                (new FileInputStream\n                                (weblogicDD)),\n                                handler);\n                                \n                Hashtable ht = handler.getFiles();\n                Enumeration e = ht.keys();\n                while(e.hasMoreElements()){\n                    String key = (String)e.nextElement();\n                    ejbFiles.put(key, ht.get(key));\n                }\n            }\n            catch(Exception e)\n            { \n                String msg = \"Exception while adding Vendor specific files: \" + e.toString();\n                throw new BuildException(msg, e);\n            }\n        }\n    }\n","date":"2001-06-25 23:17:37","endLine":355,"groupId":"5224","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"addVendorFiles","params":"(HashtableejbFiles@StringddPrefix)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/59/ec06c10c50927bc79ee546dcd9bb91c8abae77.src","preCode":"    protected void addVendorFiles(Hashtable ejbFiles, String baseName, String descriptorFileName) {\n        String ddPrefix = null;\n        if (!usingBaseJarName()) {\n            ddPrefix = baseName + getConfig().baseNameTerminator;\n        }\n        else {\n            String canonicalDescriptor = descriptorFileName.replace('\\\\', '/');\n            int index = canonicalDescriptor.lastIndexOf('/');\n            if (index == -1) {\n                ddPrefix = \"\";\n            }\n            else {\n                ddPrefix = descriptorFileName.substring(0, index + 1);\n            }\n        }\n        File weblogicDD = new File(getConfig().descriptorDir, ddPrefix + WL_DD);\n\n        if (weblogicDD.exists()) {\n            ejbFiles.put(META_DIR + WL_DD,\n                         weblogicDD);\n        }\n        else {\n            log(\"Unable to locate weblogic deployment descriptor. It was expected to be in \" + \n                weblogicDD.getPath(), Project.MSG_WARN);\n            return;\n        }\n\n        if (!newCMP) {\n            log(\"The old method for locating CMP files has been DEPRECATED.\", Project.MSG_VERBOSE);\n            log(\"Please adjust your weblogic descriptor and set newCMP=\\\"true\\\" \" +\n                \"to use the new CMP descriptor inclusion mechanism. \", Project.MSG_VERBOSE);\n            \r\n            File weblogicCMPDD = new File(getConfig().descriptorDir, ddPrefix + WL_CMP_DD);\n                \n            if (weblogicCMPDD.exists()) {\n                ejbFiles.put(META_DIR + WL_CMP_DD,\n                             weblogicCMPDD);\n            }\n        }\n        else {\n            \r\n            \r\n            \r\n            \r\n            try\n            {\n                File ejbDescriptor = (File)ejbFiles.get(META_DIR + EJB_DD);\n                SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\n                saxParserFactory.setValidating(true);\n                SAXParser saxParser = saxParserFactory.newSAXParser();\n                DescriptorHandler handler = getWeblogicDescriptorHandler(ejbDescriptor.getParentFile());\n                saxParser.parse(new InputSource\n                                (new FileInputStream\n                                (weblogicDD)),\n                                handler);\n                                \n                Hashtable ht = handler.getFiles();\n                Enumeration e = ht.keys();\n                while(e.hasMoreElements()){\n                    String key = (String)e.nextElement();\n                    ejbFiles.put(key, ht.get(key));\n                }\n            }\n            catch(Exception e)\n            { \n                String msg = \"Exception while adding Vendor specific files: \" + e.toString();\n                throw new BuildException(msg, e);\n            }\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicDeploymentTool.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":300,"status":"M"}],"commitId":"0b31d6f97a5e41f33dabeda8daae2e13194c1bb5","commitMessage":"@@@2nd Installment of the ejb-jar naming convention changes. This\nintroduces a namign attribnute which can take one of four values\nejb-name - use the ejb-name in the deployment descriptor to name the jar\ndescriptor - name the jar based on the name of the deployment descriptor file\nbasejarname - name the jars based on the given basejarname attribute\ndirectory - the directory containing the deployment descriptor is used\n\nejb-name handling based on code submitted by Trevor Stewart <TREVORSTEWART@UP.COM>\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@269224 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2001-06-25 23:17:37","modifiedFileCount":"8","status":"M","submitter":"Conor MacNeill"},{"authorTime":"2003-07-19 16:11:10","codes":[{"authorDate":"2003-07-19 16:11:10","commitOrder":13,"curCode":"    protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix) {\n        super.addVendorFiles(ejbFiles, ddPrefix);\n        \r\n\n        \r\n\n\n        File toplinkDD = new File(getConfig().descriptorDir, ddPrefix + toplinkDescriptor);\n\n        if (toplinkDD.exists()) {\n            ejbFiles.put(META_DIR + toplinkDescriptor,\n                         toplinkDD);\n        } else {\n            log(\"Unable to locate toplink deployment descriptor. \"\n                + \"It was expected to be in \"\n                + toplinkDD.getPath(), Project.MSG_WARN);\n        }\n    }\n","date":"2003-07-19 16:11:10","endLine":121,"groupId":"6692","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"addVendorFiles","params":"(HashtableejbFiles@StringddPrefix)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/33/2df0a16d4cd1e98e7869a6ff80870e9d838108.src","preCode":"    protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix) {\n        super.addVendorFiles(ejbFiles, ddPrefix);\n        \r\n\n        \r\n\n\n        File toplinkDD = new File(getConfig().descriptorDir, ddPrefix + toplinkDescriptor);\n\n        if (toplinkDD.exists()) {\n            ejbFiles.put(META_DIR + toplinkDescriptor,\n                         toplinkDD);\n        } else {\n            log(\"Unable to locate toplink deployment descriptor. It was expected to be in \" +\n                toplinkDD.getPath(), Project.MSG_WARN);\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicTOPLinkDeploymentTool.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":104,"status":"M"},{"authorDate":"2003-07-19 16:11:10","commitOrder":13,"curCode":"    protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix) {\n        File weblogicDD = new File(getConfig().descriptorDir, ddPrefix + WL_DD);\n\n        if (weblogicDD.exists()) {\n            ejbFiles.put(META_DIR + WL_DD,\n                weblogicDD);\n        } else {\n            log(\"Unable to locate weblogic deployment descriptor. \"\n                + \"It was expected to be in \"\n                + weblogicDD.getPath(), Project.MSG_WARN);\n            return;\n        }\n\n        if (!newCMP) {\n            log(\"The old method for locating CMP files has been DEPRECATED.\", Project.MSG_VERBOSE);\n            log(\"Please adjust your weblogic descriptor and set \"\n                + \"newCMP=\\\"true\\\" to use the new CMP descriptor \"\n                + \"inclusion mechanism. \", Project.MSG_VERBOSE);\n            \r\n            File weblogicCMPDD = new File(getConfig().descriptorDir, ddPrefix + WL_CMP_DD);\n\n            if (weblogicCMPDD.exists()) {\n                ejbFiles.put(META_DIR + WL_CMP_DD,\n                    weblogicCMPDD);\n            }\n        } else {\n            \r\n            \r\n            \r\n            \r\n            try {\n                File ejbDescriptor = (File) ejbFiles.get(META_DIR + EJB_DD);\n                SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\n\n                saxParserFactory.setValidating(true);\n\n                SAXParser saxParser = saxParserFactory.newSAXParser();\n                DescriptorHandler handler = getWeblogicDescriptorHandler(ejbDescriptor.getParentFile());\n\n                saxParser.parse(new InputSource\n                    (new FileInputStream(weblogicDD)),\n                        handler);\n\n                Hashtable ht = handler.getFiles();\n                Enumeration e = ht.keys();\n\n                while (e.hasMoreElements()) {\n                    String key = (String) e.nextElement();\n\n                    ejbFiles.put(key, ht.get(key));\n                }\n            } catch (Exception e) {\n                String msg = \"Exception while adding Vendor specific files: \" + e.toString();\n\n                throw new BuildException(msg, e);\n            }\n        }\n    }\n","date":"2003-07-19 16:11:10","endLine":510,"groupId":"5224","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"addVendorFiles","params":"(HashtableejbFiles@StringddPrefix)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/08/c84eef103c5493cb7fed54f47767fd5739b3dd.src","preCode":"    protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix) {\n        File weblogicDD = new File(getConfig().descriptorDir, ddPrefix + WL_DD);\n\n        if (weblogicDD.exists()) {\n            ejbFiles.put(META_DIR + WL_DD,\n                weblogicDD);\n        } else {\n            log(\"Unable to locate weblogic deployment descriptor. It was expected to be in \" +\n                weblogicDD.getPath(), Project.MSG_WARN);\n            return;\n        }\n\n        if (!newCMP) {\n            log(\"The old method for locating CMP files has been DEPRECATED.\", Project.MSG_VERBOSE);\n            log(\"Please adjust your weblogic descriptor and set newCMP=\\\"true\\\" \" +\n                \"to use the new CMP descriptor inclusion mechanism. \", Project.MSG_VERBOSE);\n            \r\n            File weblogicCMPDD = new File(getConfig().descriptorDir, ddPrefix + WL_CMP_DD);\n\n            if (weblogicCMPDD.exists()) {\n                ejbFiles.put(META_DIR + WL_CMP_DD,\n                    weblogicCMPDD);\n            }\n        } else {\n            \r\n            \r\n            \r\n            \r\n            try {\n                File ejbDescriptor = (File) ejbFiles.get(META_DIR + EJB_DD);\n                SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\n\n                saxParserFactory.setValidating(true);\n\n                SAXParser saxParser = saxParserFactory.newSAXParser();\n                DescriptorHandler handler = getWeblogicDescriptorHandler(ejbDescriptor.getParentFile());\n\n                saxParser.parse(new InputSource\n                    (new FileInputStream(weblogicDD)),\n                        handler);\n\n                Hashtable ht = handler.getFiles();\n                Enumeration e = ht.keys();\n\n                while (e.hasMoreElements()) {\n                    String key = (String) e.nextElement();\n\n                    ejbFiles.put(key, ht.get(key));\n                }\n            } catch (Exception e) {\n                String msg = \"Exception while adding Vendor specific files: \" + e.toString();\n\n                throw new BuildException(msg, e);\n            }\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicDeploymentTool.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":453,"status":"M"}],"commitId":"3a35c7d914d8b5a1f203561ae6f89afb5d2b80ec","commitMessage":"@@@style\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@274858 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2003-07-19 16:11:10","modifiedFileCount":"227","status":"M","submitter":"Conor MacNeill"},{"authorTime":"2017-04-12 12:54:09","codes":[{"authorDate":"2003-07-19 16:11:10","commitOrder":14,"curCode":"    protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix) {\n        super.addVendorFiles(ejbFiles, ddPrefix);\n        \r\n\n        \r\n\n\n        File toplinkDD = new File(getConfig().descriptorDir, ddPrefix + toplinkDescriptor);\n\n        if (toplinkDD.exists()) {\n            ejbFiles.put(META_DIR + toplinkDescriptor,\n                         toplinkDD);\n        } else {\n            log(\"Unable to locate toplink deployment descriptor. \"\n                + \"It was expected to be in \"\n                + toplinkDD.getPath(), Project.MSG_WARN);\n        }\n    }\n","date":"2003-07-19 16:11:10","endLine":121,"groupId":"6692","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"addVendorFiles","params":"(HashtableejbFiles@StringddPrefix)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/33/2df0a16d4cd1e98e7869a6ff80870e9d838108.src","preCode":"    protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix) {\n        super.addVendorFiles(ejbFiles, ddPrefix);\n        \r\n\n        \r\n\n\n        File toplinkDD = new File(getConfig().descriptorDir, ddPrefix + toplinkDescriptor);\n\n        if (toplinkDD.exists()) {\n            ejbFiles.put(META_DIR + toplinkDescriptor,\n                         toplinkDD);\n        } else {\n            log(\"Unable to locate toplink deployment descriptor. \"\n                + \"It was expected to be in \"\n                + toplinkDD.getPath(), Project.MSG_WARN);\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicTOPLinkDeploymentTool.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":104,"status":"N"},{"authorDate":"2017-04-12 12:54:09","commitOrder":14,"curCode":"    protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix) {\n        File weblogicDD = new File(getConfig().descriptorDir, ddPrefix + WL_DD);\n\n        if (weblogicDD.exists()) {\n            ejbFiles.put(META_DIR + WL_DD,\n                weblogicDD);\n        } else {\n            log(\"Unable to locate weblogic deployment descriptor. \"\n                + \"It was expected to be in \"\n                + weblogicDD.getPath(), Project.MSG_WARN);\n            return;\n        }\n\n        if (!newCMP) {\n            log(\"The old method for locating CMP files has been DEPRECATED.\", Project.MSG_VERBOSE);\n            log(\"Please adjust your weblogic descriptor and set \"\n                + \"newCMP=\\\"true\\\" to use the new CMP descriptor \"\n                + \"inclusion mechanism. \", Project.MSG_VERBOSE);\n            \r\n            File weblogicCMPDD = new File(getConfig().descriptorDir, ddPrefix + WL_CMP_DD);\n\n            if (weblogicCMPDD.exists()) {\n                ejbFiles.put(META_DIR + WL_CMP_DD,\n                    weblogicCMPDD);\n            }\n        } else {\n            \r\n            \r\n            \r\n            \r\n            try {\n                File ejbDescriptor = (File) ejbFiles.get(META_DIR + EJB_DD);\n                SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\n\n                saxParserFactory.setValidating(true);\n\n                SAXParser saxParser = saxParserFactory.newSAXParser();\n                DescriptorHandler handler\n                    = getWeblogicDescriptorHandler(ejbDescriptor.getParentFile());\n\n                saxParser.parse(new InputSource(Files.newInputStream(weblogicDD.toPath())),\n                                handler);\n\n                Hashtable ht = handler.getFiles();\n                Enumeration e = ht.keys();\n\n                while (e.hasMoreElements()) {\n                    String key = (String) e.nextElement();\n\n                    ejbFiles.put(key, ht.get(key));\n                }\n            } catch (Exception e) {\n                String msg = \"Exception while adding Vendor specific files: \" + e.toString();\n\n                throw new BuildException(msg, e);\n            }\n        }\n    }\n","date":"2017-04-12 12:54:09","endLine":515,"groupId":"0","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"addVendorFiles","params":"(HashtableejbFiles@StringddPrefix)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/cc/1bd90aadf1353ac845d3f99d3e844c4d914c64.src","preCode":"    protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix) {\n        File weblogicDD = new File(getConfig().descriptorDir, ddPrefix + WL_DD);\n\n        if (weblogicDD.exists()) {\n            ejbFiles.put(META_DIR + WL_DD,\n                weblogicDD);\n        } else {\n            log(\"Unable to locate weblogic deployment descriptor. \"\n                + \"It was expected to be in \"\n                + weblogicDD.getPath(), Project.MSG_WARN);\n            return;\n        }\n\n        if (!newCMP) {\n            log(\"The old method for locating CMP files has been DEPRECATED.\", Project.MSG_VERBOSE);\n            log(\"Please adjust your weblogic descriptor and set \"\n                + \"newCMP=\\\"true\\\" to use the new CMP descriptor \"\n                + \"inclusion mechanism. \", Project.MSG_VERBOSE);\n            \r\n            File weblogicCMPDD = new File(getConfig().descriptorDir, ddPrefix + WL_CMP_DD);\n\n            if (weblogicCMPDD.exists()) {\n                ejbFiles.put(META_DIR + WL_CMP_DD,\n                    weblogicCMPDD);\n            }\n        } else {\n            \r\n            \r\n            \r\n            \r\n            try {\n                File ejbDescriptor = (File) ejbFiles.get(META_DIR + EJB_DD);\n                SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\n\n                saxParserFactory.setValidating(true);\n\n                SAXParser saxParser = saxParserFactory.newSAXParser();\n                DescriptorHandler handler\n                    = getWeblogicDescriptorHandler(ejbDescriptor.getParentFile());\n\n                saxParser.parse(new InputSource\n                    (new FileInputStream(weblogicDD)),\n                        handler);\n\n                Hashtable ht = handler.getFiles();\n                Enumeration e = ht.keys();\n\n                while (e.hasMoreElements()) {\n                    String key = (String) e.nextElement();\n\n                    ejbFiles.put(key, ht.get(key));\n                }\n            } catch (Exception e) {\n                String msg = \"Exception while adding Vendor specific files: \" + e.toString();\n\n                throw new BuildException(msg, e);\n            }\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicDeploymentTool.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":458,"status":"M"}],"commitId":"af74d1f6b882cef5f4167d972638ad886d12d58c","commitMessage":"@@@reduce GC pressure by replacing File(In|Out)putStream\n","date":"2017-04-12 12:54:09","modifiedFileCount":"84","status":"M","submitter":"Stefan Bodewig"},{"authorTime":"2017-04-13 23:15:22","codes":[{"authorDate":"2017-04-13 23:15:22","commitOrder":15,"curCode":"    protected void addVendorFiles(Hashtable<String, File> ejbFiles, String ddPrefix) {\n        super.addVendorFiles(ejbFiles, ddPrefix);\n        \r\n\n        \r\n\n        File toplinkDD = new File(getConfig().descriptorDir, ddPrefix + toplinkDescriptor);\n\n        if (toplinkDD.exists()) {\n            ejbFiles.put(META_DIR + toplinkDescriptor,\n                         toplinkDD);\n        } else {\n            log(\"Unable to locate toplink deployment descriptor. It was expected to be in \"\n                + toplinkDD.getPath(), Project.MSG_WARN);\n        }\n    }\n","date":"2017-04-13 23:15:22","endLine":102,"groupId":"10421","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"addVendorFiles","params":"(Hashtable<String@File>ejbFiles@StringddPrefix)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/15/edf4687df89b8900bb8c02f12a4292fc76b9f1.src","preCode":"    protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix) {\n        super.addVendorFiles(ejbFiles, ddPrefix);\n        \r\n\n        \r\n\n\n        File toplinkDD = new File(getConfig().descriptorDir, ddPrefix + toplinkDescriptor);\n\n        if (toplinkDD.exists()) {\n            ejbFiles.put(META_DIR + toplinkDescriptor,\n                         toplinkDD);\n        } else {\n            log(\"Unable to locate toplink deployment descriptor. \"\n                + \"It was expected to be in \"\n                + toplinkDD.getPath(), Project.MSG_WARN);\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicTOPLinkDeploymentTool.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":87,"status":"M"},{"authorDate":"2017-04-13 23:15:22","commitOrder":15,"curCode":"    protected void addVendorFiles(Hashtable<String, File> ejbFiles, String ddPrefix) {\n        File weblogicDD = new File(getConfig().descriptorDir, ddPrefix + WL_DD);\n\n        if (weblogicDD.exists()) {\n            ejbFiles.put(META_DIR + WL_DD,\n                weblogicDD);\n        } else {\n            log(\"Unable to locate weblogic deployment descriptor. It was expected to be in \"\n                + weblogicDD.getPath(), Project.MSG_WARN);\n            return;\n        }\n\n        if (!newCMP) {\n            log(\"The old method for locating CMP files has been DEPRECATED.\", Project.MSG_VERBOSE);\n            log(\"Please adjust your weblogic descriptor and set newCMP=\\\"true\\\" to use the new CMP descriptor inclusion mechanism. \",\n                Project.MSG_VERBOSE);\n            \r\n            File weblogicCMPDD = new File(getConfig().descriptorDir, ddPrefix + WL_CMP_DD);\n\n            if (weblogicCMPDD.exists()) {\n                ejbFiles.put(META_DIR + WL_CMP_DD, weblogicCMPDD);\n            }\n        } else {\n            \r\n            \r\n            \r\n            \r\n            try {\n                File ejbDescriptor = ejbFiles.get(META_DIR + EJB_DD);\n                SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\n\n                saxParserFactory.setValidating(true);\n\n                SAXParser saxParser = saxParserFactory.newSAXParser();\n                DescriptorHandler handler\n                    = getWeblogicDescriptorHandler(ejbDescriptor.getParentFile());\n\n                try (InputStream in = Files.newInputStream(weblogicDD.toPath())) {\n                    saxParser.parse(new InputSource(in), handler);\n                }\n                handler.getFiles().forEach(ejbFiles::put);\n            } catch (Exception e) {\n                throw new BuildException(\n                    \"Exception while adding Vendor specific files: \"\n                        + e.toString(),\n                    e);\n            }\n        }\n    }\n","date":"2017-04-13 23:15:22","endLine":487,"groupId":"10421","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"addVendorFiles","params":"(Hashtable<String@File>ejbFiles@StringddPrefix)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/4b/0116d2bd5b8e47585cc6dec34a09d61af6d38b.src","preCode":"    protected void addVendorFiles(Hashtable ejbFiles, String ddPrefix) {\n        File weblogicDD = new File(getConfig().descriptorDir, ddPrefix + WL_DD);\n\n        if (weblogicDD.exists()) {\n            ejbFiles.put(META_DIR + WL_DD,\n                weblogicDD);\n        } else {\n            log(\"Unable to locate weblogic deployment descriptor. \"\n                + \"It was expected to be in \"\n                + weblogicDD.getPath(), Project.MSG_WARN);\n            return;\n        }\n\n        if (!newCMP) {\n            log(\"The old method for locating CMP files has been DEPRECATED.\", Project.MSG_VERBOSE);\n            log(\"Please adjust your weblogic descriptor and set \"\n                + \"newCMP=\\\"true\\\" to use the new CMP descriptor \"\n                + \"inclusion mechanism. \", Project.MSG_VERBOSE);\n            \r\n            File weblogicCMPDD = new File(getConfig().descriptorDir, ddPrefix + WL_CMP_DD);\n\n            if (weblogicCMPDD.exists()) {\n                ejbFiles.put(META_DIR + WL_CMP_DD,\n                    weblogicCMPDD);\n            }\n        } else {\n            \r\n            \r\n            \r\n            \r\n            try {\n                File ejbDescriptor = (File) ejbFiles.get(META_DIR + EJB_DD);\n                SAXParserFactory saxParserFactory = SAXParserFactory.newInstance();\n\n                saxParserFactory.setValidating(true);\n\n                SAXParser saxParser = saxParserFactory.newSAXParser();\n                DescriptorHandler handler\n                    = getWeblogicDescriptorHandler(ejbDescriptor.getParentFile());\n\n                saxParser.parse(new InputSource(Files.newInputStream(weblogicDD.toPath())),\n                                handler);\n\n                Hashtable ht = handler.getFiles();\n                Enumeration e = ht.keys();\n\n                while (e.hasMoreElements()) {\n                    String key = (String) e.nextElement();\n\n                    ejbFiles.put(key, ht.get(key));\n                }\n            } catch (Exception e) {\n                String msg = \"Exception while adding Vendor specific files: \" + e.toString();\n\n                throw new BuildException(msg, e);\n            }\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/ejb/WeblogicDeploymentTool.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":439,"status":"M"}],"commitId":"b7d1e9bde44cb8e5233d6e70bb96e14cbb2f3e2d","commitMessage":"@@@java 5-8\n","date":"2017-04-13 23:15:22","modifiedFileCount":"609","status":"M","submitter":"Matt Benson"}]
