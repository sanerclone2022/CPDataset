[{"authorTime":"2001-04-24 00:12:25","codes":[{"authorDate":"2001-04-24 00:12:25","commitOrder":1,"curCode":"    public static byte[] mergeLocalFileDataData(ZipExtraField[] data) {\n        int sum = 4*data.length;\n        for (int i=0; i<data.length; i++) {\n            sum += data[i].getLocalFileDataLength().getValue();\n        }\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i=0; i<data.length; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getLocalFileDataLength().getBytes(),\n                             0, result, start+2, 2);\n            byte[] local = data[i].getLocalFileDataData();\n            System.arraycopy(local, 0, result, start+4, local.length);\n            start += (local.length+4);\n        }\n        return result;\n    }\n","date":"2001-04-24 00:12:25","endLine":178,"groupId":"1555","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"mergeLocalFileDataData","params":"(ZipExtraField[]data)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/00/5e988095ff04b99120fb5852c3d94ee00ada6f.src","preCode":"    public static byte[] mergeLocalFileDataData(ZipExtraField[] data) {\n        int sum = 4*data.length;\n        for (int i=0; i<data.length; i++) {\n            sum += data[i].getLocalFileDataLength().getValue();\n        }\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i=0; i<data.length; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getLocalFileDataLength().getBytes(),\n                             0, result, start+2, 2);\n            byte[] local = data[i].getLocalFileDataData();\n            System.arraycopy(local, 0, result, start+4, local.length);\n            start += (local.length+4);\n        }\n        return result;\n    }\n","realPath":"src/main/org/apache/tools/zip/ExtraFieldUtils.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":161,"status":"B"},{"authorDate":"2001-04-24 00:12:25","commitOrder":1,"curCode":"    public static byte[] mergeCentralDirectoryData(ZipExtraField[] data) {\n        int sum = 4*data.length;\n        for (int i=0; i<data.length; i++) {\n            sum += data[i].getCentralDirectoryLength().getValue();\n        }\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i=0; i<data.length; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getCentralDirectoryLength().getBytes(),\n                             0, result, start+2, 2);\n            byte[] local = data[i].getCentralDirectoryData();\n            System.arraycopy(local, 0, result, start+4, local.length);\n            start += (local.length+4);\n        }\n        return result;\n    }\n","date":"2001-04-24 00:12:25","endLine":202,"groupId":"1555","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"mergeCentralDirectoryData","params":"(ZipExtraField[]data)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/00/5e988095ff04b99120fb5852c3d94ee00ada6f.src","preCode":"    public static byte[] mergeCentralDirectoryData(ZipExtraField[] data) {\n        int sum = 4*data.length;\n        for (int i=0; i<data.length; i++) {\n            sum += data[i].getCentralDirectoryLength().getValue();\n        }\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i=0; i<data.length; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getCentralDirectoryLength().getBytes(),\n                             0, result, start+2, 2);\n            byte[] local = data[i].getCentralDirectoryData();\n            System.arraycopy(local, 0, result, start+4, local.length);\n            start += (local.length+4);\n        }\n        return result;\n    }\n","realPath":"src/main/org/apache/tools/zip/ExtraFieldUtils.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":185,"status":"B"}],"commitId":"bb58f9a943cef24178e719354a701fa7f5faf524","commitMessage":"@@@Reimplementation of ZipOutputStream along with a subclass of ZipEntry\nto allow Ant generated zip/jar/war/ear files to be extracted on Unix\nboxes without permission problems for directories.\n\nThis one uses external file attributes like InfoZip's zip does.  this\nis a rough cut - the infrastructure to set arbitrary permissions and\nadd user/group IDs via Zip's external fields is there.  but not used\nATM.  Directories will always get 755 permissions right now.\n\nThe testcases work on my box.  and I can extract Ant created archives\nwithout any trouble - can't await tomorrows Gump run.\n\npackage documentation for org.apache.tools.zip will follow.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@268959 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2001-04-24 00:12:25","modifiedFileCount":"4","status":"B","submitter":"Stefan Bodewig"},{"authorTime":"2007-08-24 01:58:32","codes":[{"authorDate":"2007-08-24 01:58:32","commitOrder":2,"curCode":"    public static byte[] mergeLocalFileDataData(ZipExtraField[] data) {\n        int sum = WORD * data.length;\n        for (int i = 0; i < data.length; i++) {\n            sum += data[i].getLocalFileDataLength().getValue();\n        }\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i = 0; i < data.length; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getLocalFileDataLength().getBytes(),\n                             0, result, start + 2, 2);\n            byte[] local = data[i].getLocalFileDataData();\n            System.arraycopy(local, 0, result, start + WORD, local.length);\n            start += (local.length + WORD);\n        }\n        return result;\n    }\n","date":"2007-08-24 01:58:32","endLine":151,"groupId":"1555","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"mergeLocalFileDataData","params":"(ZipExtraField[]data)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/23/7f5be8db7061ea2e08fc88527248de8d715d31.src","preCode":"    public static byte[] mergeLocalFileDataData(ZipExtraField[] data) {\n        int sum = 4 * data.length;\n        for (int i = 0; i < data.length; i++) {\n            sum += data[i].getLocalFileDataLength().getValue();\n        }\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i = 0; i < data.length; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getLocalFileDataLength().getBytes(),\n                             0, result, start + 2, 2);\n            byte[] local = data[i].getLocalFileDataData();\n            System.arraycopy(local, 0, result, start + 4, local.length);\n            start += (local.length + 4);\n        }\n        return result;\n    }\n","realPath":"src/main/org/apache/tools/zip/ExtraFieldUtils.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":134,"status":"M"},{"authorDate":"2007-08-24 01:58:32","commitOrder":2,"curCode":"    public static byte[] mergeCentralDirectoryData(ZipExtraField[] data) {\n        int sum = WORD * data.length;\n        for (int i = 0; i < data.length; i++) {\n            sum += data[i].getCentralDirectoryLength().getValue();\n        }\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i = 0; i < data.length; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getCentralDirectoryLength().getBytes(),\n                             0, result, start + 2, 2);\n            byte[] local = data[i].getCentralDirectoryData();\n            System.arraycopy(local, 0, result, start + WORD, local.length);\n            start += (local.length + WORD);\n        }\n        return result;\n    }\n","date":"2007-08-24 01:58:32","endLine":176,"groupId":"1555","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"mergeCentralDirectoryData","params":"(ZipExtraField[]data)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/23/7f5be8db7061ea2e08fc88527248de8d715d31.src","preCode":"    public static byte[] mergeCentralDirectoryData(ZipExtraField[] data) {\n        int sum = 4 * data.length;\n        for (int i = 0; i < data.length; i++) {\n            sum += data[i].getCentralDirectoryLength().getValue();\n        }\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i = 0; i < data.length; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getCentralDirectoryLength().getBytes(),\n                             0, result, start + 2, 2);\n            byte[] local = data[i].getCentralDirectoryData();\n            System.arraycopy(local, 0, result, start + 4, local.length);\n            start += (local.length + 4);\n        }\n        return result;\n    }\n","realPath":"src/main/org/apache/tools/zip/ExtraFieldUtils.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":159,"status":"M"}],"commitId":"4c69b551ec82319466630d5d268e4b840cd0b909","commitMessage":"@@@magic numbers\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@569089 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2007-08-24 01:58:32","modifiedFileCount":"6","status":"M","submitter":"Peter Reilly"},{"authorTime":"2010-02-16 22:41:11","codes":[{"authorDate":"2010-02-16 22:41:11","commitOrder":3,"curCode":"    public static byte[] mergeLocalFileDataData(ZipExtraField[] data) {\n        final boolean lastIsUnparseableHolder = data.length > 0\n            && data[data.length - 1] instanceof UnparseableExtraFieldData;\n        int regularExtraFieldCount =\n            lastIsUnparseableHolder ? data.length - 1 : data.length;\n\n        int sum = WORD * regularExtraFieldCount;\n        for (int i = 0; i < data.length; i++) {\n            sum += data[i].getLocalFileDataLength().getValue();\n        }\n\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i = 0; i < regularExtraFieldCount; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getLocalFileDataLength().getBytes(),\n                             0, result, start + 2, 2);\n            byte[] local = data[i].getLocalFileDataData();\n            System.arraycopy(local, 0, result, start + WORD, local.length);\n            start += (local.length + WORD);\n        }\n        if (lastIsUnparseableHolder) {\n            byte[] local = data[data.length - 1].getLocalFileDataData();\n            System.arraycopy(local, 0, result, start, local.length);\n        }\n        return result;\n    }\n","date":"2010-02-16 22:41:11","endLine":228,"groupId":"2137","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"mergeLocalFileDataData","params":"(ZipExtraField[]data)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/7f/6460ebb128a347432cd0d9b72f3fa67de2c077.src","preCode":"    public static byte[] mergeLocalFileDataData(ZipExtraField[] data) {\n        int sum = WORD * data.length;\n        for (int i = 0; i < data.length; i++) {\n            sum += data[i].getLocalFileDataLength().getValue();\n        }\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i = 0; i < data.length; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getLocalFileDataLength().getBytes(),\n                             0, result, start + 2, 2);\n            byte[] local = data[i].getLocalFileDataData();\n            System.arraycopy(local, 0, result, start + WORD, local.length);\n            start += (local.length + WORD);\n        }\n        return result;\n    }\n","realPath":"src/main/org/apache/tools/zip/ExtraFieldUtils.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":201,"status":"M"},{"authorDate":"2010-02-16 22:41:11","commitOrder":3,"curCode":"    public static byte[] mergeCentralDirectoryData(ZipExtraField[] data) {\n        final boolean lastIsUnparseableHolder = data.length > 0\n            && data[data.length - 1] instanceof UnparseableExtraFieldData;\n        int regularExtraFieldCount =\n            lastIsUnparseableHolder ? data.length - 1 : data.length;\n\n        int sum = WORD * regularExtraFieldCount;\n        for (int i = 0; i < data.length; i++) {\n            sum += data[i].getCentralDirectoryLength().getValue();\n        }\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i = 0; i < regularExtraFieldCount; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getCentralDirectoryLength().getBytes(),\n                             0, result, start + 2, 2);\n            byte[] local = data[i].getCentralDirectoryData();\n            System.arraycopy(local, 0, result, start + WORD, local.length);\n            start += (local.length + WORD);\n        }\n        if (lastIsUnparseableHolder) {\n            byte[] local = data[data.length - 1].getCentralDirectoryData();\n            System.arraycopy(local, 0, result, start, local.length);\n        }\n        return result;\n    }\n","date":"2010-02-16 22:41:11","endLine":262,"groupId":"2137","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"mergeCentralDirectoryData","params":"(ZipExtraField[]data)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/7f/6460ebb128a347432cd0d9b72f3fa67de2c077.src","preCode":"    public static byte[] mergeCentralDirectoryData(ZipExtraField[] data) {\n        int sum = WORD * data.length;\n        for (int i = 0; i < data.length; i++) {\n            sum += data[i].getCentralDirectoryLength().getValue();\n        }\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i = 0; i < data.length; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getCentralDirectoryLength().getBytes(),\n                             0, result, start + 2, 2);\n            byte[] local = data[i].getCentralDirectoryData();\n            System.arraycopy(local, 0, result, start + WORD, local.length);\n            start += (local.length + WORD);\n        }\n        return result;\n    }\n","realPath":"src/main/org/apache/tools/zip/ExtraFieldUtils.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":236,"status":"M"}],"commitId":"f665a4d33564ecc12851996978a9847024643829","commitMessage":"@@@accept a wider range of existing zip archives by being more lenient when parsing extra fields\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@910537 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2010-02-16 22:41:11","modifiedFileCount":"6","status":"M","submitter":"Stefan Bodewig"},{"authorTime":"2012-06-05 00:35:06","codes":[{"authorDate":"2012-06-05 00:35:06","commitOrder":4,"curCode":"    public static byte[] mergeLocalFileDataData(ZipExtraField[] data) {\n        final boolean lastIsUnparseableHolder = data.length > 0\n            && data[data.length - 1] instanceof UnparseableExtraFieldData;\n        int regularExtraFieldCount =\n            lastIsUnparseableHolder ? data.length - 1 : data.length;\n\n        int sum = WORD * regularExtraFieldCount;\n        for (ZipExtraField element : data) {\n            sum += element.getLocalFileDataLength().getValue();\n        }\n\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i = 0; i < regularExtraFieldCount; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getLocalFileDataLength().getBytes(),\n                             0, result, start + 2, 2);\n            byte[] local = data[i].getLocalFileDataData();\n            System.arraycopy(local, 0, result, start + WORD, local.length);\n            start += (local.length + WORD);\n        }\n        if (lastIsUnparseableHolder) {\n            byte[] local = data[data.length - 1].getLocalFileDataData();\n            System.arraycopy(local, 0, result, start, local.length);\n        }\n        return result;\n    }\n","date":"2012-06-05 00:35:06","endLine":229,"groupId":"10365","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"mergeLocalFileDataData","params":"(ZipExtraField[]data)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/39/6ab4d1b025af77a65f6f5681775c9bb2d2988b.src","preCode":"    public static byte[] mergeLocalFileDataData(ZipExtraField[] data) {\n        final boolean lastIsUnparseableHolder = data.length > 0\n            && data[data.length - 1] instanceof UnparseableExtraFieldData;\n        int regularExtraFieldCount =\n            lastIsUnparseableHolder ? data.length - 1 : data.length;\n\n        int sum = WORD * regularExtraFieldCount;\n        for (int i = 0; i < data.length; i++) {\n            sum += data[i].getLocalFileDataLength().getValue();\n        }\n\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i = 0; i < regularExtraFieldCount; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getLocalFileDataLength().getBytes(),\n                             0, result, start + 2, 2);\n            byte[] local = data[i].getLocalFileDataData();\n            System.arraycopy(local, 0, result, start + WORD, local.length);\n            start += (local.length + WORD);\n        }\n        if (lastIsUnparseableHolder) {\n            byte[] local = data[data.length - 1].getLocalFileDataData();\n            System.arraycopy(local, 0, result, start, local.length);\n        }\n        return result;\n    }\n","realPath":"src/main/org/apache/tools/zip/ExtraFieldUtils.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":202,"status":"M"},{"authorDate":"2012-06-05 00:35:06","commitOrder":4,"curCode":"    public static byte[] mergeCentralDirectoryData(ZipExtraField[] data) {\n        final boolean lastIsUnparseableHolder = data.length > 0\n            && data[data.length - 1] instanceof UnparseableExtraFieldData;\n        int regularExtraFieldCount =\n            lastIsUnparseableHolder ? data.length - 1 : data.length;\n\n        int sum = WORD * regularExtraFieldCount;\n        for (ZipExtraField element : data) {\n            sum += element.getCentralDirectoryLength().getValue();\n        }\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i = 0; i < regularExtraFieldCount; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getCentralDirectoryLength().getBytes(),\n                             0, result, start + 2, 2);\n            byte[] local = data[i].getCentralDirectoryData();\n            System.arraycopy(local, 0, result, start + WORD, local.length);\n            start += (local.length + WORD);\n        }\n        if (lastIsUnparseableHolder) {\n            byte[] local = data[data.length - 1].getCentralDirectoryData();\n            System.arraycopy(local, 0, result, start, local.length);\n        }\n        return result;\n    }\n","date":"2012-06-05 00:35:06","endLine":263,"groupId":"10365","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"mergeCentralDirectoryData","params":"(ZipExtraField[]data)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/39/6ab4d1b025af77a65f6f5681775c9bb2d2988b.src","preCode":"    public static byte[] mergeCentralDirectoryData(ZipExtraField[] data) {\n        final boolean lastIsUnparseableHolder = data.length > 0\n            && data[data.length - 1] instanceof UnparseableExtraFieldData;\n        int regularExtraFieldCount =\n            lastIsUnparseableHolder ? data.length - 1 : data.length;\n\n        int sum = WORD * regularExtraFieldCount;\n        for (int i = 0; i < data.length; i++) {\n            sum += data[i].getCentralDirectoryLength().getValue();\n        }\n        byte[] result = new byte[sum];\n        int start = 0;\n        for (int i = 0; i < regularExtraFieldCount; i++) {\n            System.arraycopy(data[i].getHeaderId().getBytes(),\n                             0, result, start, 2);\n            System.arraycopy(data[i].getCentralDirectoryLength().getBytes(),\n                             0, result, start + 2, 2);\n            byte[] local = data[i].getCentralDirectoryData();\n            System.arraycopy(local, 0, result, start + WORD, local.length);\n            start += (local.length + WORD);\n        }\n        if (lastIsUnparseableHolder) {\n            byte[] local = data[data.length - 1].getCentralDirectoryData();\n            System.arraycopy(local, 0, result, start, local.length);\n        }\n        return result;\n    }\n","realPath":"src/main/org/apache/tools/zip/ExtraFieldUtils.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":237,"status":"M"}],"commitId":"dee95e3acc5154aee03ff5f91f9a56426ae79f3f","commitMessage":"@@@merge Zip64 support from Commons Compress\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@1346025 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2012-06-05 00:35:06","modifiedFileCount":"19","status":"M","submitter":"Stefan Bodewig"}]
