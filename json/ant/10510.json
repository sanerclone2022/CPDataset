[{"authorTime":"2000-08-05 09:28:49","codes":[{"authorDate":"2003-08-19 20:15:04","commitOrder":2,"curCode":"    public EmailAddress(String email) {\n        final int minLen = 9;\n        int len = email.length();\n\n        \r\n        if (len > minLen) {\n            if ((email.charAt(0) == '<' || email.charAt(1) == '<')\n            && (email.charAt(len - 1) == '>' || email.charAt(len - 2) == '>')) {\n                this.address = trim(email, true);\n                return;\n            }\n        }\n\n        int paramDepth = 0;\n        int start = 0;\n        int end = 0;\n        int nStart = 0;\n        int nEnd = 0;\n\n        for (int i = 0; i < len; i++) {\n            char c = email.charAt(i);\n            if (c == '(') {\n                paramDepth++;\n                if (start == 0) {\n                    end = i;  \r\n                    nStart = i + 1;\n                }\n            } else if (c == ')') {\n                paramDepth--;\n                if (end == 0) {\n                    start = i + 1;  \r\n                    nEnd = i;\n                }\n            } else if (paramDepth == 0 && c == '<') {\n                if (start == 0) {\n                    nEnd = i;\n                }\n                start = i + 1;\n            } else if (paramDepth == 0 && c == '>') {\n                end = i;\n                if (end != len - 1) {\n                    nStart = i + 1;\n                }\n            }\n        }\n\n        \r\n        if (end == 0) {\n            end = len;\n        }\n        \r\n        if (nEnd == 0) {\n            nEnd = len;\n        }\n        \r\n\n        this.address = trim(email.substring(start, end), true);\n        this.name = trim(email.substring(nStart, nEnd), false);\n\n        \r\n        \r\n        if (this.name.length() + this.address.length() > len) {\n            this.name = null;\n        }\n    }\n","date":"2003-08-19 20:15:04","endLine":151,"groupId":"6611","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"EmailAddress","params":"(Stringemail)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/28/bd918a1d82a9ed56aeac080e3c51aea33ca416.src","preCode":"    public EmailAddress(String email) {\n        final int minLen = 9;\n        int len = email.length();\n\n        \r\n        if (len > minLen) {\n            if ((email.charAt(0) == '<' || email.charAt(1) == '<')\n            && (email.charAt(len - 1) == '>' || email.charAt(len - 2) == '>')) {\n                this.address = trim(email, true);\n                return;\n            }\n        }\n\n        int paramDepth = 0;\n        int start = 0;\n        int end = 0;\n        int nStart = 0;\n        int nEnd = 0;\n\n        for (int i = 0; i < len; i++) {\n            char c = email.charAt(i);\n            if (c == '(') {\n                paramDepth++;\n                if (start == 0) {\n                    end = i;  \r\n                    nStart = i + 1;\n                }\n            } else if (c == ')') {\n                paramDepth--;\n                if (end == 0) {\n                    start = i + 1;  \r\n                    nEnd = i;\n                }\n            } else if (paramDepth == 0 && c == '<') {\n                if (start == 0) {\n                    nEnd = i;\n                }\n                start = i + 1;\n            } else if (paramDepth == 0 && c == '>') {\n                end = i;\n                if (end != len - 1) {\n                    nStart = i + 1;\n                }\n            }\n        }\n\n        \r\n        if (end == 0) {\n            end = len;\n        }\n        \r\n        if (nEnd == 0) {\n            nEnd = len;\n        }\n        \r\n\n        this.address = trim(email.substring(start, end), true);\n        this.name = trim(email.substring(nStart, nEnd), false);\n\n        \r\n        \r\n        if (this.name.length() + this.address.length() > len) {\n            this.name = null;\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/email/EmailAddress.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":87,"status":"B"},{"authorDate":"2000-08-05 09:28:49","commitOrder":2,"curCode":"  static String sanitizeAddress(String s) {\n    int paramDepth = 0;\n    int start = 0;\n    int end = 0;\n    int len = s.length();\n\n    for (int i = 0; i < len; i++) {\n      char c = s.charAt(i);\n      if (c == '(') {\n        paramDepth++;\n        if (start == 0) {\n          end = i;  \r\n        }\n      }\n      else if (c == ')') {\n        paramDepth--;\n        if (end == 0) {\n          start = i + 1;  \r\n        }\n      }\n      else if (paramDepth == 0 && c == '<') {\n        start = i + 1;\n      }\n      else if (paramDepth == 0 && c == '>') {\n        end = i;\n      }\n    }\n\n    if (end == 0) {\n      end = len;\n    }\n\n    return s.substring(start, end);\n  }\n","date":"2000-08-05 09:28:49","endLine":317,"groupId":"7428","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"sanitizeAddress","params":"(Strings)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/60/1ab87629dc622e23ce7a9f03d23f1d40f4bf67.src","preCode":"  static String sanitizeAddress(String s) {\n    int paramDepth = 0;\n    int start = 0;\n    int end = 0;\n    int len = s.length();\n\n    for (int i = 0; i < len; i++) {\n      char c = s.charAt(i);\n      if (c == '(') {\n        paramDepth++;\n        if (start == 0) {\n          end = i;  \r\n        }\n      }\n      else if (c == ')') {\n        paramDepth--;\n        if (end == 0) {\n          start = i + 1;  \r\n        }\n      }\n      else if (paramDepth == 0 && c == '<') {\n        start = i + 1;\n      }\n      else if (paramDepth == 0 && c == '>') {\n        end = i;\n      }\n    }\n\n    if (end == 0) {\n      end = len;\n    }\n\n    return s.substring(start, end);\n  }\n","realPath":"src/main/org/apache/tools/mail/MailMessage.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":284,"status":"NB"}],"commitId":"f1a4a514784709dadf94d8b4f38ab2f52f1b1e1e","commitMessage":"@@@Changes to the constructor of EmailAddress(String address) to make it support\naddresses containing also the name such as name <address> or (name) address.\nThis allows these syntaxes to be used in the attributes from.  tolist.  cclist.  replyto\nof the email task.\nPR: 22474\nSubmitted by: Michael Davey ( michael dot davey at coderage dot org)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@275114 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2003-08-19 20:15:04","modifiedFileCount":"1","status":"M","submitter":"Antoine Levy-Lambert"},{"authorTime":"2000-08-05 09:28:49","codes":[{"authorDate":"2018-11-04 19:56:27","commitOrder":3,"curCode":"    public EmailAddress(String email) {\n        final int minLen = 9;\n        int len = email.length();\n\n        \r\n        if (len > minLen\n                && (email.charAt(0) == '<' || email.charAt(1) == '<')\n                && (email.charAt(len - 1) == '>' || email.charAt(len - 2) == '>')) {\n            this.address = trim(email, true);\n            return;\n        }\n\n        int paramDepth = 0;\n        int start = 0;\n        int end = 0;\n        int nStart = 0;\n        int nEnd = 0;\n\n        for (int i = 0; i < len; i++) {\n            char c = email.charAt(i);\n            if (c == '(') {\n                paramDepth++;\n                if (start == 0) {\n                    end = i;  \r\n                    nStart = i + 1;\n                }\n            } else if (c == ')') {\n                paramDepth--;\n                if (end == 0) {\n                    start = i + 1;  \r\n                    nEnd = i;\n                }\n            } else if (paramDepth == 0 && c == '<') {\n                if (start == 0) {\n                    nEnd = i;\n                }\n                start = i + 1;\n            } else if (paramDepth == 0 && c == '>') {\n                end = i;\n                if (end != len - 1) {\n                    nStart = i + 1;\n                }\n            }\n        }\n\n        \r\n        if (end == 0) {\n            end = len;\n        }\n        \r\n        if (nEnd == 0) {\n            nEnd = len;\n        }\n        \r\n\n        this.address = trim(email.substring(start, end), true);\n        this.name = trim(email.substring(nStart, nEnd), false);\n\n        \r\n        \r\n        if (this.name.length() + this.address.length() > len) {\n            this.name = null;\n        }\n    }\n","date":"2018-11-04 19:56:27","endLine":112,"groupId":"6611","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"EmailAddress","params":"(Stringemail)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/eb/317f8d3864888a03fea89c2d83fffaf3191dbf.src","preCode":"    public EmailAddress(String email) {\n        final int minLen = 9;\n        int len = email.length();\n\n        \r\n        if (len > minLen) {\n            if ((email.charAt(0) == '<' || email.charAt(1) == '<')\n            && (email.charAt(len - 1) == '>' || email.charAt(len - 2) == '>')) {\n                this.address = trim(email, true);\n                return;\n            }\n        }\n\n        int paramDepth = 0;\n        int start = 0;\n        int end = 0;\n        int nStart = 0;\n        int nEnd = 0;\n\n        for (int i = 0; i < len; i++) {\n            char c = email.charAt(i);\n            if (c == '(') {\n                paramDepth++;\n                if (start == 0) {\n                    end = i;  \r\n                    nStart = i + 1;\n                }\n            } else if (c == ')') {\n                paramDepth--;\n                if (end == 0) {\n                    start = i + 1;  \r\n                    nEnd = i;\n                }\n            } else if (paramDepth == 0 && c == '<') {\n                if (start == 0) {\n                    nEnd = i;\n                }\n                start = i + 1;\n            } else if (paramDepth == 0 && c == '>') {\n                end = i;\n                if (end != len - 1) {\n                    nStart = i + 1;\n                }\n            }\n        }\n\n        \r\n        if (end == 0) {\n            end = len;\n        }\n        \r\n        if (nEnd == 0) {\n            nEnd = len;\n        }\n        \r\n\n        this.address = trim(email.substring(start, end), true);\n        this.name = trim(email.substring(nStart, nEnd), false);\n\n        \r\n        \r\n        if (this.name.length() + this.address.length() > len) {\n            this.name = null;\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/email/EmailAddress.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":49,"status":"M"},{"authorDate":"2000-08-05 09:28:49","commitOrder":3,"curCode":"  static String sanitizeAddress(String s) {\n    int paramDepth = 0;\n    int start = 0;\n    int end = 0;\n    int len = s.length();\n\n    for (int i = 0; i < len; i++) {\n      char c = s.charAt(i);\n      if (c == '(') {\n        paramDepth++;\n        if (start == 0) {\n          end = i;  \r\n        }\n      }\n      else if (c == ')') {\n        paramDepth--;\n        if (end == 0) {\n          start = i + 1;  \r\n        }\n      }\n      else if (paramDepth == 0 && c == '<') {\n        start = i + 1;\n      }\n      else if (paramDepth == 0 && c == '>') {\n        end = i;\n      }\n    }\n\n    if (end == 0) {\n      end = len;\n    }\n\n    return s.substring(start, end);\n  }\n","date":"2000-08-05 09:28:49","endLine":317,"groupId":"7428","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"sanitizeAddress","params":"(Strings)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/60/1ab87629dc622e23ce7a9f03d23f1d40f4bf67.src","preCode":"  static String sanitizeAddress(String s) {\n    int paramDepth = 0;\n    int start = 0;\n    int end = 0;\n    int len = s.length();\n\n    for (int i = 0; i < len; i++) {\n      char c = s.charAt(i);\n      if (c == '(') {\n        paramDepth++;\n        if (start == 0) {\n          end = i;  \r\n        }\n      }\n      else if (c == ')') {\n        paramDepth--;\n        if (end == 0) {\n          start = i + 1;  \r\n        }\n      }\n      else if (paramDepth == 0 && c == '<') {\n        start = i + 1;\n      }\n      else if (paramDepth == 0 && c == '>') {\n        end = i;\n      }\n    }\n\n    if (end == 0) {\n      end = len;\n    }\n\n    return s.substring(start, end);\n  }\n","realPath":"src/main/org/apache/tools/mail/MailMessage.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":284,"status":"N"}],"commitId":"2b699eb695dd42f5343f8f007a87b01e499b146b","commitMessage":"@@@SonarQube: nested if?s is a major code smell","date":"2018-11-04 19:56:27","modifiedFileCount":"29","status":"M","submitter":"Gintas Grigelionis"},{"authorTime":"2000-08-05 09:28:49","codes":[{"authorDate":"2018-11-05 02:45:48","commitOrder":4,"curCode":"    public EmailAddress(String email) {\n        final int minLen = 9;\n        int len = email.length();\n\n        \r\n        if (len > minLen) {\n            if ((email.charAt(0) == '<' || email.charAt(1) == '<')\n            && (email.charAt(len - 1) == '>' || email.charAt(len - 2) == '>')) {\n                this.address = trim(email, true);\n                return;\n            }\n        }\n\n        int paramDepth = 0;\n        int start = 0;\n        int end = 0;\n        int nStart = 0;\n        int nEnd = 0;\n\n        for (int i = 0; i < len; i++) {\n            char c = email.charAt(i);\n            if (c == '(') {\n                paramDepth++;\n                if (start == 0) {\n                    end = i;  \r\n                    nStart = i + 1;\n                }\n            } else if (c == ')') {\n                paramDepth--;\n                if (end == 0) {\n                    start = i + 1;  \r\n                    nEnd = i;\n                }\n            } else if (paramDepth == 0 && c == '<') {\n                if (start == 0) {\n                    nEnd = i;\n                }\n                start = i + 1;\n            } else if (paramDepth == 0 && c == '>') {\n                end = i;\n                if (end != len - 1) {\n                    nStart = i + 1;\n                }\n            }\n        }\n\n        \r\n        if (end == 0) {\n            end = len;\n        }\n        \r\n        if (nEnd == 0) {\n            nEnd = len;\n        }\n        \r\n\n        this.address = trim(email.substring(start, end), true);\n        this.name = trim(email.substring(nStart, nEnd), false);\n\n        \r\n        \r\n        if (this.name.length() + this.address.length() > len) {\n            this.name = null;\n        }\n    }\n","date":"2018-11-05 02:45:48","endLine":113,"groupId":"10510","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"EmailAddress","params":"(Stringemail)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/f8/e2133fca2680419d336eca560e6680b93c4c9e.src","preCode":"    public EmailAddress(String email) {\n        final int minLen = 9;\n        int len = email.length();\n\n        \r\n        if (len > minLen\n                && (email.charAt(0) == '<' || email.charAt(1) == '<')\n                && (email.charAt(len - 1) == '>' || email.charAt(len - 2) == '>')) {\n            this.address = trim(email, true);\n            return;\n        }\n\n        int paramDepth = 0;\n        int start = 0;\n        int end = 0;\n        int nStart = 0;\n        int nEnd = 0;\n\n        for (int i = 0; i < len; i++) {\n            char c = email.charAt(i);\n            if (c == '(') {\n                paramDepth++;\n                if (start == 0) {\n                    end = i;  \r\n                    nStart = i + 1;\n                }\n            } else if (c == ')') {\n                paramDepth--;\n                if (end == 0) {\n                    start = i + 1;  \r\n                    nEnd = i;\n                }\n            } else if (paramDepth == 0 && c == '<') {\n                if (start == 0) {\n                    nEnd = i;\n                }\n                start = i + 1;\n            } else if (paramDepth == 0 && c == '>') {\n                end = i;\n                if (end != len - 1) {\n                    nStart = i + 1;\n                }\n            }\n        }\n\n        \r\n        if (end == 0) {\n            end = len;\n        }\n        \r\n        if (nEnd == 0) {\n            nEnd = len;\n        }\n        \r\n\n        this.address = trim(email.substring(start, end), true);\n        this.name = trim(email.substring(nStart, nEnd), false);\n\n        \r\n        \r\n        if (this.name.length() + this.address.length() > len) {\n            this.name = null;\n        }\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/email/EmailAddress.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":49,"status":"M"},{"authorDate":"2000-08-05 09:28:49","commitOrder":4,"curCode":"  static String sanitizeAddress(String s) {\n    int paramDepth = 0;\n    int start = 0;\n    int end = 0;\n    int len = s.length();\n\n    for (int i = 0; i < len; i++) {\n      char c = s.charAt(i);\n      if (c == '(') {\n        paramDepth++;\n        if (start == 0) {\n          end = i;  \r\n        }\n      }\n      else if (c == ')') {\n        paramDepth--;\n        if (end == 0) {\n          start = i + 1;  \r\n        }\n      }\n      else if (paramDepth == 0 && c == '<') {\n        start = i + 1;\n      }\n      else if (paramDepth == 0 && c == '>') {\n        end = i;\n      }\n    }\n\n    if (end == 0) {\n      end = len;\n    }\n\n    return s.substring(start, end);\n  }\n","date":"2000-08-05 09:28:49","endLine":317,"groupId":"10510","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"sanitizeAddress","params":"(Strings)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/60/1ab87629dc622e23ce7a9f03d23f1d40f4bf67.src","preCode":"  static String sanitizeAddress(String s) {\n    int paramDepth = 0;\n    int start = 0;\n    int end = 0;\n    int len = s.length();\n\n    for (int i = 0; i < len; i++) {\n      char c = s.charAt(i);\n      if (c == '(') {\n        paramDepth++;\n        if (start == 0) {\n          end = i;  \r\n        }\n      }\n      else if (c == ')') {\n        paramDepth--;\n        if (end == 0) {\n          start = i + 1;  \r\n        }\n      }\n      else if (paramDepth == 0 && c == '<') {\n        start = i + 1;\n      }\n      else if (paramDepth == 0 && c == '>') {\n        end = i;\n      }\n    }\n\n    if (end == 0) {\n      end = len;\n    }\n\n    return s.substring(start, end);\n  }\n","realPath":"src/main/org/apache/tools/mail/MailMessage.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":284,"status":"N"}],"commitId":"551cb55e328281002810714a9059f34f0502c13d","commitMessage":"@@@Revert last 5 commits","date":"2018-11-05 02:45:48","modifiedFileCount":"103","status":"M","submitter":"Gintas Grigelionis"}]
