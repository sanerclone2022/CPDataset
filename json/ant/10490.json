[{"authorTime":"2003-08-08 06:23:35","codes":[{"authorDate":"2009-08-27 18:14:07","commitOrder":3,"curCode":"    private boolean isFunctioningAsDirectory(FTPClient ftp, String dir, FTPFile file) {\n        boolean result = false;\n        String currentWorkingDir = null;\n        if (file.isDirectory()) {\n            return true;\n        } else if (file.isFile()) {\n            return false;\n        }\n        try {\n            currentWorkingDir = ftp.printWorkingDirectory();\n        } catch (IOException ioe) {\n            task.log(\"could not find current working directory \" + dir\n                                  + \" while checking a symlink\", Project.MSG_DEBUG);\n        }\n        if (currentWorkingDir != null) {\n            try {\n                result = ftp.changeWorkingDirectory(file.getLink());\n            } catch (IOException ioe) {\n                task.log(\"could not cd to \" + file.getLink()\n                                      + \" while checking a symlink\",\n                                      Project.MSG_DEBUG);\n            }\n            if (result) {\n                boolean comeback = false;\n                try {\n                    comeback = ftp.changeWorkingDirectory(currentWorkingDir);\n                } catch (IOException ioe) {\n                    task.log(\"could not cd back to \" + dir + \" while checking a symlink\",\n                                          Project.MSG_ERR);\n                } finally {\n                    if (!comeback) {\n                        throw new BuildException(\"could not cd back to \" + dir\n                                                 + \" while checking a symlink\");\n                    }\n                }\n            }\n        }\n        return result;\n    }\n","date":"2009-08-27 18:14:07","endLine":1054,"groupId":"1872","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"isFunctioningAsDirectory","params":"(FTPClientftp@Stringdir@FTPFilefile)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/3a/490e4782ed37f2c31e237802fb6132e360acca.src","preCode":"    private boolean isFunctioningAsDirectory(FTPClient ftp, String dir, FTPFile file) {\n        boolean result = false;\n        String currentWorkingDir = null;\n        if (file.isDirectory()) {\n            return true;\n        } else if (file.isFile()) {\n            return false;\n        }\n        try {\n            currentWorkingDir = ftp.printWorkingDirectory();\n        } catch (IOException ioe) {\n            task.log(\"could not find current working directory \" + dir\n                                  + \" while checking a symlink\", Project.MSG_DEBUG);\n        }\n        if (currentWorkingDir != null) {\n            try {\n                result = ftp.changeWorkingDirectory(file.getLink());\n            } catch (IOException ioe) {\n                task.log(\"could not cd to \" + file.getLink()\n                                      + \" while checking a symlink\",\n                                      Project.MSG_DEBUG);\n            }\n            if (result) {\n                boolean comeback = false;\n                try {\n                    comeback = ftp.changeWorkingDirectory(currentWorkingDir);\n                } catch (IOException ioe) {\n                    task.log(\"could not cd back to \" + dir + \" while checking a symlink\",\n                                          Project.MSG_ERR);\n                } finally {\n                    if (!comeback) {\n                        throw new BuildException(\"could not cd back to \" + dir\n                                                 + \" while checking a symlink\");\n                    }\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTPTaskMirrorImpl.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":1016,"status":"B"},{"authorDate":"2003-08-08 06:23:35","commitOrder":3,"curCode":"    private boolean isFunctioningAsDirectory(FTPClient ftp, String dir, FTPFile file) {\n        boolean result = false;\n        String currentWorkingDir = null;\n        if (file.isDirectory()) {\n            return true;\n        } else if (file.isFile()) {\n            return false;\n        }\n        try {\n            currentWorkingDir = ftp.printWorkingDirectory();\n        } catch (IOException ioe) {\n            getProject().log(\"could not find current working directory \" + dir\n                + \" while checking a symlink\",\n                Project.MSG_DEBUG);\n        }\n        if (currentWorkingDir != null) {\n            try {\n                result = ftp.changeWorkingDirectory(file.getLink());\n            } catch (IOException ioe) {\n                getProject().log(\"could not cd to \" + file.getLink() + \" while checking a symlink\",\n                    Project.MSG_DEBUG);\n            }\n            if (result) {\n                boolean comeback = false;\n                try {\n                    comeback = ftp.changeWorkingDirectory(currentWorkingDir);\n                } catch (IOException ioe) {\n                    getProject().log(\"could not cd back to \" + dir + \" while checking a symlink\",\n                        Project.MSG_ERR);\n                } finally {\n                    if (!comeback) {\n                        throw new BuildException(\"could not cd back to \" + dir\n                            + \" while checking a symlink\");\n                    }\n                }\n            }\n        }\n        return result;\n    }\n","date":"2003-08-08 06:23:35","endLine":363,"groupId":"230","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"isFunctioningAsDirectory","params":"(FTPClientftp@Stringdir@FTPFilefile)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/fc/dda3b20db1cfc40435660aae693e9b52d471be.src","preCode":"    private boolean isFunctioningAsDirectory(FTPClient ftp, String dir, FTPFile file) {\n        boolean result = false;\n        String currentWorkingDir = null;\n        if (file.isDirectory()) {\n            return true;\n        } else if (file.isFile()) {\n            return false;\n        }\n        try {\n            currentWorkingDir = ftp.printWorkingDirectory();\n        } catch (IOException ioe) {\n            getProject().log(\"could not find current working directory \" + dir\n                + \" while checking a symlink\",\n                Project.MSG_DEBUG);\n        }\n        if (currentWorkingDir != null) {\n            try {\n                result = ftp.changeWorkingDirectory(file.getLink());\n            } catch (IOException ioe) {\n                getProject().log(\"could not cd to \" + file.getLink() + \" while checking a symlink\",\n                    Project.MSG_DEBUG);\n            }\n            if (result) {\n                boolean comeback = false;\n                try {\n                    comeback = ftp.changeWorkingDirectory(currentWorkingDir);\n                } catch (IOException ioe) {\n                    getProject().log(\"could not cd back to \" + dir + \" while checking a symlink\",\n                        Project.MSG_ERR);\n                } finally {\n                    if (!comeback) {\n                        throw new BuildException(\"could not cd back to \" + dir\n                            + \" while checking a symlink\");\n                    }\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTP.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":325,"status":"NB"}],"commitId":"d72413184949c04015b452cf9cdf36bf2107061f","commitMessage":"@@@refactored <ftp> so commons-net may be loaded via a separate classloader.  Based on patch by Greg Roodt in PR 45860.  Not really tested.  yet.  therefore I haven't changed defaults.properties so far\n\ngit-svn-id: https://svn.apache.org/repos/asf/ant/core/trunk@808350 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2009-08-27 18:14:07","modifiedFileCount":"3","status":"M","submitter":"Stefan Bodewig"},{"authorTime":"2017-04-13 23:15:22","codes":[{"authorDate":"2017-04-13 23:15:22","commitOrder":4,"curCode":"    private boolean isFunctioningAsDirectory(FTPClient ftp, String dir, FTPFile file) {\n        boolean result = false;\n        String currentWorkingDir = null;\n        if (file.isDirectory()) {\n            return true;\n        }\n        if (file.isFile()) {\n            return false;\n        }\n        try {\n            currentWorkingDir = ftp.printWorkingDirectory();\n        } catch (IOException ioe) {\n            task.log(\"could not find current working directory \" + dir\n                                  + \" while checking a symlink\", Project.MSG_DEBUG);\n        }\n        if (currentWorkingDir != null) {\n            try {\n                result = ftp.changeWorkingDirectory(file.getLink());\n            } catch (IOException ioe) {\n                task.log(\"could not cd to \" + file.getLink()\n                                      + \" while checking a symlink\",\n                                      Project.MSG_DEBUG);\n            }\n            if (result) {\n                boolean comeback = false;\n                try {\n                    comeback = ftp.changeWorkingDirectory(currentWorkingDir);\n                } catch (IOException ioe) {\n                    task.log(\"could not cd back to \" + dir + \" while checking a symlink\",\n                                          Project.MSG_ERR);\n                } finally {\n                    if (!comeback) {\n                        throw new BuildException(\n                            \"could not cd back to %s while checking a symlink\",\n                            dir);\n                    }\n                }\n            }\n        }\n        return result;\n    }\n","date":"2017-04-13 23:15:22","endLine":1095,"groupId":"1872","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"isFunctioningAsDirectory","params":"(FTPClientftp@Stringdir@FTPFilefile)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/f5/46b230ba9f5fd9068433aa8620bc9d58b1f599.src","preCode":"    private boolean isFunctioningAsDirectory(FTPClient ftp, String dir, FTPFile file) {\n        boolean result = false;\n        String currentWorkingDir = null;\n        if (file.isDirectory()) {\n            return true;\n        } else if (file.isFile()) {\n            return false;\n        }\n        try {\n            currentWorkingDir = ftp.printWorkingDirectory();\n        } catch (IOException ioe) {\n            task.log(\"could not find current working directory \" + dir\n                                  + \" while checking a symlink\", Project.MSG_DEBUG);\n        }\n        if (currentWorkingDir != null) {\n            try {\n                result = ftp.changeWorkingDirectory(file.getLink());\n            } catch (IOException ioe) {\n                task.log(\"could not cd to \" + file.getLink()\n                                      + \" while checking a symlink\",\n                                      Project.MSG_DEBUG);\n            }\n            if (result) {\n                boolean comeback = false;\n                try {\n                    comeback = ftp.changeWorkingDirectory(currentWorkingDir);\n                } catch (IOException ioe) {\n                    task.log(\"could not cd back to \" + dir + \" while checking a symlink\",\n                                          Project.MSG_ERR);\n                } finally {\n                    if (!comeback) {\n                        throw new BuildException(\"could not cd back to \" + dir \r\n                                                 + \" while checking a symlink\");\n                    }\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTPTaskMirrorImpl.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":1055,"status":"M"},{"authorDate":"2017-04-13 23:15:22","commitOrder":4,"curCode":"    private boolean isFunctioningAsDirectory(FTPClient ftp, String dir, FTPFile file) {\n        if (file.isDirectory()) {\n            return true;\n        }\n        if (file.isFile()) {\n            return false;\n        }\n        String currentWorkingDir = null;\n        try {\n            currentWorkingDir = ftp.printWorkingDirectory();\n        } catch (IOException ioe) {\n            getProject().log(\"could not find current working directory \" + dir\n                             + \" while checking a symlink\",\n                             Project.MSG_DEBUG);\n        }\n        boolean result = false;\n        if (currentWorkingDir != null) {\n            try {\n                result = ftp.changeWorkingDirectory(file.getLink());\n            } catch (IOException ioe) {\n                getProject().log(\"could not cd to \" + file.getLink() + \" while checking a symlink\",\n                                 Project.MSG_DEBUG);\n            }\n            if (result) {\n                boolean comeback = false;\n                try {\n                    comeback = ftp.changeWorkingDirectory(currentWorkingDir);\n                } catch (IOException ioe) {\n                    getProject().log(\"could not cd back to \" + dir + \" while checking a symlink\",\n                                     Project.MSG_ERR);\n                } finally {\n                    if (!comeback) {\n                        throw new BuildException(\n                            \"could not cd back to %s while checking a symlink\",\n                            dir);\n                    }\n                }\n            }\n        }\n        return result;\n    }\n","date":"2017-04-13 23:15:22","endLine":1191,"groupId":"230","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"isFunctioningAsDirectory","params":"(FTPClientftp@Stringdir@FTPFilefile)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/2a/5239022c4fbbf3e893d2c9ad7a4fcdd809cc5c.src","preCode":"    private boolean isFunctioningAsDirectory(FTPClient ftp, String dir, FTPFile file) {\n        boolean result = false;\n        String currentWorkingDir = null;\n        if (file.isDirectory()) {\n            return true;\n        } else if (file.isFile()) {\n            return false;\n        }\n        try {\n            currentWorkingDir = ftp.printWorkingDirectory();\n        } catch (IOException ioe) {\n            getProject().log(\"could not find current working directory \" + dir\n                             + \" while checking a symlink\",\n                             Project.MSG_DEBUG);\n        }\n        if (currentWorkingDir != null) {\n            try {\n                result = ftp.changeWorkingDirectory(file.getLink());\n            } catch (IOException ioe) {\n                getProject().log(\"could not cd to \" + file.getLink() + \" while checking a symlink\",\n                                 Project.MSG_DEBUG);\n            }\n            if (result) {\n                boolean comeback = false;\n                try {\n                    comeback = ftp.changeWorkingDirectory(currentWorkingDir);\n                } catch (IOException ioe) {\n                    getProject().log(\"could not cd back to \" + dir + \" while checking a symlink\",\n                                     Project.MSG_ERR);\n                } finally {\n                    if (!comeback) {\n                        throw new BuildException(\"could not cd back to \" + dir \r\n                                                 + \" while checking a symlink\");\n                    }\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTP.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":1151,"status":"M"}],"commitId":"b7d1e9bde44cb8e5233d6e70bb96e14cbb2f3e2d","commitMessage":"@@@java 5-8\n","date":"2017-04-13 23:15:22","modifiedFileCount":"609","status":"M","submitter":"Matt Benson"},{"authorTime":"2019-06-01 20:18:52","codes":[{"authorDate":"2017-04-13 23:15:22","commitOrder":5,"curCode":"    private boolean isFunctioningAsDirectory(FTPClient ftp, String dir, FTPFile file) {\n        boolean result = false;\n        String currentWorkingDir = null;\n        if (file.isDirectory()) {\n            return true;\n        }\n        if (file.isFile()) {\n            return false;\n        }\n        try {\n            currentWorkingDir = ftp.printWorkingDirectory();\n        } catch (IOException ioe) {\n            task.log(\"could not find current working directory \" + dir\n                                  + \" while checking a symlink\", Project.MSG_DEBUG);\n        }\n        if (currentWorkingDir != null) {\n            try {\n                result = ftp.changeWorkingDirectory(file.getLink());\n            } catch (IOException ioe) {\n                task.log(\"could not cd to \" + file.getLink()\n                                      + \" while checking a symlink\",\n                                      Project.MSG_DEBUG);\n            }\n            if (result) {\n                boolean comeback = false;\n                try {\n                    comeback = ftp.changeWorkingDirectory(currentWorkingDir);\n                } catch (IOException ioe) {\n                    task.log(\"could not cd back to \" + dir + \" while checking a symlink\",\n                                          Project.MSG_ERR);\n                } finally {\n                    if (!comeback) {\n                        throw new BuildException(\n                            \"could not cd back to %s while checking a symlink\",\n                            dir);\n                    }\n                }\n            }\n        }\n        return result;\n    }\n","date":"2017-04-13 23:15:22","endLine":1095,"groupId":"10490","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"isFunctioningAsDirectory","params":"(FTPClientftp@Stringdir@FTPFilefile)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/f5/46b230ba9f5fd9068433aa8620bc9d58b1f599.src","preCode":"    private boolean isFunctioningAsDirectory(FTPClient ftp, String dir, FTPFile file) {\n        boolean result = false;\n        String currentWorkingDir = null;\n        if (file.isDirectory()) {\n            return true;\n        }\n        if (file.isFile()) {\n            return false;\n        }\n        try {\n            currentWorkingDir = ftp.printWorkingDirectory();\n        } catch (IOException ioe) {\n            task.log(\"could not find current working directory \" + dir\n                                  + \" while checking a symlink\", Project.MSG_DEBUG);\n        }\n        if (currentWorkingDir != null) {\n            try {\n                result = ftp.changeWorkingDirectory(file.getLink());\n            } catch (IOException ioe) {\n                task.log(\"could not cd to \" + file.getLink()\n                                      + \" while checking a symlink\",\n                                      Project.MSG_DEBUG);\n            }\n            if (result) {\n                boolean comeback = false;\n                try {\n                    comeback = ftp.changeWorkingDirectory(currentWorkingDir);\n                } catch (IOException ioe) {\n                    task.log(\"could not cd back to \" + dir + \" while checking a symlink\",\n                                          Project.MSG_ERR);\n                } finally {\n                    if (!comeback) {\n                        throw new BuildException(\n                            \"could not cd back to %s while checking a symlink\",\n                            dir);\n                    }\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTPTaskMirrorImpl.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":1055,"status":"N"},{"authorDate":"2019-06-01 20:18:52","commitOrder":5,"curCode":"    private boolean isFunctioningAsDirectory(FTPClient ftp, String dir, FTPFile file) throws FTPConnectionClosedException {\n        if (file.isDirectory()) {\n            return true;\n        }\n        if (file.isFile()) {\n            return false;\n        }\n        String currentWorkingDir = null;\n        try {\n            currentWorkingDir = ftp.printWorkingDirectory();\n        } catch (FTPConnectionClosedException ftpcce) {\n            getProject().log(\"could not find current working directory \" + dir\n                             + \" while checking a symlink because connection was closed\",\n                             Project.MSG_DEBUG);\n            throw(ftpcce);\n        } catch (IOException ioe) {\n            getProject().log(\"could not find current working directory \" + dir\n                             + \" while checking a symlink\",\n                             Project.MSG_DEBUG);\n        }\n        boolean result = false;\n        if (currentWorkingDir != null) {\n            try {\n                result = ftp.changeWorkingDirectory(file.getLink());\n            } catch (FTPConnectionClosedException ftpcce) {\n                getProject().log(\"could not find current working directory \" + dir\n                                + \" while checking a symlink because connection was closed\",\n                                Project.MSG_DEBUG);\n                throw(ftpcce);\n            } catch (IOException ioe) {\n                getProject().log(\"could not cd to \" + file.getLink() + \" while checking a symlink\",\n                                 Project.MSG_DEBUG);\n            }\n            if (result) {\n                boolean comeback = false;\n                try {\n                    comeback = ftp.changeWorkingDirectory(currentWorkingDir);\n                } catch (IOException ioe) {\n                    getProject().log(\"could not cd back to \" + dir + \" while checking a symlink\",\n                                     Project.MSG_ERR);\n                } finally {\n                    if (!comeback) {\n                        throw new BuildException(\n                            \"could not cd back to %s while checking a symlink\",\n                            dir);\n                    }\n                }\n            }\n        }\n        return result;\n    }\n","date":"2019-06-01 20:18:52","endLine":1195,"groupId":"10490","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"isFunctioningAsDirectory","params":"(FTPClientftp@Stringdir@FTPFilefile)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-ant-10-0.7/blobInfo/CC_OUT/blobs/ee/3d30ba2eab030619f08f05c3310096841a834c.src","preCode":"    private boolean isFunctioningAsDirectory(FTPClient ftp, String dir, FTPFile file) {\n        if (file.isDirectory()) {\n            return true;\n        }\n        if (file.isFile()) {\n            return false;\n        }\n        String currentWorkingDir = null;\n        try {\n            currentWorkingDir = ftp.printWorkingDirectory();\n        } catch (IOException ioe) {\n            getProject().log(\"could not find current working directory \" + dir\n                             + \" while checking a symlink\",\n                             Project.MSG_DEBUG);\n        }\n        boolean result = false;\n        if (currentWorkingDir != null) {\n            try {\n                result = ftp.changeWorkingDirectory(file.getLink());\n            } catch (IOException ioe) {\n                getProject().log(\"could not cd to \" + file.getLink() + \" while checking a symlink\",\n                                 Project.MSG_DEBUG);\n            }\n            if (result) {\n                boolean comeback = false;\n                try {\n                    comeback = ftp.changeWorkingDirectory(currentWorkingDir);\n                } catch (IOException ioe) {\n                    getProject().log(\"could not cd back to \" + dir + \" while checking a symlink\",\n                                     Project.MSG_ERR);\n                } finally {\n                    if (!comeback) {\n                        throw new BuildException(\n                            \"could not cd back to %s while checking a symlink\",\n                            dir);\n                    }\n                }\n            }\n        }\n        return result;\n    }\n","realPath":"src/main/org/apache/tools/ant/taskdefs/optional/net/FTP.java","repoName":"ant","snippetEndLine":0,"snippetStartLine":0,"startLine":1145,"status":"M"}],"commitId":"382edda47687bf2eec6f65f0f17e29e81b7cf847","commitMessage":"@@@Patch improving FTP Connection Closed error handling and reporting by\nEugene Adell","date":"2019-06-01 20:18:52","modifiedFileCount":"1","status":"M","submitter":"jkf"}]
