[{"authorTime":"2020-06-16 00:47:15","codes":[{"authorDate":"2018-04-26 03:22:53","commitOrder":2,"curCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeoShapeFieldType geoShapeFieldType = (GeoShapeFieldType)fieldType;\n\n            if (geoShapeFieldType.treeLevels() == 0 && geoShapeFieldType.precisionInMeters() < 0) {\n                geoShapeFieldType.setDefaultDistanceErrorPct(Defaults.LEGACY_DISTANCE_ERROR_PCT);\n            }\n            setupFieldType(context);\n\n            return new GeoShapeFieldMapper(name, fieldType, ignoreMalformed(context), coerce(context), ignoreZValue(context),\n                    context.indexSettings(), multiFieldsBuilder.build(this, context), copyTo);\n        }\n","date":"2018-04-26 03:22:53","endLine":194,"groupId":"24557","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"build","params":"(BuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/75/3d91f7be231d268afbedeb9a661f7dbe843e2d.src","preCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeoShapeFieldType geoShapeFieldType = (GeoShapeFieldType)fieldType;\n\n            if (geoShapeFieldType.treeLevels() == 0 && geoShapeFieldType.precisionInMeters() < 0) {\n                geoShapeFieldType.setDefaultDistanceErrorPct(Defaults.LEGACY_DISTANCE_ERROR_PCT);\n            }\n            setupFieldType(context);\n\n            return new GeoShapeFieldMapper(name, fieldType, ignoreMalformed(context), coerce(context), ignoreZValue(context),\n                    context.indexSettings(), multiFieldsBuilder.build(this, context), copyTo);\n        }\n","realPath":"server/src/main/java/org/elasticsearch/index/mapper/GeoShapeFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":184,"status":"NB"},{"authorDate":"2020-06-16 00:47:15","commitOrder":2,"curCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            if (docValuesSet == false) {\n                hasDocValues = Version.V_7_8_0.onOrBefore(context.indexCreatedVersion());\n            }\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(buildFullName(context), indexed, hasDocValues, meta);\n            \r\n            GeometryParser geometryParser = new GeometryParser(ft.orientation().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            ft.setGeometryParser((parser, mapper) -> geometryParser.parse(parser));\n            ft.setGeometryIndexer(new GeoShapeIndexer(orientation().value().getAsBoolean(), ft.name()));\n            ft.setGeometryQueryBuilder(new VectorGeoShapeQueryProcessor());\n            ft.setOrientation(orientation().value());\n            return new GeoShapeWithDocValuesFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(), context.indexSettings(), Version.V_7_8_0.onOrBefore(context.indexCreatedVersion()),\n                multiFieldsBuilder.build(this, context), copyTo);\n        }\n","date":"2020-06-16 00:47:15","endLine":96,"groupId":"72089","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"build","params":"(BuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/69/c370b7b96aaded9a95c6958598dae65ff0b924.src","preCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            if (docValuesSet == false) {\n                hasDocValues = Version.V_7_8_0.onOrBefore(context.indexCreatedVersion());\n            }\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(buildFullName(context), indexed, hasDocValues, meta);\n            \r\n            GeometryParser geometryParser = new GeometryParser(ft.orientation().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            ft.setGeometryParser((parser, mapper) -> geometryParser.parse(parser));\n            ft.setGeometryIndexer(new GeoShapeIndexer(orientation().value().getAsBoolean(), ft.name()));\n            ft.setGeometryQueryBuilder(new VectorGeoShapeQueryProcessor());\n            ft.setOrientation(orientation().value());\n            return new GeoShapeWithDocValuesFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(), context.indexSettings(), Version.V_7_8_0.onOrBefore(context.indexCreatedVersion()),\n                multiFieldsBuilder.build(this, context), copyTo);\n        }\n","realPath":"x-pack/plugin/spatial/src/main/java/org/elasticsearch/xpack/spatial/index/mapper/GeoShapeWithDocValuesFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":81,"status":"B"}],"commitId":"3b696828ada5953bb1669b972a353736383edf08","commitMessage":"@@@MappedFieldType should not extend FieldType (#57666)\n\nMappedFieldType is a combination of two concerns:\n\n* an extension of lucene's FieldType.  defining how a field should be indexed\n* a set of query factory methods.  defining how a field should be searched\n\nWe want to break these two concerns apart. This commit is a first step to doing this.  breaking\nthe inheritance relationship between MappedFieldType and FieldType. MappedFieldType \ninstead has a series of boolean flags defining whether or not the field is searchable or \naggregatable.  and FieldMapper has a separate FieldType passed to its constructor defining \nhow indexing should be done.\n\nRelates to #56814","date":"2020-06-16 00:47:15","modifiedFileCount":"257","status":"M","submitter":"Alan Woodward"},{"authorTime":"2020-06-26 22:33:37","codes":[{"authorDate":"2018-04-26 03:22:53","commitOrder":3,"curCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeoShapeFieldType geoShapeFieldType = (GeoShapeFieldType)fieldType;\n\n            if (geoShapeFieldType.treeLevels() == 0 && geoShapeFieldType.precisionInMeters() < 0) {\n                geoShapeFieldType.setDefaultDistanceErrorPct(Defaults.LEGACY_DISTANCE_ERROR_PCT);\n            }\n            setupFieldType(context);\n\n            return new GeoShapeFieldMapper(name, fieldType, ignoreMalformed(context), coerce(context), ignoreZValue(context),\n                    context.indexSettings(), multiFieldsBuilder.build(this, context), copyTo);\n        }\n","date":"2018-04-26 03:22:53","endLine":194,"groupId":"24557","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"build","params":"(BuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/75/3d91f7be231d268afbedeb9a661f7dbe843e2d.src","preCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeoShapeFieldType geoShapeFieldType = (GeoShapeFieldType)fieldType;\n\n            if (geoShapeFieldType.treeLevels() == 0 && geoShapeFieldType.precisionInMeters() < 0) {\n                geoShapeFieldType.setDefaultDistanceErrorPct(Defaults.LEGACY_DISTANCE_ERROR_PCT);\n            }\n            setupFieldType(context);\n\n            return new GeoShapeFieldMapper(name, fieldType, ignoreMalformed(context), coerce(context), ignoreZValue(context),\n                    context.indexSettings(), multiFieldsBuilder.build(this, context), copyTo);\n        }\n","realPath":"server/src/main/java/org/elasticsearch/index/mapper/GeoShapeFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":184,"status":"N"},{"authorDate":"2020-06-26 22:33:37","commitOrder":3,"curCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            if (docValuesSet == false) {\n                hasDocValues = Version.V_7_8_0.onOrBefore(context.indexCreatedVersion());\n            }\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(buildFullName(context), indexed, hasDocValues, meta);\n            \r\n            GeometryParser geometryParser = new GeometryParser(ft.orientation().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            ft.setGeometryParser((parser, mapper) -> geometryParser.parse(parser));\n            ft.setGeometryIndexer(new GeoShapeIndexer(orientation().value().getAsBoolean(), ft.name()));\n            ft.setGeometryQueryBuilder(new VectorGeoShapeQueryProcessor());\n            ft.setOrientation(orientation().value());\n            return new GeoShapeWithDocValuesFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(), Version.V_7_8_0.onOrBefore(context.indexCreatedVersion()),\n                multiFieldsBuilder.build(this, context), copyTo);\n        }\n","date":"2020-06-26 22:33:37","endLine":100,"groupId":"72089","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"build","params":"(BuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/b1/f4da8c521ce7913b934b8af4ae880586224743.src","preCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            if (docValuesSet == false) {\n                hasDocValues = Version.V_7_8_0.onOrBefore(context.indexCreatedVersion());\n            }\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(buildFullName(context), indexed, hasDocValues, meta);\n            \r\n            GeometryParser geometryParser = new GeometryParser(ft.orientation().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            ft.setGeometryParser((parser, mapper) -> geometryParser.parse(parser));\n            ft.setGeometryIndexer(new GeoShapeIndexer(orientation().value().getAsBoolean(), ft.name()));\n            ft.setGeometryQueryBuilder(new VectorGeoShapeQueryProcessor());\n            ft.setOrientation(orientation().value());\n            return new GeoShapeWithDocValuesFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(), context.indexSettings(), Version.V_7_8_0.onOrBefore(context.indexCreatedVersion()),\n                multiFieldsBuilder.build(this, context), copyTo);\n        }\n","realPath":"x-pack/plugin/spatial/src/main/java/org/elasticsearch/xpack/spatial/index/mapper/GeoShapeWithDocValuesFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":85,"status":"M"}],"commitId":"cac5f29cee7572a3695e2b8d17d0a0cb7ac473dd","commitMessage":"@@@Merge branch 'master' into feature/runtime_fields\n","date":"2020-06-26 22:33:37","modifiedFileCount":"731","status":"M","submitter":"Nik Everett"},{"authorTime":"2020-07-29 01:14:40","codes":[{"authorDate":"2018-04-26 03:22:53","commitOrder":4,"curCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeoShapeFieldType geoShapeFieldType = (GeoShapeFieldType)fieldType;\n\n            if (geoShapeFieldType.treeLevels() == 0 && geoShapeFieldType.precisionInMeters() < 0) {\n                geoShapeFieldType.setDefaultDistanceErrorPct(Defaults.LEGACY_DISTANCE_ERROR_PCT);\n            }\n            setupFieldType(context);\n\n            return new GeoShapeFieldMapper(name, fieldType, ignoreMalformed(context), coerce(context), ignoreZValue(context),\n                    context.indexSettings(), multiFieldsBuilder.build(this, context), copyTo);\n        }\n","date":"2018-04-26 03:22:53","endLine":194,"groupId":"24557","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"build","params":"(BuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/75/3d91f7be231d268afbedeb9a661f7dbe843e2d.src","preCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeoShapeFieldType geoShapeFieldType = (GeoShapeFieldType)fieldType;\n\n            if (geoShapeFieldType.treeLevels() == 0 && geoShapeFieldType.precisionInMeters() < 0) {\n                geoShapeFieldType.setDefaultDistanceErrorPct(Defaults.LEGACY_DISTANCE_ERROR_PCT);\n            }\n            setupFieldType(context);\n\n            return new GeoShapeFieldMapper(name, fieldType, ignoreMalformed(context), coerce(context), ignoreZValue(context),\n                    context.indexSettings(), multiFieldsBuilder.build(this, context), copyTo);\n        }\n","realPath":"server/src/main/java/org/elasticsearch/index/mapper/GeoShapeFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":184,"status":"N"},{"authorDate":"2020-07-29 01:14:40","commitOrder":4,"curCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            if (docValuesSet == false) {\n                hasDocValues = Version.V_7_8_0.onOrBefore(context.indexCreatedVersion());\n            }\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(buildFullName(context), indexed, hasDocValues, meta);\n            \r\n            GeometryParser geometryParser = new GeometryParser(ft.orientation().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            ft.setGeometryParser(new GeoShapeParser(geometryParser));\n            ft.setGeometryIndexer(new GeoShapeIndexer(orientation().value().getAsBoolean(), ft.name()));\n            ft.setGeometryQueryBuilder(new VectorGeoShapeQueryProcessor());\n            ft.setOrientation(orientation().value());\n            return new GeoShapeWithDocValuesFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(), Version.V_7_8_0.onOrBefore(context.indexCreatedVersion()),\n                multiFieldsBuilder.build(this, context), copyTo);\n        }\n","date":"2020-07-29 01:42:59","endLine":103,"groupId":"72089","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"build","params":"(BuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/ad/fa2914528bfb4f1861cd4515e0901733e308c9.src","preCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            if (docValuesSet == false) {\n                hasDocValues = Version.V_7_8_0.onOrBefore(context.indexCreatedVersion());\n            }\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(buildFullName(context), indexed, hasDocValues, meta);\n            \r\n            GeometryParser geometryParser = new GeometryParser(ft.orientation().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            ft.setGeometryParser((parser, mapper) -> geometryParser.parse(parser));\n            ft.setGeometryIndexer(new GeoShapeIndexer(orientation().value().getAsBoolean(), ft.name()));\n            ft.setGeometryQueryBuilder(new VectorGeoShapeQueryProcessor());\n            ft.setOrientation(orientation().value());\n            return new GeoShapeWithDocValuesFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(), Version.V_7_8_0.onOrBefore(context.indexCreatedVersion()),\n                multiFieldsBuilder.build(this, context), copyTo);\n        }\n","realPath":"x-pack/plugin/spatial/src/main/java/org/elasticsearch/xpack/spatial/index/mapper/GeoShapeWithDocValuesFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":88,"status":"M"}],"commitId":"e3bbb3bed4ed9430ab43eb4a3e8276ae503c13ab","commitMessage":"@@@Merge branch 'master' into feature/runtime_fields\n","date":"2020-07-29 01:42:59","modifiedFileCount":"261","status":"M","submitter":"Nik Everett"},{"authorTime":"2020-09-22 21:41:24","codes":[{"authorDate":"2018-04-26 03:22:53","commitOrder":5,"curCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeoShapeFieldType geoShapeFieldType = (GeoShapeFieldType)fieldType;\n\n            if (geoShapeFieldType.treeLevels() == 0 && geoShapeFieldType.precisionInMeters() < 0) {\n                geoShapeFieldType.setDefaultDistanceErrorPct(Defaults.LEGACY_DISTANCE_ERROR_PCT);\n            }\n            setupFieldType(context);\n\n            return new GeoShapeFieldMapper(name, fieldType, ignoreMalformed(context), coerce(context), ignoreZValue(context),\n                    context.indexSettings(), multiFieldsBuilder.build(this, context), copyTo);\n        }\n","date":"2018-04-26 03:22:53","endLine":194,"groupId":"24557","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"build","params":"(BuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/75/3d91f7be231d268afbedeb9a661f7dbe843e2d.src","preCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeoShapeFieldType geoShapeFieldType = (GeoShapeFieldType)fieldType;\n\n            if (geoShapeFieldType.treeLevels() == 0 && geoShapeFieldType.precisionInMeters() < 0) {\n                geoShapeFieldType.setDefaultDistanceErrorPct(Defaults.LEGACY_DISTANCE_ERROR_PCT);\n            }\n            setupFieldType(context);\n\n            return new GeoShapeFieldMapper(name, fieldType, ignoreMalformed(context), coerce(context), ignoreZValue(context),\n                    context.indexSettings(), multiFieldsBuilder.build(this, context), copyTo);\n        }\n","realPath":"server/src/main/java/org/elasticsearch/index/mapper/GeoShapeFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":184,"status":"N"},{"authorDate":"2020-09-22 21:41:24","commitOrder":5,"curCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            if (docValuesSet == false) {\n                hasDocValues = Version.V_7_8_0.onOrBefore(context.indexCreatedVersion());\n            }\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(buildFullName(context), indexed, fieldType.stored(),\n                hasDocValues, meta);\n            \r\n            GeometryParser geometryParser = new GeometryParser(ft.orientation().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            ft.setGeometryParser(new GeoShapeParser(geometryParser));\n            ft.setGeometryIndexer(new GeoShapeIndexer(orientation().value().getAsBoolean(), ft.name()));\n            ft.setGeometryQueryBuilder(new VectorGeoShapeQueryProcessor());\n            ft.setOrientation(orientation().value());\n            return new GeoShapeWithDocValuesFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(), Version.V_7_8_0.onOrBefore(context.indexCreatedVersion()),\n                multiFieldsBuilder.build(this, context), copyTo);\n        }\n","date":"2020-09-22 21:41:24","endLine":104,"groupId":"72089","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"build","params":"(BuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/27/eab8d13a261427f96f9bd3f5eb983ce2321802.src","preCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            if (docValuesSet == false) {\n                hasDocValues = Version.V_7_8_0.onOrBefore(context.indexCreatedVersion());\n            }\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(buildFullName(context), indexed, hasDocValues, meta);\n            \r\n            GeometryParser geometryParser = new GeometryParser(ft.orientation().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            ft.setGeometryParser(new GeoShapeParser(geometryParser));\n            ft.setGeometryIndexer(new GeoShapeIndexer(orientation().value().getAsBoolean(), ft.name()));\n            ft.setGeometryQueryBuilder(new VectorGeoShapeQueryProcessor());\n            ft.setOrientation(orientation().value());\n            return new GeoShapeWithDocValuesFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(), Version.V_7_8_0.onOrBefore(context.indexCreatedVersion()),\n                multiFieldsBuilder.build(this, context), copyTo);\n        }\n","realPath":"x-pack/plugin/spatial/src/main/java/org/elasticsearch/xpack/spatial/index/mapper/GeoShapeWithDocValuesFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":88,"status":"M"}],"commitId":"3a9b65733c50e36182c2906a692297ef80720466","commitMessage":"@@@Move stored flag from TextSearchInfo to MappedFieldType (#62717)\n\n","date":"2020-09-22 21:41:24","modifiedFileCount":"84","status":"M","submitter":"Luca Cavanna"},{"authorTime":"2020-10-01 15:27:56","codes":[{"authorDate":"2018-04-26 03:22:53","commitOrder":6,"curCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeoShapeFieldType geoShapeFieldType = (GeoShapeFieldType)fieldType;\n\n            if (geoShapeFieldType.treeLevels() == 0 && geoShapeFieldType.precisionInMeters() < 0) {\n                geoShapeFieldType.setDefaultDistanceErrorPct(Defaults.LEGACY_DISTANCE_ERROR_PCT);\n            }\n            setupFieldType(context);\n\n            return new GeoShapeFieldMapper(name, fieldType, ignoreMalformed(context), coerce(context), ignoreZValue(context),\n                    context.indexSettings(), multiFieldsBuilder.build(this, context), copyTo);\n        }\n","date":"2018-04-26 03:22:53","endLine":194,"groupId":"24557","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"build","params":"(BuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/75/3d91f7be231d268afbedeb9a661f7dbe843e2d.src","preCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeoShapeFieldType geoShapeFieldType = (GeoShapeFieldType)fieldType;\n\n            if (geoShapeFieldType.treeLevels() == 0 && geoShapeFieldType.precisionInMeters() < 0) {\n                geoShapeFieldType.setDefaultDistanceErrorPct(Defaults.LEGACY_DISTANCE_ERROR_PCT);\n            }\n            setupFieldType(context);\n\n            return new GeoShapeFieldMapper(name, fieldType, ignoreMalformed(context), coerce(context), ignoreZValue(context),\n                    context.indexSettings(), multiFieldsBuilder.build(this, context), copyTo);\n        }\n","realPath":"server/src/main/java/org/elasticsearch/index/mapper/GeoShapeFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":184,"status":"N"},{"authorDate":"2020-10-01 15:27:56","commitOrder":6,"curCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            if (docValuesSet == false) {\n                hasDocValues = Version.V_7_8_0.onOrBefore(context.indexCreatedVersion());\n            }\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(buildFullName(context), indexed, fieldType.stored(),\n                hasDocValues, meta);\n            \r\n            GeometryParser geometryParser = new GeometryParser(ft.orientation().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            ft.setGeometryParser(new GeoShapeParser(geometryParser));\n            ft.setGeometryIndexer(new GeoShapeIndexer(orientation().value().getAsBoolean(), ft.name()));\n            ft.setOrientation(orientation().value());\n            return new GeoShapeWithDocValuesFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(), Version.V_7_8_0.onOrBefore(context.indexCreatedVersion()),\n                multiFieldsBuilder.build(this, context), copyTo);\n        }\n","date":"2020-10-01 15:27:56","endLine":102,"groupId":"72089","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"build","params":"(BuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/1b/ed479c281c51833368b6ba91cf3255913c4271.src","preCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            if (docValuesSet == false) {\n                hasDocValues = Version.V_7_8_0.onOrBefore(context.indexCreatedVersion());\n            }\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(buildFullName(context), indexed, fieldType.stored(),\n                hasDocValues, meta);\n            \r\n            GeometryParser geometryParser = new GeometryParser(ft.orientation().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            ft.setGeometryParser(new GeoShapeParser(geometryParser));\n            ft.setGeometryIndexer(new GeoShapeIndexer(orientation().value().getAsBoolean(), ft.name()));\n            ft.setGeometryQueryBuilder(new VectorGeoShapeQueryProcessor());\n            ft.setOrientation(orientation().value());\n            return new GeoShapeWithDocValuesFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(), Version.V_7_8_0.onOrBefore(context.indexCreatedVersion()),\n                multiFieldsBuilder.build(this, context), copyTo);\n        }\n","realPath":"x-pack/plugin/spatial/src/main/java/org/elasticsearch/xpack/spatial/index/mapper/GeoShapeWithDocValuesFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":87,"status":"M"}],"commitId":"31a77869f11538874bf15da3134d1a5658249cc6","commitMessage":"@@@Remove dependency of Geometry queries with mapped type names (#63077)\n\n It extracts the query capabilities from AbstractGeometryFieldType into two new interfaces.  GeoshapeQueryable and ShapeQueryable. Those interfaces are implemented by the final mappers.","date":"2020-10-01 15:27:56","modifiedFileCount":"19","status":"M","submitter":"Ignacio Vera"},{"authorTime":"2020-10-14 18:13:27","codes":[{"authorDate":"2020-10-14 18:13:27","commitOrder":7,"curCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeometryParser geometryParser = new GeometryParser(orientation().value().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = buildFieldType(context, geoShapeParser);\n            return new GeoShapeFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(),\n                multiFieldsBuilder.build(this, context), copyTo,\n                new GeoShapeIndexer(orientation().value().getAsBoolean(), buildFullName(context)),\n                new GeoShapeParser(new GeometryParser(orientation().value().getAsBoolean(),\n                    coerce(context).value(), ignoreZValue().value())));\n        }\n","date":"2020-10-14 18:13:27","endLine":91,"groupId":"0","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"build","params":"(BuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/1c/97c9be60c46b35bd4e4d878e373413e61b04fc.src","preCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeoShapeFieldType geoShapeFieldType = (GeoShapeFieldType)fieldType;\n\n            if (geoShapeFieldType.treeLevels() == 0 && geoShapeFieldType.precisionInMeters() < 0) {\n                geoShapeFieldType.setDefaultDistanceErrorPct(Defaults.LEGACY_DISTANCE_ERROR_PCT);\n            }\n            setupFieldType(context);\n\n            return new GeoShapeFieldMapper(name, fieldType, ignoreMalformed(context), coerce(context), ignoreZValue(context),\n                    context.indexSettings(), multiFieldsBuilder.build(this, context), copyTo);\n        }\n","realPath":"server/src/main/java/org/elasticsearch/index/mapper/GeoShapeFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":80,"status":"M"},{"authorDate":"2020-10-14 18:13:27","commitOrder":7,"curCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            if (docValuesSet == false) {\n                hasDocValues = Version.V_7_8_0.onOrBefore(context.indexCreatedVersion());\n            }\n            GeometryParser geometryParser = new GeometryParser(orientation().value().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft\n                = new GeoShapeWithDocValuesFieldType(buildFullName(context), indexed, fieldType.stored(), hasDocValues, parser, meta);\n            \r\n            ft.setOrientation(orientation().value());\n            return new GeoShapeWithDocValuesFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(), Version.V_7_8_0.onOrBefore(context.indexCreatedVersion()),\n                multiFieldsBuilder.build(this, context), copyTo,\n                new GeoShapeIndexer(orientation().value().getAsBoolean(), ft.name()), parser);\n        }\n","date":"2020-10-14 18:13:27","endLine":103,"groupId":"12232","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"build","params":"(BuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/db/93e857fba10b158c290c2ca7b211433df6354e.src","preCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            if (docValuesSet == false) {\n                hasDocValues = Version.V_7_8_0.onOrBefore(context.indexCreatedVersion());\n            }\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(buildFullName(context), indexed, fieldType.stored(),\n                hasDocValues, meta);\n            \r\n            GeometryParser geometryParser = new GeometryParser(ft.orientation().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            ft.setGeometryParser(new GeoShapeParser(geometryParser));\n            ft.setGeometryIndexer(new GeoShapeIndexer(orientation().value().getAsBoolean(), ft.name()));\n            ft.setOrientation(orientation().value());\n            return new GeoShapeWithDocValuesFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(), Version.V_7_8_0.onOrBefore(context.indexCreatedVersion()),\n                multiFieldsBuilder.build(this, context), copyTo);\n        }\n","realPath":"x-pack/plugin/spatial/src/main/java/org/elasticsearch/xpack/spatial/index/mapper/GeoShapeWithDocValuesFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":88,"status":"M"}],"commitId":"f4adb2de3871d9b4952c245fb944300c50851f94","commitMessage":"@@@Move geometry indexer to FieldMapper (#63618)\n\nIndexing and parsing of geometrical objects is handled by specialised\nGeoIndexer and GeoParser classes.  which are currently set on the FieldTypes\nfor their respective field mappers. Seeing as indexing is handled entirely\nby FieldMappers.  we should move them there instead. This allows us to\nremove the complex generics on AbstractGeometryFieldType.  and simplify\nthem on the corresponding FieldMappers as well.","date":"2020-10-14 18:13:27","modifiedFileCount":"13","status":"M","submitter":"Alan Woodward"},{"authorTime":"2020-10-22 16:11:41","codes":[{"authorDate":"2020-10-22 16:11:41","commitOrder":8,"curCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = new GeoShapeFieldType(\n                buildFullName(context),\n                indexed.get(),\n                orientation.get().value(),\n                geoShapeParser,\n                meta.get());\n            return new GeoShapeFieldMapper(name, ft, multiFieldsBuilder.build(this, context), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), buildFullName(context)),\n                geoShapeParser, this);\n        }\n","date":"2020-10-22 16:11:41","endLine":107,"groupId":"39963","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"build","params":"(BuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/5c/4b1958cad0d204c39b16b4eeaa2c4266f0947c.src","preCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeometryParser geometryParser = new GeometryParser(orientation().value().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = buildFieldType(context, geoShapeParser);\n            return new GeoShapeFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(),\n                multiFieldsBuilder.build(this, context), copyTo,\n                new GeoShapeIndexer(orientation().value().getAsBoolean(), buildFullName(context)),\n                new GeoShapeParser(new GeometryParser(orientation().value().getAsBoolean(),\n                    coerce(context).value(), ignoreZValue().value())));\n        }\n","realPath":"server/src/main/java/org/elasticsearch/index/mapper/GeoShapeFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":92,"status":"M"},{"authorDate":"2020-10-22 16:11:41","commitOrder":8,"curCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(\n                buildFullName(context),\n                indexed.get(),\n                hasDocValues.get(),\n                orientation.get().value(),\n                parser,\n                meta.get());\n            return new GeoShapeWithDocValuesFieldMapper(name, ft,\n                multiFieldsBuilder.build(this, context), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), ft.name()), parser, this);\n        }\n","date":"2020-10-22 16:11:41","endLine":117,"groupId":"4725","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"build","params":"(BuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/da/b381eb963a46d92d744f2705691035cb0ebafe.src","preCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            if (docValuesSet == false) {\n                hasDocValues = Version.V_7_8_0.onOrBefore(context.indexCreatedVersion());\n            }\n            GeometryParser geometryParser = new GeometryParser(orientation().value().getAsBoolean(), coerce().value(),\n                ignoreZValue().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft\n                = new GeoShapeWithDocValuesFieldType(buildFullName(context), indexed, fieldType.stored(), hasDocValues, parser, meta);\n            \r\n            ft.setOrientation(orientation().value());\n            return new GeoShapeWithDocValuesFieldMapper(name, fieldType, ft, ignoreMalformed(context), coerce(context),\n                ignoreZValue(), orientation(), Version.V_7_8_0.onOrBefore(context.indexCreatedVersion()),\n                multiFieldsBuilder.build(this, context), copyTo,\n                new GeoShapeIndexer(orientation().value().getAsBoolean(), ft.name()), parser);\n        }\n","realPath":"x-pack/plugin/spatial/src/main/java/org/elasticsearch/xpack/spatial/index/mapper/GeoShapeWithDocValuesFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":101,"status":"M"}],"commitId":"bfaf3040c6e5245b6d3367483ba86c676dd09bd2","commitMessage":"@@@Convert geo field mappers to Parametrized form (#63836)\n\nRelates to #62988","date":"2020-10-22 16:11:41","modifiedFileCount":"42","status":"M","submitter":"Alan Woodward"},{"authorTime":"2020-11-05 18:48:39","codes":[{"authorDate":"2020-11-05 18:48:39","commitOrder":9,"curCode":"        public GeoShapeFieldMapper build(ContentPath contentPath) {\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = new GeoShapeFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                orientation.get().value(),\n                geoShapeParser,\n                meta.get());\n            return new GeoShapeFieldMapper(name, ft, multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), buildFullName(contentPath)),\n                geoShapeParser, this);\n        }\n","date":"2020-11-05 18:48:39","endLine":107,"groupId":"51342","id":15,"instanceNumber":1,"isCurCommit":0,"methodName":"build","params":"(ContentPathcontentPath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/0e/1caa2318b44362d463239c74dff6dc8362f098.src","preCode":"        public GeoShapeFieldMapper build(BuilderContext context) {\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = new GeoShapeFieldType(\n                buildFullName(context),\n                indexed.get(),\n                orientation.get().value(),\n                geoShapeParser,\n                meta.get());\n            return new GeoShapeFieldMapper(name, ft, multiFieldsBuilder.build(this, context), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), buildFullName(context)),\n                geoShapeParser, this);\n        }\n","realPath":"server/src/main/java/org/elasticsearch/index/mapper/GeoShapeFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":92,"status":"M"},{"authorDate":"2020-11-05 18:48:39","commitOrder":9,"curCode":"        public GeoShapeWithDocValuesFieldMapper build(ContentPath contentPath) {\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                hasDocValues.get(),\n                orientation.get().value(),\n                parser,\n                meta.get());\n            return new GeoShapeWithDocValuesFieldMapper(name, ft,\n                multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), ft.name()), parser, this);\n        }\n","date":"2020-11-05 18:48:39","endLine":115,"groupId":"51342","id":16,"instanceNumber":2,"isCurCommit":0,"methodName":"build","params":"(ContentPathcontentPath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/92/356112e88a50352d19a0f6eab7b0babb60dc3a.src","preCode":"        public GeoShapeWithDocValuesFieldMapper build(BuilderContext context) {\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(\n                buildFullName(context),\n                indexed.get(),\n                hasDocValues.get(),\n                orientation.get().value(),\n                parser,\n                meta.get());\n            return new GeoShapeWithDocValuesFieldMapper(name, ft,\n                multiFieldsBuilder.build(this, context), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), ft.name()), parser, this);\n        }\n","realPath":"x-pack/plugin/spatial/src/main/java/org/elasticsearch/xpack/spatial/index/mapper/GeoShapeWithDocValuesFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":99,"status":"M"}],"commitId":"0fd70ae383620d587a36ea71baca9295da93a76a","commitMessage":"@@@Remove Mapper.BuilderContext (#64625)\n\nMapper.BuilderContext is a simple wrapper around two objects.  some\nIndexSettings and a ContentPath. The IndexSettings are the same as\nthose provided in the ParserContext.  so we can simplify things here\nby removing them and just passing ContentPath directly to\nMapper.Builder#build()","date":"2020-11-05 18:48:39","modifiedFileCount":"103","status":"M","submitter":"Alan Woodward"},{"authorTime":"2021-04-21 21:28:12","codes":[{"authorDate":"2021-04-21 21:28:12","commitOrder":10,"curCode":"        public GeoShapeFieldMapper build(ContentPath contentPath) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = new GeoShapeFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                orientation.get().value(),\n                geoShapeParser,\n                meta.get());\n            return new GeoShapeFieldMapper(name, ft, multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), buildFullName(contentPath)),\n                geoShapeParser, this);\n        }\n","date":"2021-04-21 21:28:12","endLine":111,"groupId":"51342","id":17,"instanceNumber":1,"isCurCommit":0,"methodName":"build","params":"(ContentPathcontentPath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/90/ee3cccfe666750dcc9878951d28cc9ac3864f6.src","preCode":"        public GeoShapeFieldMapper build(ContentPath contentPath) {\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = new GeoShapeFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                orientation.get().value(),\n                geoShapeParser,\n                meta.get());\n            return new GeoShapeFieldMapper(name, ft, multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), buildFullName(contentPath)),\n                geoShapeParser, this);\n        }\n","realPath":"server/src/main/java/org/elasticsearch/index/mapper/GeoShapeFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"M"},{"authorDate":"2021-04-21 21:28:12","commitOrder":10,"curCode":"        public GeoShapeWithDocValuesFieldMapper build(ContentPath contentPath) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                hasDocValues.get(),\n                orientation.get().value(),\n                parser,\n                meta.get());\n            return new GeoShapeWithDocValuesFieldMapper(name, ft,\n                multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), ft.name()), parser, this);\n        }\n","date":"2021-04-21 21:28:12","endLine":132,"groupId":"51342","id":18,"instanceNumber":2,"isCurCommit":0,"methodName":"build","params":"(ContentPathcontentPath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/b1/74910b7625e26c992cec62bb8b0bf6c6c73808.src","preCode":"        public GeoShapeWithDocValuesFieldMapper build(ContentPath contentPath) {\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                hasDocValues.get(),\n                orientation.get().value(),\n                parser,\n                meta.get());\n            return new GeoShapeWithDocValuesFieldMapper(name, ft,\n                multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), ft.name()), parser, this);\n        }\n","realPath":"x-pack/plugin/spatial/src/main/java/org/elasticsearch/xpack/spatial/index/mapper/GeoShapeWithDocValuesFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":109,"status":"M"}],"commitId":"9a86dde3572a6f3999eea75bc3ce30b965837ba3","commitMessage":"@@@Merge branch 'master' into feature/vector-tiles\n","date":"2021-04-21 21:28:12","modifiedFileCount":"1285","status":"M","submitter":"iverase"},{"authorTime":"2021-07-28 15:24:54","codes":[{"authorDate":"2021-04-21 21:28:12","commitOrder":11,"curCode":"        public GeoShapeFieldMapper build(ContentPath contentPath) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = new GeoShapeFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                orientation.get().value(),\n                geoShapeParser,\n                meta.get());\n            return new GeoShapeFieldMapper(name, ft, multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), buildFullName(contentPath)),\n                geoShapeParser, this);\n        }\n","date":"2021-04-21 21:28:12","endLine":111,"groupId":"51342","id":19,"instanceNumber":1,"isCurCommit":0,"methodName":"build","params":"(ContentPathcontentPath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/90/ee3cccfe666750dcc9878951d28cc9ac3864f6.src","preCode":"        public GeoShapeFieldMapper build(ContentPath contentPath) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = new GeoShapeFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                orientation.get().value(),\n                geoShapeParser,\n                meta.get());\n            return new GeoShapeFieldMapper(name, ft, multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), buildFullName(contentPath)),\n                geoShapeParser, this);\n        }\n","realPath":"server/src/main/java/org/elasticsearch/index/mapper/GeoShapeFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"N"},{"authorDate":"2021-07-28 15:24:54","commitOrder":11,"curCode":"        public GeoShapeWithDocValuesFieldMapper build(ContentPath contentPath) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                hasDocValues.get(),\n                orientation.get().value(),\n                parser,\n                vectorTileExtension,\n                meta.get());\n            return new GeoShapeWithDocValuesFieldMapper(name, ft,\n                multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), ft.name()), parser, this);\n        }\n","date":"2021-07-28 15:24:54","endLine":142,"groupId":"0","id":20,"instanceNumber":2,"isCurCommit":0,"methodName":"build","params":"(ContentPathcontentPath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/5d/455d497634e411acc3c9b24499d30bbaca7bfb.src","preCode":"        public GeoShapeWithDocValuesFieldMapper build(ContentPath contentPath) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                hasDocValues.get(),\n                orientation.get().value(),\n                parser,\n                meta.get());\n            return new GeoShapeWithDocValuesFieldMapper(name, ft,\n                multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), ft.name()), parser, this);\n        }\n","realPath":"x-pack/plugin/spatial/src/main/java/org/elasticsearch/xpack/spatial/index/mapper/GeoShapeWithDocValuesFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":118,"status":"M"}],"commitId":"368e2e0755120e0384e0b2a373d759d96a35d6e6","commitMessage":"@@@Add 'mvt' field type format to geo fields (#75367)\n\nIn this commit we extend the Fields API formats for geo data in order to produce vector tiles features directly \non the data nodes. That helps the vector tile API to reduce the size of the data that needs to pull in order to \ncreate the answer.","date":"2021-07-28 15:24:54","modifiedFileCount":"12","status":"M","submitter":"Ignacio Vera"},{"authorTime":"2021-08-05 09:02:50","codes":[{"authorDate":"2021-04-21 21:28:12","commitOrder":12,"curCode":"        public GeoShapeFieldMapper build(ContentPath contentPath) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = new GeoShapeFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                orientation.get().value(),\n                geoShapeParser,\n                meta.get());\n            return new GeoShapeFieldMapper(name, ft, multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), buildFullName(contentPath)),\n                geoShapeParser, this);\n        }\n","date":"2021-04-21 21:28:12","endLine":111,"groupId":"51342","id":21,"instanceNumber":1,"isCurCommit":0,"methodName":"build","params":"(ContentPathcontentPath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/90/ee3cccfe666750dcc9878951d28cc9ac3864f6.src","preCode":"        public GeoShapeFieldMapper build(ContentPath contentPath) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = new GeoShapeFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                orientation.get().value(),\n                geoShapeParser,\n                meta.get());\n            return new GeoShapeFieldMapper(name, ft, multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), buildFullName(contentPath)),\n                geoShapeParser, this);\n        }\n","realPath":"server/src/main/java/org/elasticsearch/index/mapper/GeoShapeFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"N"},{"authorDate":"2021-08-05 09:02:50","commitOrder":12,"curCode":"        public GeoShapeWithDocValuesFieldMapper build(ContentPath contentPath) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                hasDocValues.get(),\n                orientation.get().value(),\n                parser,\n                geoFormatterFactory,\n                meta.get());\n            return new GeoShapeWithDocValuesFieldMapper(name, ft,\n                multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), ft.name()), parser, this);\n        }\n","date":"2021-08-05 09:02:50","endLine":141,"groupId":"0","id":22,"instanceNumber":2,"isCurCommit":0,"methodName":"build","params":"(ContentPathcontentPath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/2e/e6b6ca75c35c6b67dbce1110810bdd574cd209.src","preCode":"        public GeoShapeWithDocValuesFieldMapper build(ContentPath contentPath) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                hasDocValues.get(),\n                orientation.get().value(),\n                parser,\n                vectorTileExtension,\n                meta.get());\n            return new GeoShapeWithDocValuesFieldMapper(name, ft,\n                multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), ft.name()), parser, this);\n        }\n","realPath":"x-pack/plugin/spatial/src/main/java/org/elasticsearch/xpack/spatial/index/mapper/GeoShapeWithDocValuesFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":117,"status":"M"}],"commitId":"07eaaeb6e4f044a093045ced81c36e3a700464e8","commitMessage":"@@@Remove MVT-specific logic from GeoFormatterFactory (#76049)\n\nGeoFormatterFactory doesn't need to know that the extension points were created\nspecifically for the purpose of generating vector tiles. We can make it support\nan arbitrary formats by moving all MVT-specific logic into formatter itself.\n\nFollow up for #75367\n","date":"2021-08-05 09:02:50","modifiedFileCount":"6","status":"M","submitter":"Igor Motov"},{"authorTime":"2021-09-08 23:34:14","codes":[{"authorDate":"2021-09-08 23:34:14","commitOrder":13,"curCode":"        public GeoShapeFieldMapper build(MapperBuilderContext context) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = new GeoShapeFieldType(\n                context.buildFullName(name),\n                indexed.get(),\n                orientation.get().value(),\n                geoShapeParser,\n                meta.get());\n            return new GeoShapeFieldMapper(name, ft, multiFieldsBuilder.build(this, context), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), context.buildFullName(name)),\n                geoShapeParser, this);\n        }\n","date":"2021-09-08 23:34:14","endLine":114,"groupId":"30811","id":23,"instanceNumber":1,"isCurCommit":0,"methodName":"build","params":"(MapperBuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/34/3d1b5bef69fcfc37e5a72c61109285238db4d9.src","preCode":"        public GeoShapeFieldMapper build(ContentPath contentPath) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = new GeoShapeFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                orientation.get().value(),\n                geoShapeParser,\n                meta.get());\n            return new GeoShapeFieldMapper(name, ft, multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), buildFullName(contentPath)),\n                geoShapeParser, this);\n        }\n","realPath":"server/src/main/java/org/elasticsearch/index/mapper/GeoShapeFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":92,"status":"M"},{"authorDate":"2021-09-08 23:34:14","commitOrder":13,"curCode":"        public GeoShapeWithDocValuesFieldMapper build(MapperBuilderContext context) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(\n                context.buildFullName(name),\n                indexed.get(),\n                hasDocValues.get(),\n                orientation.get().value(),\n                parser,\n                geoFormatterFactory,\n                meta.get());\n            return new GeoShapeWithDocValuesFieldMapper(name, ft,\n                multiFieldsBuilder.build(this, context), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), ft.name()), parser, this);\n        }\n","date":"2021-09-08 23:34:14","endLine":141,"groupId":"30811","id":24,"instanceNumber":2,"isCurCommit":0,"methodName":"build","params":"(MapperBuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/60/603f6de131a72f5ffeabbcd719bed1fb061bab.src","preCode":"        public GeoShapeWithDocValuesFieldMapper build(ContentPath contentPath) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(\n                buildFullName(contentPath),\n                indexed.get(),\n                hasDocValues.get(),\n                orientation.get().value(),\n                parser,\n                geoFormatterFactory,\n                meta.get());\n            return new GeoShapeWithDocValuesFieldMapper(name, ft,\n                multiFieldsBuilder.build(this, contentPath), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), ft.name()), parser, this);\n        }\n","realPath":"x-pack/plugin/spatial/src/main/java/org/elasticsearch/xpack/spatial/index/mapper/GeoShapeWithDocValuesFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":117,"status":"M"}],"commitId":"9312eba5ed2a4174e0ac1ce823e98f47a19b4fc1","commitMessage":"@@@Change Mapper.build() to take a context object (#77108)\n\nMapper.build() currently takes a ContentPath object that it can use to generate\nfield type names that will include its parent names. We would like to expand field types\nto include more information about their parents.  and ContentPath does not hold this\ninformation. This commit replaces the ContentPath parameter with a new\nMapperBuilderContext.  which currently holds only the content path information but\ncan be expanded in future to hold parent relationship information.\n\nRelates to #75474","date":"2021-09-08 23:34:14","modifiedFileCount":"97","status":"M","submitter":"Alan Woodward"},{"authorTime":"2021-09-09 18:23:52","codes":[{"authorDate":"2021-09-09 18:23:52","commitOrder":14,"curCode":"        public GeoShapeFieldMapper build(MapperBuilderContext context) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.critical(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = new GeoShapeFieldType(\n                context.buildFullName(name),\n                indexed.get(),\n                orientation.get().value(),\n                geoShapeParser,\n                meta.get());\n            return new GeoShapeFieldMapper(name, ft, multiFieldsBuilder.build(this, context), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), context.buildFullName(name)),\n                geoShapeParser, this);\n        }\n","date":"2021-09-09 18:23:52","endLine":114,"groupId":"107828","id":25,"instanceNumber":1,"isCurCommit":0,"methodName":"build","params":"(MapperBuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/bf/5686538e1d40d0d03dc43edd3a653804ad1008.src","preCode":"        public GeoShapeFieldMapper build(MapperBuilderContext context) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser geoShapeParser = new GeoShapeParser(geometryParser);\n            GeoShapeFieldType ft = new GeoShapeFieldType(\n                context.buildFullName(name),\n                indexed.get(),\n                orientation.get().value(),\n                geoShapeParser,\n                meta.get());\n            return new GeoShapeFieldMapper(name, ft, multiFieldsBuilder.build(this, context), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), context.buildFullName(name)),\n                geoShapeParser, this);\n        }\n","realPath":"server/src/main/java/org/elasticsearch/index/mapper/GeoShapeFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":92,"status":"M"},{"authorDate":"2021-09-09 18:23:52","commitOrder":14,"curCode":"        public GeoShapeWithDocValuesFieldMapper build(MapperBuilderContext context) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.critical(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(\n                context.buildFullName(name),\n                indexed.get(),\n                hasDocValues.get(),\n                orientation.get().value(),\n                parser,\n                geoFormatterFactory,\n                meta.get());\n            return new GeoShapeWithDocValuesFieldMapper(name, ft,\n                multiFieldsBuilder.build(this, context), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), ft.name()), parser, this);\n        }\n","date":"2021-09-09 18:23:52","endLine":141,"groupId":"107828","id":26,"instanceNumber":2,"isCurCommit":0,"methodName":"build","params":"(MapperBuilderContextcontext)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/59/3be7a72806b551cf6d18bafdb00e23ee7f6c71.src","preCode":"        public GeoShapeWithDocValuesFieldMapper build(MapperBuilderContext context) {\n            if (multiFieldsBuilder.hasMultiFields()) {\n                DEPRECATION_LOGGER.deprecate(\n                    DeprecationCategory.MAPPINGS,\n                    \"geo_shape_multifields\",\n                    \"Adding multifields to [geo_shape] mappers has no effect and will be forbidden in future\"\n                );\n            }\n            GeometryParser geometryParser = new GeometryParser(\n                orientation.get().value().getAsBoolean(),\n                coerce.get().value(),\n                ignoreZValue.get().value());\n            GeoShapeParser parser = new GeoShapeParser(geometryParser);\n            GeoShapeWithDocValuesFieldType ft = new GeoShapeWithDocValuesFieldType(\n                context.buildFullName(name),\n                indexed.get(),\n                hasDocValues.get(),\n                orientation.get().value(),\n                parser,\n                geoFormatterFactory,\n                meta.get());\n            return new GeoShapeWithDocValuesFieldMapper(name, ft,\n                multiFieldsBuilder.build(this, context), copyTo.build(),\n                new GeoShapeIndexer(orientation.get().value().getAsBoolean(), ft.name()), parser, this);\n        }\n","realPath":"x-pack/plugin/spatial/src/main/java/org/elasticsearch/xpack/spatial/index/mapper/GeoShapeWithDocValuesFieldMapper.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":117,"status":"M"}],"commitId":"0d3cebe812080ea153d124b313fb2c184c7df75b","commitMessage":"@@@Change default deprecation logger level to CRITICAL (#77030)\n\nThis commit changes default deprecation logger level to CRITICAL.  where default means deprecations emitted by DeprecationLogger#critical method.\nIt also introduces WARN deprecations which are emitted by DeprecationLogger#warn Those log lines emitted at WARN are meant to indicate that a functionality is deprecated but will not break at next major version.\nrelates #76754","date":"2021-09-09 18:23:52","modifiedFileCount":"122","status":"M","submitter":"Przemyslaw Gomulka"}]
