[{"authorTime":"2020-07-16 02:58:10","codes":[{"authorDate":"2020-07-16 02:58:10","commitOrder":1,"curCode":"    public Releasable markCoordinatingOperationStarted(long bytes) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.coordinatingRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of coordinating operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentCoordinatingBytes.getAndAdd(bytes);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalCoordinatingBytes.getAndAdd(bytes);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentCoordinatingBytes.getAndAdd(-bytes);\n        };\n    }\n","date":"2020-07-16 02:58:10","endLine":81,"groupId":"30176","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"markCoordinatingOperationStarted","params":"(longbytes)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/d3/e56362a9b9e90a85ce24dd0fee51d3be1067c8.src","preCode":"    public Releasable markCoordinatingOperationStarted(long bytes) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.coordinatingRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of coordinating operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentCoordinatingBytes.getAndAdd(bytes);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalCoordinatingBytes.getAndAdd(bytes);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentCoordinatingBytes.getAndAdd(-bytes);\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/IndexingPressure.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":58,"status":"B"},{"authorDate":"2020-07-16 02:58:10","commitOrder":1,"curCode":"    public Releasable markPrimaryOperationStarted(long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.primaryRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of primary operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentPrimaryBytes.getAndAdd(bytes);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalPrimaryBytes.getAndAdd(bytes);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentPrimaryBytes.getAndAdd(-bytes);\n        };\n    }\n","date":"2020-07-16 02:58:10","endLine":112,"groupId":"30176","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"markPrimaryOperationStarted","params":"(longbytes@booleanforceExecution)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/d3/e56362a9b9e90a85ce24dd0fee51d3be1067c8.src","preCode":"    public Releasable markPrimaryOperationStarted(long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.primaryRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of primary operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentPrimaryBytes.getAndAdd(bytes);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalPrimaryBytes.getAndAdd(bytes);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentPrimaryBytes.getAndAdd(-bytes);\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/IndexingPressure.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"B"}],"commitId":"b5e9352e34866f37ed55cfd1f42807e82a9d5f91","commitMessage":"@@@Merge branch 'master' into feature/runtime_fields\n","date":"2020-07-16 02:58:10","modifiedFileCount":"235","status":"B","submitter":"Nik Everett"},{"authorTime":"2020-07-29 01:14:40","codes":[{"authorDate":"2020-07-29 01:14:40","commitOrder":2,"curCode":"    public Releasable markCoordinatingOperationStarted(long bytes) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.coordinatingRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of coordinating operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"coordinating_operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentCoordinatingBytes.getAndAdd(bytes);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalCoordinatingBytes.getAndAdd(bytes);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentCoordinatingBytes.getAndAdd(-bytes);\n        };\n    }\n","date":"2020-07-29 01:42:59","endLine":81,"groupId":"30176","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"markCoordinatingOperationStarted","params":"(longbytes)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/9e/fc625b461a940fd124b37a064d6bf0d6a094ff.src","preCode":"    public Releasable markCoordinatingOperationStarted(long bytes) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.coordinatingRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of coordinating operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentCoordinatingBytes.getAndAdd(bytes);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalCoordinatingBytes.getAndAdd(bytes);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentCoordinatingBytes.getAndAdd(-bytes);\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/IndexingPressure.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":58,"status":"M"},{"authorDate":"2020-07-29 01:14:40","commitOrder":2,"curCode":"    public Releasable markPrimaryOperationStarted(long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.primaryRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of primary operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"primary_operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentPrimaryBytes.getAndAdd(bytes);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalPrimaryBytes.getAndAdd(bytes);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentPrimaryBytes.getAndAdd(-bytes);\n        };\n    }\n","date":"2020-07-29 01:42:59","endLine":112,"groupId":"30176","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"markPrimaryOperationStarted","params":"(longbytes@booleanforceExecution)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/9e/fc625b461a940fd124b37a064d6bf0d6a094ff.src","preCode":"    public Releasable markPrimaryOperationStarted(long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.primaryRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of primary operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentPrimaryBytes.getAndAdd(bytes);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalPrimaryBytes.getAndAdd(bytes);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentPrimaryBytes.getAndAdd(-bytes);\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/IndexingPressure.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"M"}],"commitId":"e3bbb3bed4ed9430ab43eb4a3e8276ae503c13ab","commitMessage":"@@@Merge branch 'master' into feature/runtime_fields\n","date":"2020-07-29 01:42:59","modifiedFileCount":"261","status":"M","submitter":"Nik Everett"},{"authorTime":"2020-07-29 01:14:40","codes":[{"authorDate":"2020-09-23 02:14:45","commitOrder":3,"curCode":"    public Releasable markCoordinatingOperationStarted(long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.coordinatingRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of coordinating operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"coordinating_operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentCoordinatingBytes.getAndAdd(bytes);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalCoordinatingBytes.getAndAdd(bytes);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentCoordinatingBytes.getAndAdd(-bytes);\n        };\n    }\n","date":"2020-09-23 02:14:45","endLine":81,"groupId":"30176","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"markCoordinatingOperationStarted","params":"(longbytes@booleanforceExecution)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/58/5a0b7f4571ed42dd63708e1dbfc9a113273b14.src","preCode":"    public Releasable markCoordinatingOperationStarted(long bytes) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.coordinatingRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of coordinating operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"coordinating_operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentCoordinatingBytes.getAndAdd(bytes);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalCoordinatingBytes.getAndAdd(bytes);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentCoordinatingBytes.getAndAdd(-bytes);\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/IndexingPressure.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":58,"status":"M"},{"authorDate":"2020-07-29 01:14:40","commitOrder":3,"curCode":"    public Releasable markPrimaryOperationStarted(long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.primaryRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of primary operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"primary_operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentPrimaryBytes.getAndAdd(bytes);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalPrimaryBytes.getAndAdd(bytes);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentPrimaryBytes.getAndAdd(-bytes);\n        };\n    }\n","date":"2020-07-29 01:42:59","endLine":112,"groupId":"30176","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"markPrimaryOperationStarted","params":"(longbytes@booleanforceExecution)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/9e/fc625b461a940fd124b37a064d6bf0d6a094ff.src","preCode":"    public Releasable markPrimaryOperationStarted(long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.primaryRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of primary operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"primary_operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentPrimaryBytes.getAndAdd(bytes);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalPrimaryBytes.getAndAdd(bytes);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentPrimaryBytes.getAndAdd(-bytes);\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/IndexingPressure.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"N"}],"commitId":"242083a36e02496aae9214dc41b89372022e7076","commitMessage":"@@@Dedicated threadpool for system index writes (#61655)\n\nThis commit adds a dedicated threadpool for system index write\noperations. The dedicated resources for system index writes serves as\na means to ensure that user activity does not block important system\noperations from occurring such as the management of users and roles.","date":"2020-09-23 02:14:45","modifiedFileCount":"29","status":"M","submitter":"Jay Modi"},{"authorTime":"2020-12-09 03:49:56","codes":[{"authorDate":"2020-12-09 03:49:56","commitOrder":4,"curCode":"    public Releasable markCoordinatingOperationStarted(int operations, long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.coordinatingRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of coordinating operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"coordinating_operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentCoordinatingBytes.getAndAdd(bytes);\n        currentCoordinatingOps.getAndAdd(operations);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalCoordinatingBytes.getAndAdd(bytes);\n        totalCoordinatingOps.getAndAdd(operations);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentCoordinatingBytes.getAndAdd(-bytes);\n            this.currentCoordinatingOps.getAndAdd(-operations);\n        };\n    }\n","date":"2020-12-09 03:49:56","endLine":92,"groupId":"30176","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"markCoordinatingOperationStarted","params":"(intoperations@longbytes@booleanforceExecution)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/7d/c3401b3c22188cb71ee448379048011f4fc63a.src","preCode":"    public Releasable markCoordinatingOperationStarted(long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.coordinatingRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of coordinating operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"coordinating_operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentCoordinatingBytes.getAndAdd(bytes);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalCoordinatingBytes.getAndAdd(bytes);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentCoordinatingBytes.getAndAdd(-bytes);\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/IndexingPressure.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":66,"status":"M"},{"authorDate":"2020-12-09 03:49:56","commitOrder":4,"curCode":"    public Releasable markPrimaryOperationStarted(int operations, long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.primaryRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of primary operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"primary_operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentPrimaryBytes.getAndAdd(bytes);\n        currentPrimaryOps.getAndAdd(operations);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalPrimaryBytes.getAndAdd(bytes);\n        totalPrimaryOps.getAndAdd(operations);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentPrimaryBytes.getAndAdd(-bytes);\n            this.currentPrimaryOps.getAndAdd(-operations);\n        };\n    }\n","date":"2020-12-09 03:49:56","endLine":131,"groupId":"30176","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"markPrimaryOperationStarted","params":"(intoperations@longbytes@booleanforceExecution)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/7d/c3401b3c22188cb71ee448379048011f4fc63a.src","preCode":"    public Releasable markPrimaryOperationStarted(long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.primaryRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of primary operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"primary_operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentPrimaryBytes.getAndAdd(bytes);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalPrimaryBytes.getAndAdd(bytes);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentPrimaryBytes.getAndAdd(-bytes);\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/IndexingPressure.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":105,"status":"M"}],"commitId":"c76058d0b3ca1e14ce4126ff6eb2a68b741b90f0","commitMessage":"@@@Track in-progress indexing operations (#65996)\n\nCurrently.  our indexing pressure metrics only track the number of \"bytes\"\nrelated to in-progress indexing requests. This commit introduces tracking of\nthe number of operations. Building out this metrics will add more information\nfor future monitoring and back-pressure.","date":"2020-12-09 03:49:56","modifiedFileCount":"11","status":"M","submitter":"Tim Brooks"},{"authorTime":"2021-01-20 01:48:37","codes":[{"authorDate":"2021-01-20 01:48:37","commitOrder":5,"curCode":"    public Releasable markCoordinatingOperationStarted(int operations, long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.coordinatingRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of coordinating operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"coordinating_operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentCoordinatingBytes.getAndAdd(bytes);\n        currentCoordinatingOps.getAndAdd(operations);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalCoordinatingBytes.getAndAdd(bytes);\n        totalCoordinatingOps.getAndAdd(operations);\n        return wrapReleasable(() -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentCoordinatingBytes.getAndAdd(-bytes);\n            this.currentCoordinatingOps.getAndAdd(-operations);\n        });\n    }\n","date":"2021-01-20 01:48:37","endLine":109,"groupId":"107980","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"markCoordinatingOperationStarted","params":"(intoperations@longbytes@booleanforceExecution)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/12/9efb49b4f2ace0455425b4151ea4ba0452c5d0.src","preCode":"    public Releasable markCoordinatingOperationStarted(int operations, long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.coordinatingRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of coordinating operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"coordinating_operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentCoordinatingBytes.getAndAdd(bytes);\n        currentCoordinatingOps.getAndAdd(operations);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalCoordinatingBytes.getAndAdd(bytes);\n        totalCoordinatingOps.getAndAdd(operations);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentCoordinatingBytes.getAndAdd(-bytes);\n            this.currentCoordinatingOps.getAndAdd(-operations);\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/IndexingPressure.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":83,"status":"M"},{"authorDate":"2021-01-20 01:48:37","commitOrder":5,"curCode":"    public Releasable markPrimaryOperationStarted(int operations, long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.primaryRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of primary operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"primary_operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentPrimaryBytes.getAndAdd(bytes);\n        currentPrimaryOps.getAndAdd(operations);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalPrimaryBytes.getAndAdd(bytes);\n        totalPrimaryOps.getAndAdd(operations);\n        return wrapReleasable(() -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentPrimaryBytes.getAndAdd(-bytes);\n            this.currentPrimaryOps.getAndAdd(-operations);\n        });\n    }\n","date":"2021-01-20 01:48:37","endLine":148,"groupId":"107980","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"markPrimaryOperationStarted","params":"(intoperations@longbytes@booleanforceExecution)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/12/9efb49b4f2ace0455425b4151ea4ba0452c5d0.src","preCode":"    public Releasable markPrimaryOperationStarted(int operations, long bytes, boolean forceExecution) {\n        long combinedBytes = this.currentCombinedCoordinatingAndPrimaryBytes.addAndGet(bytes);\n        long replicaWriteBytes = this.currentReplicaBytes.get();\n        long totalBytes = combinedBytes + replicaWriteBytes;\n        if (forceExecution == false && totalBytes > primaryAndCoordinatingLimits) {\n            long bytesWithoutOperation = combinedBytes - bytes;\n            long totalBytesWithoutOperation = totalBytes - bytes;\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.primaryRejections.getAndIncrement();\n            throw new EsRejectedExecutionException(\"rejected execution of primary operation [\" +\n                \"coordinating_and_primary_bytes=\" + bytesWithoutOperation + \", \" +\n                \"replica_bytes=\" + replicaWriteBytes + \", \" +\n                \"all_bytes=\" + totalBytesWithoutOperation + \", \" +\n                \"primary_operation_bytes=\" + bytes + \", \" +\n                \"max_coordinating_and_primary_bytes=\" + primaryAndCoordinatingLimits + \"]\", false);\n        }\n        currentPrimaryBytes.getAndAdd(bytes);\n        currentPrimaryOps.getAndAdd(operations);\n        totalCombinedCoordinatingAndPrimaryBytes.getAndAdd(bytes);\n        totalPrimaryBytes.getAndAdd(bytes);\n        totalPrimaryOps.getAndAdd(operations);\n        return () -> {\n            this.currentCombinedCoordinatingAndPrimaryBytes.getAndAdd(-bytes);\n            this.currentPrimaryBytes.getAndAdd(-bytes);\n            this.currentPrimaryOps.getAndAdd(-operations);\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/IndexingPressure.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":122,"status":"M"}],"commitId":"f5dfa7b4328710776e1814ee5272d1d55a4984ff","commitMessage":"@@@Ensure IndexingPressure memory is re-adjusted once (#67673)\n\nWe have seen a case where the memory of IndexingPressure was \nre-adjusted twice. With this commit.  we will log that error with a \nstack trace so that we can figure out the source of the issue.","date":"2021-01-20 01:48:37","modifiedFileCount":"2","status":"M","submitter":"Nhat Nguyen"}]
