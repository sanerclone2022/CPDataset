[{"authorTime":"2018-04-26 03:22:53","codes":[{"authorDate":"2018-04-26 03:22:53","commitOrder":1,"curCode":"    public void testBuildMissingField() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"patterns\", Collections.singletonList(\"(?<foo>\\\\w+)\"));\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[field] required property is missing\"));\n    }\n","date":"2018-04-26 03:22:53","endLine":70,"groupId":"37415","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testBuildMissingField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/4c/ac94cd5b5712ad57920f2026cbc0da9ed8bd38.src","preCode":"    public void testBuildMissingField() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"patterns\", Collections.singletonList(\"(?<foo>\\\\w+)\"));\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[field] required property is missing\"));\n    }\n","realPath":"modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GrokProcessorFactoryTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":64,"status":"B"},{"authorDate":"2018-04-26 03:22:53","commitOrder":1,"curCode":"    public void testBuildMissingPatterns() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"field\", \"foo\");\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[patterns] required property is missing\"));\n    }\n","date":"2018-04-26 03:22:53","endLine":78,"groupId":"37415","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testBuildMissingPatterns","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/4c/ac94cd5b5712ad57920f2026cbc0da9ed8bd38.src","preCode":"    public void testBuildMissingPatterns() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"field\", \"foo\");\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[patterns] required property is missing\"));\n    }\n","realPath":"modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GrokProcessorFactoryTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":72,"status":"B"}],"commitId":"d74fb9eb4559077e2d20b19a9ed62d9ff825027a","commitMessage":"@@@Opened x-pack ILM code\n","date":"2018-04-26 03:22:53","modifiedFileCount":"0","status":"B","submitter":"Tal Levy"},{"authorTime":"2018-06-12 19:52:04","codes":[{"authorDate":"2018-06-12 19:52:04","commitOrder":2,"curCode":"    public void testBuildMissingField() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap(), ThreadWatchdog.noop());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"patterns\", Collections.singletonList(\"(?<foo>\\\\w+)\"));\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[field] required property is missing\"));\n    }\n","date":"2018-06-12 19:52:04","endLine":71,"groupId":"37415","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testBuildMissingField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/f3/5fa34eec46da465c40749d388a4661ec7fdbec.src","preCode":"    public void testBuildMissingField() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"patterns\", Collections.singletonList(\"(?<foo>\\\\w+)\"));\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[field] required property is missing\"));\n    }\n","realPath":"modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GrokProcessorFactoryTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":65,"status":"M"},{"authorDate":"2018-06-12 19:52:04","commitOrder":2,"curCode":"    public void testBuildMissingPatterns() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap(), ThreadWatchdog.noop());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"field\", \"foo\");\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[patterns] required property is missing\"));\n    }\n","date":"2018-06-12 19:52:04","endLine":79,"groupId":"37415","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testBuildMissingPatterns","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/f3/5fa34eec46da465c40749d388a4661ec7fdbec.src","preCode":"    public void testBuildMissingPatterns() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"field\", \"foo\");\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[patterns] required property is missing\"));\n    }\n","realPath":"modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GrokProcessorFactoryTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"M"}],"commitId":"ff80202353eaa2dae09504c0e304824b913c3614","commitMessage":"@@@Merge branch 'master' into index-lifecycle\n","date":"2018-06-12 19:52:04","modifiedFileCount":"52","status":"M","submitter":"Colin Goodheart-Smithe"},{"authorTime":"2019-10-24 21:33:30","codes":[{"authorDate":"2019-10-24 21:33:30","commitOrder":3,"curCode":"    public void testBuildMissingField() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap(), MatcherWatchdog.noop());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"patterns\", Collections.singletonList(\"(?<foo>\\\\w+)\"));\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[field] required property is missing\"));\n    }\n","date":"2019-10-24 21:33:30","endLine":71,"groupId":"37415","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testBuildMissingField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/c7/029012da7d4c43543d087bd31a8b24b7ae5e3c.src","preCode":"    public void testBuildMissingField() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap(), ThreadWatchdog.noop());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"patterns\", Collections.singletonList(\"(?<foo>\\\\w+)\"));\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[field] required property is missing\"));\n    }\n","realPath":"modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GrokProcessorFactoryTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":65,"status":"M"},{"authorDate":"2019-10-24 21:33:30","commitOrder":3,"curCode":"    public void testBuildMissingPatterns() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap(), MatcherWatchdog.noop());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"field\", \"foo\");\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[patterns] required property is missing\"));\n    }\n","date":"2019-10-24 21:33:30","endLine":79,"groupId":"37415","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testBuildMissingPatterns","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/c7/029012da7d4c43543d087bd31a8b24b7ae5e3c.src","preCode":"    public void testBuildMissingPatterns() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap(), ThreadWatchdog.noop());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"field\", \"foo\");\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[patterns] required property is missing\"));\n    }\n","realPath":"modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GrokProcessorFactoryTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"M"}],"commitId":"12d32af6b4cde721a11d4f8d1c49128baadc840f","commitMessage":"@@@Change grok watch dog to be Matcher based instead of thread based. (#48346)\n\nThere is a watchdog in order to avoid long running (and expensive)\ngrok expressions. Currently the watchdog is thread based.  threads\nthat run grok expressions are registered and after completion unregister.\nIf these threads stay registered for too long then the watch dog interrupts\nthese threads. Joni (the library that powers grok expressions) has a\nmechanism that checks whether the current thread is interrupted and\nif so abort the pattern matching.\n\nNewer versions have an additional method to abort long running pattern\nmatching inside joni. Instead of checking the thread's interrupted flag. \njoni now also checks a volatile field that can be set via a `Matcher`\ninstance. This is more efficient method for aborting long running matches.\n(joni checks each 30k iterations whether interrupted flag is set vs.\njust checking a volatile field)\n\nRecently we upgraded to a recent joni version (#47374).  and this PR\nis a followup of that PR.\n\nThis change should also fix #43673.  since it appears when unit tests\nare ran the a test runner thread's interrupted flag may already have\nbeen set.  due to some thread reuse.","date":"2019-10-24 21:33:30","modifiedFileCount":"8","status":"M","submitter":"Martijn van Groningen"},{"authorTime":"2020-06-16 05:08:29","codes":[{"authorDate":"2020-06-16 05:08:29","commitOrder":4,"curCode":"    public void testBuildMissingField() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap(), MatcherWatchdog.noop());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"patterns\", Collections.singletonList(\"(?<foo>\\\\w+)\"));\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[field] required property is missing\"));\n    }\n","date":"2020-06-16 05:08:29","endLine":71,"groupId":"37415","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testBuildMissingField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/fc/c51e10b84f7535663ca061eaf8bc37b0321ea8.src","preCode":"    public void testBuildMissingField() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap(), MatcherWatchdog.noop());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"patterns\", Collections.singletonList(\"(?<foo>\\\\w+)\"));\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[field] required property is missing\"));\n    }\n","realPath":"modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GrokProcessorFactoryTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":65,"status":"M"},{"authorDate":"2020-06-16 05:08:29","commitOrder":4,"curCode":"    public void testBuildMissingPatterns() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap(), MatcherWatchdog.noop());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"field\", \"foo\");\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[patterns] required property is missing\"));\n    }\n","date":"2020-06-16 05:08:29","endLine":79,"groupId":"37415","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testBuildMissingPatterns","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/fc/c51e10b84f7535663ca061eaf8bc37b0321ea8.src","preCode":"    public void testBuildMissingPatterns() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap(), MatcherWatchdog.noop());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"field\", \"foo\");\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[patterns] required property is missing\"));\n    }\n","realPath":"modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GrokProcessorFactoryTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"M"}],"commitId":"69a6a18d8dc3f95001cfe6f55c1451ac616f7e84","commitMessage":"@@@Add optional description parameter to ingest processors. (#57906)\n\nThis commit adds an optional field.  `description`.  to all ingest processors\nso that users can explain the purpose of the specific processor instance.\n\nCloses #56000.","date":"2020-06-16 05:08:29","modifiedFileCount":"125","status":"M","submitter":"Tal Levy"},{"authorTime":"2021-08-31 19:40:52","codes":[{"authorDate":"2021-08-31 19:40:52","commitOrder":5,"curCode":"    public void testBuildMissingField() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(MatcherWatchdog.noop());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"patterns\", Collections.singletonList(\"(?<foo>\\\\w+)\"));\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[field] required property is missing\"));\n    }\n","date":"2021-08-31 19:40:52","endLine":60,"groupId":"10462","id":9,"instanceNumber":1,"isCurCommit":1,"methodName":"testBuildMissingField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/c9/d0c0f49e6ee500f9684cdf3ad2a529a28aa9c7.src","preCode":"    public void testBuildMissingField() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap(), MatcherWatchdog.noop());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"patterns\", Collections.singletonList(\"(?<foo>\\\\w+)\"));\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[field] required property is missing\"));\n    }\n","realPath":"modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GrokProcessorFactoryTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":54,"status":"M"},{"authorDate":"2021-08-31 19:40:52","commitOrder":5,"curCode":"    public void testBuildMissingPatterns() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(MatcherWatchdog.noop());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"field\", \"foo\");\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[patterns] required property is missing\"));\n    }\n","date":"2021-08-31 19:40:52","endLine":68,"groupId":"10462","id":10,"instanceNumber":2,"isCurCommit":1,"methodName":"testBuildMissingPatterns","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/c9/d0c0f49e6ee500f9684cdf3ad2a529a28aa9c7.src","preCode":"    public void testBuildMissingPatterns() throws Exception {\n        GrokProcessor.Factory factory = new GrokProcessor.Factory(Collections.emptyMap(), MatcherWatchdog.noop());\n        Map<String, Object> config = new HashMap<>();\n        config.put(\"field\", \"foo\");\n        ElasticsearchParseException e = expectThrows(ElasticsearchParseException.class, () -> factory.create(null, null, null, config));\n        assertThat(e.getMessage(), equalTo(\"[patterns] required property is missing\"));\n    }\n","realPath":"modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GrokProcessorFactoryTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":62,"status":"M"}],"commitId":"90d289932332bc0b90c0f557caf6296f78e8f80e","commitMessage":"@@@ECS support for Grok processor (#76885)\n\n","date":"2021-08-31 19:40:52","modifiedFileCount":"13","status":"M","submitter":"Dan Hermann"}]
