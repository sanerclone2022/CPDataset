[{"authorTime":"2020-05-05 03:03:52","codes":[{"authorDate":"2020-06-26 22:33:37","commitOrder":5,"curCode":"    public List<String> dataStreamNames(ClusterState state, IndicesOptions options, String... indexExpressions) {\n        Context context = new Context(state, options, false, false, true);\n        return Arrays.stream(indexExpressions)\n            .flatMap(expression -> WildcardExpressionResolver.matches(context, state.metadata(), expression).values().stream())\n            .filter(i -> i.getType() == IndexAbstraction.Type.DATA_STREAM)\n            .map(IndexAbstraction::getName)\n            .collect(Collectors.toList());\n    }\n","date":"2020-06-26 22:33:37","endLine":127,"groupId":"23707","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"dataStreamNames","params":"(ClusterStatestate@IndicesOptionsoptions@String...indexExpressions)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/ad/a08386376305e3ba606246cb133351e0c2a5e1.src","preCode":"    public List<String> dataStreamNames(ClusterState state, IndicesOptions options, String... indexExpressions) {\n        Context context = new Context(state, options, false, false, true);\n        return Arrays.stream(indexExpressions)\n            .flatMap(expression -> WildcardExpressionResolver.matches(context, state.metadata(), expression).values().stream())\n            .filter(i -> i.getType() == IndexAbstraction.Type.DATA_STREAM)\n            .map(IndexAbstraction::getName)\n            .collect(Collectors.toList());\n    }\n","realPath":"server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":120,"status":"B"},{"authorDate":"2020-05-05 03:03:52","commitOrder":5,"curCode":"    public Set<String> resolveExpressions(ClusterState state, String... expressions) {\n        Context context = new Context(state, IndicesOptions.lenientExpandOpen(), true, false, true);\n        List<String> resolvedExpressions = Arrays.asList(expressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            resolvedExpressions = expressionResolver.resolve(context, resolvedExpressions);\n        }\n        return Set.copyOf(resolvedExpressions);\n    }\n","date":"2020-05-05 03:03:52","endLine":389,"groupId":"56700","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"resolveExpressions","params":"(ClusterStatestate@String...expressions)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/53/d14021a58e6c7302a2d674f2630c03aefac1d5.src","preCode":"    public Set<String> resolveExpressions(ClusterState state, String... expressions) {\n        Context context = new Context(state, IndicesOptions.lenientExpandOpen(), true, false, true);\n        List<String> resolvedExpressions = Arrays.asList(expressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            resolvedExpressions = expressionResolver.resolve(context, resolvedExpressions);\n        }\n        return Set.copyOf(resolvedExpressions);\n    }\n","realPath":"server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":382,"status":"NB"}],"commitId":"cac5f29cee7572a3695e2b8d17d0a0cb7ac473dd","commitMessage":"@@@Merge branch 'master' into feature/runtime_fields\n","date":"2020-06-26 22:33:37","modifiedFileCount":"731","status":"M","submitter":"Nik Everett"},{"authorTime":"2020-05-05 03:03:52","codes":[{"authorDate":"2020-07-10 21:44:56","commitOrder":6,"curCode":"    public List<String> dataStreamNames(ClusterState state, IndicesOptions options, String... indexExpressions) {\n        Context context = new Context(state, options, false, false, true, true);\n        if (indexExpressions == null || indexExpressions.length == 0) {\n            indexExpressions = new String[]{\"*\"};\n        }\n\n        List<String> dataStreams = wildcardExpressionResolver.resolve(context, Arrays.asList(indexExpressions));\n        return ((dataStreams == null) ? List.<String>of() : dataStreams).stream()\n            .map(x -> state.metadata().getIndicesLookup().get(x))\n            .filter(Objects::nonNull)\n            .filter(ia -> ia.getType() == IndexAbstraction.Type.DATA_STREAM)\n            .map(IndexAbstraction::getName)\n            .collect(Collectors.toList());\n    }\n","date":"2020-07-10 21:44:56","endLine":126,"groupId":"40498","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"dataStreamNames","params":"(ClusterStatestate@IndicesOptionsoptions@String...indexExpressions)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/b9/e3a0345264e0f5975bf960773bfdbe7ad84c8f.src","preCode":"    public List<String> dataStreamNames(ClusterState state, IndicesOptions options, String... indexExpressions) {\n        Context context = new Context(state, options, false, false, true);\n        return Arrays.stream(indexExpressions)\n            .flatMap(expression -> WildcardExpressionResolver.matches(context, state.metadata(), expression).values().stream())\n            .filter(i -> i.getType() == IndexAbstraction.Type.DATA_STREAM)\n            .map(IndexAbstraction::getName)\n            .collect(Collectors.toList());\n    }\n","realPath":"server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":113,"status":"M"},{"authorDate":"2020-05-05 03:03:52","commitOrder":6,"curCode":"    public Set<String> resolveExpressions(ClusterState state, String... expressions) {\n        Context context = new Context(state, IndicesOptions.lenientExpandOpen(), true, false, true);\n        List<String> resolvedExpressions = Arrays.asList(expressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            resolvedExpressions = expressionResolver.resolve(context, resolvedExpressions);\n        }\n        return Set.copyOf(resolvedExpressions);\n    }\n","date":"2020-05-05 03:03:52","endLine":389,"groupId":"56700","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"resolveExpressions","params":"(ClusterStatestate@String...expressions)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/53/d14021a58e6c7302a2d674f2630c03aefac1d5.src","preCode":"    public Set<String> resolveExpressions(ClusterState state, String... expressions) {\n        Context context = new Context(state, IndicesOptions.lenientExpandOpen(), true, false, true);\n        List<String> resolvedExpressions = Arrays.asList(expressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            resolvedExpressions = expressionResolver.resolve(context, resolvedExpressions);\n        }\n        return Set.copyOf(resolvedExpressions);\n    }\n","realPath":"server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":382,"status":"N"}],"commitId":"366ca378a8644d6654417988820c67f4feb714fe","commitMessage":"@@@Merge branch 'master' into feature/runtime_fields\n","date":"2020-07-10 21:44:56","modifiedFileCount":"565","status":"M","submitter":"Luca Cavanna"},{"authorTime":"2020-10-07 01:13:48","codes":[{"authorDate":"2020-10-07 01:13:48","commitOrder":7,"curCode":"    public List<String> dataStreamNames(ClusterState state, IndicesOptions options, String... indexExpressions) {\n        \r\n        Context context = new Context(state, options, false, false, true, true, true);\n        if (indexExpressions == null || indexExpressions.length == 0) {\n            indexExpressions = new String[]{\"*\"};\n        }\n\n        List<String> dataStreams = wildcardExpressionResolver.resolve(context, Arrays.asList(indexExpressions));\n        return ((dataStreams == null) ? List.<String>of() : dataStreams).stream()\n            .map(x -> state.metadata().getIndicesLookup().get(x))\n            .filter(Objects::nonNull)\n            .filter(ia -> ia.getType() == IndexAbstraction.Type.DATA_STREAM)\n            .map(IndexAbstraction::getName)\n            .collect(Collectors.toList());\n    }\n","date":"2020-10-07 01:13:48","endLine":152,"groupId":"40498","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"dataStreamNames","params":"(ClusterStatestate@IndicesOptionsoptions@String...indexExpressions)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/13/063d5486b1d24032a423b2eb67205c5deb82c6.src","preCode":"    public List<String> dataStreamNames(ClusterState state, IndicesOptions options, String... indexExpressions) {\n        Context context = new Context(state, options, false, false, true, true);\n        if (indexExpressions == null || indexExpressions.length == 0) {\n            indexExpressions = new String[]{\"*\"};\n        }\n\n        List<String> dataStreams = wildcardExpressionResolver.resolve(context, Arrays.asList(indexExpressions));\n        return ((dataStreams == null) ? List.<String>of() : dataStreams).stream()\n            .map(x -> state.metadata().getIndicesLookup().get(x))\n            .filter(Objects::nonNull)\n            .filter(ia -> ia.getType() == IndexAbstraction.Type.DATA_STREAM)\n            .map(IndexAbstraction::getName)\n            .collect(Collectors.toList());\n    }\n","realPath":"server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":138,"status":"M"},{"authorDate":"2020-10-07 01:13:48","commitOrder":7,"curCode":"    public Set<String> resolveExpressions(ClusterState state, String... expressions) {\n        Context context = new Context(state, IndicesOptions.lenientExpandOpen(), true, false, true, isSystemIndexAccessAllowed());\n        List<String> resolvedExpressions = Arrays.asList(expressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            resolvedExpressions = expressionResolver.resolve(context, resolvedExpressions);\n        }\n        return Set.copyOf(resolvedExpressions);\n    }\n","date":"2020-10-07 01:13:48","endLine":456,"groupId":"56700","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"resolveExpressions","params":"(ClusterStatestate@String...expressions)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/13/063d5486b1d24032a423b2eb67205c5deb82c6.src","preCode":"    public Set<String> resolveExpressions(ClusterState state, String... expressions) {\n        Context context = new Context(state, IndicesOptions.lenientExpandOpen(), true, false, true);\n        List<String> resolvedExpressions = Arrays.asList(expressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            resolvedExpressions = expressionResolver.resolve(context, resolvedExpressions);\n        }\n        return Set.copyOf(resolvedExpressions);\n    }\n","realPath":"server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":449,"status":"M"}],"commitId":"91f4b58bf71249cf81562bd6069c64aafa46591b","commitMessage":"@@@Deprecate REST access to System Indices (#60945)\n\nThis PR adds deprecation warnings when accessing System Indices via the REST layer. At this time.  these warnings are only enabled for Snapshot builds by default.  to allow projects external to Elasticsearch additional time to adjust their access patterns.\n\nDeprecation warnings will be triggered by all REST requests which access registered System Indices.  except for purpose-specific APIs which access System Indices as an implementation detail a few specific APIs which will continue to allow access to system indices by default:\n\n- `GET _cluster/health`\n- `GET {index}/_recovery`\n- `GET _cluster/allocation/explain`\n- `GET _cluster/state`\n- `POST _cluster/reroute`\n- `GET {index}/_stats`\n- `GET {index}/_segments`\n- `GET {index}/_shard_stores`\n- `GET _cat/[indices. aliases. health. recovery. shards. segments]`\n\nDeprecation warnings for accessing system indices take the form:\n```\nthis request accesses system indices: [.some_system_index].  but in a future major version.  direct access to system indices will be prevented by default\n```","date":"2020-10-07 01:13:48","modifiedFileCount":"132","status":"M","submitter":"Gordon Brown"},{"authorTime":"2021-03-02 01:38:53","codes":[{"authorDate":"2021-03-02 01:38:53","commitOrder":8,"curCode":"    public List<String> dataStreamNames(ClusterState state, IndicesOptions options, String... indexExpressions) {\n        \r\n        Context context = new Context(state, options, false, false, true, true, SystemIndexAccessLevel.ALL);\n        if (indexExpressions == null || indexExpressions.length == 0) {\n            indexExpressions = new String[]{\"*\"};\n        }\n\n        List<String> dataStreams = wildcardExpressionResolver.resolve(context, Arrays.asList(indexExpressions));\n        return ((dataStreams == null) ? List.<String>of() : dataStreams).stream()\n            .map(x -> state.metadata().getIndicesLookup().get(x))\n            .filter(Objects::nonNull)\n            .filter(ia -> ia.getType() == IndexAbstraction.Type.DATA_STREAM)\n            .map(IndexAbstraction::getName)\n            .collect(Collectors.toList());\n    }\n","date":"2021-03-02 01:38:53","endLine":152,"groupId":"40498","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"dataStreamNames","params":"(ClusterStatestate@IndicesOptionsoptions@String...indexExpressions)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/dd/020d92108be578edd9d2e882d05e366cb1141f.src","preCode":"    public List<String> dataStreamNames(ClusterState state, IndicesOptions options, String... indexExpressions) {\n        \r\n        Context context = new Context(state, options, false, false, true, true, true);\n        if (indexExpressions == null || indexExpressions.length == 0) {\n            indexExpressions = new String[]{\"*\"};\n        }\n\n        List<String> dataStreams = wildcardExpressionResolver.resolve(context, Arrays.asList(indexExpressions));\n        return ((dataStreams == null) ? List.<String>of() : dataStreams).stream()\n            .map(x -> state.metadata().getIndicesLookup().get(x))\n            .filter(Objects::nonNull)\n            .filter(ia -> ia.getType() == IndexAbstraction.Type.DATA_STREAM)\n            .map(IndexAbstraction::getName)\n            .collect(Collectors.toList());\n    }\n","realPath":"server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":138,"status":"M"},{"authorDate":"2021-03-02 01:38:53","commitOrder":8,"curCode":"    public Set<String> resolveExpressions(ClusterState state, String... expressions) {\n        Context context = new Context(state, IndicesOptions.lenientExpandOpen(), true, false, true, getSystemIndexAccessLevel());\n        List<String> resolvedExpressions = Arrays.asList(expressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            resolvedExpressions = expressionResolver.resolve(context, resolvedExpressions);\n        }\n        return Set.copyOf(resolvedExpressions);\n    }\n","date":"2021-03-02 01:38:53","endLine":470,"groupId":"56700","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"resolveExpressions","params":"(ClusterStatestate@String...expressions)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/dd/020d92108be578edd9d2e882d05e366cb1141f.src","preCode":"    public Set<String> resolveExpressions(ClusterState state, String... expressions) {\n        Context context = new Context(state, IndicesOptions.lenientExpandOpen(), true, false, true, isSystemIndexAccessAllowed());\n        List<String> resolvedExpressions = Arrays.asList(expressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            resolvedExpressions = expressionResolver.resolve(context, resolvedExpressions);\n        }\n        return Set.copyOf(resolvedExpressions);\n    }\n","realPath":"server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":463,"status":"M"}],"commitId":"1487a5a991e78dc17eebb349b105409b51b63b36","commitMessage":"@@@Introduce system index types including external (#68919)\n\nThis commit introduces system index types that will be used to\ndifferentiate behavior. Previously system indices were all treated the\nsame regardless of whether they belonged to Elasticsearch.  a stack\ncomponent.  or one of our solutions. Upon further discussion and\nanalysis this decision was not in the best interest of the various\nteams and instead a new type of system index was needed. These system\nindices will be referred to as external system indices. Within external\nsystem indices.  an option exists for these indices to be managed by\nElasticsearch or to be managed by the external product.\n\nIn order to represent this within Elasticsearch.  each system index will\nhave a type and this type will be used to control behavior.\n\nCloses #67383","date":"2021-03-02 01:38:53","modifiedFileCount":"87","status":"M","submitter":"Jay Modi"},{"authorTime":"2021-04-21 21:28:12","codes":[{"authorDate":"2021-04-21 21:28:12","commitOrder":9,"curCode":"    public List<String> dataStreamNames(ClusterState state, IndicesOptions options, String... indexExpressions) {\n        Context context = new Context(state, options, false, false, true, true, getSystemIndexAccessPredicate());\n        if (indexExpressions == null || indexExpressions.length == 0) {\n            indexExpressions = new String[]{\"*\"};\n        }\n\n        List<String> dataStreams = wildcardExpressionResolver.resolve(context, Arrays.asList(indexExpressions));\n        return ((dataStreams == null) ? List.<String>of() : dataStreams).stream()\n            .map(x -> state.metadata().getIndicesLookup().get(x))\n            .filter(Objects::nonNull)\n            .filter(ia -> ia.getType() == IndexAbstraction.Type.DATA_STREAM)\n            .map(IndexAbstraction::getName)\n            .collect(Collectors.toList());\n    }\n","date":"2021-04-21 21:28:12","endLine":150,"groupId":"40498","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"dataStreamNames","params":"(ClusterStatestate@IndicesOptionsoptions@String...indexExpressions)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/03/2013732a8c3635820234ea2963d40785a1b3fd.src","preCode":"    public List<String> dataStreamNames(ClusterState state, IndicesOptions options, String... indexExpressions) {\n        \r\n        Context context = new Context(state, options, false, false, true, true, SystemIndexAccessLevel.ALL);\n        if (indexExpressions == null || indexExpressions.length == 0) {\n            indexExpressions = new String[]{\"*\"};\n        }\n\n        List<String> dataStreams = wildcardExpressionResolver.resolve(context, Arrays.asList(indexExpressions));\n        return ((dataStreams == null) ? List.<String>of() : dataStreams).stream()\n            .map(x -> state.metadata().getIndicesLookup().get(x))\n            .filter(Objects::nonNull)\n            .filter(ia -> ia.getType() == IndexAbstraction.Type.DATA_STREAM)\n            .map(IndexAbstraction::getName)\n            .collect(Collectors.toList());\n    }\n","realPath":"server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":137,"status":"M"},{"authorDate":"2021-04-21 21:28:12","commitOrder":9,"curCode":"    public Set<String> resolveExpressions(ClusterState state, String... expressions) {\n        Context context = new Context(state, IndicesOptions.lenientExpandOpen(), true, false, true, getSystemIndexAccessPredicate());\n        List<String> resolvedExpressions = Arrays.asList(expressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            resolvedExpressions = expressionResolver.resolve(context, resolvedExpressions);\n        }\n        return Set.copyOf(resolvedExpressions);\n    }\n","date":"2021-04-21 21:28:12","endLine":483,"groupId":"56700","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"resolveExpressions","params":"(ClusterStatestate@String...expressions)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/03/2013732a8c3635820234ea2963d40785a1b3fd.src","preCode":"    public Set<String> resolveExpressions(ClusterState state, String... expressions) {\n        Context context = new Context(state, IndicesOptions.lenientExpandOpen(), true, false, true, getSystemIndexAccessLevel());\n        List<String> resolvedExpressions = Arrays.asList(expressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            resolvedExpressions = expressionResolver.resolve(context, resolvedExpressions);\n        }\n        return Set.copyOf(resolvedExpressions);\n    }\n","realPath":"server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":476,"status":"M"}],"commitId":"9a86dde3572a6f3999eea75bc3ce30b965837ba3","commitMessage":"@@@Merge branch 'master' into feature/vector-tiles\n","date":"2021-04-21 21:28:12","modifiedFileCount":"1285","status":"M","submitter":"iverase"},{"authorTime":"2021-04-21 21:28:12","codes":[{"authorDate":"2021-05-12 20:50:26","commitOrder":10,"curCode":"    public List<String> dataStreamNames(ClusterState state, IndicesOptions options, String... indexExpressions) {\n        Context context = new Context(state, options, false, false, true, true, getSystemIndexAccessPredicate());\n        if (indexExpressions == null || indexExpressions.length == 0) {\n            indexExpressions = new String[]{\"*\"};\n        }\n\n        List<String> expressions = Arrays.asList(indexExpressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            expressions = expressionResolver.resolve(context, expressions);\n        }\n        return ((expressions == null) ? List.<String>of() : expressions).stream()\n            .map(x -> state.metadata().getIndicesLookup().get(x))\n            .filter(Objects::nonNull)\n            .filter(ia -> ia.getType() == IndexAbstraction.Type.DATA_STREAM)\n            .map(IndexAbstraction::getName)\n            .collect(Collectors.toList());\n    }\n","date":"2021-05-12 20:50:26","endLine":153,"groupId":"40498","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"dataStreamNames","params":"(ClusterStatestate@IndicesOptionsoptions@String...indexExpressions)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/df/ccdf8647896329896ad6275316fa470117fe8c.src","preCode":"    public List<String> dataStreamNames(ClusterState state, IndicesOptions options, String... indexExpressions) {\n        Context context = new Context(state, options, false, false, true, true, getSystemIndexAccessPredicate());\n        if (indexExpressions == null || indexExpressions.length == 0) {\n            indexExpressions = new String[]{\"*\"};\n        }\n\n        List<String> dataStreams = wildcardExpressionResolver.resolve(context, Arrays.asList(indexExpressions));\n        return ((dataStreams == null) ? List.<String>of() : dataStreams).stream()\n            .map(x -> state.metadata().getIndicesLookup().get(x))\n            .filter(Objects::nonNull)\n            .filter(ia -> ia.getType() == IndexAbstraction.Type.DATA_STREAM)\n            .map(IndexAbstraction::getName)\n            .collect(Collectors.toList());\n    }\n","realPath":"server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":137,"status":"M"},{"authorDate":"2021-04-21 21:28:12","commitOrder":10,"curCode":"    public Set<String> resolveExpressions(ClusterState state, String... expressions) {\n        Context context = new Context(state, IndicesOptions.lenientExpandOpen(), true, false, true, getSystemIndexAccessPredicate());\n        List<String> resolvedExpressions = Arrays.asList(expressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            resolvedExpressions = expressionResolver.resolve(context, resolvedExpressions);\n        }\n        return Set.copyOf(resolvedExpressions);\n    }\n","date":"2021-04-21 21:28:12","endLine":483,"groupId":"56700","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"resolveExpressions","params":"(ClusterStatestate@String...expressions)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/03/2013732a8c3635820234ea2963d40785a1b3fd.src","preCode":"    public Set<String> resolveExpressions(ClusterState state, String... expressions) {\n        Context context = new Context(state, IndicesOptions.lenientExpandOpen(), true, false, true, getSystemIndexAccessPredicate());\n        List<String> resolvedExpressions = Arrays.asList(expressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            resolvedExpressions = expressionResolver.resolve(context, resolvedExpressions);\n        }\n        return Set.copyOf(resolvedExpressions);\n    }\n","realPath":"server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":476,"status":"N"}],"commitId":"4528e780c48ada91fd452b9c51dc1a37772c5f07","commitMessage":"@@@Merge branch 'master' into feature/vector-tiles\n\n# Conflicts:\n#\tx-pack/plugin/spatial/build.gradle\n#\tx-pack/plugin/spatial/src/main/java/org/elasticsearch/xpack/spatial/SpatialPlugin.java\n","date":"2021-05-12 20:50:26","modifiedFileCount":"564","status":"M","submitter":"iverase"},{"authorTime":"2021-06-25 02:13:57","codes":[{"authorDate":"2021-06-25 02:13:57","commitOrder":11,"curCode":"    public List<String> dataStreamNames(ClusterState state, IndicesOptions options, String... indexExpressions) {\n        Context context = new Context(state, options, false, false, true, true, getSystemIndexAccessLevel(),\n            getSystemIndexAccessPredicate(), getNetNewSystemIndexPredicate());\n        if (indexExpressions == null || indexExpressions.length == 0) {\n            indexExpressions = new String[]{\"*\"};\n        }\n\n        List<String> expressions = Arrays.asList(indexExpressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            expressions = expressionResolver.resolve(context, expressions);\n        }\n        return ((expressions == null) ? List.<String>of() : expressions).stream()\n            .map(x -> state.metadata().getIndicesLookup().get(x))\n            .filter(Objects::nonNull)\n            .filter(ia -> ia.getType() == IndexAbstraction.Type.DATA_STREAM)\n            .map(IndexAbstraction::getName)\n            .collect(Collectors.toList());\n    }\n","date":"2021-06-25 02:13:57","endLine":157,"groupId":"107578","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"dataStreamNames","params":"(ClusterStatestate@IndicesOptionsoptions@String...indexExpressions)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/98/ae92800f87864129769022f5b7c7a9509ee6fa.src","preCode":"    public List<String> dataStreamNames(ClusterState state, IndicesOptions options, String... indexExpressions) {\n        Context context = new Context(state, options, false, false, true, true, getSystemIndexAccessPredicate());\n        if (indexExpressions == null || indexExpressions.length == 0) {\n            indexExpressions = new String[]{\"*\"};\n        }\n\n        List<String> expressions = Arrays.asList(indexExpressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            expressions = expressionResolver.resolve(context, expressions);\n        }\n        return ((expressions == null) ? List.<String>of() : expressions).stream()\n            .map(x -> state.metadata().getIndicesLookup().get(x))\n            .filter(Objects::nonNull)\n            .filter(ia -> ia.getType() == IndexAbstraction.Type.DATA_STREAM)\n            .map(IndexAbstraction::getName)\n            .collect(Collectors.toList());\n    }\n","realPath":"server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":140,"status":"M"},{"authorDate":"2021-06-25 02:13:57","commitOrder":11,"curCode":"    public Set<String> resolveExpressions(ClusterState state, String... expressions) {\n        Context context = new Context(state, IndicesOptions.lenientExpandOpen(), true, false, true, getSystemIndexAccessLevel(),\n            getSystemIndexAccessPredicate(), getNetNewSystemIndexPredicate());\n        List<String> resolvedExpressions = Arrays.asList(expressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            resolvedExpressions = expressionResolver.resolve(context, resolvedExpressions);\n        }\n        return Set.copyOf(resolvedExpressions);\n    }\n","date":"2021-06-25 02:13:57","endLine":500,"groupId":"107578","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"resolveExpressions","params":"(ClusterStatestate@String...expressions)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/98/ae92800f87864129769022f5b7c7a9509ee6fa.src","preCode":"    public Set<String> resolveExpressions(ClusterState state, String... expressions) {\n        Context context = new Context(state, IndicesOptions.lenientExpandOpen(), true, false, true, getSystemIndexAccessPredicate());\n        List<String> resolvedExpressions = Arrays.asList(expressions);\n        for (ExpressionResolver expressionResolver : expressionResolvers) {\n            resolvedExpressions = expressionResolver.resolve(context, resolvedExpressions);\n        }\n        return Set.copyOf(resolvedExpressions);\n    }\n","realPath":"server/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":492,"status":"M"}],"commitId":"d4afd6a216ff786da2887afe388d9638816927ed","commitMessage":"@@@Protect newly introduced system indices fully (#74186)\n\nThis change updates the way we handle net new system indices.  which are\nthose that have been newly introduced and do not require any BWC\nguarantees around non-system access. These indices will not be included\nin wildcard expansions for user searches and operations. Direct access\nto these indices will also not be allowed for user searches.\n\nThe first index of this type is the GeoIp index.  which this change sets\nthe new flag on.\n\nCloses #72572","date":"2021-06-25 02:13:57","modifiedFileCount":"17","status":"M","submitter":"Jay Modi"}]
