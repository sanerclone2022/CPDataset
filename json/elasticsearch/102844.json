[{"authorTime":"2018-04-26 03:22:53","codes":[{"authorDate":"2018-04-26 03:22:53","commitOrder":1,"curCode":"    public void testDynamicDottedFieldNameLongArrayWithExistingParent() throws Exception {\n        DocumentMapperParser mapperParser = createIndex(\"test\").mapperService().documentMapperParser();\n        String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\")\n            .startObject(\"properties\") .startObject(\"foo\")\n            .field(\"type\", \"object\")\n            .endObject().endObject().endObject().endObject());\n        DocumentMapper mapper = mapperParser.parse(\"type\", new CompressedXContent(mapping));\n\n        BytesReference bytes = BytesReference.bytes(XContentFactory.jsonBuilder()\n                .startObject().startArray(\"foo.bar.baz\")\n                .value(0)\n                .value(1)\n            .endArray().endObject());\n        ParsedDocument doc = mapper.parse(SourceToParse.source(\"test\", \"type\", \"1\", bytes, XContentType.JSON));\n        assertEquals(4, doc.rootDoc().getFields(\"foo.bar.baz\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(NumberFieldMapper.class));\n    }\n","date":"2018-04-26 03:22:53","endLine":688,"groupId":"61109","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testDynamicDottedFieldNameLongArrayWithExistingParent","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/11/f69c738e949d93045fcd94f9dee0b99ddc0359.src","preCode":"    public void testDynamicDottedFieldNameLongArrayWithExistingParent() throws Exception {\n        DocumentMapperParser mapperParser = createIndex(\"test\").mapperService().documentMapperParser();\n        String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\")\n            .startObject(\"properties\") .startObject(\"foo\")\n            .field(\"type\", \"object\")\n            .endObject().endObject().endObject().endObject());\n        DocumentMapper mapper = mapperParser.parse(\"type\", new CompressedXContent(mapping));\n\n        BytesReference bytes = BytesReference.bytes(XContentFactory.jsonBuilder()\n                .startObject().startArray(\"foo.bar.baz\")\n                .value(0)\n                .value(1)\n            .endArray().endObject());\n        ParsedDocument doc = mapper.parse(SourceToParse.source(\"test\", \"type\", \"1\", bytes, XContentType.JSON));\n        assertEquals(4, doc.rootDoc().getFields(\"foo.bar.baz\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(NumberFieldMapper.class));\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":664,"status":"B"},{"authorDate":"2018-04-26 03:22:53","commitOrder":1,"curCode":"    public void testDynamicDottedFieldNameObject() throws Exception {\n        DocumentMapperParser mapperParser = createIndex(\"test\").mapperService().documentMapperParser();\n        String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\")\n            .endObject().endObject());\n        DocumentMapper mapper = mapperParser.parse(\"type\", new CompressedXContent(mapping));\n\n        BytesReference bytes = BytesReference.bytes(XContentFactory.jsonBuilder()\n            .startObject().startObject(\"foo.bar.baz\")\n                .field(\"a\", 0)\n            .endObject().endObject());\n        ParsedDocument doc = mapper.parse(SourceToParse.source(\"test\", \"type\", \"1\", bytes, XContentType.JSON));\n        assertEquals(2, doc.rootDoc().getFields(\"foo.bar.baz.a\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(ObjectMapper.class));\n        Mapper aMapper = ((ObjectMapper) bazMapper).getMapper(\"a\");\n        assertNotNull(aMapper);\n        assertThat(aMapper, instanceOf(NumberFieldMapper.class));\n    }\n","date":"2018-04-26 03:22:53","endLine":879,"groupId":"66652","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testDynamicDottedFieldNameObject","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/11/f69c738e949d93045fcd94f9dee0b99ddc0359.src","preCode":"    public void testDynamicDottedFieldNameObject() throws Exception {\n        DocumentMapperParser mapperParser = createIndex(\"test\").mapperService().documentMapperParser();\n        String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\")\n            .endObject().endObject());\n        DocumentMapper mapper = mapperParser.parse(\"type\", new CompressedXContent(mapping));\n\n        BytesReference bytes = BytesReference.bytes(XContentFactory.jsonBuilder()\n            .startObject().startObject(\"foo.bar.baz\")\n                .field(\"a\", 0)\n            .endObject().endObject());\n        ParsedDocument doc = mapper.parse(SourceToParse.source(\"test\", \"type\", \"1\", bytes, XContentType.JSON));\n        assertEquals(2, doc.rootDoc().getFields(\"foo.bar.baz.a\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(ObjectMapper.class));\n        Mapper aMapper = ((ObjectMapper) bazMapper).getMapper(\"a\");\n        assertNotNull(aMapper);\n        assertThat(aMapper, instanceOf(NumberFieldMapper.class));\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":855,"status":"B"}],"commitId":"d74fb9eb4559077e2d20b19a9ed62d9ff825027a","commitMessage":"@@@Opened x-pack ILM code\n","date":"2018-04-26 03:22:53","modifiedFileCount":"0","status":"B","submitter":"Tal Levy"},{"authorTime":"2018-12-25 03:06:50","codes":[{"authorDate":"2018-12-25 03:06:50","commitOrder":2,"curCode":"    public void testDynamicDottedFieldNameLongArrayWithExistingParent() throws Exception {\n        DocumentMapperParser mapperParser = createIndex(\"test\").mapperService().documentMapperParser();\n        String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\")\n            .startObject(\"properties\") .startObject(\"foo\")\n            .field(\"type\", \"object\")\n            .endObject().endObject().endObject().endObject());\n        DocumentMapper mapper = mapperParser.parse(\"type\", new CompressedXContent(mapping));\n\n        BytesReference bytes = BytesReference.bytes(XContentFactory.jsonBuilder()\n                .startObject().startArray(\"foo.bar.baz\")\n                .value(0)\n                .value(1)\n            .endArray().endObject());\n        ParsedDocument doc = mapper.parse(new SourceToParse(\"test\", \"type\", \"1\", bytes, XContentType.JSON));\n        assertEquals(4, doc.rootDoc().getFields(\"foo.bar.baz\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(NumberFieldMapper.class));\n    }\n","date":"2018-12-25 03:06:50","endLine":734,"groupId":"61109","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testDynamicDottedFieldNameLongArrayWithExistingParent","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/ff/db93474c0e954401f67f66f5529d7452db700a.src","preCode":"    public void testDynamicDottedFieldNameLongArrayWithExistingParent() throws Exception {\n        DocumentMapperParser mapperParser = createIndex(\"test\").mapperService().documentMapperParser();\n        String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\")\n            .startObject(\"properties\") .startObject(\"foo\")\n            .field(\"type\", \"object\")\n            .endObject().endObject().endObject().endObject());\n        DocumentMapper mapper = mapperParser.parse(\"type\", new CompressedXContent(mapping));\n\n        BytesReference bytes = BytesReference.bytes(XContentFactory.jsonBuilder()\n                .startObject().startArray(\"foo.bar.baz\")\n                .value(0)\n                .value(1)\n            .endArray().endObject());\n        ParsedDocument doc = mapper.parse(SourceToParse.source(\"test\", \"type\", \"1\", bytes, XContentType.JSON));\n        assertEquals(4, doc.rootDoc().getFields(\"foo.bar.baz\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(NumberFieldMapper.class));\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":710,"status":"M"},{"authorDate":"2018-12-25 03:06:50","commitOrder":2,"curCode":"    public void testDynamicDottedFieldNameObject() throws Exception {\n        DocumentMapperParser mapperParser = createIndex(\"test\").mapperService().documentMapperParser();\n        String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\")\n            .endObject().endObject());\n        DocumentMapper mapper = mapperParser.parse(\"type\", new CompressedXContent(mapping));\n\n        BytesReference bytes = BytesReference.bytes(XContentFactory.jsonBuilder()\n            .startObject().startObject(\"foo.bar.baz\")\n                .field(\"a\", 0)\n            .endObject().endObject());\n        ParsedDocument doc = mapper.parse(new SourceToParse(\"test\", \"type\", \"1\", bytes, XContentType.JSON));\n        assertEquals(2, doc.rootDoc().getFields(\"foo.bar.baz.a\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(ObjectMapper.class));\n        Mapper aMapper = ((ObjectMapper) bazMapper).getMapper(\"a\");\n        assertNotNull(aMapper);\n        assertThat(aMapper, instanceOf(NumberFieldMapper.class));\n    }\n","date":"2018-12-25 03:06:50","endLine":929,"groupId":"66652","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testDynamicDottedFieldNameObject","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/ff/db93474c0e954401f67f66f5529d7452db700a.src","preCode":"    public void testDynamicDottedFieldNameObject() throws Exception {\n        DocumentMapperParser mapperParser = createIndex(\"test\").mapperService().documentMapperParser();\n        String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\")\n            .endObject().endObject());\n        DocumentMapper mapper = mapperParser.parse(\"type\", new CompressedXContent(mapping));\n\n        BytesReference bytes = BytesReference.bytes(XContentFactory.jsonBuilder()\n            .startObject().startObject(\"foo.bar.baz\")\n                .field(\"a\", 0)\n            .endObject().endObject());\n        ParsedDocument doc = mapper.parse(SourceToParse.source(\"test\", \"type\", \"1\", bytes, XContentType.JSON));\n        assertEquals(2, doc.rootDoc().getFields(\"foo.bar.baz.a\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(ObjectMapper.class));\n        Mapper aMapper = ((ObjectMapper) bazMapper).getMapper(\"a\");\n        assertNotNull(aMapper);\n        assertThat(aMapper, instanceOf(NumberFieldMapper.class));\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":905,"status":"M"}],"commitId":"7580d9d925d864b25466d693637b3bd3092d44cf","commitMessage":"@@@Make SourceToParse immutable (#36971)\n\nToday the routing of a SourceToParse is assigned in a separate step\nafter the object is created. We can easily forget to set the routing.\nWith this commit.  the routing must be provided in the constructor of\nSourceToParse.\n\nRelates #36921","date":"2018-12-25 03:06:50","modifiedFileCount":"66","status":"M","submitter":"Nhat Nguyen"},{"authorTime":"2019-10-15 16:05:29","codes":[{"authorDate":"2019-10-15 16:05:29","commitOrder":3,"curCode":"    public void testDynamicDottedFieldNameLongArrayWithExistingParent() throws Exception {\n        DocumentMapperParser mapperParser = createIndex(\"test\").mapperService().documentMapperParser();\n        String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\")\n            .startObject(\"properties\") .startObject(\"foo\")\n            .field(\"type\", \"object\")\n            .endObject().endObject().endObject().endObject());\n        DocumentMapper mapper = mapperParser.parse(\"type\", new CompressedXContent(mapping));\n\n        BytesReference bytes = BytesReference.bytes(XContentFactory.jsonBuilder()\n                .startObject().startArray(\"foo.bar.baz\")\n                .value(0)\n                .value(1)\n            .endArray().endObject());\n        ParsedDocument doc = mapper.parse(new SourceToParse(\"test\", \"1\", bytes, XContentType.JSON));\n        assertEquals(4, doc.rootDoc().getFields(\"foo.bar.baz\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(NumberFieldMapper.class));\n    }\n","date":"2019-10-15 16:05:29","endLine":844,"groupId":"61109","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testDynamicDottedFieldNameLongArrayWithExistingParent","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/d8/8518d073d058bcafb3785a743b3df978586b3d.src","preCode":"    public void testDynamicDottedFieldNameLongArrayWithExistingParent() throws Exception {\n        DocumentMapperParser mapperParser = createIndex(\"test\").mapperService().documentMapperParser();\n        String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\")\n            .startObject(\"properties\") .startObject(\"foo\")\n            .field(\"type\", \"object\")\n            .endObject().endObject().endObject().endObject());\n        DocumentMapper mapper = mapperParser.parse(\"type\", new CompressedXContent(mapping));\n\n        BytesReference bytes = BytesReference.bytes(XContentFactory.jsonBuilder()\n                .startObject().startArray(\"foo.bar.baz\")\n                .value(0)\n                .value(1)\n            .endArray().endObject());\n        ParsedDocument doc = mapper.parse(new SourceToParse(\"test\", \"type\", \"1\", bytes, XContentType.JSON));\n        assertEquals(4, doc.rootDoc().getFields(\"foo.bar.baz\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(NumberFieldMapper.class));\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":820,"status":"M"},{"authorDate":"2019-10-15 16:05:29","commitOrder":3,"curCode":"    public void testDynamicDottedFieldNameObject() throws Exception {\n        DocumentMapperParser mapperParser = createIndex(\"test\").mapperService().documentMapperParser();\n        String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\")\n            .endObject().endObject());\n        DocumentMapper mapper = mapperParser.parse(\"type\", new CompressedXContent(mapping));\n\n        BytesReference bytes = BytesReference.bytes(XContentFactory.jsonBuilder()\n            .startObject().startObject(\"foo.bar.baz\")\n                .field(\"a\", 0)\n            .endObject().endObject());\n        ParsedDocument doc = mapper.parse(new SourceToParse(\"test\", \"1\", bytes, XContentType.JSON));\n        assertEquals(2, doc.rootDoc().getFields(\"foo.bar.baz.a\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(ObjectMapper.class));\n        Mapper aMapper = ((ObjectMapper) bazMapper).getMapper(\"a\");\n        assertNotNull(aMapper);\n        assertThat(aMapper, instanceOf(NumberFieldMapper.class));\n    }\n","date":"2019-10-15 16:05:29","endLine":1039,"groupId":"66652","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testDynamicDottedFieldNameObject","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/d8/8518d073d058bcafb3785a743b3df978586b3d.src","preCode":"    public void testDynamicDottedFieldNameObject() throws Exception {\n        DocumentMapperParser mapperParser = createIndex(\"test\").mapperService().documentMapperParser();\n        String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\")\n            .endObject().endObject());\n        DocumentMapper mapper = mapperParser.parse(\"type\", new CompressedXContent(mapping));\n\n        BytesReference bytes = BytesReference.bytes(XContentFactory.jsonBuilder()\n            .startObject().startObject(\"foo.bar.baz\")\n                .field(\"a\", 0)\n            .endObject().endObject());\n        ParsedDocument doc = mapper.parse(new SourceToParse(\"test\", \"type\", \"1\", bytes, XContentType.JSON));\n        assertEquals(2, doc.rootDoc().getFields(\"foo.bar.baz.a\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(ObjectMapper.class));\n        Mapper aMapper = ((ObjectMapper) bazMapper).getMapper(\"a\");\n        assertNotNull(aMapper);\n        assertThat(aMapper, instanceOf(NumberFieldMapper.class));\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":1015,"status":"M"}],"commitId":"6531369f11d159896957b75a7eae0b7da214d01a","commitMessage":"@@@Don't persist type information to translog (#47229)\n\nWe no longer need to store type information in the translog.  given that an index\ncan only have a single type.\n\nRelates to #41059","date":"2019-10-15 16:05:29","modifiedFileCount":"100","status":"M","submitter":"Alan Woodward"},{"authorTime":"2020-09-09 00:25:01","codes":[{"authorDate":"2020-09-09 00:25:01","commitOrder":4,"curCode":"    public void testDynamicDottedFieldNameLongArrayWithExistingParent() throws Exception {\n        DocumentMapper mapper = createDocumentMapper(fieldMapping(b -> b.field(\"type\", \"object\")));\n        ParsedDocument doc = mapper.parse(source(b -> b.startArray(\"field.bar.baz\").value(0).value(1).endArray()));\n\n        assertEquals(4, doc.rootDoc().getFields(\"field.bar.baz\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"field\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(NumberFieldMapper.class));\n    }\n","date":"2020-09-09 00:25:01","endLine":733,"groupId":"42460","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testDynamicDottedFieldNameLongArrayWithExistingParent","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/39/40a9ae572a6047475b9316c7c3d4e34d1d3bca.src","preCode":"    public void testDynamicDottedFieldNameLongArrayWithExistingParent() throws Exception {\n        DocumentMapperParser mapperParser = createIndex(\"test\").mapperService().documentMapperParser();\n        String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\")\n            .startObject(\"properties\") .startObject(\"foo\")\n            .field(\"type\", \"object\")\n            .endObject().endObject().endObject().endObject());\n        DocumentMapper mapper = mapperParser.parse(\"type\", new CompressedXContent(mapping));\n\n        BytesReference bytes = BytesReference.bytes(XContentFactory.jsonBuilder()\n                .startObject().startArray(\"foo.bar.baz\")\n                .value(0)\n                .value(1)\n            .endArray().endObject());\n        ParsedDocument doc = mapper.parse(new SourceToParse(\"test\", \"1\", bytes, XContentType.JSON));\n        assertEquals(4, doc.rootDoc().getFields(\"foo.bar.baz\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(NumberFieldMapper.class));\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":719,"status":"M"},{"authorDate":"2020-09-09 00:25:01","commitOrder":4,"curCode":"    public void testDynamicDottedFieldNameObject() throws Exception {\n        DocumentMapper mapper = createDocumentMapper(mapping(b -> {}));\n        ParsedDocument doc = mapper.parse(source(b -> b.startObject(\"foo.bar.baz\").field(\"a\", 0).endObject()));\n        assertEquals(2, doc.rootDoc().getFields(\"foo.bar.baz.a\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(ObjectMapper.class));\n        Mapper aMapper = ((ObjectMapper) bazMapper).getMapper(\"a\");\n        assertNotNull(aMapper);\n        assertThat(aMapper, instanceOf(NumberFieldMapper.class));\n    }\n","date":"2020-09-09 00:25:01","endLine":854,"groupId":"31805","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testDynamicDottedFieldNameObject","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/39/40a9ae572a6047475b9316c7c3d4e34d1d3bca.src","preCode":"    public void testDynamicDottedFieldNameObject() throws Exception {\n        DocumentMapperParser mapperParser = createIndex(\"test\").mapperService().documentMapperParser();\n        String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\")\n            .endObject().endObject());\n        DocumentMapper mapper = mapperParser.parse(\"type\", new CompressedXContent(mapping));\n\n        BytesReference bytes = BytesReference.bytes(XContentFactory.jsonBuilder()\n            .startObject().startObject(\"foo.bar.baz\")\n                .field(\"a\", 0)\n            .endObject().endObject());\n        ParsedDocument doc = mapper.parse(new SourceToParse(\"test\", \"1\", bytes, XContentType.JSON));\n        assertEquals(2, doc.rootDoc().getFields(\"foo.bar.baz.a\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(ObjectMapper.class));\n        Mapper aMapper = ((ObjectMapper) bazMapper).getMapper(\"a\");\n        assertNotNull(aMapper);\n        assertThat(aMapper, instanceOf(NumberFieldMapper.class));\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":838,"status":"M"}],"commitId":"98590517f5ecb504874ca24c9d01b5d092b79360","commitMessage":"@@@Convert some more mapping tests to MapperServiceTestCase (#62089)\n\nWe don't need to extend ESSingleNodeTestCase for all these tests.","date":"2020-09-09 00:25:01","modifiedFileCount":"7","status":"M","submitter":"Alan Woodward"},{"authorTime":"2021-03-02 22:26:50","codes":[{"authorDate":"2021-03-02 22:26:50","commitOrder":5,"curCode":"    public void testDynamicDottedFieldNameLongArrayWithExistingParent() throws Exception {\n        DocumentMapper mapper = createDocumentMapper(fieldMapping(b -> b.field(\"type\", \"object\")));\n        ParsedDocument doc = mapper.parse(source(b -> b.startArray(\"field.bar.baz\").value(0).value(1).endArray()));\n\n        assertEquals(4, doc.rootDoc().getFields(\"field.bar.baz\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().getRoot().getMapper(\"field\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(NumberFieldMapper.class));\n    }\n","date":"2021-03-02 22:26:50","endLine":1054,"groupId":"102844","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"testDynamicDottedFieldNameLongArrayWithExistingParent","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/b2/9c7b31dfc8c00166510b35f9ad1aab14d36016.src","preCode":"    public void testDynamicDottedFieldNameLongArrayWithExistingParent() throws Exception {\n        DocumentMapper mapper = createDocumentMapper(fieldMapping(b -> b.field(\"type\", \"object\")));\n        ParsedDocument doc = mapper.parse(source(b -> b.startArray(\"field.bar.baz\").value(0).value(1).endArray()));\n\n        assertEquals(4, doc.rootDoc().getFields(\"field.bar.baz\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"field\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(NumberFieldMapper.class));\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":1040,"status":"M"},{"authorDate":"2021-03-02 22:26:50","commitOrder":5,"curCode":"    public void testDynamicDottedFieldNameObject() throws Exception {\n        DocumentMapper mapper = createDocumentMapper(mapping(b -> {}));\n        ParsedDocument doc = mapper.parse(source(b -> b.startObject(\"foo.bar.baz\").field(\"a\", 0).endObject()));\n        assertEquals(2, doc.rootDoc().getFields(\"foo.bar.baz.a\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().getRoot().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(ObjectMapper.class));\n        Mapper aMapper = ((ObjectMapper) bazMapper).getMapper(\"a\");\n        assertNotNull(aMapper);\n        assertThat(aMapper, instanceOf(NumberFieldMapper.class));\n    }\n","date":"2021-03-02 22:26:50","endLine":1175,"groupId":"102844","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"testDynamicDottedFieldNameObject","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/b2/9c7b31dfc8c00166510b35f9ad1aab14d36016.src","preCode":"    public void testDynamicDottedFieldNameObject() throws Exception {\n        DocumentMapper mapper = createDocumentMapper(mapping(b -> {}));\n        ParsedDocument doc = mapper.parse(source(b -> b.startObject(\"foo.bar.baz\").field(\"a\", 0).endObject()));\n        assertEquals(2, doc.rootDoc().getFields(\"foo.bar.baz.a\").length);\n        Mapper fooMapper = doc.dynamicMappingsUpdate().root().getMapper(\"foo\");\n        assertNotNull(fooMapper);\n        assertThat(fooMapper, instanceOf(ObjectMapper.class));\n        Mapper barMapper = ((ObjectMapper) fooMapper).getMapper(\"bar\");\n        assertNotNull(barMapper);\n        assertThat(barMapper, instanceOf(ObjectMapper.class));\n        Mapper bazMapper = ((ObjectMapper) barMapper).getMapper(\"baz\");\n        assertNotNull(bazMapper);\n        assertThat(bazMapper, instanceOf(ObjectMapper.class));\n        Mapper aMapper = ((ObjectMapper) bazMapper).getMapper(\"a\");\n        assertNotNull(aMapper);\n        assertThat(aMapper, instanceOf(NumberFieldMapper.class));\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":1159,"status":"M"}],"commitId":"8ac243666af4854ea67f416522babc69401379ad","commitMessage":"@@@Remove redundant methods from DocumentMapper (#69803)\n\nDocumentMapper exposes root() and meta() methods.  which can be accessed through the mapping() method which exposes the entire Mapping instance.\n\nThis commit removes such redundant methods in favour of accessing mapping and retrieving root and meta from them. Additionally.  access to Mapping's members is made consistent through getters rather than package private fields in some cases and getters is some other case.","date":"2021-03-02 22:26:50","modifiedFileCount":"15","status":"M","submitter":"Luca Cavanna"}]
