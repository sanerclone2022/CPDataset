[{"authorTime":"2018-04-26 03:22:53","codes":[{"authorDate":"2018-04-26 03:22:53","commitOrder":1,"curCode":"    public void testDoToQuery() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 3));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                QueryShardContext context = createShardContext();\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"c\", \"d\"))\n                        .setMinimumShouldMatchField(\"m_s_m\").doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(1));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(3));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","date":"2018-04-26 03:22:53","endLine":183,"groupId":"71111","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testDoToQuery","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/e4/45eb14117485048be3bc3a32563e73c51ce171.src","preCode":"    public void testDoToQuery() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 3));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                QueryShardContext context = createShardContext();\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"c\", \"d\"))\n                        .setMinimumShouldMatchField(\"m_s_m\").doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(1));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(3));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/query/TermsSetQueryBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":135,"status":"B"},{"authorDate":"2018-04-26 03:22:53","commitOrder":1,"curCode":"    public void testDoToQuery_msmScriptField() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 50));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                QueryShardContext context = createShardContext();\n                Script script = new Script(ScriptType.INLINE, MockScriptEngine.NAME, \"_script\", Collections.emptyMap());\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"a\", \"b\", \"c\", \"d\"))\n                        .setMinimumShouldMatchScript(script).doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(0));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(2));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","date":"2018-04-26 03:22:53","endLine":229,"groupId":"71113","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testDoToQuery_msmScriptField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/e4/45eb14117485048be3bc3a32563e73c51ce171.src","preCode":"    public void testDoToQuery_msmScriptField() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 50));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                QueryShardContext context = createShardContext();\n                Script script = new Script(ScriptType.INLINE, MockScriptEngine.NAME, \"_script\", Collections.emptyMap());\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"a\", \"b\", \"c\", \"d\"))\n                        .setMinimumShouldMatchScript(script).doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(0));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(2));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/query/TermsSetQueryBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":185,"status":"B"}],"commitId":"d74fb9eb4559077e2d20b19a9ed62d9ff825027a","commitMessage":"@@@Opened x-pack ILM code\n","date":"2018-04-26 03:22:53","modifiedFileCount":"0","status":"B","submitter":"Tal Levy"},{"authorTime":"2018-04-27 06:15:45","codes":[{"authorDate":"2018-04-26 03:22:53","commitOrder":2,"curCode":"    public void testDoToQuery() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 3));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                QueryShardContext context = createShardContext();\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"c\", \"d\"))\n                        .setMinimumShouldMatchField(\"m_s_m\").doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(1));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(3));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","date":"2018-04-26 03:22:53","endLine":183,"groupId":"71111","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testDoToQuery","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/e4/45eb14117485048be3bc3a32563e73c51ce171.src","preCode":"    public void testDoToQuery() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 3));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                QueryShardContext context = createShardContext();\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"c\", \"d\"))\n                        .setMinimumShouldMatchField(\"m_s_m\").doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(1));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(3));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/query/TermsSetQueryBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":135,"status":"N"},{"authorDate":"2018-04-27 06:15:45","commitOrder":2,"curCode":"    public void testDoToQuery_msmScriptField() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 50));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                QueryShardContext context = createShardContext();\n                Script script = new Script(ScriptType.INLINE, MockScriptEngine.NAME, \"_script\", emptyMap());\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"a\", \"b\", \"c\", \"d\"))\n                        .setMinimumShouldMatchScript(script).doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(0));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(2));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","date":"2018-04-27 06:15:45","endLine":262,"groupId":"71113","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testDoToQuery_msmScriptField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/b3/cd1a361ecde4ffd9b2179e0c56f101dc8f2430.src","preCode":"    public void testDoToQuery_msmScriptField() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 50));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                QueryShardContext context = createShardContext();\n                Script script = new Script(ScriptType.INLINE, MockScriptEngine.NAME, \"_script\", Collections.emptyMap());\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"a\", \"b\", \"c\", \"d\"))\n                        .setMinimumShouldMatchScript(script).doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(0));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(2));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/query/TermsSetQueryBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":218,"status":"M"}],"commitId":"053e9fb234ee7380f86272cb23b843994ed18f39","commitMessage":"@@@Merge branch 'master' into index-lifecycle\n","date":"2018-04-27 06:15:45","modifiedFileCount":"54","status":"M","submitter":"Tal Levy"},{"authorTime":"2018-09-07 17:59:10","codes":[{"authorDate":"2018-09-07 17:59:10","commitOrder":3,"curCode":"    public void testDoToQuery() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 3));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                QueryShardContext context = createShardContext();\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"c\", \"d\"))\n                        .setMinimumShouldMatchField(\"m_s_m\").doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits.value, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(1));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(3));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","date":"2018-09-07 17:59:10","endLine":217,"groupId":"71111","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testDoToQuery","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/69/8cb71692b0f60af10a160479051315f9173a44.src","preCode":"    public void testDoToQuery() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 3));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                QueryShardContext context = createShardContext();\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"c\", \"d\"))\n                        .setMinimumShouldMatchField(\"m_s_m\").doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(1));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(3));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/query/TermsSetQueryBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":169,"status":"M"},{"authorDate":"2018-09-07 17:59:10","commitOrder":3,"curCode":"    public void testDoToQuery_msmScriptField() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 50));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                QueryShardContext context = createShardContext();\n                Script script = new Script(ScriptType.INLINE, MockScriptEngine.NAME, \"_script\", emptyMap());\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"a\", \"b\", \"c\", \"d\"))\n                        .setMinimumShouldMatchScript(script).doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits.value, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(0));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(2));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","date":"2018-09-07 17:59:10","endLine":263,"groupId":"71113","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testDoToQuery_msmScriptField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/69/8cb71692b0f60af10a160479051315f9173a44.src","preCode":"    public void testDoToQuery_msmScriptField() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 50));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                QueryShardContext context = createShardContext();\n                Script script = new Script(ScriptType.INLINE, MockScriptEngine.NAME, \"_script\", emptyMap());\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"a\", \"b\", \"c\", \"d\"))\n                        .setMinimumShouldMatchScript(script).doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(0));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(2));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/query/TermsSetQueryBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":219,"status":"M"}],"commitId":"017ffe5d127ce0fb33feb8fc4e5fededb8cbfda1","commitMessage":"@@@Merge branch 'master' into index-lifecycle\n","date":"2018-09-07 17:59:10","modifiedFileCount":"370","status":"M","submitter":"Colin Goodheart-Smithe"},{"authorTime":"2021-01-15 01:11:59","codes":[{"authorDate":"2021-01-15 01:11:59","commitOrder":4,"curCode":"    public void testDoToQuery() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 3));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                SearchExecutionContext context = createSearchExecutionContext();\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"c\", \"d\"))\n                        .setMinimumShouldMatchField(\"m_s_m\").doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits.value, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(1));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(3));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","date":"2021-01-15 01:11:59","endLine":245,"groupId":"103430","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testDoToQuery","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/c0/23ed987b4cb131842f46c8910bf46aec44b758.src","preCode":"    public void testDoToQuery() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 1));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 2));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 3));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                QueryShardContext context = createShardContext();\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"c\", \"d\"))\n                        .setMinimumShouldMatchField(\"m_s_m\").doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits.value, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(1));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(3));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/query/TermsSetQueryBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":197,"status":"M"},{"authorDate":"2021-01-15 01:11:59","commitOrder":4,"curCode":"    public void testDoToQuery_msmScriptField() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 50));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                SearchExecutionContext context = createSearchExecutionContext();\n                Script script = new Script(ScriptType.INLINE, MockScriptEngine.NAME, \"_script\", emptyMap());\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"a\", \"b\", \"c\", \"d\"))\n                        .setMinimumShouldMatchScript(script).doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits.value, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(0));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(2));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","date":"2021-01-15 01:11:59","endLine":291,"groupId":"103430","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testDoToQuery_msmScriptField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/c0/23ed987b4cb131842f46c8910bf46aec44b758.src","preCode":"    public void testDoToQuery_msmScriptField() throws Exception {\n        try (Directory directory = newDirectory()) {\n            IndexWriterConfig config = new IndexWriterConfig(new WhitespaceAnalyzer());\n            config.setMergePolicy(NoMergePolicy.INSTANCE);\n            try (IndexWriter iw = new IndexWriter(directory, config)) {\n                Document document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 50));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b x y\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 75));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c x\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n\n                document = new Document();\n                document.add(new TextField(\"message\", \"a b c d\", Field.Store.NO));\n                document.add(new SortedNumericDocValuesField(\"m_s_m\", 100));\n                iw.addDocument(document);\n            }\n\n            try (IndexReader ir = DirectoryReader.open(directory)) {\n                QueryShardContext context = createShardContext();\n                Script script = new Script(ScriptType.INLINE, MockScriptEngine.NAME, \"_script\", emptyMap());\n                Query query = new TermsSetQueryBuilder(\"message\", Arrays.asList(\"a\", \"b\", \"c\", \"d\"))\n                        .setMinimumShouldMatchScript(script).doToQuery(context);\n                IndexSearcher searcher = new IndexSearcher(ir);\n                TopDocs topDocs = searcher.search(query, 10, new Sort(SortField.FIELD_DOC));\n                assertThat(topDocs.totalHits.value, equalTo(3L));\n                assertThat(topDocs.scoreDocs[0].doc, equalTo(0));\n                assertThat(topDocs.scoreDocs[1].doc, equalTo(2));\n                assertThat(topDocs.scoreDocs[2].doc, equalTo(4));\n            }\n        }\n    }\n","realPath":"server/src/test/java/org/elasticsearch/index/query/TermsSetQueryBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":247,"status":"M"}],"commitId":"5852fbedf52c77b0a76c2c731fdd4982fb65cd87","commitMessage":"@@@Rename QueryShardContext -> SearchExecutionContext. (#67490)\n\nWe decided to rename `QueryShardContext` to clarify that it supports all parts\nof search request execution. Before there was confusion over whether it should\nonly be used for building queries.  or maybe only used in the query phase. This\nPR also updates the javadocs.\n\nCloses #64740.","date":"2021-01-15 01:11:59","modifiedFileCount":"357","status":"M","submitter":"Julie Tibshirani"}]
