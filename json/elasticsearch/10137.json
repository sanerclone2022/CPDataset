[{"authorTime":"2018-12-23 09:20:53","codes":[{"authorDate":"2018-12-22 20:21:49","commitOrder":2,"curCode":"    public void testNonExistentWithoutIgnoreMissing() throws Exception {\n        GeoIpProcessor processor = new GeoIpProcessor(randomAlphaOfLength(10), \"source_field\",\n                loader(\"/GeoLite2-City.mmdb\"), \"target_field\", EnumSet.allOf(GeoIpProcessor.Property.class), false,\n            new GeoIpCache(1000));\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(), Collections.emptyMap());\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] not present as part of path [source_field]\"));\n    }\n","date":"2018-12-22 20:21:49","endLine":109,"groupId":"33177","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testNonExistentWithoutIgnoreMissing","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/e3/fe54d2f11279fa197d15f7c18c6f4ccdf180b8.src","preCode":"    public void testNonExistentWithoutIgnoreMissing() throws Exception {\n        GeoIpProcessor processor = new GeoIpProcessor(randomAlphaOfLength(10), \"source_field\",\n                loader(\"/GeoLite2-City.mmdb\"), \"target_field\", EnumSet.allOf(GeoIpProcessor.Property.class), false,\n            new GeoIpCache(1000));\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(), Collections.emptyMap());\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] not present as part of path [source_field]\"));\n    }\n","realPath":"modules/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":101,"status":"NB"},{"authorDate":"2018-12-23 09:20:53","commitOrder":2,"curCode":"    public void testNullWithoutIgnoreMissing() throws Exception {\n        UserAgentProcessor processor = new UserAgentProcessor(randomAlphaOfLength(10), \"source_field\", \"target_field\", null,\n            EnumSet.allOf(UserAgentProcessor.Property.class), false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(),\n            Collections.singletonMap(\"source_field\", null));\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] is null, cannot parse user-agent.\"));\n    }\n","date":"2018-12-23 09:20:53","endLine":81,"groupId":"19100","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testNullWithoutIgnoreMissing","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/0a/8b453724c90070b15a40e45d8794eefa6b444b.src","preCode":"    public void testNullWithoutIgnoreMissing() throws Exception {\n        UserAgentProcessor processor = new UserAgentProcessor(randomAlphaOfLength(10), \"source_field\", \"target_field\", null,\n            EnumSet.allOf(UserAgentProcessor.Property.class), false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(),\n            Collections.singletonMap(\"source_field\", null));\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] is null, cannot parse user-agent.\"));\n    }\n","realPath":"modules/ingest-user-agent/src/test/java/org/elasticsearch/ingest/useragent/UserAgentProcessorTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"B"}],"commitId":"1f574bd17a1db1f3e0887ca7eea31fbeecb76ea2","commitMessage":"@@@Package ingest-user-agent as a module (#36956)\n\nThis commit moves ingest-user-agent from being a plugin to being a\nmodule that is packaged with Elasticsearch distributions.","date":"2018-12-23 09:20:53","modifiedFileCount":"4","status":"M","submitter":"Jason Tedor"},{"authorTime":"2018-12-23 09:20:53","codes":[{"authorDate":"2019-12-07 04:57:06","commitOrder":3,"curCode":"    public void testNonExistentWithoutIgnoreMissing() throws Exception {\n        GeoIpProcessor processor = new GeoIpProcessor(randomAlphaOfLength(10), \"source_field\",\n                loader(\"/GeoLite2-City.mmdb\"), \"target_field\", EnumSet.allOf(GeoIpProcessor.Property.class), false,\n            new GeoIpCache(1000), false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(), Collections.emptyMap());\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] not present as part of path [source_field]\"));\n    }\n","date":"2019-12-07 04:57:06","endLine":113,"groupId":"28151","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testNonExistentWithoutIgnoreMissing","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/f0/e9b30ae69ca0a72d106b4eb7baf0960f1e413c.src","preCode":"    public void testNonExistentWithoutIgnoreMissing() throws Exception {\n        GeoIpProcessor processor = new GeoIpProcessor(randomAlphaOfLength(10), \"source_field\",\n                loader(\"/GeoLite2-City.mmdb\"), \"target_field\", EnumSet.allOf(GeoIpProcessor.Property.class), false,\n            new GeoIpCache(1000));\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(), Collections.emptyMap());\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] not present as part of path [source_field]\"));\n    }\n","realPath":"modules/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":105,"status":"M"},{"authorDate":"2018-12-23 09:20:53","commitOrder":3,"curCode":"    public void testNullWithoutIgnoreMissing() throws Exception {\n        UserAgentProcessor processor = new UserAgentProcessor(randomAlphaOfLength(10), \"source_field\", \"target_field\", null,\n            EnumSet.allOf(UserAgentProcessor.Property.class), false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(),\n            Collections.singletonMap(\"source_field\", null));\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] is null, cannot parse user-agent.\"));\n    }\n","date":"2018-12-23 09:20:53","endLine":81,"groupId":"19100","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testNullWithoutIgnoreMissing","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/0a/8b453724c90070b15a40e45d8794eefa6b444b.src","preCode":"    public void testNullWithoutIgnoreMissing() throws Exception {\n        UserAgentProcessor processor = new UserAgentProcessor(randomAlphaOfLength(10), \"source_field\", \"target_field\", null,\n            EnumSet.allOf(UserAgentProcessor.Property.class), false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(),\n            Collections.singletonMap(\"source_field\", null));\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] is null, cannot parse user-agent.\"));\n    }\n","realPath":"modules/ingest-user-agent/src/test/java/org/elasticsearch/ingest/useragent/UserAgentProcessorTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"N"}],"commitId":"c57032f62222a31b19b7b1c090c2eed5af9f4ffc","commitMessage":"@@@Allow list of IPs in geoip ingest processor (#49573)\n\n* Allow list of IPs in geoip ingest processor\n\nThis change lets you use array of IPs in addition to string in geoip processor source field.\nIt will set array containing geoip data for each element in source.  unless first_only parameter\noption is enabled.  then only first found will be returned.\n\nCloses #46193","date":"2019-12-07 04:57:06","modifiedFileCount":"2","status":"M","submitter":"Przemko Robakowski"},{"authorTime":"2020-06-16 05:08:29","codes":[{"authorDate":"2020-06-16 05:08:29","commitOrder":4,"curCode":"    public void testNonExistentWithoutIgnoreMissing() throws Exception {\n        GeoIpProcessor processor = new GeoIpProcessor(randomAlphaOfLength(10), null, \"source_field\",\n                loader(\"/GeoLite2-City.mmdb\"), \"target_field\", EnumSet.allOf(GeoIpProcessor.Property.class), false,\n            new GeoIpCache(1000), false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(), Collections.emptyMap());\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] not present as part of path [source_field]\"));\n    }\n","date":"2020-06-16 05:08:29","endLine":113,"groupId":"28151","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testNonExistentWithoutIgnoreMissing","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/c3/3080891644f4e4571a2e514548a2a9cf044682.src","preCode":"    public void testNonExistentWithoutIgnoreMissing() throws Exception {\n        GeoIpProcessor processor = new GeoIpProcessor(randomAlphaOfLength(10), \"source_field\",\n                loader(\"/GeoLite2-City.mmdb\"), \"target_field\", EnumSet.allOf(GeoIpProcessor.Property.class), false,\n            new GeoIpCache(1000), false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(), Collections.emptyMap());\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] not present as part of path [source_field]\"));\n    }\n","realPath":"modules/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":105,"status":"M"},{"authorDate":"2020-06-16 05:08:29","commitOrder":4,"curCode":"    public void testNullWithoutIgnoreMissing() throws Exception {\n        UserAgentProcessor processor = new UserAgentProcessor(randomAlphaOfLength(10), null, \"source_field\", \"target_field\", null,\n            EnumSet.allOf(UserAgentProcessor.Property.class), false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(),\n            Collections.singletonMap(\"source_field\", null));\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] is null, cannot parse user-agent.\"));\n    }\n","date":"2020-06-16 05:08:29","endLine":81,"groupId":"19100","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testNullWithoutIgnoreMissing","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/57/38495b98424680d6d8b3bbf6d785c26dca2340.src","preCode":"    public void testNullWithoutIgnoreMissing() throws Exception {\n        UserAgentProcessor processor = new UserAgentProcessor(randomAlphaOfLength(10), \"source_field\", \"target_field\", null,\n            EnumSet.allOf(UserAgentProcessor.Property.class), false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(),\n            Collections.singletonMap(\"source_field\", null));\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] is null, cannot parse user-agent.\"));\n    }\n","realPath":"modules/ingest-user-agent/src/test/java/org/elasticsearch/ingest/useragent/UserAgentProcessorTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"M"}],"commitId":"69a6a18d8dc3f95001cfe6f55c1451ac616f7e84","commitMessage":"@@@Add optional description parameter to ingest processors. (#57906)\n\nThis commit adds an optional field.  `description`.  to all ingest processors\nso that users can explain the purpose of the specific processor instance.\n\nCloses #56000.","date":"2020-06-16 05:08:29","modifiedFileCount":"125","status":"M","submitter":"Tal Levy"},{"authorTime":"2020-06-16 05:08:29","codes":[{"authorDate":"2021-02-11 17:15:19","commitOrder":5,"curCode":"    public void testNonExistentWithoutIgnoreMissing() throws Exception {\n        GeoIpProcessor processor = new GeoIpProcessor(randomAlphaOfLength(10), null, \"source_field\",\n                loader(\"/GeoLite2-City.mmdb\"), \"target_field\", EnumSet.allOf(GeoIpProcessor.Property.class), false, false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(), Collections.emptyMap());\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] not present as part of path [source_field]\"));\n    }\n","date":"2021-02-11 17:15:19","endLine":96,"groupId":"37198","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testNonExistentWithoutIgnoreMissing","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/1d/8af704ff29965e734fe6a1b7bfd4aead5cda47.src","preCode":"    public void testNonExistentWithoutIgnoreMissing() throws Exception {\n        GeoIpProcessor processor = new GeoIpProcessor(randomAlphaOfLength(10), null, \"source_field\",\n                loader(\"/GeoLite2-City.mmdb\"), \"target_field\", EnumSet.allOf(GeoIpProcessor.Property.class), false,\n            new GeoIpCache(1000), false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(), Collections.emptyMap());\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] not present as part of path [source_field]\"));\n    }\n","realPath":"modules/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"M"},{"authorDate":"2020-06-16 05:08:29","commitOrder":5,"curCode":"    public void testNullWithoutIgnoreMissing() throws Exception {\n        UserAgentProcessor processor = new UserAgentProcessor(randomAlphaOfLength(10), null, \"source_field\", \"target_field\", null,\n            EnumSet.allOf(UserAgentProcessor.Property.class), false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(),\n            Collections.singletonMap(\"source_field\", null));\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] is null, cannot parse user-agent.\"));\n    }\n","date":"2020-06-16 05:08:29","endLine":81,"groupId":"19100","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testNullWithoutIgnoreMissing","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/57/38495b98424680d6d8b3bbf6d785c26dca2340.src","preCode":"    public void testNullWithoutIgnoreMissing() throws Exception {\n        UserAgentProcessor processor = new UserAgentProcessor(randomAlphaOfLength(10), null, \"source_field\", \"target_field\", null,\n            EnumSet.allOf(UserAgentProcessor.Property.class), false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(),\n            Collections.singletonMap(\"source_field\", null));\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] is null, cannot parse user-agent.\"));\n    }\n","realPath":"modules/ingest-user-agent/src/test/java/org/elasticsearch/ingest/useragent/UserAgentProcessorTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"N"}],"commitId":"5529b3d583773eb2725ce8253856092787af383c","commitMessage":"@@@Changed how geoip cache is integrated with geoip processor. (#68581)\n\nThis change helps facilitate allowing maxmind databases to be updated at runtime.\nThis will make is easier to purge the cache if a database changes.\n\nMade the following changes:\n* Changed how geoip processor integrates with the cache. The cache is moved from the geoip processor to DatabaseReaderLazyLoader class.\n* Changed the cache key from ip + response class to ip + database_path.\n* Moved GeoIpCache from IngestGeoIpPlugin class to be a top level class.","date":"2021-02-11 17:15:19","modifiedFileCount":"5","status":"M","submitter":"Martijn van Groningen"},{"authorTime":"2021-04-21 21:28:12","codes":[{"authorDate":"2021-02-11 17:15:19","commitOrder":6,"curCode":"    public void testNonExistentWithoutIgnoreMissing() throws Exception {\n        GeoIpProcessor processor = new GeoIpProcessor(randomAlphaOfLength(10), null, \"source_field\",\n                loader(\"/GeoLite2-City.mmdb\"), \"target_field\", EnumSet.allOf(GeoIpProcessor.Property.class), false, false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(), Collections.emptyMap());\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] not present as part of path [source_field]\"));\n    }\n","date":"2021-02-11 17:15:19","endLine":96,"groupId":"37198","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"testNonExistentWithoutIgnoreMissing","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/1d/8af704ff29965e734fe6a1b7bfd4aead5cda47.src","preCode":"    public void testNonExistentWithoutIgnoreMissing() throws Exception {\n        GeoIpProcessor processor = new GeoIpProcessor(randomAlphaOfLength(10), null, \"source_field\",\n                loader(\"/GeoLite2-City.mmdb\"), \"target_field\", EnumSet.allOf(GeoIpProcessor.Property.class), false, false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(), Collections.emptyMap());\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] not present as part of path [source_field]\"));\n    }\n","realPath":"modules/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"N"},{"authorDate":"2021-04-21 21:28:12","commitOrder":6,"curCode":"    public void testNullWithoutIgnoreMissing() throws Exception {\n        UserAgentProcessor processor = new UserAgentProcessor(randomAlphaOfLength(10), null, \"source_field\", \"target_field\", null,\n            EnumSet.allOf(UserAgentProcessor.Property.class), false, false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(),\n            Collections.singletonMap(\"source_field\", null));\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] is null, cannot parse user-agent.\"));\n    }\n","date":"2021-04-21 21:28:12","endLine":73,"groupId":"19100","id":10,"instanceNumber":2,"isCurCommit":1,"methodName":"testNullWithoutIgnoreMissing","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/f4/87e4ae8fc3ce81825dd90165211b1827cf8a73.src","preCode":"    public void testNullWithoutIgnoreMissing() throws Exception {\n        UserAgentProcessor processor = new UserAgentProcessor(randomAlphaOfLength(10), null, \"source_field\", \"target_field\", null,\n            EnumSet.allOf(UserAgentProcessor.Property.class), false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(),\n            Collections.singletonMap(\"source_field\", null));\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] is null, cannot parse user-agent.\"));\n    }\n","realPath":"modules/ingest-user-agent/src/test/java/org/elasticsearch/ingest/useragent/UserAgentProcessorTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":65,"status":"M"}],"commitId":"9a86dde3572a6f3999eea75bc3ce30b965837ba3","commitMessage":"@@@Merge branch 'master' into feature/vector-tiles\n","date":"2021-04-21 21:28:12","modifiedFileCount":"1285","status":"M","submitter":"iverase"},{"authorTime":"2021-04-21 21:28:12","codes":[{"authorDate":"2021-06-18 19:51:12","commitOrder":7,"curCode":"    public void testNonExistentWithoutIgnoreMissing() throws Exception {\n        GeoIpProcessor processor = new GeoIpProcessor(randomAlphaOfLength(10), null, \"source_field\",\n            loader(\"/GeoLite2-City.mmdb\"), () -> true, \"target_field\", EnumSet.allOf(GeoIpProcessor.Property.class), false, false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(), Collections.emptyMap());\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] not present as part of path [source_field]\"));\n    }\n","date":"2021-06-18 19:51:12","endLine":98,"groupId":"10137","id":11,"instanceNumber":1,"isCurCommit":1,"methodName":"testNonExistentWithoutIgnoreMissing","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/c9/9672aa30eb9aa2e4bf5df3149f5f52ccbfec95.src","preCode":"    public void testNonExistentWithoutIgnoreMissing() throws Exception {\n        GeoIpProcessor processor = new GeoIpProcessor(randomAlphaOfLength(10), null, \"source_field\",\n                loader(\"/GeoLite2-City.mmdb\"), \"target_field\", EnumSet.allOf(GeoIpProcessor.Property.class), false, false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(), Collections.emptyMap());\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] not present as part of path [source_field]\"));\n    }\n","realPath":"modules/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":91,"status":"M"},{"authorDate":"2021-04-21 21:28:12","commitOrder":7,"curCode":"    public void testNullWithoutIgnoreMissing() throws Exception {\n        UserAgentProcessor processor = new UserAgentProcessor(randomAlphaOfLength(10), null, \"source_field\", \"target_field\", null,\n            EnumSet.allOf(UserAgentProcessor.Property.class), false, false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(),\n            Collections.singletonMap(\"source_field\", null));\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] is null, cannot parse user-agent.\"));\n    }\n","date":"2021-04-21 21:28:12","endLine":73,"groupId":"10137","id":12,"instanceNumber":2,"isCurCommit":1,"methodName":"testNullWithoutIgnoreMissing","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/f4/87e4ae8fc3ce81825dd90165211b1827cf8a73.src","preCode":"    public void testNullWithoutIgnoreMissing() throws Exception {\n        UserAgentProcessor processor = new UserAgentProcessor(randomAlphaOfLength(10), null, \"source_field\", \"target_field\", null,\n            EnumSet.allOf(UserAgentProcessor.Property.class), false, false);\n        IngestDocument originalIngestDocument = RandomDocumentPicks.randomIngestDocument(random(),\n            Collections.singletonMap(\"source_field\", null));\n        IngestDocument ingestDocument = new IngestDocument(originalIngestDocument);\n        Exception exception = expectThrows(Exception.class, () -> processor.execute(ingestDocument));\n        assertThat(exception.getMessage(), equalTo(\"field [source_field] is null, cannot parse user-agent.\"));\n    }\n","realPath":"modules/ingest-user-agent/src/test/java/org/elasticsearch/ingest/useragent/UserAgentProcessorTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":65,"status":"N"}],"commitId":"331a44ba425d9ae937a8f49a7f94d8d0a02f3b93","commitMessage":"@@@Change GeoIP downloader policy after 30 days of no updates (#74099)\n\nThis PR changes the way GeoIpDownloader and GeoIpProcessor handle situation when we are unable to update databases for 30 days. In that case:\n\nGeoIpDownloader will delete all chunks from .geoip_databases index\nDatabaseRegistry will delete all files on ingest nodes\nGeoIpProcessor will tag document with tags: [\"_geoip_expired_database\"] field (same way as in Logstash)\nThis change also fixes bug with that breaks DatabaseRegistry and when it tires to download databases after updating timestamp only (GeoIpDownloader checks if there are new databases and updates timestamp because local databases are up to date)","date":"2021-06-18 19:51:12","modifiedFileCount":"15","status":"M","submitter":"Przemko Robakowski"}]
