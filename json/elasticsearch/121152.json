[{"authorTime":"2018-12-08 01:32:27","codes":[{"authorDate":"2018-12-08 01:32:27","commitOrder":1,"curCode":"    public static float defTofloatImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else {\n            return (float)value;\n        }\n    }\n","date":"2018-12-08 01:32:27","endLine":684,"groupId":"64517","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"defTofloatImplicit","params":"(finalObjectvalue)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/86/7b481a2a4d7dec9719caa8ebd179d467cd61d0.src","preCode":"    public static float defTofloatImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else {\n            return (float)value;\n        }\n    }\n","realPath":"modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":670,"status":"B"},{"authorDate":"2018-12-08 01:32:27","commitOrder":1,"curCode":"    public static double defTodoubleImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else {\n            return (double)value;\n        }\n    }\n","date":"2018-12-08 01:32:27","endLine":702,"groupId":"64517","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"defTodoubleImplicit","params":"(finalObjectvalue)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/86/7b481a2a4d7dec9719caa8ebd179d467cd61d0.src","preCode":"    public static double defTodoubleImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else {\n            return (double)value;\n        }\n    }\n","realPath":"modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":686,"status":"B"}],"commitId":"2df4bd1f8135fca889312711979c13a61b90fafd","commitMessage":"@@@[Painless] Generate Bridge Methods (#36097)\n\nWe use MethodHandles.asType to cast argument types into the appropriate parameter types for \nmethod calls when the target of the call is a def type at runtime. Currently.  certain implicit casts \nusing the def type are asymmetric. It is possible to cast Integer -> float as an argument to parameter.  but not from int -> Float (boxed to primitive with upcasting is okay.  but primitive to \nboxed with upcasting is not).\n\nThis PR introduces a solution to the issue by generating bridge methods for all whitelisted methods \nthat have at least a single boxed type as an argument. The bridge method will conduct appropriate \ncasts and then call the original method. This adds a bit of overhead for correctness. It should not be\nused often as Painless avoids boxed types as much as possible.\n\nNote that a large portion of this change is adding methods to do the appropriate def to boxed type \ncasts and a few mechanical changes as well. The most important method for review is \ngenerateBridgeMethod in PainlessLookupBuilder.","date":"2018-12-08 01:32:27","modifiedFileCount":"10","status":"B","submitter":"Jack Conradson"},{"authorTime":"2018-12-12 00:03:08","codes":[{"authorDate":"2018-12-12 00:03:08","commitOrder":2,"curCode":"    public static float defTofloatImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else {\n            throw new ClassCastException(\n                    \"cannot implicitly cast \" +\n                            \"def [\" + PainlessLookupUtility.typeToUnboxedType(value.getClass()).getCanonicalName() + \"] to float\");\n        }\n    }\n","date":"2018-12-12 00:03:08","endLine":713,"groupId":"64517","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"defTofloatImplicit","params":"(finalObjectvalue)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/49/6c2702a8ba8a9279855b7411dd48193b296192.src","preCode":"    public static float defTofloatImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else {\n            return (float)value;\n        }\n    }\n","realPath":"modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":695,"status":"M"},{"authorDate":"2018-12-12 00:03:08","commitOrder":2,"curCode":"    public static double defTodoubleImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else if (value instanceof Double) {\n            return (double)value;\n        } else {\n            throw new ClassCastException(\"cannot implicitly cast def [\" + value.getClass().getCanonicalName() + \"] to double\");\n        }\n    }\n","date":"2018-12-12 00:03:08","endLine":733,"groupId":"64517","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"defTodoubleImplicit","params":"(finalObjectvalue)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/49/6c2702a8ba8a9279855b7411dd48193b296192.src","preCode":"    public static double defTodoubleImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else {\n            return (double)value;\n        }\n    }\n","realPath":"modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":715,"status":"M"}],"commitId":"13b1f197724cffea475b8fefbe2bb3df343c92e2","commitMessage":"@@@[Painless] Add extensive tests for def to primitive casts (#36455)\n\nThis adds tests for each possible cast of def to a primitive type both implicit \nand explicit. This also fixes a minor bug where we were only checking the type \nof a def to be Number in some explicit casts. This does not work because it \nallows possible unintended casts from BigInteger and BigDecimal to primitive \ntypes since they both extend Number but are not included as part of the \nPainless casting model.","date":"2018-12-12 00:03:08","modifiedFileCount":"2","status":"M","submitter":"Jack Conradson"},{"authorTime":"2019-03-12 01:43:03","codes":[{"authorDate":"2019-03-12 01:43:03","commitOrder":3,"curCode":"    public static float defTofloatImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else {\n            throw new ClassCastException(\"cannot implicitly cast \" +\n                    \"def [\" + PainlessLookupUtility.typeToUnboxedType(value.getClass()).getCanonicalName() + \"] to \" +\n                    float.class.getCanonicalName());\n        }\n    }\n","date":"2019-03-12 01:43:03","endLine":718,"groupId":"64517","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"defTofloatImplicit","params":"(finalObjectvalue)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/85/16a96a05c00ae3dc1617a42bbf6112a2ce8b5a.src","preCode":"    public static float defTofloatImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else {\n            throw new ClassCastException(\n                    \"cannot implicitly cast \" +\n                            \"def [\" + PainlessLookupUtility.typeToUnboxedType(value.getClass()).getCanonicalName() + \"] to float\");\n        }\n    }\n","realPath":"modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":700,"status":"M"},{"authorDate":"2019-03-12 01:43:03","commitOrder":3,"curCode":"    public static double defTodoubleImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else if (value instanceof Double) {\n            return (double)value;\n        } else {\n            throw new ClassCastException(\"cannot implicitly cast \" +\n                    \"def [\" + PainlessLookupUtility.typeToUnboxedType(value.getClass()).getCanonicalName() + \"] to \" +\n                    double.class.getCanonicalName());\n        }\n    }\n","date":"2019-03-12 01:43:03","endLine":740,"groupId":"64517","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"defTodoubleImplicit","params":"(finalObjectvalue)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/85/16a96a05c00ae3dc1617a42bbf6112a2ce8b5a.src","preCode":"    public static double defTodoubleImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else if (value instanceof Double) {\n            return (double)value;\n        } else {\n            throw new ClassCastException(\"cannot implicitly cast def [\" + value.getClass().getCanonicalName() + \"] to double\");\n        }\n    }\n","realPath":"modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":720,"status":"M"}],"commitId":"d8416fcb741e18a65d0c51dce1f56d709d4afcf2","commitMessage":"@@@Fix Painless def [char] to String casts (#39759)\n\n* Start to fix def char casts.\n\n* Fix def char to String casts\n","date":"2019-03-12 01:43:03","modifiedFileCount":"4","status":"M","submitter":"Jack Conradson"},{"authorTime":"2020-09-24 00:06:21","codes":[{"authorDate":"2019-03-12 01:43:03","commitOrder":4,"curCode":"    public static float defTofloatImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else {\n            throw new ClassCastException(\"cannot implicitly cast \" +\n                    \"def [\" + PainlessLookupUtility.typeToUnboxedType(value.getClass()).getCanonicalName() + \"] to \" +\n                    float.class.getCanonicalName());\n        }\n    }\n","date":"2019-03-12 01:43:03","endLine":718,"groupId":"64517","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"defTofloatImplicit","params":"(finalObjectvalue)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/85/16a96a05c00ae3dc1617a42bbf6112a2ce8b5a.src","preCode":"    public static float defTofloatImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else {\n            throw new ClassCastException(\"cannot implicitly cast \" +\n                    \"def [\" + PainlessLookupUtility.typeToUnboxedType(value.getClass()).getCanonicalName() + \"] to \" +\n                    float.class.getCanonicalName());\n        }\n    }\n","realPath":"modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":700,"status":"N"},{"authorDate":"2020-09-24 00:06:21","commitOrder":4,"curCode":"    public static double defTodoubleImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else if (value instanceof Double) {\n            return (double)value;\n        } else if (value instanceof BigInteger) {\n            return ((BigInteger)value).doubleValue();\n        } else {\n            throw new ClassCastException(\"cannot implicitly cast \" +\n                    \"def [\" + PainlessLookupUtility.typeToUnboxedType(value.getClass()).getCanonicalName() + \"] to \" +\n                    double.class.getCanonicalName());\n        }\n    }\n","date":"2020-09-24 00:06:21","endLine":745,"groupId":"64517","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"defTodoubleImplicit","params":"(finalObjectvalue)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/dd/7e00a6c8a2b663ba123eb0ac15e97b071d5fc5.src","preCode":"    public static double defTodoubleImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else if (value instanceof Double) {\n            return (double)value;\n        } else {\n            throw new ClassCastException(\"cannot implicitly cast \" +\n                    \"def [\" + PainlessLookupUtility.typeToUnboxedType(value.getClass()).getCanonicalName() + \"] to \" +\n                    double.class.getCanonicalName());\n        }\n    }\n","realPath":"modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":723,"status":"M"}],"commitId":"ff55296f7ad39d7fbfa919f8f8233c58bd6d8620","commitMessage":"@@@Introduce 64-bit unsigned long field type (#60050)\n\nThis field type supports\n- indexing of integer values from [0.  18446744073709551615]\n- precise queries (term.  range)\n- precise sort and terms aggregations\n- other aggregations are based on conversion of long values\n  to double and can be imprecise for large values.\n\nCloses #32434","date":"2020-09-24 00:06:21","modifiedFileCount":"14","status":"M","submitter":"Mayya Sharipova"},{"authorTime":"2020-11-04 03:20:46","codes":[{"authorDate":"2019-03-12 01:43:03","commitOrder":5,"curCode":"    public static float defTofloatImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else {\n            throw new ClassCastException(\"cannot implicitly cast \" +\n                    \"def [\" + PainlessLookupUtility.typeToUnboxedType(value.getClass()).getCanonicalName() + \"] to \" +\n                    float.class.getCanonicalName());\n        }\n    }\n","date":"2019-03-12 01:43:03","endLine":718,"groupId":"121152","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"defTofloatImplicit","params":"(finalObjectvalue)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/85/16a96a05c00ae3dc1617a42bbf6112a2ce8b5a.src","preCode":"    public static float defTofloatImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else {\n            throw new ClassCastException(\"cannot implicitly cast \" +\n                    \"def [\" + PainlessLookupUtility.typeToUnboxedType(value.getClass()).getCanonicalName() + \"] to \" +\n                    float.class.getCanonicalName());\n        }\n    }\n","realPath":"modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":700,"status":"N"},{"authorDate":"2020-11-04 03:20:46","commitOrder":5,"curCode":"    public static double defTodoubleImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else if (value instanceof Double) {\n            return (double)value;\n        } else {\n            throw new ClassCastException(\"cannot implicitly cast \" +\n                    \"def [\" + PainlessLookupUtility.typeToUnboxedType(value.getClass()).getCanonicalName() + \"] to \" +\n                    double.class.getCanonicalName());\n        }\n    }\n","date":"2020-11-04 03:20:46","endLine":768,"groupId":"121152","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"defTodoubleImplicit","params":"(finalObjectvalue)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/a4/73d1e5d19a32bfc5f78fc61e176c3c7e32f82e.src","preCode":"    public static double defTodoubleImplicit(final Object value) {\n        if (value instanceof Byte) {\n            return (byte)value;\n        } else if (value instanceof Short) {\n            return (short)value;\n        } else if (value instanceof Character) {\n            return (char)value;\n        } else if (value instanceof Integer) {\n            return (int)value;\n        } else if (value instanceof Long) {\n            return (long)value;\n        } else if (value instanceof Float) {\n            return (float)value;\n        } else if (value instanceof Double) {\n            return (double)value;\n        } else if (value instanceof BigInteger) {\n            return ((BigInteger)value).doubleValue();\n        } else {\n            throw new ClassCastException(\"cannot implicitly cast \" +\n                    \"def [\" + PainlessLookupUtility.typeToUnboxedType(value.getClass()).getCanonicalName() + \"] to \" +\n                    double.class.getCanonicalName());\n        }\n    }\n","realPath":"modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":748,"status":"M"}],"commitId":"0ffbcd3b3c7fa8c687cc6bc16b8a2dc8385e0cde","commitMessage":"@@@Disable using unsigned_long in scripts (#64523)\n\nRelates to #64361","date":"2020-11-04 03:20:46","modifiedFileCount":"4","status":"M","submitter":"Mayya Sharipova"}]
