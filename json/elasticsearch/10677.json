[{"authorTime":"2018-06-22 00:56:45","codes":[{"authorDate":"2018-06-22 00:56:45","commitOrder":2,"curCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        Netty4Utils.maybeDie(cause);\n        Netty4HttpChannel channel = ctx.channel().attr(Netty4HttpServerTransport.HTTP_CHANNEL_KEY).get();\n        if (cause instanceof Error) {\n            serverTransport.onException(channel, new Exception(cause));\n        } else {\n            serverTransport.onException(channel, (Exception) cause);\n        }\n    }\n","date":"2018-06-22 00:56:45","endLine":84,"groupId":"56236","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"exceptionCaught","params":"(ChannelHandlerContextctx@Throwablecause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/ab/078ad10d337b0ff4d7c919cc9a17b1b684160f.src","preCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        Netty4Utils.maybeDie(cause);\n        Netty4HttpChannel channel = ctx.channel().attr(Netty4HttpServerTransport.HTTP_CHANNEL_KEY).get();\n        if (cause instanceof Error) {\n            serverTransport.onException(channel, new Exception(cause));\n        } else {\n            serverTransport.onException(channel, (Exception) cause);\n        }\n    }\n","realPath":"modules/transport-netty4/src/main/java/org/elasticsearch/http/netty4/Netty4HttpRequestHandler.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":76,"status":"MB"},{"authorDate":"2018-06-22 00:56:45","commitOrder":2,"curCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        Netty4Utils.maybeDie(cause);\n        final Throwable unwrapped = ExceptionsHelper.unwrap(cause, ElasticsearchException.class);\n        final Throwable newCause = unwrapped != null ? unwrapped : cause;\n        Netty4TcpChannel tcpChannel = ctx.channel().attr(Netty4Transport.CHANNEL_KEY).get();\n        if (newCause instanceof Error) {\n            transport.onException(tcpChannel, new Exception(newCause));\n        } else {\n            transport.onException(tcpChannel, (Exception) newCause);\n        }\n    }\n","date":"2018-06-22 00:56:45","endLine":80,"groupId":"56236","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"exceptionCaught","params":"(ChannelHandlerContextctx@Throwablecause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/69/8c86d048c1cf0ecd16d7cf1134c939972b3922.src","preCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        Netty4Utils.maybeDie(cause);\n        final Throwable unwrapped = ExceptionsHelper.unwrap(cause, ElasticsearchException.class);\n        final Throwable newCause = unwrapped != null ? unwrapped : cause;\n        Netty4TcpChannel tcpChannel = ctx.channel().attr(Netty4Transport.CHANNEL_KEY).get();\n        if (newCause instanceof Error) {\n            transport.onException(tcpChannel, new Exception(newCause));\n        } else {\n            transport.onException(tcpChannel, (Exception) newCause);\n        }\n    }\n","realPath":"modules/transport-netty4/src/main/java/org/elasticsearch/transport/netty4/Netty4MessageChannelHandler.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":70,"status":"B"}],"commitId":"c9eec7eadcbb7f233a8c09211f02f937f501371e","commitMessage":"@@@Merge branch 'master' into index-lifecycle\n","date":"2018-06-22 00:56:45","modifiedFileCount":"63","status":"M","submitter":"Tal Levy"},{"authorTime":"2018-08-24 01:52:59","codes":[{"authorDate":"2018-08-24 01:52:59","commitOrder":3,"curCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        ExceptionsHelper.maybeDieOnAnotherThread(cause);\n        Netty4HttpChannel channel = ctx.channel().attr(Netty4HttpServerTransport.HTTP_CHANNEL_KEY).get();\n        if (cause instanceof Error) {\n            serverTransport.onException(channel, new Exception(cause));\n        } else {\n            serverTransport.onException(channel, (Exception) cause);\n        }\n    }\n","date":"2018-08-24 01:52:59","endLine":83,"groupId":"56236","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"exceptionCaught","params":"(ChannelHandlerContextctx@Throwablecause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/47/2e34d09fc403de60f53c53165dcfeb1b492c6d.src","preCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        Netty4Utils.maybeDie(cause);\n        Netty4HttpChannel channel = ctx.channel().attr(Netty4HttpServerTransport.HTTP_CHANNEL_KEY).get();\n        if (cause instanceof Error) {\n            serverTransport.onException(channel, new Exception(cause));\n        } else {\n            serverTransport.onException(channel, (Exception) cause);\n        }\n    }\n","realPath":"modules/transport-netty4/src/main/java/org/elasticsearch/http/netty4/Netty4HttpRequestHandler.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":75,"status":"M"},{"authorDate":"2018-08-24 01:52:59","commitOrder":3,"curCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        ExceptionsHelper.maybeDieOnAnotherThread(cause);\n        final Throwable unwrapped = ExceptionsHelper.unwrap(cause, ElasticsearchException.class);\n        final Throwable newCause = unwrapped != null ? unwrapped : cause;\n        Netty4TcpChannel tcpChannel = ctx.channel().attr(Netty4Transport.CHANNEL_KEY).get();\n        if (newCause instanceof Error) {\n            transport.onException(tcpChannel, new Exception(newCause));\n        } else {\n            transport.onException(tcpChannel, (Exception) newCause);\n        }\n    }\n","date":"2018-08-24 01:52:59","endLine":80,"groupId":"56236","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"exceptionCaught","params":"(ChannelHandlerContextctx@Throwablecause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/62/0b5cb13c6bb422ac1fc7c81ea76c067c87a054.src","preCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        Netty4Utils.maybeDie(cause);\n        final Throwable unwrapped = ExceptionsHelper.unwrap(cause, ElasticsearchException.class);\n        final Throwable newCause = unwrapped != null ? unwrapped : cause;\n        Netty4TcpChannel tcpChannel = ctx.channel().attr(Netty4Transport.CHANNEL_KEY).get();\n        if (newCause instanceof Error) {\n            transport.onException(tcpChannel, new Exception(newCause));\n        } else {\n            transport.onException(tcpChannel, (Exception) newCause);\n        }\n    }\n","realPath":"modules/transport-netty4/src/main/java/org/elasticsearch/transport/netty4/Netty4MessageChannelHandler.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":70,"status":"M"}],"commitId":"1f13c77b49f46f13b7a2dd40581d942f5ccedb05","commitMessage":"@@@Merge branch 'master' into index-lifecycle\n","date":"2018-08-24 01:52:59","modifiedFileCount":"111","status":"M","submitter":"Gordon Brown"},{"authorTime":"2019-03-07 12:17:20","codes":[{"authorDate":"2018-08-24 01:52:59","commitOrder":4,"curCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        ExceptionsHelper.maybeDieOnAnotherThread(cause);\n        Netty4HttpChannel channel = ctx.channel().attr(Netty4HttpServerTransport.HTTP_CHANNEL_KEY).get();\n        if (cause instanceof Error) {\n            serverTransport.onException(channel, new Exception(cause));\n        } else {\n            serverTransport.onException(channel, (Exception) cause);\n        }\n    }\n","date":"2018-08-24 01:52:59","endLine":83,"groupId":"56236","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"exceptionCaught","params":"(ChannelHandlerContextctx@Throwablecause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/47/2e34d09fc403de60f53c53165dcfeb1b492c6d.src","preCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        ExceptionsHelper.maybeDieOnAnotherThread(cause);\n        Netty4HttpChannel channel = ctx.channel().attr(Netty4HttpServerTransport.HTTP_CHANNEL_KEY).get();\n        if (cause instanceof Error) {\n            serverTransport.onException(channel, new Exception(cause));\n        } else {\n            serverTransport.onException(channel, (Exception) cause);\n        }\n    }\n","realPath":"modules/transport-netty4/src/main/java/org/elasticsearch/http/netty4/Netty4HttpRequestHandler.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":75,"status":"N"},{"authorDate":"2019-03-07 12:17:20","commitOrder":4,"curCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) {\n        ExceptionsHelper.maybeDieOnAnotherThread(cause);\n        final Throwable unwrapped = ExceptionsHelper.unwrap(cause, ElasticsearchException.class);\n        final Throwable newCause = unwrapped != null ? unwrapped : cause;\n        Netty4TcpChannel tcpChannel = ctx.channel().attr(Netty4Transport.CHANNEL_KEY).get();\n        if (newCause instanceof Error) {\n            transport.onException(tcpChannel, new Exception(newCause));\n        } else {\n            transport.onException(tcpChannel, (Exception) newCause);\n        }\n    }\n","date":"2019-03-07 12:17:20","endLine":79,"groupId":"56236","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"exceptionCaught","params":"(ChannelHandlerContextctx@Throwablecause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/e3/f8a0ffb960fc4c02554f6a86ed11f3a7991a01.src","preCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        ExceptionsHelper.maybeDieOnAnotherThread(cause);\n        final Throwable unwrapped = ExceptionsHelper.unwrap(cause, ElasticsearchException.class);\n        final Throwable newCause = unwrapped != null ? unwrapped : cause;\n        Netty4TcpChannel tcpChannel = ctx.channel().attr(Netty4Transport.CHANNEL_KEY).get();\n        if (newCause instanceof Error) {\n            transport.onException(tcpChannel, new Exception(newCause));\n        } else {\n            transport.onException(tcpChannel, (Exception) newCause);\n        }\n    }\n","realPath":"modules/transport-netty4/src/main/java/org/elasticsearch/transport/netty4/Netty4MessageChannelHandler.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":69,"status":"M"}],"commitId":"0cdadf5af03d0c34650fb1f8c49e450e8531585c","commitMessage":"@@@Chunk + Throttle Netty Writes (#39286)\n\n* Chunk large writes and throttle on a non-writable channel to reduce direct memory usage by Netty\n","date":"2019-03-07 12:17:20","modifiedFileCount":"1","status":"M","submitter":"Armin Braun"},{"authorTime":"2019-03-07 12:17:20","codes":[{"authorDate":"2019-03-28 03:59:51","commitOrder":5,"curCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) {\n        ExceptionsHelper.maybeDieOnAnotherThread(cause);\n        Netty4HttpChannel channel = ctx.channel().attr(Netty4HttpServerTransport.HTTP_CHANNEL_KEY).get();\n        if (cause instanceof Error) {\n            serverTransport.onException(channel, new Exception(cause));\n        } else {\n            serverTransport.onException(channel, (Exception) cause);\n        }\n    }\n","date":"2019-03-28 03:59:51","endLine":83,"groupId":"56236","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"exceptionCaught","params":"(ChannelHandlerContextctx@Throwablecause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/ca/d95d2627083cbe52b02932789a27ab7c5db23d.src","preCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {\n        ExceptionsHelper.maybeDieOnAnotherThread(cause);\n        Netty4HttpChannel channel = ctx.channel().attr(Netty4HttpServerTransport.HTTP_CHANNEL_KEY).get();\n        if (cause instanceof Error) {\n            serverTransport.onException(channel, new Exception(cause));\n        } else {\n            serverTransport.onException(channel, (Exception) cause);\n        }\n    }\n","realPath":"modules/transport-netty4/src/main/java/org/elasticsearch/http/netty4/Netty4HttpRequestHandler.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":75,"status":"M"},{"authorDate":"2019-03-07 12:17:20","commitOrder":5,"curCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) {\n        ExceptionsHelper.maybeDieOnAnotherThread(cause);\n        final Throwable unwrapped = ExceptionsHelper.unwrap(cause, ElasticsearchException.class);\n        final Throwable newCause = unwrapped != null ? unwrapped : cause;\n        Netty4TcpChannel tcpChannel = ctx.channel().attr(Netty4Transport.CHANNEL_KEY).get();\n        if (newCause instanceof Error) {\n            transport.onException(tcpChannel, new Exception(newCause));\n        } else {\n            transport.onException(tcpChannel, (Exception) newCause);\n        }\n    }\n","date":"2019-03-07 12:17:20","endLine":79,"groupId":"56236","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"exceptionCaught","params":"(ChannelHandlerContextctx@Throwablecause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/e3/f8a0ffb960fc4c02554f6a86ed11f3a7991a01.src","preCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) {\n        ExceptionsHelper.maybeDieOnAnotherThread(cause);\n        final Throwable unwrapped = ExceptionsHelper.unwrap(cause, ElasticsearchException.class);\n        final Throwable newCause = unwrapped != null ? unwrapped : cause;\n        Netty4TcpChannel tcpChannel = ctx.channel().attr(Netty4Transport.CHANNEL_KEY).get();\n        if (newCause instanceof Error) {\n            transport.onException(tcpChannel, new Exception(newCause));\n        } else {\n            transport.onException(tcpChannel, (Exception) newCause);\n        }\n    }\n","realPath":"modules/transport-netty4/src/main/java/org/elasticsearch/transport/netty4/Netty4MessageChannelHandler.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":69,"status":"N"}],"commitId":"540f2394940cced7bc64e7be53879dac25622b25","commitMessage":"@@@Cleanup Duplication in Netty4 Module (#40148)\n\n* Just drying up the listener/promise handling a little","date":"2019-03-28 03:59:51","modifiedFileCount":"6","status":"M","submitter":"Armin Braun"},{"authorTime":"2020-06-09 18:23:46","codes":[{"authorDate":"2019-03-28 03:59:51","commitOrder":6,"curCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) {\n        ExceptionsHelper.maybeDieOnAnotherThread(cause);\n        Netty4HttpChannel channel = ctx.channel().attr(Netty4HttpServerTransport.HTTP_CHANNEL_KEY).get();\n        if (cause instanceof Error) {\n            serverTransport.onException(channel, new Exception(cause));\n        } else {\n            serverTransport.onException(channel, (Exception) cause);\n        }\n    }\n","date":"2019-03-28 03:59:51","endLine":83,"groupId":"10677","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"exceptionCaught","params":"(ChannelHandlerContextctx@Throwablecause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/ca/d95d2627083cbe52b02932789a27ab7c5db23d.src","preCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) {\n        ExceptionsHelper.maybeDieOnAnotherThread(cause);\n        Netty4HttpChannel channel = ctx.channel().attr(Netty4HttpServerTransport.HTTP_CHANNEL_KEY).get();\n        if (cause instanceof Error) {\n            serverTransport.onException(channel, new Exception(cause));\n        } else {\n            serverTransport.onException(channel, (Exception) cause);\n        }\n    }\n","realPath":"modules/transport-netty4/src/main/java/org/elasticsearch/http/netty4/Netty4HttpRequestHandler.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":75,"status":"N"},{"authorDate":"2020-06-09 18:23:46","commitOrder":6,"curCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) {\n        assert Transports.assertDefaultThreadContext(transport.getThreadPool().getThreadContext());\n        ExceptionsHelper.maybeDieOnAnotherThread(cause);\n        final Throwable unwrapped = ExceptionsHelper.unwrap(cause, ElasticsearchException.class);\n        final Throwable newCause = unwrapped != null ? unwrapped : cause;\n        Netty4TcpChannel tcpChannel = ctx.channel().attr(Netty4Transport.CHANNEL_KEY).get();\n        if (newCause instanceof Error) {\n            transport.onException(tcpChannel, new Exception(newCause));\n        } else {\n            transport.onException(tcpChannel, (Exception) newCause);\n        }\n    }\n","date":"2020-06-09 18:23:46","endLine":92,"groupId":"10677","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"exceptionCaught","params":"(ChannelHandlerContextctx@Throwablecause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/fb/72bd82eed907257e08914bcc5d6d800f804693.src","preCode":"    public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) {\n        ExceptionsHelper.maybeDieOnAnotherThread(cause);\n        final Throwable unwrapped = ExceptionsHelper.unwrap(cause, ElasticsearchException.class);\n        final Throwable newCause = unwrapped != null ? unwrapped : cause;\n        Netty4TcpChannel tcpChannel = ctx.channel().attr(Netty4Transport.CHANNEL_KEY).get();\n        if (newCause instanceof Error) {\n            transport.onException(tcpChannel, new Exception(newCause));\n        } else {\n            transport.onException(tcpChannel, (Exception) newCause);\n        }\n    }\n","realPath":"modules/transport-netty4/src/main/java/org/elasticsearch/transport/netty4/Netty4MessageChannelHandler.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":81,"status":"M"}],"commitId":"5221970b2abd13ed684697c430f7091e28dbe350","commitMessage":"@@@Use clean thread context for transport and applier service (#57792)\n\nAdds assertions to Netty to make sure that its threads are not polluted by thread contexts (and\nalso that thread contexts are not leaked). Moves the ClusterApplierService to use the system\ncontext (same as we do for MasterService).  which allows to remove a hack from\nTemplateUgradeService and makes it clearer that applying CS updates is fully executing under\nsystem context.","date":"2020-06-09 18:23:46","modifiedFileCount":"10","status":"M","submitter":"Yannick Welsch"}]
