[{"authorTime":"2018-04-26 03:22:53","codes":[{"authorDate":"2018-04-26 03:22:53","commitOrder":1,"curCode":"    public void testNestedRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryShardContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedPath(\"path\").setNestedFilter(rangeQuery);\n        GeoDistanceSortBuilder rewritten = (GeoDistanceSortBuilder) sortBuilder\n                .rewrite(createMockShardContext());\n        assertNotSame(rangeQuery, rewritten.getNestedFilter());\n    }\n","date":"2018-04-26 03:22:53","endLine":605,"groupId":"1221","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testNestedRewrites","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/11/09bdfc1f1a108634f94e2f03ba5006b1d36445.src","preCode":"    public void testNestedRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryShardContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedPath(\"path\").setNestedFilter(rangeQuery);\n        GeoDistanceSortBuilder rewritten = (GeoDistanceSortBuilder) sortBuilder\n                .rewrite(createMockShardContext());\n        assertNotSame(rangeQuery, rewritten.getNestedFilter());\n    }\n","realPath":"server/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":593,"status":"B"},{"authorDate":"2018-04-26 03:22:53","commitOrder":1,"curCode":"    public void testNestedSortRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryShardContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedSort(new NestedSortBuilder(\"path\").setFilter(rangeQuery));\n        GeoDistanceSortBuilder rewritten = (GeoDistanceSortBuilder) sortBuilder\n                .rewrite(createMockShardContext());\n        assertNotSame(rangeQuery, rewritten.getNestedSort().getFilter());\n    }\n","date":"2018-04-26 03:22:53","endLine":622,"groupId":"6005","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testNestedSortRewrites","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/11/09bdfc1f1a108634f94e2f03ba5006b1d36445.src","preCode":"    public void testNestedSortRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryShardContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedSort(new NestedSortBuilder(\"path\").setFilter(rangeQuery));\n        GeoDistanceSortBuilder rewritten = (GeoDistanceSortBuilder) sortBuilder\n                .rewrite(createMockShardContext());\n        assertNotSame(rangeQuery, rewritten.getNestedSort().getFilter());\n    }\n","realPath":"server/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":610,"status":"B"}],"commitId":"d74fb9eb4559077e2d20b19a9ed62d9ff825027a","commitMessage":"@@@Opened x-pack ILM code\n","date":"2018-04-26 03:22:53","modifiedFileCount":"0","status":"B","submitter":"Tal Levy"},{"authorTime":"2018-04-26 03:22:53","codes":[{"authorDate":"2019-06-27 23:30:02","commitOrder":2,"curCode":"    public void testNestedRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryShardContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedSort(\n            new NestedSortBuilder(\"path\")\n                .setFilter(rangeQuery)\n        );\n        GeoDistanceSortBuilder rewritten = sortBuilder.rewrite(createMockShardContext());\n        assertNotSame(rangeQuery, rewritten.getNestedSort().getFilter());\n    }\n","date":"2019-06-27 23:30:02","endLine":561,"groupId":"6005","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testNestedRewrites","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/73/be5837faa90654cf82aa008206950f5e7bbb95.src","preCode":"    public void testNestedRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryShardContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedPath(\"path\").setNestedFilter(rangeQuery);\n        GeoDistanceSortBuilder rewritten = (GeoDistanceSortBuilder) sortBuilder\n                .rewrite(createMockShardContext());\n        assertNotSame(rangeQuery, rewritten.getNestedFilter());\n    }\n","realPath":"server/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":547,"status":"M"},{"authorDate":"2018-04-26 03:22:53","commitOrder":2,"curCode":"    public void testNestedSortRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryShardContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedSort(new NestedSortBuilder(\"path\").setFilter(rangeQuery));\n        GeoDistanceSortBuilder rewritten = (GeoDistanceSortBuilder) sortBuilder\n                .rewrite(createMockShardContext());\n        assertNotSame(rangeQuery, rewritten.getNestedSort().getFilter());\n    }\n","date":"2018-04-26 03:22:53","endLine":622,"groupId":"6005","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testNestedSortRewrites","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/11/09bdfc1f1a108634f94e2f03ba5006b1d36445.src","preCode":"    public void testNestedSortRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryShardContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedSort(new NestedSortBuilder(\"path\").setFilter(rangeQuery));\n        GeoDistanceSortBuilder rewritten = (GeoDistanceSortBuilder) sortBuilder\n                .rewrite(createMockShardContext());\n        assertNotSame(rangeQuery, rewritten.getNestedSort().getFilter());\n    }\n","realPath":"server/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":610,"status":"N"}],"commitId":"a6144158384876d259e59986af7c2fd14b67f6cc","commitMessage":"@@@Remove deprecated sort options: nested_path and nested_filter (#42809)\n\nThis commit removes the nested_path and nested_filter options deprecated in 6x.\nThis change also checks that the sort field has a [nested] option if it is under a nested\nobject and throws an exception if it's not the case.\n\nCloses #27098","date":"2019-06-27 23:30:02","modifiedFileCount":"13","status":"M","submitter":"Jim Ferenczi"},{"authorTime":"2021-01-15 01:11:59","codes":[{"authorDate":"2021-01-15 01:11:59","commitOrder":3,"curCode":"    public void testNestedRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryRewriteContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedSort(\n            new NestedSortBuilder(\"path\")\n                .setFilter(rangeQuery)\n        );\n        GeoDistanceSortBuilder rewritten = sortBuilder.rewrite(createMockSearchExecutionContext());\n        assertNotSame(rangeQuery, rewritten.getNestedSort().getFilter());\n    }\n","date":"2021-01-15 01:11:59","endLine":561,"groupId":"6005","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testNestedRewrites","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/c0/335e5dcef5ae2edb57461f44a5156cb4eff554.src","preCode":"    public void testNestedRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryShardContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedSort(\n            new NestedSortBuilder(\"path\")\n                .setFilter(rangeQuery)\n        );\n        GeoDistanceSortBuilder rewritten = sortBuilder.rewrite(createMockShardContext());\n        assertNotSame(rangeQuery, rewritten.getNestedSort().getFilter());\n    }\n","realPath":"server/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":547,"status":"M"},{"authorDate":"2021-01-15 01:11:59","commitOrder":3,"curCode":"    public void testNestedSortRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryRewriteContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedSort(new NestedSortBuilder(\"path\").setFilter(rangeQuery));\n        GeoDistanceSortBuilder rewritten = (GeoDistanceSortBuilder) sortBuilder\n                .rewrite(createMockSearchExecutionContext());\n        assertNotSame(rangeQuery, rewritten.getNestedSort().getFilter());\n    }\n","date":"2021-01-15 01:11:59","endLine":578,"groupId":"6005","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testNestedSortRewrites","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/c0/335e5dcef5ae2edb57461f44a5156cb4eff554.src","preCode":"    public void testNestedSortRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryShardContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedSort(new NestedSortBuilder(\"path\").setFilter(rangeQuery));\n        GeoDistanceSortBuilder rewritten = (GeoDistanceSortBuilder) sortBuilder\n                .rewrite(createMockShardContext());\n        assertNotSame(rangeQuery, rewritten.getNestedSort().getFilter());\n    }\n","realPath":"server/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":566,"status":"M"}],"commitId":"5852fbedf52c77b0a76c2c731fdd4982fb65cd87","commitMessage":"@@@Rename QueryShardContext -> SearchExecutionContext. (#67490)\n\nWe decided to rename `QueryShardContext` to clarify that it supports all parts\nof search request execution. Before there was confusion over whether it should\nonly be used for building queries.  or maybe only used in the query phase. This\nPR also updates the javadocs.\n\nCloses #64740.","date":"2021-01-15 01:11:59","modifiedFileCount":"357","status":"M","submitter":"Julie Tibshirani"},{"authorTime":"2021-08-10 22:05:55","codes":[{"authorDate":"2021-01-15 01:11:59","commitOrder":4,"curCode":"    public void testNestedRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryRewriteContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedSort(\n            new NestedSortBuilder(\"path\")\n                .setFilter(rangeQuery)\n        );\n        GeoDistanceSortBuilder rewritten = sortBuilder.rewrite(createMockSearchExecutionContext());\n        assertNotSame(rangeQuery, rewritten.getNestedSort().getFilter());\n    }\n","date":"2021-01-15 01:11:59","endLine":561,"groupId":"104523","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testNestedRewrites","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/c0/335e5dcef5ae2edb57461f44a5156cb4eff554.src","preCode":"    public void testNestedRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryRewriteContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedSort(\n            new NestedSortBuilder(\"path\")\n                .setFilter(rangeQuery)\n        );\n        GeoDistanceSortBuilder rewritten = sortBuilder.rewrite(createMockSearchExecutionContext());\n        assertNotSame(rangeQuery, rewritten.getNestedSort().getFilter());\n    }\n","realPath":"server/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":547,"status":"N"},{"authorDate":"2021-08-10 22:05:55","commitOrder":4,"curCode":"    public void testNestedSortRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryRewriteContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedSort(new NestedSortBuilder(\"path\").setFilter(rangeQuery));\n        GeoDistanceSortBuilder rewritten = sortBuilder.rewrite(createMockSearchExecutionContext());\n        assertNotSame(rangeQuery, rewritten.getNestedSort().getFilter());\n    }\n","date":"2021-08-10 22:05:55","endLine":566,"groupId":"104523","id":8,"instanceNumber":2,"isCurCommit":1,"methodName":"testNestedSortRewrites","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/96/6967e21e348952804f49ec46efe76309fb141a.src","preCode":"    public void testNestedSortRewrites() throws IOException {\n        GeoDistanceSortBuilder sortBuilder = new GeoDistanceSortBuilder(\"fieldName\", 0.0, 0.0);\n        RangeQueryBuilder rangeQuery = new RangeQueryBuilder(\"fieldName\") {\n            @Override\n            public QueryBuilder doRewrite(QueryRewriteContext queryRewriteContext) throws IOException {\n                return new MatchNoneQueryBuilder();\n            }\n        };\n        sortBuilder.setNestedSort(new NestedSortBuilder(\"path\").setFilter(rangeQuery));\n        GeoDistanceSortBuilder rewritten = (GeoDistanceSortBuilder) sortBuilder\n                .rewrite(createMockSearchExecutionContext());\n        assertNotSame(rangeQuery, rewritten.getNestedSort().getFilter());\n    }\n","realPath":"server/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":555,"status":"M"}],"commitId":"128a7e774437e80fef3e0d35fb74a9c0fb42c080","commitMessage":"@@@Fix compiler warnings in :server - part 3 (#76024)\n\nPart of #40366. Fix a number of javac issues when linting is enforced in `server/`.","date":"2021-08-10 22:05:55","modifiedFileCount":"50","status":"M","submitter":"Rory Hunter"}]
