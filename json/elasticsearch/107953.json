[{"authorTime":"2018-04-26 03:22:53","codes":[{"authorDate":"2018-04-26 03:22:53","commitOrder":1,"curCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final float dMissingValue = (Float) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.FloatComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDoubleValues values = indexFieldData.load(context).getDoubleValues();\n                final NumericDoubleValues selectedValues;\n                if (nested == null) {\n                    selectedValues = sortMode.select(values, dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc());\n                }\n                return selectedValues.getRawFloatValues();\n            }\n        };\n    }\n","date":"2018-04-26 03:22:53","endLine":75,"groupId":"9354","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"newComparator","params":"(Stringfieldname@intnumHits@intsortPos@booleanreversed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/a6/1a715547a24c91ebc2375406da8f3c93916bb0.src","preCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final float dMissingValue = (Float) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.FloatComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDoubleValues values = indexFieldData.load(context).getDoubleValues();\n                final NumericDoubleValues selectedValues;\n                if (nested == null) {\n                    selectedValues = sortMode.select(values, dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc());\n                }\n                return selectedValues.getRawFloatValues();\n            }\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":54,"status":"B"},{"authorDate":"2018-04-26 03:22:53","commitOrder":1,"curCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final Long dMissingValue = (Long) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.LongComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDocValues values = indexFieldData.load(context).getLongValues();\n                final NumericDocValues selectedValues;\n                if (nested == null) {\n                    selectedValues = sortMode.select(values, dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc());\n                }\n                return selectedValues;\n            }\n\n        };\n    }\n","date":"2018-04-26 03:22:53","endLine":75,"groupId":"9354","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"newComparator","params":"(Stringfieldname@intnumHits@intsortPos@booleanreversed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/aa/206fe1baebe2c6a1a7d1e4239f1ddb013ac87d.src","preCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final Long dMissingValue = (Long) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.LongComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDocValues values = indexFieldData.load(context).getLongValues();\n                final NumericDocValues selectedValues;\n                if (nested == null) {\n                    selectedValues = sortMode.select(values, dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc());\n                }\n                return selectedValues;\n            }\n\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":53,"status":"B"}],"commitId":"d74fb9eb4559077e2d20b19a9ed62d9ff825027a","commitMessage":"@@@Opened x-pack ILM code\n","date":"2018-04-26 03:22:53","modifiedFileCount":"0","status":"B","submitter":"Tal Levy"},{"authorTime":"2018-06-05 23:09:02","codes":[{"authorDate":"2018-06-05 23:09:02","commitOrder":2,"curCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final float dMissingValue = (Float) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.FloatComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDoubleValues values = indexFieldData.load(context).getDoubleValues();\n                final NumericDoubleValues selectedValues;\n                if (nested == null) {\n                    selectedValues = FieldData.replaceMissing(sortMode.select(values), dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc());\n                }\n                return selectedValues.getRawFloatValues();\n            }\n        };\n    }\n","date":"2018-06-05 23:09:02","endLine":76,"groupId":"9354","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"newComparator","params":"(Stringfieldname@intnumHits@intsortPos@booleanreversed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/b2/71dd54bd7fdbf213a9dffbc3b0ea3e128de7f9.src","preCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final float dMissingValue = (Float) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.FloatComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDoubleValues values = indexFieldData.load(context).getDoubleValues();\n                final NumericDoubleValues selectedValues;\n                if (nested == null) {\n                    selectedValues = sortMode.select(values, dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc());\n                }\n                return selectedValues.getRawFloatValues();\n            }\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":55,"status":"M"},{"authorDate":"2018-06-05 23:09:02","commitOrder":2,"curCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final Long dMissingValue = (Long) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.LongComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDocValues values = indexFieldData.load(context).getLongValues();\n                final NumericDocValues selectedValues;\n                if (nested == null) {\n                    selectedValues = FieldData.replaceMissing(sortMode.select(values), dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc());\n                }\n                return selectedValues;\n            }\n\n        };\n    }\n","date":"2018-06-05 23:09:02","endLine":76,"groupId":"9354","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"newComparator","params":"(Stringfieldname@intnumHits@intsortPos@booleanreversed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/36/2dde609968091ae39e8de3a028a2974d204943.src","preCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final Long dMissingValue = (Long) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.LongComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDocValues values = indexFieldData.load(context).getLongValues();\n                final NumericDocValues selectedValues;\n                if (nested == null) {\n                    selectedValues = sortMode.select(values, dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc());\n                }\n                return selectedValues;\n            }\n\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":54,"status":"M"}],"commitId":"6b0008c6686c700c9a9e7afbaf1e5edb8b2fa282","commitMessage":"@@@Merge branch 'master' into index-lifecycle\n","date":"2018-06-05 23:09:02","modifiedFileCount":"58","status":"M","submitter":"Tal Levy"},{"authorTime":"2018-10-15 23:03:37","codes":[{"authorDate":"2018-10-15 23:03:37","commitOrder":3,"curCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final float dMissingValue = (Float) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.FloatComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDoubleValues values = indexFieldData.load(context).getDoubleValues();\n                final NumericDoubleValues selectedValues;\n                if (nested == null) {\n                    selectedValues = FieldData.replaceMissing(sortMode.select(values), dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    final int maxChildren = nested.getNestedSort() != null ? nested.getNestedSort().getMaxChildren() : Integer.MAX_VALUE;\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc(), maxChildren);\n                }\n                return selectedValues.getRawFloatValues();\n            }\n        };\n    }\n","date":"2018-10-15 23:03:37","endLine":77,"groupId":"9354","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"newComparator","params":"(Stringfieldname@intnumHits@intsortPos@booleanreversed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/be/b27644a1b958d792411fa50d9f51343f6b33a6.src","preCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final float dMissingValue = (Float) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.FloatComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDoubleValues values = indexFieldData.load(context).getDoubleValues();\n                final NumericDoubleValues selectedValues;\n                if (nested == null) {\n                    selectedValues = FieldData.replaceMissing(sortMode.select(values), dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc());\n                }\n                return selectedValues.getRawFloatValues();\n            }\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":55,"status":"M"},{"authorDate":"2018-10-15 23:03:37","commitOrder":3,"curCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final Long dMissingValue = (Long) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.LongComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDocValues values = indexFieldData.load(context).getLongValues();\n                final NumericDocValues selectedValues;\n                if (nested == null) {\n                    selectedValues = FieldData.replaceMissing(sortMode.select(values), dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    final int maxChildren = nested.getNestedSort() != null ? nested.getNestedSort().getMaxChildren() : Integer.MAX_VALUE;\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc(), maxChildren);\n                }\n                return selectedValues;\n            }\n\n        };\n    }\n","date":"2018-10-15 23:03:37","endLine":77,"groupId":"9354","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"newComparator","params":"(Stringfieldname@intnumHits@intsortPos@booleanreversed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/f3/23709e8f5ee908bef588cfec141d377159c453.src","preCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final Long dMissingValue = (Long) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.LongComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDocValues values = indexFieldData.load(context).getLongValues();\n                final NumericDocValues selectedValues;\n                if (nested == null) {\n                    selectedValues = FieldData.replaceMissing(sortMode.select(values), dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc());\n                }\n                return selectedValues;\n            }\n\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":54,"status":"M"}],"commitId":"0b42eda0e360d17975460a0d1efd0c6e6b494ca5","commitMessage":"@@@Merge branch 'master' into index-lifecycle\n","date":"2018-10-15 23:03:37","modifiedFileCount":"331","status":"M","submitter":"Colin Goodheart-Smithe"},{"authorTime":"2019-03-20 03:17:31","codes":[{"authorDate":"2018-10-15 23:03:37","commitOrder":4,"curCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final float dMissingValue = (Float) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.FloatComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDoubleValues values = indexFieldData.load(context).getDoubleValues();\n                final NumericDoubleValues selectedValues;\n                if (nested == null) {\n                    selectedValues = FieldData.replaceMissing(sortMode.select(values), dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    final int maxChildren = nested.getNestedSort() != null ? nested.getNestedSort().getMaxChildren() : Integer.MAX_VALUE;\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc(), maxChildren);\n                }\n                return selectedValues.getRawFloatValues();\n            }\n        };\n    }\n","date":"2018-10-15 23:03:37","endLine":77,"groupId":"9354","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"newComparator","params":"(Stringfieldname@intnumHits@intsortPos@booleanreversed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/be/b27644a1b958d792411fa50d9f51343f6b33a6.src","preCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final float dMissingValue = (Float) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.FloatComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDoubleValues values = indexFieldData.load(context).getDoubleValues();\n                final NumericDoubleValues selectedValues;\n                if (nested == null) {\n                    selectedValues = FieldData.replaceMissing(sortMode.select(values), dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    final int maxChildren = nested.getNestedSort() != null ? nested.getNestedSort().getMaxChildren() : Integer.MAX_VALUE;\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc(), maxChildren);\n                }\n                return selectedValues.getRawFloatValues();\n            }\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":55,"status":"N"},{"authorDate":"2019-03-20 03:17:31","commitOrder":4,"curCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final Long dMissingValue = (Long) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.LongComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDocValues values = loadDocValues(context);\n                final NumericDocValues selectedValues;\n                if (nested == null) {\n                    selectedValues = FieldData.replaceMissing(sortMode.select(values), dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    final int maxChildren = nested.getNestedSort() != null ? nested.getNestedSort().getMaxChildren() : Integer.MAX_VALUE;\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc(), maxChildren);\n                }\n                return selectedValues;\n            }\n\n        };\n    }\n","date":"2019-03-20 03:17:31","endLine":100,"groupId":"39","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"newComparator","params":"(Stringfieldname@intnumHits@intsortPos@booleanreversed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/15/7c11e74cba83a33c0666e329b9d95095370457.src","preCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final Long dMissingValue = (Long) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.LongComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDocValues values = indexFieldData.load(context).getLongValues();\n                final NumericDocValues selectedValues;\n                if (nested == null) {\n                    selectedValues = FieldData.replaceMissing(sortMode.select(values), dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    final int maxChildren = nested.getNestedSort() != null ? nested.getNestedSort().getMaxChildren() : Integer.MAX_VALUE;\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc(), maxChildren);\n                }\n                return selectedValues;\n            }\n\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":77,"status":"M"}],"commitId":"d234ef7612086cbbef4719efd89d0dd61d8f371a","commitMessage":"@@@Add date and date_nanos conversion to the numeric_type sort option (#40199)\n\nThis change adds an option to convert a `date` field to nanoseconds resolution\n and a `date_nanos` field to millisecond resolution when sorting.\nThe resolution of the sort can be set using the `numeric_type` option of the\nfield sort builder. The conversion is done at the shard level and is restricted\nto dates from 1970 to 2262 for the nanoseconds resolution in order to avoid\nnumeric overflow.\n","date":"2019-03-20 03:17:31","modifiedFileCount":"8","status":"M","submitter":"Jim Ferenczi"},{"authorTime":"2020-02-14 20:13:52","codes":[{"authorDate":"2020-02-14 20:13:52","commitOrder":5,"curCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final float fMissingValue = (Float) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.FloatComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                return FloatValuesComparatorSource.this.getNumericDocValues(context, fMissingValue).getRawFloatValues();\n            }\n        };\n    }\n","date":"2020-02-14 20:13:52","endLine":85,"groupId":"9354","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"newComparator","params":"(Stringfieldname@intnumHits@intsortPos@booleanreversed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/f0/d9b303c18ee7f0d52efe32e86a8ce7ff55a846.src","preCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final float dMissingValue = (Float) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.FloatComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDoubleValues values = indexFieldData.load(context).getDoubleValues();\n                final NumericDoubleValues selectedValues;\n                if (nested == null) {\n                    selectedValues = FieldData.replaceMissing(sortMode.select(values), dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    final int maxChildren = nested.getNestedSort() != null ? nested.getNestedSort().getMaxChildren() : Integer.MAX_VALUE;\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc(), maxChildren);\n                }\n                return selectedValues.getRawFloatValues();\n            }\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"M"},{"authorDate":"2020-02-14 20:13:52","commitOrder":5,"curCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final long lMissingValue = (Long) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.LongComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                return LongValuesComparatorSource.this.getNumericDocValues(context, lMissingValue);\n            }\n        };\n    }\n","date":"2020-02-14 20:13:52","endLine":104,"groupId":"56945","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"newComparator","params":"(Stringfieldname@intnumHits@intsortPos@booleanreversed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/a9/90b3b861bf7f633d1093136095791bd137330c.src","preCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final Long dMissingValue = (Long) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.LongComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                final SortedNumericDocValues values = loadDocValues(context);\n                final NumericDocValues selectedValues;\n                if (nested == null) {\n                    selectedValues = FieldData.replaceMissing(sortMode.select(values), dMissingValue);\n                } else {\n                    final BitSet rootDocs = nested.rootDocs(context);\n                    final DocIdSetIterator innerDocs = nested.innerDocs(context);\n                    final int maxChildren = nested.getNestedSort() != null ? nested.getNestedSort().getMaxChildren() : Integer.MAX_VALUE;\n                    selectedValues = sortMode.select(values, dMissingValue, rootDocs, innerDocs, context.reader().maxDoc(), maxChildren);\n                }\n                return selectedValues;\n            }\n\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":92,"status":"M"}],"commitId":"5b2266601bea9de8082891ee4fcdf5171c1a9084","commitMessage":"@@@Implement top_metrics agg (#51155)\n\nThe `top_metrics` agg is kind of like `top_hits` but it only works on\ndoc values so it *should* be faster.\n\nAt this point it is fairly limited in that it only supports a single. \nnumeric sort and a single.  numeric metric. And it only fetches the \"very\ntopest\" document worth of metric. We plan to support returning a\nconfigurable number of top metrics.  requesting more than one metric and\nmore than one sort. And.  eventually.  non-numeric sorts and metrics. The\ntrick is doing those things fairly efficiently.\n\nCo-Authored by: Zachary Tong <zach@elastic.co>\n","date":"2020-02-14 20:13:52","modifiedFileCount":"38","status":"M","submitter":"Nik Everett"},{"authorTime":"2020-09-18 13:53:38","codes":[{"authorDate":"2020-09-18 13:53:38","commitOrder":6,"curCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final float fMissingValue = (Float) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FloatComparator(numHits, null, null, reversed, sortPos) {\n            @Override\n            public LeafFieldComparator getLeafComparator(LeafReaderContext context) throws IOException {\n                return new FloatLeafComparator(context) {\n                    @Override\n                    protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                        return FloatValuesComparatorSource.this.getNumericDocValues(context, fMissingValue).getRawFloatValues();\n                    }\n                };\n            }\n        };\n    }\n","date":"2020-09-18 13:53:38","endLine":92,"groupId":"107953","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"newComparator","params":"(Stringfieldname@intnumHits@intsortPos@booleanreversed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/26/5002be7aab84da7b4826166910d02c055638b5.src","preCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final float fMissingValue = (Float) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.FloatComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                return FloatValuesComparatorSource.this.getNumericDocValues(context, fMissingValue).getRawFloatValues();\n            }\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":75,"status":"M"},{"authorDate":"2020-09-18 13:53:38","commitOrder":6,"curCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final long lMissingValue = (Long) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new LongComparator(numHits, null, null, reversed, sortPos) {\n            @Override\n            public LeafFieldComparator getLeafComparator(LeafReaderContext context) throws IOException {\n                return new LongLeafComparator(context) {\n                    @Override\n                    protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                        return LongValuesComparatorSource.this.getNumericDocValues(context, lMissingValue);\n                    }\n                };\n            }\n        };\n    }\n","date":"2020-09-18 13:53:38","endLine":111,"groupId":"107953","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"newComparator","params":"(Stringfieldname@intnumHits@intsortPos@booleanreversed)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/9b/843c6db56bd645a6422cb486f804015b5b3b8f.src","preCode":"    public FieldComparator<?> newComparator(String fieldname, int numHits, int sortPos, boolean reversed) {\n        assert indexFieldData == null || fieldname.equals(indexFieldData.getFieldName());\n\n        final long lMissingValue = (Long) missingObject(missingValue, reversed);\n        \r\n        \r\n        return new FieldComparator.LongComparator(numHits, null, null) {\n            @Override\n            protected NumericDocValues getNumericDocValues(LeafReaderContext context, String field) throws IOException {\n                return LongValuesComparatorSource.this.getNumericDocValues(context, lMissingValue);\n            }\n        };\n    }\n","realPath":"server/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":94,"status":"M"}],"commitId":"b33dc24a79dfc1347c63d6040cc7784587840442","commitMessage":"@@@Upgrade to lucene-8.7.0-snapshot-830bd186a8d. (#62576)\n\n","date":"2020-09-18 13:53:38","modifiedFileCount":"6","status":"M","submitter":"Adrien Grand"}]
