[{"authorTime":"2021-03-17 17:25:27","codes":[{"authorDate":"2021-03-17 17:25:27","commitOrder":1,"curCode":"    private static boolean supportsCreatingColumnObject(@Nullable DBNNode node, @NotNull Class<?> supertype) {\n        if (!(node instanceof DBNDatabaseItem)) {\n            return false;\n        }\n        DBNDatabaseItem databaseItem = (DBNDatabaseItem) node;\n        DBSObject attributeObject = databaseItem.getObject();\n        if (!(attributeObject instanceof DBSEntityAttribute)) {\n            return false;\n        }\n        DBSObject entityObject = attributeObject.getParentObject();\n        if (!(entityObject instanceof DBSEntity)) {\n            return false;\n        }\n        DBEStructEditor<?> structEditor = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(entityObject.getClass(), DBEStructEditor.class);\n        if (structEditor == null) {\n            return false;\n        }\n        for (Class<?> childType: structEditor.getChildTypes()) {\n            DBEObjectMaker<?, ?> maker = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(childType, DBEObjectMaker.class);\n            if (maker != null && maker.canCreateObject(entityObject) && supertype.isAssignableFrom(childType)) {\n                return true;\n            }\n        }\n        return false;\n    }\n","date":"2021-03-17 17:25:27","endLine":324,"groupId":"3570","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"supportsCreatingColumnObject","params":"(@NullableDBNNodenode@@NotNullClass<?>supertype)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/19/6047d19206cfca45aa622b757927b13f719f96.src","preCode":"    private static boolean supportsCreatingColumnObject(@Nullable DBNNode node, @NotNull Class<?> supertype) {\n        if (!(node instanceof DBNDatabaseItem)) {\n            return false;\n        }\n        DBNDatabaseItem databaseItem = (DBNDatabaseItem) node;\n        DBSObject attributeObject = databaseItem.getObject();\n        if (!(attributeObject instanceof DBSEntityAttribute)) {\n            return false;\n        }\n        DBSObject entityObject = attributeObject.getParentObject();\n        if (!(entityObject instanceof DBSEntity)) {\n            return false;\n        }\n        DBEStructEditor<?> structEditor = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(entityObject.getClass(), DBEStructEditor.class);\n        if (structEditor == null) {\n            return false;\n        }\n        for (Class<?> childType: structEditor.getChildTypes()) {\n            DBEObjectMaker<?, ?> maker = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(childType, DBEObjectMaker.class);\n            if (maker != null && maker.canCreateObject(entityObject) && supertype.isAssignableFrom(childType)) {\n                return true;\n            }\n        }\n        return false;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ui.navigator/src/org/jkiss/dbeaver/ui/actions/ObjectPropertyTester.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":300,"status":"B"},{"authorDate":"2021-03-17 17:25:27","commitOrder":1,"curCode":"    static Object createColumnObject(@NotNull ExecutionEvent event, @NotNull Class<?> columnObjectSuperType) {\n        DBNNode node = NavigatorUtils.getSelectedNode(HandlerUtil.getCurrentSelection(event));\n        if (!(node instanceof DBNDatabaseItem)) {\n            log.error(\"Selected node is not a database item\");\n            return null;\n        }\n        DBNNode containerNode = node.getParentNode();\n        if (containerNode == null) {\n            log.error(\"Selected node has no parent\");\n            return null;\n        }\n        DBSObject attributeObject = ((DBNDatabaseItem) node).getObject();\n        if (!(attributeObject instanceof DBSEntityAttribute)) {\n            log.error(\"Selected node's object is not an attribute\");\n            return null;\n        }\n        DBSObject entityObject = attributeObject.getParentObject();\n        if (!(entityObject instanceof DBSEntity)) {\n            log.error(\"Selected node's attribute has no parent\");\n            return null;\n        }\n        DBEStructEditor<?> structEditor = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(entityObject.getClass(), DBEStructEditor.class);\n        if (structEditor == null) {\n            log.error(\"No struct editor exists for entity\");\n            return null;\n        }\n        DBEObjectMaker<?, ?> maker = null;\n        Class<?> columnObjectConcreteType = null;\n        for (Class<?> childType: structEditor.getChildTypes()) {\n            maker = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(childType, DBEObjectMaker.class);\n            if (maker != null && maker.canCreateObject(entityObject) && columnObjectSuperType.isAssignableFrom(childType)) {\n                columnObjectConcreteType = childType;\n                break;\n            }\n        }\n        if (columnObjectConcreteType == null) {\n            log.error(\"Unable to find appropriate child type and it's maker\");\n            return null;\n        }\n\n        DBECommandContext commandContext;\n        try {\n            commandContext = getCommandTarget(HandlerUtil.getActiveWorkbenchWindow(event), containerNode, columnObjectConcreteType, false).getContext();\n            createNewObject(maker, commandContext, entityObject);\n        } catch (DBException e) {\n            log.warn(\"Unable to create object of type \" + columnObjectConcreteType.getName(), e);\n        }\n\n        return null;\n    }\n","date":"2021-03-17 17:25:27","endLine":91,"groupId":"3570","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"createColumnObject","params":"(@NotNullExecutionEventevent@@NotNullClass<?>columnObjectSuperType)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/60/58fcf03ba92a95120aede6dc19df07cd5a915c.src","preCode":"    static Object createColumnObject(@NotNull ExecutionEvent event, @NotNull Class<?> columnObjectSuperType) {\n        DBNNode node = NavigatorUtils.getSelectedNode(HandlerUtil.getCurrentSelection(event));\n        if (!(node instanceof DBNDatabaseItem)) {\n            log.error(\"Selected node is not a database item\");\n            return null;\n        }\n        DBNNode containerNode = node.getParentNode();\n        if (containerNode == null) {\n            log.error(\"Selected node has no parent\");\n            return null;\n        }\n        DBSObject attributeObject = ((DBNDatabaseItem) node).getObject();\n        if (!(attributeObject instanceof DBSEntityAttribute)) {\n            log.error(\"Selected node's object is not an attribute\");\n            return null;\n        }\n        DBSObject entityObject = attributeObject.getParentObject();\n        if (!(entityObject instanceof DBSEntity)) {\n            log.error(\"Selected node's attribute has no parent\");\n            return null;\n        }\n        DBEStructEditor<?> structEditor = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(entityObject.getClass(), DBEStructEditor.class);\n        if (structEditor == null) {\n            log.error(\"No struct editor exists for entity\");\n            return null;\n        }\n        DBEObjectMaker<?, ?> maker = null;\n        Class<?> columnObjectConcreteType = null;\n        for (Class<?> childType: structEditor.getChildTypes()) {\n            maker = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(childType, DBEObjectMaker.class);\n            if (maker != null && maker.canCreateObject(entityObject) && columnObjectSuperType.isAssignableFrom(childType)) {\n                columnObjectConcreteType = childType;\n                break;\n            }\n        }\n        if (columnObjectConcreteType == null) {\n            log.error(\"Unable to find appropriate child type and it's maker\");\n            return null;\n        }\n\n        DBECommandContext commandContext;\n        try {\n            commandContext = getCommandTarget(HandlerUtil.getActiveWorkbenchWindow(event), containerNode, columnObjectConcreteType, false).getContext();\n            createNewObject(maker, commandContext, entityObject);\n        } catch (DBException e) {\n            log.warn(\"Unable to create object of type \" + columnObjectConcreteType.getName(), e);\n        }\n\n        return null;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ui.navigator/src/org/jkiss/dbeaver/ui/navigator/actions/NavigatorHandlerCreateColumnObjectBase.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":42,"status":"B"}],"commitId":"4cd54c5df2fa770a7f558d9be71394bdbe47a30a","commitMessage":"@@@Merge remote-tracking branch 'origin/devel' into devel\n\n\nFormer-commit-id: 390039bc8127a319883ab8222d0cc7241525dd6c","date":"2021-03-17 17:25:27","modifiedFileCount":"8","status":"B","submitter":"Serge Rider"},{"authorTime":"2021-04-26 02:06:28","codes":[{"authorDate":"2021-03-17 17:25:27","commitOrder":2,"curCode":"    private static boolean supportsCreatingColumnObject(@Nullable DBNNode node, @NotNull Class<?> supertype) {\n        if (!(node instanceof DBNDatabaseItem)) {\n            return false;\n        }\n        DBNDatabaseItem databaseItem = (DBNDatabaseItem) node;\n        DBSObject attributeObject = databaseItem.getObject();\n        if (!(attributeObject instanceof DBSEntityAttribute)) {\n            return false;\n        }\n        DBSObject entityObject = attributeObject.getParentObject();\n        if (!(entityObject instanceof DBSEntity)) {\n            return false;\n        }\n        DBEStructEditor<?> structEditor = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(entityObject.getClass(), DBEStructEditor.class);\n        if (structEditor == null) {\n            return false;\n        }\n        for (Class<?> childType: structEditor.getChildTypes()) {\n            DBEObjectMaker<?, ?> maker = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(childType, DBEObjectMaker.class);\n            if (maker != null && maker.canCreateObject(entityObject) && supertype.isAssignableFrom(childType)) {\n                return true;\n            }\n        }\n        return false;\n    }\n","date":"2021-03-17 17:25:27","endLine":324,"groupId":"3570","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"supportsCreatingColumnObject","params":"(@NullableDBNNodenode@@NotNullClass<?>supertype)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/19/6047d19206cfca45aa622b757927b13f719f96.src","preCode":"    private static boolean supportsCreatingColumnObject(@Nullable DBNNode node, @NotNull Class<?> supertype) {\n        if (!(node instanceof DBNDatabaseItem)) {\n            return false;\n        }\n        DBNDatabaseItem databaseItem = (DBNDatabaseItem) node;\n        DBSObject attributeObject = databaseItem.getObject();\n        if (!(attributeObject instanceof DBSEntityAttribute)) {\n            return false;\n        }\n        DBSObject entityObject = attributeObject.getParentObject();\n        if (!(entityObject instanceof DBSEntity)) {\n            return false;\n        }\n        DBEStructEditor<?> structEditor = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(entityObject.getClass(), DBEStructEditor.class);\n        if (structEditor == null) {\n            return false;\n        }\n        for (Class<?> childType: structEditor.getChildTypes()) {\n            DBEObjectMaker<?, ?> maker = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(childType, DBEObjectMaker.class);\n            if (maker != null && maker.canCreateObject(entityObject) && supertype.isAssignableFrom(childType)) {\n                return true;\n            }\n        }\n        return false;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ui.navigator/src/org/jkiss/dbeaver/ui/actions/ObjectPropertyTester.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":300,"status":"N"},{"authorDate":"2021-04-26 02:06:28","commitOrder":2,"curCode":"    static Object createColumnObject(@NotNull ExecutionEvent event, @NotNull Class<?> columnObjectSuperType) {\n        DBNNode node = NavigatorHandlerObjectCreateNew.getNodeFromSelection(HandlerUtil.getCurrentSelection(event));\n        if (!(node instanceof DBNDatabaseItem)) {\n            log.error(\"Selected node is not a database item\");\n            return null;\n        }\n        DBNNode containerNode = node.getParentNode();\n        if (containerNode == null) {\n            log.error(\"Selected node has no parent\");\n            return null;\n        }\n        DBSObject attributeObject = ((DBNDatabaseItem) node).getObject();\n        if (!(attributeObject instanceof DBSEntityAttribute)) {\n            log.error(\"Selected node's object is not an attribute\");\n            return null;\n        }\n        DBSObject entityObject = attributeObject.getParentObject();\n        if (!(entityObject instanceof DBSEntity)) {\n            log.error(\"Selected node's attribute has no parent\");\n            return null;\n        }\n        DBEStructEditor<?> structEditor = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(entityObject.getClass(), DBEStructEditor.class);\n        if (structEditor == null) {\n            log.error(\"No struct editor exists for entity\");\n            return null;\n        }\n        DBEObjectMaker<?, ?> maker = null;\n        Class<?> columnObjectConcreteType = null;\n        for (Class<?> childType: structEditor.getChildTypes()) {\n            maker = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(childType, DBEObjectMaker.class);\n            if (maker != null && maker.canCreateObject(entityObject) && columnObjectSuperType.isAssignableFrom(childType)) {\n                columnObjectConcreteType = childType;\n                break;\n            }\n        }\n        if (columnObjectConcreteType == null) {\n            log.error(\"Unable to find appropriate child type and it's maker\");\n            return null;\n        }\n\n        DBECommandContext commandContext;\n        try {\n            commandContext = getCommandTarget(HandlerUtil.getActiveWorkbenchWindow(event), containerNode, columnObjectConcreteType, false).getContext();\n            createNewObject(maker, commandContext, entityObject);\n        } catch (DBException e) {\n            log.warn(\"Unable to create object of type \" + columnObjectConcreteType.getName(), e);\n        }\n\n        return null;\n    }\n","date":"2021-04-26 02:06:28","endLine":90,"groupId":"3570","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"createColumnObject","params":"(@NotNullExecutionEventevent@@NotNullClass<?>columnObjectSuperType)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/55/388a031183d354afbc5b08f229b2015b285350.src","preCode":"    static Object createColumnObject(@NotNull ExecutionEvent event, @NotNull Class<?> columnObjectSuperType) {\n        DBNNode node = NavigatorUtils.getSelectedNode(HandlerUtil.getCurrentSelection(event));\n        if (!(node instanceof DBNDatabaseItem)) {\n            log.error(\"Selected node is not a database item\");\n            return null;\n        }\n        DBNNode containerNode = node.getParentNode();\n        if (containerNode == null) {\n            log.error(\"Selected node has no parent\");\n            return null;\n        }\n        DBSObject attributeObject = ((DBNDatabaseItem) node).getObject();\n        if (!(attributeObject instanceof DBSEntityAttribute)) {\n            log.error(\"Selected node's object is not an attribute\");\n            return null;\n        }\n        DBSObject entityObject = attributeObject.getParentObject();\n        if (!(entityObject instanceof DBSEntity)) {\n            log.error(\"Selected node's attribute has no parent\");\n            return null;\n        }\n        DBEStructEditor<?> structEditor = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(entityObject.getClass(), DBEStructEditor.class);\n        if (structEditor == null) {\n            log.error(\"No struct editor exists for entity\");\n            return null;\n        }\n        DBEObjectMaker<?, ?> maker = null;\n        Class<?> columnObjectConcreteType = null;\n        for (Class<?> childType: structEditor.getChildTypes()) {\n            maker = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(childType, DBEObjectMaker.class);\n            if (maker != null && maker.canCreateObject(entityObject) && columnObjectSuperType.isAssignableFrom(childType)) {\n                columnObjectConcreteType = childType;\n                break;\n            }\n        }\n        if (columnObjectConcreteType == null) {\n            log.error(\"Unable to find appropriate child type and it's maker\");\n            return null;\n        }\n\n        DBECommandContext commandContext;\n        try {\n            commandContext = getCommandTarget(HandlerUtil.getActiveWorkbenchWindow(event), containerNode, columnObjectConcreteType, false).getContext();\n            createNewObject(maker, commandContext, entityObject);\n        } catch (DBException e) {\n            log.warn(\"Unable to create object of type \" + columnObjectConcreteType.getName(), e);\n        }\n\n        return null;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ui.navigator/src/org/jkiss/dbeaver/ui/navigator/actions/NavigatorHandlerCreateColumnObjectBase.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":41,"status":"M"}],"commitId":"a0f1b8cebb22df48dd3384da3c1f48eb2f731cba","commitMessage":"@@@dbeaver/dbeaver-ee#587 ERD editor context menu improvements. Object create handlers refactoring.\n\n\nFormer-commit-id: 7f80f42e43a52d69485c878a8c52ca20afce2d93","date":"2021-04-26 02:06:28","modifiedFileCount":"5","status":"M","submitter":"serge-rider"},{"authorTime":"2021-05-06 01:59:02","codes":[{"authorDate":"2021-03-17 17:25:27","commitOrder":3,"curCode":"    private static boolean supportsCreatingColumnObject(@Nullable DBNNode node, @NotNull Class<?> supertype) {\n        if (!(node instanceof DBNDatabaseItem)) {\n            return false;\n        }\n        DBNDatabaseItem databaseItem = (DBNDatabaseItem) node;\n        DBSObject attributeObject = databaseItem.getObject();\n        if (!(attributeObject instanceof DBSEntityAttribute)) {\n            return false;\n        }\n        DBSObject entityObject = attributeObject.getParentObject();\n        if (!(entityObject instanceof DBSEntity)) {\n            return false;\n        }\n        DBEStructEditor<?> structEditor = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(entityObject.getClass(), DBEStructEditor.class);\n        if (structEditor == null) {\n            return false;\n        }\n        for (Class<?> childType: structEditor.getChildTypes()) {\n            DBEObjectMaker<?, ?> maker = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(childType, DBEObjectMaker.class);\n            if (maker != null && maker.canCreateObject(entityObject) && supertype.isAssignableFrom(childType)) {\n                return true;\n            }\n        }\n        return false;\n    }\n","date":"2021-03-17 17:25:27","endLine":324,"groupId":"10706","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"supportsCreatingColumnObject","params":"(@NullableDBNNodenode@@NotNullClass<?>supertype)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/19/6047d19206cfca45aa622b757927b13f719f96.src","preCode":"    private static boolean supportsCreatingColumnObject(@Nullable DBNNode node, @NotNull Class<?> supertype) {\n        if (!(node instanceof DBNDatabaseItem)) {\n            return false;\n        }\n        DBNDatabaseItem databaseItem = (DBNDatabaseItem) node;\n        DBSObject attributeObject = databaseItem.getObject();\n        if (!(attributeObject instanceof DBSEntityAttribute)) {\n            return false;\n        }\n        DBSObject entityObject = attributeObject.getParentObject();\n        if (!(entityObject instanceof DBSEntity)) {\n            return false;\n        }\n        DBEStructEditor<?> structEditor = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(entityObject.getClass(), DBEStructEditor.class);\n        if (structEditor == null) {\n            return false;\n        }\n        for (Class<?> childType: structEditor.getChildTypes()) {\n            DBEObjectMaker<?, ?> maker = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(childType, DBEObjectMaker.class);\n            if (maker != null && maker.canCreateObject(entityObject) && supertype.isAssignableFrom(childType)) {\n                return true;\n            }\n        }\n        return false;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ui.navigator/src/org/jkiss/dbeaver/ui/actions/ObjectPropertyTester.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":300,"status":"N"},{"authorDate":"2021-05-06 01:59:02","commitOrder":3,"curCode":"    static Object createColumnObject(@NotNull ExecutionEvent event, @NotNull Class<?> columnObjectSuperType) {\n        DBNNode node = NavigatorHandlerObjectCreateNew.getNodeFromSelection(HandlerUtil.getCurrentSelection(event));\n        if (!(node instanceof DBNDatabaseItem)) {\n            log.error(\"Selected node is not a database item\");\n            return null;\n        }\n        DBNNode containerNode = node.getParentNode();\n        if (containerNode == null) {\n            log.error(\"Selected node has no parent\");\n            return null;\n        }\n        DBSObject attributeObject = ((DBNDatabaseItem) node).getObject();\n        if (!(attributeObject instanceof DBSEntityAttribute)) {\n            log.error(\"Selected node's object is not an attribute\");\n            return null;\n        }\n        DBSObject entityObject = attributeObject.getParentObject();\n        if (!(entityObject instanceof DBSEntity)) {\n            log.error(\"Selected node's attribute has no parent\");\n            return null;\n        }\n        DBEStructEditor<?> structEditor = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(entityObject.getClass(), DBEStructEditor.class);\n        if (structEditor == null) {\n            log.error(\"No struct editor exists for entity\");\n            return null;\n        }\n        DBEObjectMaker<?, ?> maker = null;\n        Class<?> columnObjectConcreteType = null;\n        for (Class<?> childType: structEditor.getChildTypes()) {\n            maker = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(childType, DBEObjectMaker.class);\n            if (maker != null && maker.canCreateObject(entityObject) && columnObjectSuperType.isAssignableFrom(childType)) {\n                columnObjectConcreteType = childType;\n                break;\n            }\n        }\n        if (columnObjectConcreteType == null) {\n            log.error(\"Unable to find appropriate child type and it's maker\");\n            return null;\n        }\n\n        DBECommandContext commandContext;\n        try {\n            commandContext = getCommandTarget(HandlerUtil.getActiveWorkbenchWindow(event), containerNode, null, columnObjectConcreteType, false).getContext();\n            createNewObject(maker, commandContext, entityObject);\n        } catch (DBException e) {\n            log.warn(\"Unable to create object of type \" + columnObjectConcreteType.getName(), e);\n        }\n\n        return null;\n    }\n","date":"2021-05-06 01:59:02","endLine":90,"groupId":"10706","id":6,"instanceNumber":2,"isCurCommit":1,"methodName":"createColumnObject","params":"(@NotNullExecutionEventevent@@NotNullClass<?>columnObjectSuperType)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/e5/35dc7460e4394c188c7e9f1821fc6d53ba43cd.src","preCode":"    static Object createColumnObject(@NotNull ExecutionEvent event, @NotNull Class<?> columnObjectSuperType) {\n        DBNNode node = NavigatorHandlerObjectCreateNew.getNodeFromSelection(HandlerUtil.getCurrentSelection(event));\n        if (!(node instanceof DBNDatabaseItem)) {\n            log.error(\"Selected node is not a database item\");\n            return null;\n        }\n        DBNNode containerNode = node.getParentNode();\n        if (containerNode == null) {\n            log.error(\"Selected node has no parent\");\n            return null;\n        }\n        DBSObject attributeObject = ((DBNDatabaseItem) node).getObject();\n        if (!(attributeObject instanceof DBSEntityAttribute)) {\n            log.error(\"Selected node's object is not an attribute\");\n            return null;\n        }\n        DBSObject entityObject = attributeObject.getParentObject();\n        if (!(entityObject instanceof DBSEntity)) {\n            log.error(\"Selected node's attribute has no parent\");\n            return null;\n        }\n        DBEStructEditor<?> structEditor = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(entityObject.getClass(), DBEStructEditor.class);\n        if (structEditor == null) {\n            log.error(\"No struct editor exists for entity\");\n            return null;\n        }\n        DBEObjectMaker<?, ?> maker = null;\n        Class<?> columnObjectConcreteType = null;\n        for (Class<?> childType: structEditor.getChildTypes()) {\n            maker = DBWorkbench.getPlatform().getEditorsRegistry().getObjectManager(childType, DBEObjectMaker.class);\n            if (maker != null && maker.canCreateObject(entityObject) && columnObjectSuperType.isAssignableFrom(childType)) {\n                columnObjectConcreteType = childType;\n                break;\n            }\n        }\n        if (columnObjectConcreteType == null) {\n            log.error(\"Unable to find appropriate child type and it's maker\");\n            return null;\n        }\n\n        DBECommandContext commandContext;\n        try {\n            commandContext = getCommandTarget(HandlerUtil.getActiveWorkbenchWindow(event), containerNode, columnObjectConcreteType, false).getContext();\n            createNewObject(maker, commandContext, entityObject);\n        } catch (DBException e) {\n            log.warn(\"Unable to create object of type \" + columnObjectConcreteType.getName(), e);\n        }\n\n        return null;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ui.navigator/src/org/jkiss/dbeaver/ui/navigator/actions/NavigatorHandlerCreateColumnObjectBase.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":41,"status":"M"}],"commitId":"4cc88967f55c6f4cb6f27ea9f082b649a8e49fee","commitMessage":"@@@dbeaver/dbeaver-ee#587 Support ERD objects in navigator command handlers\n\n\nFormer-commit-id: da180e8372f0117d3d1afb3fc6daadcbbdd62c96","date":"2021-05-06 01:59:02","modifiedFileCount":"12","status":"M","submitter":"serge-rider"}]
