[{"authorTime":"2015-07-21 03:54:39","codes":[{"authorDate":"2015-12-18 18:16:16","commitOrder":3,"curCode":"    public void releaseSavepoint(@NotNull DBRProgressMonitor monitor, @NotNull DBCSavepoint savepoint)\n        throws DBCException\n    {\n        try {\n            if (savepoint instanceof JDBCSavepointImpl) {\n                getConnection().releaseSavepoint(((JDBCSavepointImpl) savepoint).getOriginal());\n            }  else if (savepoint instanceof Savepoint) {\n                getConnection().releaseSavepoint((Savepoint) savepoint);\n            } else {\n                throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n            }\n        }\n        catch (SQLException e) {\n            throw new JDBCException(e, dataSource);\n        }\n    }\n","date":"2015-12-18 18:16:16","endLine":315,"groupId":"10021","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"releaseSavepoint","params":"(@NotNullDBRProgressMonitormonitor@@NotNullDBCSavepointsavepoint)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/7c/33ec2ff59e150e6af59c8fc858b0ef9f302614.src","preCode":"    public void releaseSavepoint(@NotNull DBRProgressMonitor monitor, @NotNull DBCSavepoint savepoint)\n        throws DBCException\n    {\n        try {\n            if (savepoint instanceof JDBCSavepointImpl) {\n                getConnection().releaseSavepoint(((JDBCSavepointImpl) savepoint).getOriginal());\n            }  else if (savepoint instanceof Savepoint) {\n                getConnection().releaseSavepoint((Savepoint) savepoint);\n            } else {\n                throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n            }\n        }\n        catch (SQLException e) {\n            throw new JDBCException(e, dataSource);\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/JDBCExecutionContext.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":300,"status":"B"},{"authorDate":"2015-07-21 03:54:39","commitOrder":3,"curCode":"    public void rollback(@NotNull DBCSession session, DBCSavepoint savepoint)\n        throws DBCException\n    {\n        try {\n            if (savepoint != null) {\n                if (savepoint instanceof Savepoint) {\n                    getConnection().rollback((Savepoint) savepoint);\n                } else {\n                    throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n                }\n            } else {\n                getConnection().rollback();\n            }\n        }\n        catch (SQLException e) {\n            throw new JDBCException(e, dataSource);\n        }\n        finally {\n            if (session.isLoggingEnabled()) {\n                QMUtils.getDefaultHandler().handleTransactionRollback(this, savepoint);\n            }\n        }\n    }\n","date":"2015-07-21 03:54:39","endLine":354,"groupId":"13640","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"rollback","params":"(@NotNullDBCSessionsession@DBCSavepointsavepoint)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/71/c3fefb023c499e85b5ad88a225b9a577cd89fa.src","preCode":"    public void rollback(@NotNull DBCSession session, DBCSavepoint savepoint)\n        throws DBCException\n    {\n        try {\n            if (savepoint != null) {\n                if (savepoint instanceof Savepoint) {\n                    getConnection().rollback((Savepoint) savepoint);\n                } else {\n                    throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n                }\n            } else {\n                getConnection().rollback();\n            }\n        }\n        catch (SQLException e) {\n            throw new JDBCException(e, dataSource);\n        }\n        finally {\n            if (session.isLoggingEnabled()) {\n                QMUtils.getDefaultHandler().handleTransactionRollback(this, savepoint);\n            }\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/JDBCExecutionContext.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":332,"status":"NB"}],"commitId":"e4c6a22a24bb8c5269713bdbe192ce1a223512a9","commitMessage":"@@@Txn savepoint handle\n\n\nFormer-commit-id: f387c0e5a3d2a2a9f84b878d36c2e8a10a520661","date":"2015-12-18 18:16:16","modifiedFileCount":"1","status":"M","submitter":"serge-rider"},{"authorTime":"2016-12-01 03:11:16","codes":[{"authorDate":"2015-12-18 18:16:16","commitOrder":4,"curCode":"    public void releaseSavepoint(@NotNull DBRProgressMonitor monitor, @NotNull DBCSavepoint savepoint)\n        throws DBCException\n    {\n        try {\n            if (savepoint instanceof JDBCSavepointImpl) {\n                getConnection().releaseSavepoint(((JDBCSavepointImpl) savepoint).getOriginal());\n            }  else if (savepoint instanceof Savepoint) {\n                getConnection().releaseSavepoint((Savepoint) savepoint);\n            } else {\n                throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n            }\n        }\n        catch (SQLException e) {\n            throw new JDBCException(e, dataSource);\n        }\n    }\n","date":"2015-12-18 18:16:16","endLine":315,"groupId":"10021","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"releaseSavepoint","params":"(@NotNullDBRProgressMonitormonitor@@NotNullDBCSavepointsavepoint)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/7c/33ec2ff59e150e6af59c8fc858b0ef9f302614.src","preCode":"    public void releaseSavepoint(@NotNull DBRProgressMonitor monitor, @NotNull DBCSavepoint savepoint)\n        throws DBCException\n    {\n        try {\n            if (savepoint instanceof JDBCSavepointImpl) {\n                getConnection().releaseSavepoint(((JDBCSavepointImpl) savepoint).getOriginal());\n            }  else if (savepoint instanceof Savepoint) {\n                getConnection().releaseSavepoint((Savepoint) savepoint);\n            } else {\n                throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n            }\n        }\n        catch (SQLException e) {\n            throw new JDBCException(e, dataSource);\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/JDBCExecutionContext.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":300,"status":"N"},{"authorDate":"2016-12-01 03:11:16","commitOrder":4,"curCode":"    public void rollback(@NotNull DBCSession session, DBCSavepoint savepoint)\n        throws DBCException\n    {\n        try {\n            if (savepoint != null) {\n                if (savepoint instanceof JDBCSavepointImpl) {\n                    getConnection().rollback(((JDBCSavepointImpl) savepoint).getOriginal());\n                } else if (savepoint instanceof Savepoint) {\n                    getConnection().rollback((Savepoint) savepoint);\n                } else {\n                    throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n                }\n            } else {\n                getConnection().rollback();\n            }\n        }\n        catch (SQLException e) {\n            throw new JDBCException(e, dataSource);\n        }\n        finally {\n            if (session.isLoggingEnabled()) {\n                QMUtils.getDefaultHandler().handleTransactionRollback(this, savepoint);\n            }\n        }\n    }\n","date":"2016-12-01 03:11:16","endLine":366,"groupId":"13640","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"rollback","params":"(@NotNullDBCSessionsession@DBCSavepointsavepoint)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/6f/7ae38d0d7b2a93e96328a9236fb529fd114abf.src","preCode":"    public void rollback(@NotNull DBCSession session, DBCSavepoint savepoint)\n        throws DBCException\n    {\n        try {\n            if (savepoint != null) {\n                if (savepoint instanceof Savepoint) {\n                    getConnection().rollback((Savepoint) savepoint);\n                } else {\n                    throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n                }\n            } else {\n                getConnection().rollback();\n            }\n        }\n        catch (SQLException e) {\n            throw new JDBCException(e, dataSource);\n        }\n        finally {\n            if (session.isLoggingEnabled()) {\n                QMUtils.getDefaultHandler().handleTransactionRollback(this, savepoint);\n            }\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/JDBCExecutionContext.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":342,"status":"M"}],"commitId":"1cd4f945da2b87df0f044875c2732e89ba7036ab","commitMessage":"@@@JDBC savepoint management fix (unwrap DBC model)\n\n\nFormer-commit-id: 0d73d707cd37e4ef1c04f8a4ee67fba4a3406e76","date":"2016-12-01 03:11:16","modifiedFileCount":"2","status":"M","submitter":"Serge Rider"},{"authorTime":"2019-12-29 06:05:17","codes":[{"authorDate":"2019-12-29 06:05:17","commitOrder":5,"curCode":"    public void releaseSavepoint(@NotNull DBRProgressMonitor monitor, @NotNull DBCSavepoint savepoint)\n        throws DBCException {\n        try {\n            if (savepoint instanceof JDBCSavepointImpl) {\n                getConnection().releaseSavepoint(((JDBCSavepointImpl) savepoint).getOriginal());\n            } else if (savepoint instanceof Savepoint) {\n                getConnection().releaseSavepoint((Savepoint) savepoint);\n            } else {\n                throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n            }\n        } catch (SQLException e) {\n            throw new JDBCException(e, this);\n        }\n    }\n","date":"2019-12-29 06:05:17","endLine":364,"groupId":"10021","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"releaseSavepoint","params":"(@NotNullDBRProgressMonitormonitor@@NotNullDBCSavepointsavepoint)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/e6/81222a27d5c2ebad2ff9e8e629a3ac0bacda65.src","preCode":"    public void releaseSavepoint(@NotNull DBRProgressMonitor monitor, @NotNull DBCSavepoint savepoint)\n        throws DBCException {\n        try {\n            if (savepoint instanceof JDBCSavepointImpl) {\n                getConnection().releaseSavepoint(((JDBCSavepointImpl) savepoint).getOriginal());\n            } else if (savepoint instanceof Savepoint) {\n                getConnection().releaseSavepoint((Savepoint) savepoint);\n            } else {\n                throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n            }\n        } catch (SQLException e) {\n            throw new JDBCException(e, dataSource);\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/JDBCExecutionContext.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":351,"status":"M"},{"authorDate":"2019-12-29 06:05:17","commitOrder":5,"curCode":"    public void rollback(@NotNull DBCSession session, DBCSavepoint savepoint)\n        throws DBCException {\n        try {\n            if (savepoint != null) {\n                if (savepoint instanceof JDBCSavepointImpl) {\n                    getConnection().rollback(((JDBCSavepointImpl) savepoint).getOriginal());\n                } else if (savepoint instanceof Savepoint) {\n                    getConnection().rollback((Savepoint) savepoint);\n                } else {\n                    throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n                }\n            } else {\n                getConnection().rollback();\n            }\n        } catch (SQLException e) {\n            throw new JDBCException(e, this);\n        } finally {\n            if (session.isLoggingEnabled()) {\n                QMUtils.getDefaultHandler().handleTransactionRollback(this, savepoint);\n            }\n        }\n    }\n","date":"2019-12-29 06:05:17","endLine":402,"groupId":"13640","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"rollback","params":"(@NotNullDBCSessionsession@DBCSavepointsavepoint)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/e6/81222a27d5c2ebad2ff9e8e629a3ac0bacda65.src","preCode":"    public void rollback(@NotNull DBCSession session, DBCSavepoint savepoint)\n        throws DBCException {\n        try {\n            if (savepoint != null) {\n                if (savepoint instanceof JDBCSavepointImpl) {\n                    getConnection().rollback(((JDBCSavepointImpl) savepoint).getOriginal());\n                } else if (savepoint instanceof Savepoint) {\n                    getConnection().rollback((Savepoint) savepoint);\n                } else {\n                    throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n                }\n            } else {\n                getConnection().rollback();\n            }\n        } catch (SQLException e) {\n            throw new JDBCException(e, dataSource);\n        } finally {\n            if (session.isLoggingEnabled()) {\n                QMUtils.getDefaultHandler().handleTransactionRollback(this, savepoint);\n            }\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/JDBCExecutionContext.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":381,"status":"M"}],"commitId":"27c4e0bc98c408da4f8b0048241282dc53cb27b6","commitMessage":"@@@DBCException refactoring (for proper transactions invalidation)\n\n\nFormer-commit-id: f0891fe1ea04b4720836e3868aecc07da22640c3","date":"2019-12-29 06:05:17","modifiedFileCount":"82","status":"M","submitter":"serge-rider"},{"authorTime":"2020-10-30 22:55:43","codes":[{"authorDate":"2020-10-30 22:55:43","commitOrder":6,"curCode":"    public void releaseSavepoint(@NotNull DBRProgressMonitor monitor, @NotNull DBCSavepoint savepoint)\n        throws DBCException {\n        try {\n            Connection dbCon = getConnection();\n            if (savepoint instanceof JDBCSavepointImpl) {\n                dbCon.releaseSavepoint(((JDBCSavepointImpl) savepoint).getOriginal());\n            } else if (savepoint instanceof Savepoint) {\n                dbCon.releaseSavepoint((Savepoint) savepoint);\n            } else {\n                throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n            }\n        } catch (SQLException e) {\n            throw new JDBCException(e, this);\n        }\n    }\n","date":"2020-10-30 22:55:43","endLine":394,"groupId":"10918","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"releaseSavepoint","params":"(@NotNullDBRProgressMonitormonitor@@NotNullDBCSavepointsavepoint)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/ce/b21a514b4f51e131ddb65c1de36ff36be0f237.src","preCode":"    public void releaseSavepoint(@NotNull DBRProgressMonitor monitor, @NotNull DBCSavepoint savepoint)\n        throws DBCException {\n        try {\n            if (savepoint instanceof JDBCSavepointImpl) {\n                getConnection().releaseSavepoint(((JDBCSavepointImpl) savepoint).getOriginal());\n            } else if (savepoint instanceof Savepoint) {\n                getConnection().releaseSavepoint((Savepoint) savepoint);\n            } else {\n                throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n            }\n        } catch (SQLException e) {\n            throw new JDBCException(e, this);\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/JDBCExecutionContext.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":380,"status":"M"},{"authorDate":"2020-10-30 22:55:43","commitOrder":6,"curCode":"    public void rollback(@NotNull DBCSession session, DBCSavepoint savepoint)\n        throws DBCException {\n        try {\n            Connection dbCon = getConnection();\n            if (savepoint != null) {\n                if (savepoint instanceof JDBCSavepointImpl) {\n                    dbCon.rollback(((JDBCSavepointImpl) savepoint).getOriginal());\n                } else if (savepoint instanceof Savepoint) {\n                    dbCon.rollback((Savepoint) savepoint);\n                } else {\n                    throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n                }\n            } else {\n                dbCon.rollback();\n            }\n        } catch (SQLException e) {\n            throw new JDBCException(e, this);\n        } finally {\n            if (session.isLoggingEnabled()) {\n                QMUtils.getDefaultHandler().handleTransactionRollback(this, savepoint);\n            }\n        }\n    }\n","date":"2020-10-30 22:55:43","endLine":433,"groupId":"10918","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"rollback","params":"(@NotNullDBCSessionsession@DBCSavepointsavepoint)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/ce/b21a514b4f51e131ddb65c1de36ff36be0f237.src","preCode":"    public void rollback(@NotNull DBCSession session, DBCSavepoint savepoint)\n        throws DBCException {\n        try {\n            if (savepoint != null) {\n                if (savepoint instanceof JDBCSavepointImpl) {\n                    getConnection().rollback(((JDBCSavepointImpl) savepoint).getOriginal());\n                } else if (savepoint instanceof Savepoint) {\n                    getConnection().rollback((Savepoint) savepoint);\n                } else {\n                    throw new SQLFeatureNotSupportedException(ModelMessages.model_jdbc_exception_bad_savepoint_object);\n                }\n            } else {\n                getConnection().rollback();\n            }\n        } catch (SQLException e) {\n            throw new JDBCException(e, this);\n        } finally {\n            if (session.isLoggingEnabled()) {\n                QMUtils.getDefaultHandler().handleTransactionRollback(this, savepoint);\n            }\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/JDBCExecutionContext.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":411,"status":"M"}],"commitId":"f02fc52069ee00c2438e4ca71d1a3aab1f48c59f","commitMessage":"@@@JDBC exec context: multithreading support fix\n\n\nFormer-commit-id: 17459e22631e514bb3e1ea1f20ddec86333ead64","date":"2020-10-30 22:55:43","modifiedFileCount":"1","status":"M","submitter":"Serge Rider"}]
