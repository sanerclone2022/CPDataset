[{"authorTime":"2018-07-23 15:41:36","codes":[{"authorDate":"2018-03-21 05:57:32","commitOrder":9,"curCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo) {\n        StringBuilder url = new StringBuilder();\n        boolean isJtds = SQLServerUtils.isDriverJtds(driver);\n        boolean isSqlServer = SQLServerUtils.isDriverSqlServer(driver);\n        if (isSqlServer) {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sqlserver://\");\n            } else {\n                url.append(\"jdbc:sqlserver://\");\n            }\n            url.append(connectionInfo.getHostName());\n            if (!CommonUtils.isEmpty(connectionInfo.getHostPort()) && !connectionInfo.getHostPort().equals(driver.getDefaultPort())) {\n                url.append(\":\").append(connectionInfo.getHostPort());\n            }\n            if (isJtds) {\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\";\");\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"databaseName=\").append(connectionInfo.getDatabaseName());\n                }\n            }\n\r\n\r\n\r\n\r\n\n        } else {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sybase://\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\"jdbc:sybase:Tds:\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"?ServiceName=\").append(connectionInfo.getDatabaseName());\n                }\n            }\n        }\n\n        return url.toString();\n    }\n","date":"2018-03-21 05:57:32","endLine":114,"groupId":"4172","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"getConnectionURL","params":"(DBPDriverdriver@DBPConnectionConfigurationconnectionInfo)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/d3/64046d8e4555fcbbf656a8b2cb3d25a6c3c143.src","preCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo) {\n        StringBuilder url = new StringBuilder();\n        boolean isJtds = SQLServerUtils.isDriverJtds(driver);\n        boolean isSqlServer = SQLServerUtils.isDriverSqlServer(driver);\n        if (isSqlServer) {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sqlserver://\");\n            } else {\n                url.append(\"jdbc:sqlserver://\");\n            }\n            url.append(connectionInfo.getHostName());\n            if (!CommonUtils.isEmpty(connectionInfo.getHostPort()) && !connectionInfo.getHostPort().equals(driver.getDefaultPort())) {\n                url.append(\":\").append(connectionInfo.getHostPort());\n            }\n            if (isJtds) {\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\";\");\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"databaseName=\").append(connectionInfo.getDatabaseName());\n                }\n            }\n\r\n\r\n\r\n\r\n\n        } else {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sybase://\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\"jdbc:sybase:Tds:\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"?ServiceName=\").append(connectionInfo.getDatabaseName());\n                }\n            }\n        }\n\n        return url.toString();\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mssql/src/org/jkiss/dbeaver/ext/mssql/SQLServerDataSourceProvider.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":60,"status":"NB"},{"authorDate":"2018-07-23 15:41:36","commitOrder":9,"curCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo)\n    {\n        StringBuilder url = new StringBuilder();\n        url.append(\"jdbc:snowflake://\").append(connectionInfo.getHostName());\n        if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n            url.append(\":\").append(connectionInfo.getHostPort());\n        }\n        url.append(\"/?\");\n        boolean hasParam = addParameter(url, \"db\", connectionInfo.getDatabaseName(), false);\n        hasParam = addParameter(url, \"warehouse\", connectionInfo.getServerName(), hasParam);\n        hasParam = addParameter(url, \"schema\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_SCHEMA), hasParam);\n        addParameter(url, \"role\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_ROLE), hasParam);\n        return url.toString();\n    }\n","date":"2018-07-23 15:41:36","endLine":72,"groupId":"13734","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"getConnectionURL","params":"(DBPDriverdriver@DBPConnectionConfigurationconnectionInfo)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/71/32217eeebb86b8c0f80c39fa7c1557e9e4818d.src","preCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo)\n    {\n        StringBuilder url = new StringBuilder();\n        url.append(\"jdbc:snowflake://\").append(connectionInfo.getHostName());\n        if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n            url.append(\":\").append(connectionInfo.getHostPort());\n        }\n        url.append(\"/?\");\n        boolean hasParam = addParameter(url, \"db\", connectionInfo.getDatabaseName(), false);\n        hasParam = addParameter(url, \"warehouse\", connectionInfo.getServerName(), hasParam);\n        hasParam = addParameter(url, \"schema\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_SCHEMA), hasParam);\n        addParameter(url, \"role\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_ROLE), hasParam);\n        return url.toString();\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.snowflake.core/src/org/jkiss/dbeaver/ext/snowflake/SnowflakeDataSourceProvider.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":59,"status":"B"}],"commitId":"f5dacff54df650fa052fcc6e82dac15c414085c3","commitMessage":"@@@Merge remote-tracking branch 'origin/devel' into devel\n\n\nFormer-commit-id: f856da844bdb094ac789a5c775045caea0c36124","date":"2018-07-23 15:41:36","modifiedFileCount":"524","status":"M","submitter":"serge@jkiss.org"},{"authorTime":"2018-07-23 15:41:36","codes":[{"authorDate":"2018-10-13 20:06:58","commitOrder":10,"curCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo) {\n        StringBuilder url = new StringBuilder();\n        boolean isJtds = SQLServerUtils.isDriverJtds(driver);\n        boolean isSqlServer = SQLServerUtils.isDriverSqlServer(driver);\n        boolean isDriverAzure = isSqlServer && SQLServerUtils.isDriverAzure(driver);\n\n        if (isSqlServer) {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sqlserver://\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort()) && !connectionInfo.getHostPort().equals(driver.getDefaultPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n            } else {\n                url.append(\"jdbc:sqlserver://\");\n                url.append(\";serverName=\").append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort()) && !connectionInfo.getHostPort().equals(driver.getDefaultPort())) {\n                    url.append(\";port=\").append(connectionInfo.getHostPort());\n                }\n            }\n            if (isJtds) {\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\";\");\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"databaseName=\").append(connectionInfo.getDatabaseName());\n                }\n\n                if (isDriverAzure) {\n                    url.append(\";encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;\");\n                }\n            }\n\r\n\r\n\r\n\r\n\n        } else {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sybase://\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\"jdbc:sybase:Tds:\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"?ServiceName=\").append(connectionInfo.getDatabaseName());\n                }\n            }\n        }\n\n        return url.toString();\n    }\n","date":"2018-10-13 20:06:58","endLine":120,"groupId":"16594","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"getConnectionURL","params":"(DBPDriverdriver@DBPConnectionConfigurationconnectionInfo)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/b7/fa8fb228345830894e79cd2968d03b1500da1b.src","preCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo) {\n        StringBuilder url = new StringBuilder();\n        boolean isJtds = SQLServerUtils.isDriverJtds(driver);\n        boolean isSqlServer = SQLServerUtils.isDriverSqlServer(driver);\n        if (isSqlServer) {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sqlserver://\");\n            } else {\n                url.append(\"jdbc:sqlserver://\");\n            }\n            url.append(connectionInfo.getHostName());\n            if (!CommonUtils.isEmpty(connectionInfo.getHostPort()) && !connectionInfo.getHostPort().equals(driver.getDefaultPort())) {\n                url.append(\":\").append(connectionInfo.getHostPort());\n            }\n            if (isJtds) {\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\";\");\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"databaseName=\").append(connectionInfo.getDatabaseName());\n                }\n            }\n\r\n\r\n\r\n\r\n\n        } else {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sybase://\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\"jdbc:sybase:Tds:\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"?ServiceName=\").append(connectionInfo.getDatabaseName());\n                }\n            }\n        }\n\n        return url.toString();\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mssql/src/org/jkiss/dbeaver/ext/mssql/SQLServerDataSourceProvider.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":56,"status":"M"},{"authorDate":"2018-07-23 15:41:36","commitOrder":10,"curCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo)\n    {\n        StringBuilder url = new StringBuilder();\n        url.append(\"jdbc:snowflake://\").append(connectionInfo.getHostName());\n        if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n            url.append(\":\").append(connectionInfo.getHostPort());\n        }\n        url.append(\"/?\");\n        boolean hasParam = addParameter(url, \"db\", connectionInfo.getDatabaseName(), false);\n        hasParam = addParameter(url, \"warehouse\", connectionInfo.getServerName(), hasParam);\n        hasParam = addParameter(url, \"schema\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_SCHEMA), hasParam);\n        addParameter(url, \"role\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_ROLE), hasParam);\n        return url.toString();\n    }\n","date":"2018-07-23 15:41:36","endLine":72,"groupId":"13734","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"getConnectionURL","params":"(DBPDriverdriver@DBPConnectionConfigurationconnectionInfo)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/71/32217eeebb86b8c0f80c39fa7c1557e9e4818d.src","preCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo)\n    {\n        StringBuilder url = new StringBuilder();\n        url.append(\"jdbc:snowflake://\").append(connectionInfo.getHostName());\n        if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n            url.append(\":\").append(connectionInfo.getHostPort());\n        }\n        url.append(\"/?\");\n        boolean hasParam = addParameter(url, \"db\", connectionInfo.getDatabaseName(), false);\n        hasParam = addParameter(url, \"warehouse\", connectionInfo.getServerName(), hasParam);\n        hasParam = addParameter(url, \"schema\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_SCHEMA), hasParam);\n        addParameter(url, \"role\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_ROLE), hasParam);\n        return url.toString();\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.snowflake.core/src/org/jkiss/dbeaver/ext/snowflake/SnowflakeDataSourceProvider.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":59,"status":"N"}],"commitId":"51c8ddf4ec4daa621c3feff34d120e934633a6ac","commitMessage":"@@@Merge remote-tracking branch 'origin/devel' into devel\n\n\nFormer-commit-id: 17f886546eced0902561199e308934e6d98952a0","date":"2018-10-13 20:06:58","modifiedFileCount":"410","status":"M","submitter":"serge@jkiss.org"},{"authorTime":"2018-07-23 15:41:36","codes":[{"authorDate":"2019-01-13 16:20:03","commitOrder":11,"curCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo) {\n        StringBuilder url = new StringBuilder();\n        boolean isJtds = SQLServerUtils.isDriverJtds(driver);\n        boolean isSqlServer = SQLServerUtils.isDriverSqlServer(driver);\n        boolean isDriverAzure = isSqlServer && SQLServerUtils.isDriverAzure(driver);\n\n        if (isSqlServer) {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sqlserver://\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort()) && !connectionInfo.getHostPort().equals(driver.getDefaultPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n            } else {\n                url.append(\"jdbc:sqlserver://\");\n                url.append(\";serverName=\").append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort()) && !connectionInfo.getHostPort().equals(driver.getDefaultPort())) {\n                    url.append(\";port=\").append(connectionInfo.getHostPort());\n                }\n            }\n            if (isJtds) {\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\";\");\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"databaseName=\").append(connectionInfo.getDatabaseName());\n                }\n\n                if (isDriverAzure) {\n                    url.append(\";encrypt=true\"); \r\n                }\n            }\n\r\n\r\n\r\n\r\n\n        } else {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sybase://\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\"jdbc:sybase:Tds:\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"?ServiceName=\").append(connectionInfo.getDatabaseName());\n                }\n            }\n        }\n\n        return url.toString();\n    }\n","date":"2019-01-13 16:20:03","endLine":120,"groupId":"13593","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"getConnectionURL","params":"(DBPDriverdriver@DBPConnectionConfigurationconnectionInfo)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/2e/dde1081787298e33c17351b069cdfe055b6f3a.src","preCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo) {\n        StringBuilder url = new StringBuilder();\n        boolean isJtds = SQLServerUtils.isDriverJtds(driver);\n        boolean isSqlServer = SQLServerUtils.isDriverSqlServer(driver);\n        boolean isDriverAzure = isSqlServer && SQLServerUtils.isDriverAzure(driver);\n\n        if (isSqlServer) {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sqlserver://\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort()) && !connectionInfo.getHostPort().equals(driver.getDefaultPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n            } else {\n                url.append(\"jdbc:sqlserver://\");\n                url.append(\";serverName=\").append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort()) && !connectionInfo.getHostPort().equals(driver.getDefaultPort())) {\n                    url.append(\";port=\").append(connectionInfo.getHostPort());\n                }\n            }\n            if (isJtds) {\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\";\");\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"databaseName=\").append(connectionInfo.getDatabaseName());\n                }\n\n                if (isDriverAzure) {\n                    url.append(\";encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;\");\n                }\n            }\n\r\n\r\n\r\n\r\n\n        } else {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sybase://\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\"jdbc:sybase:Tds:\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"?ServiceName=\").append(connectionInfo.getDatabaseName());\n                }\n            }\n        }\n\n        return url.toString();\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mssql/src/org/jkiss/dbeaver/ext/mssql/SQLServerDataSourceProvider.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":56,"status":"M"},{"authorDate":"2018-07-23 15:41:36","commitOrder":11,"curCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo)\n    {\n        StringBuilder url = new StringBuilder();\n        url.append(\"jdbc:snowflake://\").append(connectionInfo.getHostName());\n        if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n            url.append(\":\").append(connectionInfo.getHostPort());\n        }\n        url.append(\"/?\");\n        boolean hasParam = addParameter(url, \"db\", connectionInfo.getDatabaseName(), false);\n        hasParam = addParameter(url, \"warehouse\", connectionInfo.getServerName(), hasParam);\n        hasParam = addParameter(url, \"schema\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_SCHEMA), hasParam);\n        addParameter(url, \"role\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_ROLE), hasParam);\n        return url.toString();\n    }\n","date":"2018-07-23 15:41:36","endLine":72,"groupId":"13734","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"getConnectionURL","params":"(DBPDriverdriver@DBPConnectionConfigurationconnectionInfo)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/71/32217eeebb86b8c0f80c39fa7c1557e9e4818d.src","preCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo)\n    {\n        StringBuilder url = new StringBuilder();\n        url.append(\"jdbc:snowflake://\").append(connectionInfo.getHostName());\n        if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n            url.append(\":\").append(connectionInfo.getHostPort());\n        }\n        url.append(\"/?\");\n        boolean hasParam = addParameter(url, \"db\", connectionInfo.getDatabaseName(), false);\n        hasParam = addParameter(url, \"warehouse\", connectionInfo.getServerName(), hasParam);\n        hasParam = addParameter(url, \"schema\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_SCHEMA), hasParam);\n        addParameter(url, \"role\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_ROLE), hasParam);\n        return url.toString();\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.snowflake.core/src/org/jkiss/dbeaver/ext/snowflake/SnowflakeDataSourceProvider.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":59,"status":"N"}],"commitId":"e2977af2a286f58a0e71d1c46b8fd732616b520d","commitMessage":"@@@#4990 SQL Server: auth schemas + extra options\n\n\nFormer-commit-id: 91031c8f1db7912dcae5c7d7588047625cdd5461","date":"2019-01-13 16:20:03","modifiedFileCount":"5","status":"M","submitter":"serge-rider"},{"authorTime":"2021-03-25 23:29:55","codes":[{"authorDate":"2019-01-13 16:20:03","commitOrder":12,"curCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo) {\n        StringBuilder url = new StringBuilder();\n        boolean isJtds = SQLServerUtils.isDriverJtds(driver);\n        boolean isSqlServer = SQLServerUtils.isDriverSqlServer(driver);\n        boolean isDriverAzure = isSqlServer && SQLServerUtils.isDriverAzure(driver);\n\n        if (isSqlServer) {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sqlserver://\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort()) && !connectionInfo.getHostPort().equals(driver.getDefaultPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n            } else {\n                url.append(\"jdbc:sqlserver://\");\n                url.append(\";serverName=\").append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort()) && !connectionInfo.getHostPort().equals(driver.getDefaultPort())) {\n                    url.append(\";port=\").append(connectionInfo.getHostPort());\n                }\n            }\n            if (isJtds) {\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\";\");\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"databaseName=\").append(connectionInfo.getDatabaseName());\n                }\n\n                if (isDriverAzure) {\n                    url.append(\";encrypt=true\"); \r\n                }\n            }\n\r\n\r\n\r\n\r\n\n        } else {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sybase://\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\"jdbc:sybase:Tds:\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"?ServiceName=\").append(connectionInfo.getDatabaseName());\n                }\n            }\n        }\n\n        return url.toString();\n    }\n","date":"2019-01-13 16:20:03","endLine":120,"groupId":"10131","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"getConnectionURL","params":"(DBPDriverdriver@DBPConnectionConfigurationconnectionInfo)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/2e/dde1081787298e33c17351b069cdfe055b6f3a.src","preCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo) {\n        StringBuilder url = new StringBuilder();\n        boolean isJtds = SQLServerUtils.isDriverJtds(driver);\n        boolean isSqlServer = SQLServerUtils.isDriverSqlServer(driver);\n        boolean isDriverAzure = isSqlServer && SQLServerUtils.isDriverAzure(driver);\n\n        if (isSqlServer) {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sqlserver://\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort()) && !connectionInfo.getHostPort().equals(driver.getDefaultPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n            } else {\n                url.append(\"jdbc:sqlserver://\");\n                url.append(\";serverName=\").append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort()) && !connectionInfo.getHostPort().equals(driver.getDefaultPort())) {\n                    url.append(\";port=\").append(connectionInfo.getHostPort());\n                }\n            }\n            if (isJtds) {\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\";\");\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"databaseName=\").append(connectionInfo.getDatabaseName());\n                }\n\n                if (isDriverAzure) {\n                    url.append(\";encrypt=true\"); \r\n                }\n            }\n\r\n\r\n\r\n\r\n\n        } else {\n            \r\n            if (isJtds) {\n                url.append(\"jdbc:jtds:sybase://\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"/\").append(connectionInfo.getDatabaseName());\n                }\n            } else {\n                url.append(\"jdbc:sybase:Tds:\");\n                url.append(connectionInfo.getHostName());\n                if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n                    url.append(\":\").append(connectionInfo.getHostPort());\n                }\n                if (!CommonUtils.isEmpty(connectionInfo.getDatabaseName())) {\n                    url.append(\"?ServiceName=\").append(connectionInfo.getDatabaseName());\n                }\n            }\n        }\n\n        return url.toString();\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mssql/src/org/jkiss/dbeaver/ext/mssql/SQLServerDataSourceProvider.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":56,"status":"N"},{"authorDate":"2021-03-25 23:29:55","commitOrder":12,"curCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo)\n    {\n        StringBuilder url = new StringBuilder();\n        url.append(\"jdbc:snowflake://\").append(connectionInfo.getHostName());\n        if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n            url.append(\":\").append(connectionInfo.getHostPort());\n        }\n        url.append(\"/?\");\n\n        String warehouse = connectionInfo.getServerName();\n        if (CommonUtils.isEmpty(warehouse)) {\n            warehouse = connectionInfo.getProviderProperty(SnowflakeConstants.PROP_WAREHOUSE);\n        }\n        String schemaName = connectionInfo.getProviderProperty(SnowflakeConstants.PROP_SCHEMA);\n        if (CommonUtils.isEmpty(schemaName)) {\n            schemaName = connectionInfo.getProviderProperty(SnowflakeConstants.PROP_SCHEMA2);\n        }\n\n        boolean hasParam = addParameter(url, \"db\", connectionInfo.getDatabaseName(), false);\n        hasParam = addParameter(url, \"warehouse\", warehouse, hasParam);\n        hasParam = addParameter(url, \"schema\", schemaName, hasParam);\n        addParameter(url, \"role\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_ROLE), hasParam);\n\n        return url.toString();\n    }\n","date":"2021-03-25 23:29:55","endLine":77,"groupId":"10131","id":8,"instanceNumber":2,"isCurCommit":1,"methodName":"getConnectionURL","params":"(DBPDriverdriver@DBPConnectionConfigurationconnectionInfo)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/6a/5c3dbcef8a57868bfd8cfd1565ff7e98439564.src","preCode":"    public String getConnectionURL(DBPDriver driver, DBPConnectionConfiguration connectionInfo)\n    {\n        StringBuilder url = new StringBuilder();\n        url.append(\"jdbc:snowflake://\").append(connectionInfo.getHostName());\n        if (!CommonUtils.isEmpty(connectionInfo.getHostPort())) {\n            url.append(\":\").append(connectionInfo.getHostPort());\n        }\n        url.append(\"/?\");\n        boolean hasParam = addParameter(url, \"db\", connectionInfo.getDatabaseName(), false);\n        hasParam = addParameter(url, \"warehouse\", connectionInfo.getServerName(), hasParam);\n        hasParam = addParameter(url, \"schema\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_SCHEMA), hasParam);\n        addParameter(url, \"role\", connectionInfo.getProviderProperty(SnowflakeConstants.PROP_ROLE), hasParam);\n\n        return url.toString();\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.snowflake.core/src/org/jkiss/dbeaver/ext/snowflake/SnowflakeDataSourceProvider.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":53,"status":"M"}],"commitId":"c876143d9b2ed66b19eb8785e67542a4ef2f3f55","commitMessage":"@@@CB-773 Snowflake extra connection settings\n\n\nFormer-commit-id: cb8440e8000f2da178009433e996a2de071e5d79","date":"2021-03-25 23:29:55","modifiedFileCount":"2","status":"M","submitter":"Serge Rider"}]
