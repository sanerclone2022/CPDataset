[{"authorTime":"2015-07-01 22:08:05","codes":[{"authorDate":"2015-07-01 22:08:05","commitOrder":1,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT /*+USE_NL(col) USE_NL(ref)*/\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"LEFT OUTER JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2015-07-01 22:08:05","endLine":453,"groupId":"1335","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/b3/818834d2a1d4dc237d11f05e8b24fc8843bc43.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT /*+USE_NL(col) USE_NL(ref)*/\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"LEFT OUTER JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":431,"status":"B"},{"authorDate":"2015-07-01 22:08:05","commitOrder":1,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT /*+USE_NL(col) USE_NL(ref)*/ \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,ref.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"LEFT OUTER JOIN SYS.ALL_CONSTRAINTS ref ON ref.OWNER=c.r_OWNER AND ref.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME \\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2015-07-01 22:08:05","endLine":523,"groupId":"1335","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/b3/818834d2a1d4dc237d11f05e8b24fc8843bc43.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT /*+USE_NL(col) USE_NL(ref)*/ \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,ref.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"LEFT OUTER JOIN SYS.ALL_CONSTRAINTS ref ON ref.OWNER=c.r_OWNER AND ref.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME \\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":500,"status":"B"}],"commitId":"90ac579a64c970ba65c348aefb5b6d42d6063cc7","commitMessage":"@@@Plugins directories renamed (ext)\n\nFormer-commit-id: 88615645e80b32fba90eb0a74130657937e5c811","date":"2015-07-01 22:08:05","modifiedFileCount":"0","status":"B","submitter":"jurgen"},{"authorTime":"2015-07-17 20:46:56","codes":[{"authorDate":"2015-07-17 20:46:56","commitOrder":2,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT /*+RULE*/\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"LEFT OUTER JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2015-07-17 20:46:56","endLine":452,"groupId":"1335","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/f9/b54f410d6e7f722278d480d2f5acebf9fdf259.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT /*+USE_NL(col) USE_NL(ref)*/\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"LEFT OUTER JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":430,"status":"M"},{"authorDate":"2015-07-17 20:46:56","commitOrder":2,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT /*+RULE*/ \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,ref.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"LEFT OUTER JOIN SYS.ALL_CONSTRAINTS ref ON ref.OWNER=c.r_OWNER AND ref.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME \\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2015-07-17 20:46:56","endLine":522,"groupId":"1335","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/f9/b54f410d6e7f722278d480d2f5acebf9fdf259.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT /*+USE_NL(col) USE_NL(ref)*/ \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,ref.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"LEFT OUTER JOIN SYS.ALL_CONSTRAINTS ref ON ref.OWNER=c.r_OWNER AND ref.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME \\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":499,"status":"M"}],"commitId":"aa78d46743e3f5f39544552f64fe50af244cd724","commitMessage":"@@@Oracle metadata read performance improvements.\n\nFormer-commit-id: e1a271bfd8af1860df997213b49d3c4c7f5317be","date":"2015-07-17 20:46:56","modifiedFileCount":"2","status":"M","submitter":"jurgen"},{"authorTime":"2016-04-08 03:07:56","codes":[{"authorDate":"2016-04-08 03:07:56","commitOrder":3,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT /*+RULE*/\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2016-04-08 03:07:56","endLine":485,"groupId":"1335","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/41/c279e6f12d14adf33a72ff6139f3fd4cf5a083.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT /*+RULE*/\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"LEFT OUTER JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":463,"status":"M"},{"authorDate":"2016-04-08 03:07:56","commitOrder":3,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT /*+RULE*/ \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,ref.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"JOIN SYS.ALL_CONSTRAINTS ref ON ref.OWNER=c.r_OWNER AND ref.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME \\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2016-04-08 03:07:56","endLine":558,"groupId":"1335","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/41/c279e6f12d14adf33a72ff6139f3fd4cf5a083.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT /*+RULE*/ \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,ref.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"LEFT OUTER JOIN SYS.ALL_CONSTRAINTS ref ON ref.OWNER=c.r_OWNER AND ref.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME \\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":535,"status":"M"}],"commitId":"fd3f6a201915dc4d5bddf508be4716a79b3af41f","commitMessage":"@@@Merge remote-tracking branch 'origin/devel' into devel\n\n\nFormer-commit-id: 2b9acf68881f505833153a75a4b8fe153d412468","date":"2016-04-08 03:07:56","modifiedFileCount":"5","status":"M","submitter":"Serge Rider"},{"authorTime":"2016-06-03 20:06:50","codes":[{"authorDate":"2016-06-03 20:06:50","commitOrder":4,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2016-06-03 20:06:50","endLine":482,"groupId":"1335","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/2a/9af04ea6dbd275b07bd54069b344bed2a2287b.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT /*+RULE*/\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":460,"status":"M"},{"authorDate":"2016-06-03 20:06:50","commitOrder":4,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,ref.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"JOIN SYS.ALL_CONSTRAINTS ref ON ref.OWNER=c.r_OWNER AND ref.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME \\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2016-06-03 20:06:50","endLine":555,"groupId":"1335","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/2a/9af04ea6dbd275b07bd54069b344bed2a2287b.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT /*+RULE*/ \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,ref.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"JOIN SYS.ALL_CONSTRAINTS ref ON ref.OWNER=c.r_OWNER AND ref.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME \\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":532,"status":"M"}],"commitId":"e9ee8b732217a44782cae3bb573cf2d4bc83a4bb","commitMessage":"@@@#360 RULE hint configuration\n\n\nFormer-commit-id: 280802587cb2c853329fb4acd63f08e7741fe02a","date":"2016-06-03 20:06:50","modifiedFileCount":"6","status":"M","submitter":"serge-rider"},{"authorTime":"2016-06-03 20:06:50","codes":[{"authorDate":"2016-12-01 18:12:47","commitOrder":5,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2016-12-01 18:12:47","endLine":475,"groupId":"1335","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/54/bb3d44575ce06d01057b40030233482bffe974.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":453,"status":"M"},{"authorDate":"2016-06-03 20:06:50","commitOrder":5,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,ref.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"JOIN SYS.ALL_CONSTRAINTS ref ON ref.OWNER=c.r_OWNER AND ref.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME \\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2016-06-03 20:06:50","endLine":555,"groupId":"1335","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/2a/9af04ea6dbd275b07bd54069b344bed2a2287b.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,ref.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"JOIN SYS.ALL_CONSTRAINTS ref ON ref.OWNER=c.r_OWNER AND ref.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME \\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":532,"status":"N"}],"commitId":"326bd759bc596d2725f1144c96e65c29510178b8","commitMessage":"@@@Oracle metadata read performance\n\n\nFormer-commit-id: 7266542871812af925bebb7da28d95c25c61ec63","date":"2016-12-01 18:12:47","modifiedFileCount":"1","status":"M","submitter":"serge-rider"},{"authorTime":"2017-02-28 19:59:37","codes":[{"authorDate":"2016-12-01 18:12:47","commitOrder":6,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2016-12-01 18:12:47","endLine":475,"groupId":"1335","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/54/bb3d44575ce06d01057b40030233482bffe974.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":453,"status":"N"},{"authorDate":"2017-02-28 19:59:37","commitOrder":6,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"JOIN SYS.ALL_CONSTRAINTS rc ON rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME \\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2017-02-28 19:59:37","endLine":557,"groupId":"1335","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/de/adbe2e381ce39c00e6585240eebddc911ba1d6.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,ref.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"JOIN SYS.ALL_CONSTRAINTS ref ON ref.OWNER=c.r_OWNER AND ref.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME \\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":534,"status":"M"}],"commitId":"e35d1b6b89752fabbc74cc0d14719ab096ed0151","commitMessage":"@@@#1355 Oracle constrain list reading fix\n\n\nFormer-commit-id: 36713b55331b1daabfe8d1267a5fa55af7b8ed4c","date":"2017-02-28 19:59:37","modifiedFileCount":"1","status":"M","submitter":"serge-rider"},{"authorTime":"2017-02-28 20:04:00","codes":[{"authorDate":"2016-12-01 18:12:47","commitOrder":7,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2016-12-01 18:12:47","endLine":475,"groupId":"1335","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/54/bb3d44575ce06d01057b40030233482bffe974.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":453,"status":"N"},{"authorDate":"2017-02-28 20:04:00","commitOrder":7,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c, SYS.ALL_CONS_COLUMNS col, SYS.ALL_CONSTRAINTS rc\\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2017-02-28 20:04:00","endLine":557,"groupId":"1335","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/cb/367e907aed8a81f050673d16ce0be87bc1b248.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"JOIN SYS.ALL_CONSTRAINTS rc ON rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME \\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":534,"status":"M"}],"commitId":"6a6f9f83785c1f66e35bdaf34bc8e5ecd38b5344","commitMessage":"@@@#1355 Oracle constrain list reading fix\n\n\nFormer-commit-id: 11b63b07a10fd3d91160f449aa439b23ee2f71e1","date":"2017-02-28 20:04:00","modifiedFileCount":"1","status":"M","submitter":"serge-rider"},{"authorTime":"2017-02-28 20:04:00","codes":[{"authorDate":"2017-03-19 19:41:06","commitOrder":8,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c, SYS.ALL_CONS_COLUMNS col\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2017-03-19 19:41:06","endLine":483,"groupId":"1335","id":15,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/65/772fe4f881e9bf5df04302bab3a05eea76555a.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c\\n\" +\n                    \"JOIN SYS.ALL_CONS_COLUMNS col ON c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=?\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":462,"status":"M"},{"authorDate":"2017-02-28 20:04:00","commitOrder":8,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c, SYS.ALL_CONS_COLUMNS col, SYS.ALL_CONSTRAINTS rc\\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2017-02-28 20:04:00","endLine":557,"groupId":"1335","id":16,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/cb/367e907aed8a81f050673d16ce0be87bc1b248.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c, SYS.ALL_CONS_COLUMNS col, SYS.ALL_CONSTRAINTS rc\\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":534,"status":"N"}],"commitId":"c994ba8f165c1f75288f6cfeefb9095b5cb04914","commitMessage":"@@@Merge branch 'devel' of https://github.com/serge-rider/dbeaver\n\n\nFormer-commit-id: cdb84c55a71481c781e9366599848ef81d4cb10f","date":"2017-03-19 19:41:06","modifiedFileCount":"145","status":"M","submitter":"Serge Rider"},{"authorTime":"2017-03-27 04:54:21","codes":[{"authorDate":"2017-03-19 19:41:06","commitOrder":9,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c, SYS.ALL_CONS_COLUMNS col\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2017-03-19 19:41:06","endLine":483,"groupId":"1335","id":17,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/65/772fe4f881e9bf5df04302bab3a05eea76555a.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c, SYS.ALL_CONS_COLUMNS col\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":462,"status":"N"},{"authorDate":"2017-03-27 04:54:21","commitOrder":9,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\" \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c, SYS.ALL_CONS_COLUMNS col, SYS.ALL_CONSTRAINTS rc\\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2017-03-27 04:54:21","endLine":571,"groupId":"1335","id":18,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/46/8b2a15a5b37101f026752b638b0c619211a250.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\n                \"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c, SYS.ALL_CONS_COLUMNS col, SYS.ALL_CONSTRAINTS rc\\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":549,"status":"M"}],"commitId":"ebb9a308a189030b718241967e1636484f004124","commitMessage":"@@@#1165 Scheduled programs model\n\n\nFormer-commit-id: e74da101b3f626a023aec588791a5b97c5bd896b","date":"2017-03-27 04:54:21","modifiedFileCount":"2","status":"M","submitter":"Serge Rider"},{"authorTime":"2019-02-13 20:44:26","codes":[{"authorDate":"2019-02-13 20:44:26","commitOrder":10,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2019-02-13 20:44:26","endLine":529,"groupId":"4905","id":19,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/18/059668aa36081757b3349d4402c409f1c5438d.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM SYS.ALL_CONSTRAINTS c, SYS.ALL_CONS_COLUMNS col\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":507,"status":"M"},{"authorDate":"2019-02-13 20:44:26","commitOrder":10,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col, \" +\n                OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" rc\\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2019-02-13 20:44:26","endLine":603,"groupId":"1335","id":20,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/18/059668aa36081757b3349d4402c409f1c5438d.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\" \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM SYS.ALL_CONSTRAINTS c, SYS.ALL_CONS_COLUMNS col, SYS.ALL_CONSTRAINTS rc\\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":579,"status":"M"}],"commitId":"4c39b019d50e455d4a90fbba9b5f259f64426b17","commitMessage":"@@@#5179 Oracle: use DBA viewes when possible\n\n\nFormer-commit-id: 1e08c675ad2c0a51080f2ad213dc1a37740a139a","date":"2019-02-13 20:44:26","modifiedFileCount":"6","status":"M","submitter":"Serge Rider"},{"authorTime":"2019-05-17 21:23:11","codes":[{"authorDate":"2019-02-13 20:44:26","commitOrder":11,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","date":"2019-02-13 20:44:26","endLine":529,"groupId":"4905","id":21,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/18/059668aa36081757b3349d4402c409f1c5438d.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":507,"status":"N"},{"authorDate":"2019-05-17 21:23:11","commitOrder":11,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                sql.append(\"SELECT \\r\\n\" + \"    c.TABLE_NAME,\\r\\n\" + \"    c.CONSTRAINT_NAME,\\r\\n\"\n                        + \"    c.CONSTRAINT_TYPE,\\r\\n\" + \"    c.STATUS,\\r\\n\" + \"    c.R_OWNER,\\r\\n\"\n                        + \"    c.R_CONSTRAINT_NAME,\\r\\n\" + \"    (SELECT rc.TABLE_NAME FROM \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" rc WHERE rc.OWNER = c.r_OWNER AND rc.CONSTRAINT_NAME = c.R_CONSTRAINT_NAME) AS R_TABLE_NAME,\\r\\n\"\n                        + \"    c.DELETE_RULE,\\r\\n\" + \"    (\\r\\n\"\n                        + \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || p,','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\"\n                        + \"        FROM   (SELECT \\r\\n\"\n                        + \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\"\n                        + \"                FROM   \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONS_COLUMNS\")\n                        + \" col \\r\\n\"\n                        + \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME \\r\\n\"\n                        + \"                )   GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\"\n                        + \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \"FROM\\r\\n\" + \"    \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" c\\r\\n\" + \"WHERE\\r\\n\" + \"    c.CONSTRAINT_TYPE = 'R'\\r\\n\" + \"    AND c.OWNER = ?\\r\\n\"\n                        + \"    AND c.TABLE_NAME = ?\");\n                \r\n                \r\n                \r\n                \r\n\n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                dbStat.setString(2, forTable.getName());\n                dbStat.setString(3, OracleSchema.this.getName());\n                dbStat.setString(4, forTable.getName());\n\n            } else {\n            \n                sql.append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                    \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col, \" +\n                    OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" rc\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                    \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","date":"2019-05-17 21:23:11","endLine":706,"groupId":"4778","id":22,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/de/3c2df08137bcb36f6d394d634dd268eb2353eb.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col, \" +\n                OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" rc\\n\" +\n                \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":642,"status":"M"}],"commitId":"078195b57713faf7f48a3dffc20e9ace1070c2de","commitMessage":"@@@Merge remote-tracking branch 'origin/devel' into devel\n\n\nFormer-commit-id: b31b7d96c7fdd4ea11d2cb771b24351b3c04d24c","date":"2019-05-17 21:23:11","modifiedFileCount":"2","status":"M","submitter":"Serge Rider"},{"authorTime":"2019-05-17 21:23:11","codes":[{"authorDate":"2019-05-19 00:48:44","commitOrder":12,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                \n                 sql.append(\"SELECT\\r\\n\" + \n                         \"    c.TABLE_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE,\\r\\n\" + \n                         \"    c.STATUS,\\r\\n\" + \n                         \"    c.SEARCH_CONDITION,\\r\\n\" + \n                         \"    (\\r\\n\" + \n                         \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || NVL(p,1),','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\" + \n                         \"        FROM   (SELECT \\r\\n\" + \n                         \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\" + \n                         \"                FROM   DBA_CONS_COLUMNS col \\r\\n\" + \n                         \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME \\r\\n\" + \n                         \"                )   GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\" + \n                         \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \n                         \"FROM\\r\\n\" + \n                         \"    ALL_CONSTRAINTS c\\r\\n\" + \n                         \"WHERE\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE <> 'R'\\r\\n\" + \n                         \"    AND c.OWNER = ?\\r\\n\" + \n                         \"    AND c.TABLE_NAME = ?\");   \n                 \r\n                 \r\n                 \r\n                 \r\n                 \n                 dbStat = session.prepareStatement(sql.toString());\n                 dbStat.setString(1, OracleSchema.this.getName());\n                 dbStat.setString(2, forTable.getName());\n                 dbStat.setString(3, OracleSchema.this.getName());\n                 dbStat.setString(4, forTable.getName());\n                \n            } else {\n                sql\n                    .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                        \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                        \"col.COLUMN_NAME,col.POSITION\\n\" +\n                        \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                        \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col\\n\" +\n                        \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","date":"2019-05-19 00:48:44","endLine":573,"groupId":"4905","id":23,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/60/5c530b98f3179f9137c7e2270a2a39e421af0e.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql\n                .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                    \"col.COLUMN_NAME,col.POSITION\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n            if (forTable != null) {\n                sql.append(\" AND c.TABLE_NAME=?\");\n            }\n            sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            dbStat.setString(1, OracleSchema.this.getName());\n            if (forTable != null) {\n                dbStat.setString(2, forTable.getName());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":512,"status":"M"},{"authorDate":"2019-05-17 21:23:11","commitOrder":12,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                sql.append(\"SELECT \\r\\n\" + \"    c.TABLE_NAME,\\r\\n\" + \"    c.CONSTRAINT_NAME,\\r\\n\"\n                        + \"    c.CONSTRAINT_TYPE,\\r\\n\" + \"    c.STATUS,\\r\\n\" + \"    c.R_OWNER,\\r\\n\"\n                        + \"    c.R_CONSTRAINT_NAME,\\r\\n\" + \"    (SELECT rc.TABLE_NAME FROM \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" rc WHERE rc.OWNER = c.r_OWNER AND rc.CONSTRAINT_NAME = c.R_CONSTRAINT_NAME) AS R_TABLE_NAME,\\r\\n\"\n                        + \"    c.DELETE_RULE,\\r\\n\" + \"    (\\r\\n\"\n                        + \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || p,','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\"\n                        + \"        FROM   (SELECT \\r\\n\"\n                        + \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\"\n                        + \"                FROM   \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONS_COLUMNS\")\n                        + \" col \\r\\n\"\n                        + \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME \\r\\n\"\n                        + \"                )   GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\"\n                        + \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \"FROM\\r\\n\" + \"    \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" c\\r\\n\" + \"WHERE\\r\\n\" + \"    c.CONSTRAINT_TYPE = 'R'\\r\\n\" + \"    AND c.OWNER = ?\\r\\n\"\n                        + \"    AND c.TABLE_NAME = ?\");\n                \r\n                \r\n                \r\n                \r\n\n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                dbStat.setString(2, forTable.getName());\n                dbStat.setString(3, OracleSchema.this.getName());\n                dbStat.setString(4, forTable.getName());\n\n            } else {\n            \n                sql.append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                    \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col, \" +\n                    OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" rc\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                    \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","date":"2019-05-17 21:23:11","endLine":706,"groupId":"4778","id":24,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/de/3c2df08137bcb36f6d394d634dd268eb2353eb.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                sql.append(\"SELECT \\r\\n\" + \"    c.TABLE_NAME,\\r\\n\" + \"    c.CONSTRAINT_NAME,\\r\\n\"\n                        + \"    c.CONSTRAINT_TYPE,\\r\\n\" + \"    c.STATUS,\\r\\n\" + \"    c.R_OWNER,\\r\\n\"\n                        + \"    c.R_CONSTRAINT_NAME,\\r\\n\" + \"    (SELECT rc.TABLE_NAME FROM \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" rc WHERE rc.OWNER = c.r_OWNER AND rc.CONSTRAINT_NAME = c.R_CONSTRAINT_NAME) AS R_TABLE_NAME,\\r\\n\"\n                        + \"    c.DELETE_RULE,\\r\\n\" + \"    (\\r\\n\"\n                        + \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || p,','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\"\n                        + \"        FROM   (SELECT \\r\\n\"\n                        + \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\"\n                        + \"                FROM   \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONS_COLUMNS\")\n                        + \" col \\r\\n\"\n                        + \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME \\r\\n\"\n                        + \"                )   GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\"\n                        + \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \"FROM\\r\\n\" + \"    \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" c\\r\\n\" + \"WHERE\\r\\n\" + \"    c.CONSTRAINT_TYPE = 'R'\\r\\n\" + \"    AND c.OWNER = ?\\r\\n\"\n                        + \"    AND c.TABLE_NAME = ?\");\n                \r\n                \r\n                \r\n                \r\n\n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                dbStat.setString(2, forTable.getName());\n                dbStat.setString(3, OracleSchema.this.getName());\n                dbStat.setString(4, forTable.getName());\n\n            } else {\n            \n                sql.append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                    \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col, \" +\n                    OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" rc\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                    \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":642,"status":"N"}],"commitId":"f520320d825633bb44d7d7d1ea2fe6e82d3fb5f4","commitMessage":"@@@Merge pull request #5933 from dbeaver/5878_oracle_constraints_lag\n\n5878 Constraint cache optimization\n\nFormer-commit-id: 33c78a8216fb67a4b1ef0e502150a9a4a9cbac3a","date":"2019-05-19 00:48:44","modifiedFileCount":"1","status":"M","submitter":"Serge Rider"},{"authorTime":"2019-05-17 21:23:11","codes":[{"authorDate":"2019-05-19 21:02:55","commitOrder":13,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                \n                 sql.append(\"SELECT\\r\\n\" + \n                         \"    c.TABLE_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE,\\r\\n\" + \n                         \"    c.STATUS,\\r\\n\" + \n                         \"    c.SEARCH_CONDITION,\\r\\n\" + \n                         \"    (\\r\\n\" + \n                         \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || NVL(p,1),','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\" + \n                         \"        FROM   (SELECT \\r\\n\" + \n                         \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\" + \n                         \"                FROM   \"+ OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") +\" col \\r\\n\" + \n                         \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME \\r\\n\" + \n                         \"                )   GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\" + \n                         \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \n                         \"FROM\\r\\n\" + \n                         \"    \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" c\\r\\n\" + \n                         \"WHERE\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE <> 'R'\\r\\n\" + \n                         \"    AND c.OWNER = ?\\r\\n\" + \n                         \"    AND c.TABLE_NAME = ?\");   \n                 \r\n                 \r\n                 \r\n                 \r\n                 \n                 dbStat = session.prepareStatement(sql.toString());\n                 dbStat.setString(1, OracleSchema.this.getName());\n                 dbStat.setString(2, forTable.getName());\n                 dbStat.setString(3, OracleSchema.this.getName());\n                 dbStat.setString(4, forTable.getName());\n                \n            } else {\n                sql\n                    .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                        \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                        \"col.COLUMN_NAME,col.POSITION\\n\" +\n                        \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                        \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col\\n\" +\n                        \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","date":"2019-05-19 21:02:55","endLine":573,"groupId":"4905","id":25,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/8c/e9a5bb8db416b885698ea2827c6603c52c879e.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                \n                 sql.append(\"SELECT\\r\\n\" + \n                         \"    c.TABLE_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE,\\r\\n\" + \n                         \"    c.STATUS,\\r\\n\" + \n                         \"    c.SEARCH_CONDITION,\\r\\n\" + \n                         \"    (\\r\\n\" + \n                         \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || NVL(p,1),','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\" + \n                         \"        FROM   (SELECT \\r\\n\" + \n                         \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\" + \n                         \"                FROM   DBA_CONS_COLUMNS col \\r\\n\" + \n                         \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME \\r\\n\" + \n                         \"                )   GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\" + \n                         \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \n                         \"FROM\\r\\n\" + \n                         \"    ALL_CONSTRAINTS c\\r\\n\" + \n                         \"WHERE\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE <> 'R'\\r\\n\" + \n                         \"    AND c.OWNER = ?\\r\\n\" + \n                         \"    AND c.TABLE_NAME = ?\");   \n                 \r\n                 \r\n                 \r\n                 \r\n                 \n                 dbStat = session.prepareStatement(sql.toString());\n                 dbStat.setString(1, OracleSchema.this.getName());\n                 dbStat.setString(2, forTable.getName());\n                 dbStat.setString(3, OracleSchema.this.getName());\n                 dbStat.setString(4, forTable.getName());\n                \n            } else {\n                sql\n                    .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                        \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                        \"col.COLUMN_NAME,col.POSITION\\n\" +\n                        \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                        \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col\\n\" +\n                        \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":512,"status":"M"},{"authorDate":"2019-05-17 21:23:11","commitOrder":13,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                sql.append(\"SELECT \\r\\n\" + \"    c.TABLE_NAME,\\r\\n\" + \"    c.CONSTRAINT_NAME,\\r\\n\"\n                        + \"    c.CONSTRAINT_TYPE,\\r\\n\" + \"    c.STATUS,\\r\\n\" + \"    c.R_OWNER,\\r\\n\"\n                        + \"    c.R_CONSTRAINT_NAME,\\r\\n\" + \"    (SELECT rc.TABLE_NAME FROM \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" rc WHERE rc.OWNER = c.r_OWNER AND rc.CONSTRAINT_NAME = c.R_CONSTRAINT_NAME) AS R_TABLE_NAME,\\r\\n\"\n                        + \"    c.DELETE_RULE,\\r\\n\" + \"    (\\r\\n\"\n                        + \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || p,','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\"\n                        + \"        FROM   (SELECT \\r\\n\"\n                        + \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\"\n                        + \"                FROM   \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONS_COLUMNS\")\n                        + \" col \\r\\n\"\n                        + \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME \\r\\n\"\n                        + \"                )   GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\"\n                        + \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \"FROM\\r\\n\" + \"    \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" c\\r\\n\" + \"WHERE\\r\\n\" + \"    c.CONSTRAINT_TYPE = 'R'\\r\\n\" + \"    AND c.OWNER = ?\\r\\n\"\n                        + \"    AND c.TABLE_NAME = ?\");\n                \r\n                \r\n                \r\n                \r\n\n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                dbStat.setString(2, forTable.getName());\n                dbStat.setString(3, OracleSchema.this.getName());\n                dbStat.setString(4, forTable.getName());\n\n            } else {\n            \n                sql.append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                    \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col, \" +\n                    OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" rc\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                    \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","date":"2019-05-17 21:23:11","endLine":706,"groupId":"4778","id":26,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/de/3c2df08137bcb36f6d394d634dd268eb2353eb.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                sql.append(\"SELECT \\r\\n\" + \"    c.TABLE_NAME,\\r\\n\" + \"    c.CONSTRAINT_NAME,\\r\\n\"\n                        + \"    c.CONSTRAINT_TYPE,\\r\\n\" + \"    c.STATUS,\\r\\n\" + \"    c.R_OWNER,\\r\\n\"\n                        + \"    c.R_CONSTRAINT_NAME,\\r\\n\" + \"    (SELECT rc.TABLE_NAME FROM \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" rc WHERE rc.OWNER = c.r_OWNER AND rc.CONSTRAINT_NAME = c.R_CONSTRAINT_NAME) AS R_TABLE_NAME,\\r\\n\"\n                        + \"    c.DELETE_RULE,\\r\\n\" + \"    (\\r\\n\"\n                        + \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || p,','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\"\n                        + \"        FROM   (SELECT \\r\\n\"\n                        + \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\"\n                        + \"                FROM   \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONS_COLUMNS\")\n                        + \" col \\r\\n\"\n                        + \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME \\r\\n\"\n                        + \"                )   GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\"\n                        + \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \"FROM\\r\\n\" + \"    \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" c\\r\\n\" + \"WHERE\\r\\n\" + \"    c.CONSTRAINT_TYPE = 'R'\\r\\n\" + \"    AND c.OWNER = ?\\r\\n\"\n                        + \"    AND c.TABLE_NAME = ?\");\n                \r\n                \r\n                \r\n                \r\n\n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                dbStat.setString(2, forTable.getName());\n                dbStat.setString(3, OracleSchema.this.getName());\n                dbStat.setString(4, forTable.getName());\n\n            } else {\n            \n                sql.append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                    \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col, \" +\n                    OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" rc\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                    \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":642,"status":"N"}],"commitId":"146aeecefed8316a3914d536fdf26926b6a879d2","commitMessage":"@@@Merge pull request #5935 from dbeaver/5878_oracle_constraints_lag\n\nTable name for constraint query\n\nFormer-commit-id: 6d811093a280bc740d1bf013cea8b746bcf960dd","date":"2019-05-19 21:02:55","modifiedFileCount":"1","status":"M","submitter":"Serge Rider"},{"authorTime":"2019-05-23 03:38:07","codes":[{"authorDate":"2019-05-23 03:38:07","commitOrder":14,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                \n                 sql.append(\"SELECT\\r\\n\" + \n                         \"    c.TABLE_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE,\\r\\n\" + \n                         \"    c.STATUS,\\r\\n\" + \n                         \"    c.SEARCH_CONDITION,\\r\\n\" + \n                         \"    (\\r\\n\" + \n                         \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || NVL(p,1),','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\" + \n                         \"        FROM   (SELECT \\r\\n\" + \n                         \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\" + \n                         \"                FROM   \"+ OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") +\" col \\r\\n\" + \n                         \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? \\r\\n\" + \n                         \"                ) WHERE cn = c.CONSTRAINT_NAME  GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\" + \n                         \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \n                         \"FROM\\r\\n\" + \n                         \"    \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" c\\r\\n\" + \n                         \"WHERE\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE <> 'R'\\r\\n\" + \n                         \"    AND c.OWNER = ?\\r\\n\" + \n                         \"    AND c.TABLE_NAME = ?\");   \n                 \r\n                 \r\n                 \r\n                 \r\n                 \n                 dbStat = session.prepareStatement(sql.toString());\n                 dbStat.setString(1, OracleSchema.this.getName());\n                 dbStat.setString(2, forTable.getName());\n                 dbStat.setString(3, OracleSchema.this.getName());\n                 dbStat.setString(4, forTable.getName());\n                \n            } else {\n                sql\n                    .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                        \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                        \"col.COLUMN_NAME,col.POSITION\\n\" +\n                        \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                        \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col\\n\" +\n                        \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","date":"2019-05-23 03:38:07","endLine":573,"groupId":"4905","id":27,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/5f/06b6f9538f9a23ce42eb79a1d3822a4ab35248.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                \n                 sql.append(\"SELECT\\r\\n\" + \n                         \"    c.TABLE_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE,\\r\\n\" + \n                         \"    c.STATUS,\\r\\n\" + \n                         \"    c.SEARCH_CONDITION,\\r\\n\" + \n                         \"    (\\r\\n\" + \n                         \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || NVL(p,1),','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\" + \n                         \"        FROM   (SELECT \\r\\n\" + \n                         \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\" + \n                         \"                FROM   \"+ OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") +\" col \\r\\n\" + \n                         \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME \\r\\n\" + \n                         \"                )   GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\" + \n                         \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \n                         \"FROM\\r\\n\" + \n                         \"    \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" c\\r\\n\" + \n                         \"WHERE\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE <> 'R'\\r\\n\" + \n                         \"    AND c.OWNER = ?\\r\\n\" + \n                         \"    AND c.TABLE_NAME = ?\");   \n                 \r\n                 \r\n                 \r\n                 \r\n                 \n                 dbStat = session.prepareStatement(sql.toString());\n                 dbStat.setString(1, OracleSchema.this.getName());\n                 dbStat.setString(2, forTable.getName());\n                 dbStat.setString(3, OracleSchema.this.getName());\n                 dbStat.setString(4, forTable.getName());\n                \n            } else {\n                sql\n                    .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                        \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                        \"col.COLUMN_NAME,col.POSITION\\n\" +\n                        \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                        \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col\\n\" +\n                        \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":512,"status":"M"},{"authorDate":"2019-05-23 03:38:07","commitOrder":14,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                sql.append(\"SELECT \\r\\n\" + \"    c.TABLE_NAME,\\r\\n\" + \"    c.CONSTRAINT_NAME,\\r\\n\"\n                        + \"    c.CONSTRAINT_TYPE,\\r\\n\" + \"    c.STATUS,\\r\\n\" + \"    c.R_OWNER,\\r\\n\"\n                        + \"    c.R_CONSTRAINT_NAME,\\r\\n\" + \"    (SELECT rc.TABLE_NAME FROM \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" rc WHERE rc.OWNER = c.r_OWNER AND rc.CONSTRAINT_NAME = c.R_CONSTRAINT_NAME) AS R_TABLE_NAME,\\r\\n\"\n                        + \"    c.DELETE_RULE,\\r\\n\" + \"    (\\r\\n\"\n                        + \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || p,','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\"\n                        + \"        FROM   (SELECT \\r\\n\"\n                        + \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\"\n                        + \"                FROM   \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\")\n                        + \" col \\r\\n\"\n                        + \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? \\r\\n\"\n                        + \"                )  WHERE cn = c.CONSTRAINT_NAME GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\"\n                        + \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \"FROM\\r\\n\" + \"    \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" c\\r\\n\" + \"WHERE\\r\\n\" + \"    c.CONSTRAINT_TYPE = 'R'\\r\\n\" + \"    AND c.OWNER = ?\\r\\n\"\n                        + \"    AND c.TABLE_NAME = ?\");\n                \r\n                \r\n                \r\n                \r\n\n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                dbStat.setString(2, forTable.getName());\n                dbStat.setString(3, OracleSchema.this.getName());\n                dbStat.setString(4, forTable.getName());\n\n            } else {\n            \n                sql.append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                    \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col, \" +\n                    OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" rc\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                    \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","date":"2019-05-23 03:38:07","endLine":771,"groupId":"4778","id":28,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/5f/06b6f9538f9a23ce42eb79a1d3822a4ab35248.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                sql.append(\"SELECT \\r\\n\" + \"    c.TABLE_NAME,\\r\\n\" + \"    c.CONSTRAINT_NAME,\\r\\n\"\n                        + \"    c.CONSTRAINT_TYPE,\\r\\n\" + \"    c.STATUS,\\r\\n\" + \"    c.R_OWNER,\\r\\n\"\n                        + \"    c.R_CONSTRAINT_NAME,\\r\\n\" + \"    (SELECT rc.TABLE_NAME FROM \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" rc WHERE rc.OWNER = c.r_OWNER AND rc.CONSTRAINT_NAME = c.R_CONSTRAINT_NAME) AS R_TABLE_NAME,\\r\\n\"\n                        + \"    c.DELETE_RULE,\\r\\n\" + \"    (\\r\\n\"\n                        + \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || p,','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\"\n                        + \"        FROM   (SELECT \\r\\n\"\n                        + \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\"\n                        + \"                FROM   \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\")\n                        + \" col \\r\\n\"\n                        + \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME \\r\\n\"\n                        + \"                )   GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\"\n                        + \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \"FROM\\r\\n\" + \"    \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" c\\r\\n\" + \"WHERE\\r\\n\" + \"    c.CONSTRAINT_TYPE = 'R'\\r\\n\" + \"    AND c.OWNER = ?\\r\\n\"\n                        + \"    AND c.TABLE_NAME = ?\");\n                \r\n                \r\n                \r\n                \r\n\n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                dbStat.setString(2, forTable.getName());\n                dbStat.setString(3, OracleSchema.this.getName());\n                dbStat.setString(4, forTable.getName());\n\n            } else {\n            \n                sql.append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                    \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col, \" +\n                    OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" rc\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                    \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":708,"status":"M"}],"commitId":"a1449e5f489efe8be0987d97b5abfae43663ae2d","commitMessage":"@@@Merge pull request #5979 from dbeaver/fix_oracle_constraints\n\noracle 10 and 11 constraints fix\n\nFormer-commit-id: 87e3e621999ace07ab9b3d0e816f0966db253f53","date":"2019-05-23 03:38:07","modifiedFileCount":"1","status":"M","submitter":"Serge Rider"},{"authorTime":"2019-06-29 15:17:42","codes":[{"authorDate":"2019-06-29 15:17:42","commitOrder":15,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV11() && forTable != null) {\n                \n                sql.append(\"SELECT\\r\\n\" + \n                        \"    c.TABLE_NAME,\\r\\n\" + \n                        \"    c.CONSTRAINT_NAME,\\r\\n\" + \n                        \"    c.CONSTRAINT_TYPE,\\r\\n\" + \n                        \"    c.STATUS,\\r\\n\" + \n                        \"    c.SEARCH_CONDITION,\\r\\n\" + \n                        \"    (\\r\\n\" + \n                        \"      SELECT LISTAGG(COLUMN_NAME || ':' || POSITION,',') WITHIN GROUP (ORDER BY \\\"POSITION\\\") \\r\\n\" + \n                        \"      FROM ALL_CONS_COLUMNS col\\r\\n\" + \n                        \"      WHERE col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME GROUP BY CONSTRAINT_NAME \\r\\n\"+\n                        \"    ) COLUMN_NAMES_NUMS\\r\\n\" + \n                        \"FROM\\r\\n\" + \n                        \"    \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" c\\r\\n\" + \n                        \"WHERE\\r\\n\" + \n                        \"    c.CONSTRAINT_TYPE <> 'R'\\r\\n\" + \n                        \"    AND c.OWNER = ?\\r\\n\" + \n                        \"    AND c.TABLE_NAME = ?\");   \n                \r\n                \r\n                \r\n                \r\n                \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                dbStat.setString(2, forTable.getName());\n                dbStat.setString(3, OracleSchema.this.getName());\n                dbStat.setString(4, forTable.getName());\n                \n            } else if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                \n                 sql.append(\"SELECT\\r\\n\" + \n                         \"    c.TABLE_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE,\\r\\n\" + \n                         \"    c.STATUS,\\r\\n\" + \n                         \"    c.SEARCH_CONDITION,\\r\\n\" + \n                         \"    (\\r\\n\" + \n                         \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || NVL(p,1),','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\" + \n                         \"        FROM   (SELECT \\r\\n\" + \n                         \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\" + \n                         \"                FROM   \"+ OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") +\" col \\r\\n\" + \n                         \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? \\r\\n\" + \n                         \"                ) WHERE cn = c.CONSTRAINT_NAME  GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\" + \n                         \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \n                         \"FROM\\r\\n\" + \n                         \"    \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" c\\r\\n\" + \n                         \"WHERE\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE <> 'R'\\r\\n\" + \n                         \"    AND c.OWNER = ?\\r\\n\" + \n                         \"    AND c.TABLE_NAME = ?\");   \n                 \r\n                 \r\n                 \r\n                 \r\n                 \n                 dbStat = session.prepareStatement(sql.toString());\n                 dbStat.setString(1, OracleSchema.this.getName());\n                 dbStat.setString(2, forTable.getName());\n                 dbStat.setString(3, OracleSchema.this.getName());\n                 dbStat.setString(4, forTable.getName());\n                \n            } else {\n                sql\n                    .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                        \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                        \"col.COLUMN_NAME,col.POSITION\\n\" +\n                        \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                        \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col\\n\" +\n                        \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","date":"2019-06-29 15:17:42","endLine":603,"groupId":"4905","id":29,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/f0/5cb6bf940631e19339e3989e13b0ac3b130e55.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                \n                 sql.append(\"SELECT\\r\\n\" + \n                         \"    c.TABLE_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE,\\r\\n\" + \n                         \"    c.STATUS,\\r\\n\" + \n                         \"    c.SEARCH_CONDITION,\\r\\n\" + \n                         \"    (\\r\\n\" + \n                         \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || NVL(p,1),','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\" + \n                         \"        FROM   (SELECT \\r\\n\" + \n                         \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\" + \n                         \"                FROM   \"+ OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") +\" col \\r\\n\" + \n                         \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? \\r\\n\" + \n                         \"                ) WHERE cn = c.CONSTRAINT_NAME  GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\" + \n                         \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \n                         \"FROM\\r\\n\" + \n                         \"    \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" c\\r\\n\" + \n                         \"WHERE\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE <> 'R'\\r\\n\" + \n                         \"    AND c.OWNER = ?\\r\\n\" + \n                         \"    AND c.TABLE_NAME = ?\");   \n                 \r\n                 \r\n                 \r\n                 \r\n                 \n                 dbStat = session.prepareStatement(sql.toString());\n                 dbStat.setString(1, OracleSchema.this.getName());\n                 dbStat.setString(2, forTable.getName());\n                 dbStat.setString(3, OracleSchema.this.getName());\n                 dbStat.setString(4, forTable.getName());\n                \n            } else {\n                sql\n                    .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                        \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                        \"col.COLUMN_NAME,col.POSITION\\n\" +\n                        \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                        \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col\\n\" +\n                        \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":512,"status":"M"},{"authorDate":"2019-06-29 15:17:42","commitOrder":15,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n             if (owner.getDataSource().isAtLeastV11() && forTable != null) {\n                 sql.append(\"SELECT \\r\\n\" \n                         + \"    c.TABLE_NAME,\\r\\n\" \n                         + \"    c.CONSTRAINT_NAME,\\r\\n\"\n                         + \"    c.CONSTRAINT_TYPE,\\r\\n\" \n                         + \"    c.STATUS,\\r\\n\" \n                         + \"    c.R_OWNER,\\r\\n\"\n                         + \"    c.R_CONSTRAINT_NAME,\\r\\n\" \n                         + \"    (SELECT rc.TABLE_NAME FROM \"\n                         + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\"CONSTRAINTS\")\n                         + \" rc WHERE rc.OWNER = c.r_OWNER AND rc.CONSTRAINT_NAME = c.R_CONSTRAINT_NAME) AS R_TABLE_NAME,\\r\\n\"\n                         + \"    c.DELETE_RULE,\\r\\n\" \n                         + \"    (\\r\\n\"\n                         + \"      SELECT LISTAGG(COLUMN_NAME || ':' || POSITION,',') WITHIN GROUP (ORDER BY \\\"POSITION\\\") \\r\\n\" \n                         + \"      FROM ALL_CONS_COLUMNS col\\r\\n\" \n                         + \"      WHERE col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME GROUP BY CONSTRAINT_NAME \\r\\n\"\n                         + \"    ) COLUMN_NAMES_NUMS\\r\\n\" + \"FROM\\r\\n\" + \"    \"\n                         + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                 \"CONSTRAINTS\")\n                         + \" c\\r\\n\" + \"WHERE\\r\\n\" + \"    c.CONSTRAINT_TYPE = 'R'\\r\\n\" + \"    AND c.OWNER = ?\\r\\n\"\n                         + \"    AND c.TABLE_NAME = ?\");\n                 \r\n                 \r\n                 \r\n                 \r\n\n                 dbStat = session.prepareStatement(sql.toString());\n                 dbStat.setString(1, OracleSchema.this.getName());\n                 dbStat.setString(2, forTable.getName());\n                 dbStat.setString(3, OracleSchema.this.getName());\n                 dbStat.setString(4, forTable.getName());\n\n\n             }else if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                sql.append(\"SELECT \\r\\n\" + \"    c.TABLE_NAME,\\r\\n\" + \"    c.CONSTRAINT_NAME,\\r\\n\"\n                        + \"    c.CONSTRAINT_TYPE,\\r\\n\" + \"    c.STATUS,\\r\\n\" + \"    c.R_OWNER,\\r\\n\"\n                        + \"    c.R_CONSTRAINT_NAME,\\r\\n\" + \"    (SELECT rc.TABLE_NAME FROM \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" rc WHERE rc.OWNER = c.r_OWNER AND rc.CONSTRAINT_NAME = c.R_CONSTRAINT_NAME) AS R_TABLE_NAME,\\r\\n\"\n                        + \"    c.DELETE_RULE,\\r\\n\" + \"    (\\r\\n\"\n                        + \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || p,','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\"\n                        + \"        FROM   (SELECT \\r\\n\"\n                        + \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\"\n                        + \"                FROM   \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\")\n                        + \" col \\r\\n\"\n                        + \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? \\r\\n\"\n                        + \"                )  WHERE cn = c.CONSTRAINT_NAME GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\"\n                        + \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \"FROM\\r\\n\" + \"    \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" c\\r\\n\" + \"WHERE\\r\\n\" + \"    c.CONSTRAINT_TYPE = 'R'\\r\\n\" + \"    AND c.OWNER = ?\\r\\n\"\n                        + \"    AND c.TABLE_NAME = ?\");\n                \r\n                \r\n                \r\n                \r\n\n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                dbStat.setString(2, forTable.getName());\n                dbStat.setString(3, OracleSchema.this.getName());\n                dbStat.setString(4, forTable.getName());\n\n            } else {\n            \n                sql.append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                    \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col, \" +\n                    OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" rc\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                    \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","date":"2019-06-29 15:17:42","endLine":833,"groupId":"4778","id":30,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/f0/5cb6bf940631e19339e3989e13b0ac3b130e55.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                sql.append(\"SELECT \\r\\n\" + \"    c.TABLE_NAME,\\r\\n\" + \"    c.CONSTRAINT_NAME,\\r\\n\"\n                        + \"    c.CONSTRAINT_TYPE,\\r\\n\" + \"    c.STATUS,\\r\\n\" + \"    c.R_OWNER,\\r\\n\"\n                        + \"    c.R_CONSTRAINT_NAME,\\r\\n\" + \"    (SELECT rc.TABLE_NAME FROM \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" rc WHERE rc.OWNER = c.r_OWNER AND rc.CONSTRAINT_NAME = c.R_CONSTRAINT_NAME) AS R_TABLE_NAME,\\r\\n\"\n                        + \"    c.DELETE_RULE,\\r\\n\" + \"    (\\r\\n\"\n                        + \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || p,','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\"\n                        + \"        FROM   (SELECT \\r\\n\"\n                        + \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\"\n                        + \"                FROM   \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\")\n                        + \" col \\r\\n\"\n                        + \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? \\r\\n\"\n                        + \"                )  WHERE cn = c.CONSTRAINT_NAME GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\"\n                        + \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \"FROM\\r\\n\" + \"    \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" c\\r\\n\" + \"WHERE\\r\\n\" + \"    c.CONSTRAINT_TYPE = 'R'\\r\\n\" + \"    AND c.OWNER = ?\\r\\n\"\n                        + \"    AND c.TABLE_NAME = ?\");\n                \r\n                \r\n                \r\n                \r\n\n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                dbStat.setString(2, forTable.getName());\n                dbStat.setString(3, OracleSchema.this.getName());\n                dbStat.setString(4, forTable.getName());\n\n            } else {\n            \n                sql.append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                    \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col, \" +\n                    OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" rc\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                    \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":738,"status":"M"}],"commitId":"4322499342341f05f049db160756015e167d501f","commitMessage":"@@@Merge pull request #6187 from dbeaver/fix_oracle_constraints\n\n#6173 in oracle 11G constraints does not work correctly\n\nFormer-commit-id: bd367add65641cbd4ee3fb309b37d608b49a6e55","date":"2019-06-29 15:17:42","modifiedFileCount":"1","status":"M","submitter":"Serge Rider"},{"authorTime":"2019-07-02 04:31:48","codes":[{"authorDate":"2019-07-02 04:31:48","commitOrder":16,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            \n            boolean useSimpleConnection = CommonUtils.toBoolean(session.getDataSource().getContainer().getConnectionConfiguration().getProviderProperty(OracleConstants.PROP_METADATA_USE_SIMPLE_CONSTRAINTS));\n\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV11() && forTable != null && !useSimpleConnection) {\n                \n                sql.append(\"SELECT\\r\\n\" + \n                        \"    c.TABLE_NAME,\\r\\n\" + \n                        \"    c.CONSTRAINT_NAME,\\r\\n\" + \n                        \"    c.CONSTRAINT_TYPE,\\r\\n\" + \n                        \"    c.STATUS,\\r\\n\" + \n                        \"    c.SEARCH_CONDITION,\\r\\n\" + \n                        \"    (\\r\\n\" + \n                        \"      SELECT LISTAGG(COLUMN_NAME || ':' || POSITION,',') WITHIN GROUP (ORDER BY \\\"POSITION\\\") \\r\\n\" + \n                        \"      FROM ALL_CONS_COLUMNS col\\r\\n\" + \n                        \"      WHERE col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME GROUP BY CONSTRAINT_NAME \\r\\n\"+\n                        \"    ) COLUMN_NAMES_NUMS\\r\\n\" + \n                        \"FROM\\r\\n\" + \n                        \"    \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" c\\r\\n\" + \n                        \"WHERE\\r\\n\" + \n                        \"    c.CONSTRAINT_TYPE <> 'R'\\r\\n\" + \n                        \"    AND c.OWNER = ?\\r\\n\" + \n                        \"    AND c.TABLE_NAME = ?\");   \n                \r\n                \r\n                \r\n                \r\n                \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                dbStat.setString(2, forTable.getName());\n                dbStat.setString(3, OracleSchema.this.getName());\n                dbStat.setString(4, forTable.getName());\n                \n            } else if (owner.getDataSource().isAtLeastV10() && forTable != null && !useSimpleConnection) {\n                \n                 sql.append(\"SELECT\\r\\n\" + \n                         \"    c.TABLE_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE,\\r\\n\" + \n                         \"    c.STATUS,\\r\\n\" + \n                         \"    c.SEARCH_CONDITION,\\r\\n\" + \n                         \"    (\\r\\n\" + \n                         \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || NVL(p,1),','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\" + \n                         \"        FROM   (SELECT \\r\\n\" + \n                         \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\" + \n                         \"                FROM   \"+ OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") +\" col \\r\\n\" + \n                         \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? \\r\\n\" + \n                         \"                ) WHERE cn = c.CONSTRAINT_NAME  GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\" + \n                         \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \n                         \"FROM\\r\\n\" + \n                         \"    \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" c\\r\\n\" + \n                         \"WHERE\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE <> 'R'\\r\\n\" + \n                         \"    AND c.OWNER = ?\\r\\n\" + \n                         \"    AND c.TABLE_NAME = ?\");   \n                 \r\n                 \r\n                 \r\n                 \r\n                 \n                 dbStat = session.prepareStatement(sql.toString());\n                 dbStat.setString(1, OracleSchema.this.getName());\n                 dbStat.setString(2, forTable.getName());\n                 dbStat.setString(3, OracleSchema.this.getName());\n                 dbStat.setString(4, forTable.getName());\n                \n            } else {\n                sql\n                    .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                        \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                        \"col.COLUMN_NAME,col.POSITION\\n\" +\n                        \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                        \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col\\n\" +\n                        \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","date":"2019-07-02 04:31:48","endLine":606,"groupId":"11984","id":31,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/9c/23f29cd5e6513aa5f9fcb42db387c89576f688.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n            \n            if (owner.getDataSource().isAtLeastV11() && forTable != null) {\n                \n                sql.append(\"SELECT\\r\\n\" + \n                        \"    c.TABLE_NAME,\\r\\n\" + \n                        \"    c.CONSTRAINT_NAME,\\r\\n\" + \n                        \"    c.CONSTRAINT_TYPE,\\r\\n\" + \n                        \"    c.STATUS,\\r\\n\" + \n                        \"    c.SEARCH_CONDITION,\\r\\n\" + \n                        \"    (\\r\\n\" + \n                        \"      SELECT LISTAGG(COLUMN_NAME || ':' || POSITION,',') WITHIN GROUP (ORDER BY \\\"POSITION\\\") \\r\\n\" + \n                        \"      FROM ALL_CONS_COLUMNS col\\r\\n\" + \n                        \"      WHERE col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME GROUP BY CONSTRAINT_NAME \\r\\n\"+\n                        \"    ) COLUMN_NAMES_NUMS\\r\\n\" + \n                        \"FROM\\r\\n\" + \n                        \"    \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" c\\r\\n\" + \n                        \"WHERE\\r\\n\" + \n                        \"    c.CONSTRAINT_TYPE <> 'R'\\r\\n\" + \n                        \"    AND c.OWNER = ?\\r\\n\" + \n                        \"    AND c.TABLE_NAME = ?\");   \n                \r\n                \r\n                \r\n                \r\n                \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                dbStat.setString(2, forTable.getName());\n                dbStat.setString(3, OracleSchema.this.getName());\n                dbStat.setString(4, forTable.getName());\n                \n            } else if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                \n                 sql.append(\"SELECT\\r\\n\" + \n                         \"    c.TABLE_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_NAME,\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE,\\r\\n\" + \n                         \"    c.STATUS,\\r\\n\" + \n                         \"    c.SEARCH_CONDITION,\\r\\n\" + \n                         \"    (\\r\\n\" + \n                         \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || NVL(p,1),','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\" + \n                         \"        FROM   (SELECT \\r\\n\" + \n                         \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\" + \n                         \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\" + \n                         \"                FROM   \"+ OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") +\" col \\r\\n\" + \n                         \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? \\r\\n\" + \n                         \"                ) WHERE cn = c.CONSTRAINT_NAME  GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\" + \n                         \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \n                         \"FROM\\r\\n\" + \n                         \"    \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" c\\r\\n\" + \n                         \"WHERE\\r\\n\" + \n                         \"    c.CONSTRAINT_TYPE <> 'R'\\r\\n\" + \n                         \"    AND c.OWNER = ?\\r\\n\" + \n                         \"    AND c.TABLE_NAME = ?\");   \n                 \r\n                 \r\n                 \r\n                 \r\n                 \n                 dbStat = session.prepareStatement(sql.toString());\n                 dbStat.setString(1, OracleSchema.this.getName());\n                 dbStat.setString(2, forTable.getName());\n                 dbStat.setString(3, OracleSchema.this.getName());\n                 dbStat.setString(4, forTable.getName());\n                \n            } else {\n                sql\n                    .append(\"SELECT \").append(OracleUtils.getSysCatalogHint(owner.getDataSource())).append(\"\\n\" +\n                        \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.SEARCH_CONDITION,\" +\n                        \"col.COLUMN_NAME,col.POSITION\\n\" +\n                        \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                        \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col\\n\" +\n                        \"WHERE c.CONSTRAINT_TYPE<>'R' AND c.OWNER=? AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":512,"status":"M"},{"authorDate":"2019-07-02 04:31:48","commitOrder":16,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            boolean useSimpleConnection = CommonUtils.toBoolean(session.getDataSource().getContainer().getConnectionConfiguration().getProviderProperty(OracleConstants.PROP_METADATA_USE_SIMPLE_CONSTRAINTS));\n\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n             if (owner.getDataSource().isAtLeastV11() && forTable != null && !useSimpleConnection) {\n                 sql.append(\"SELECT \\r\\n\" \n                         + \"    c.TABLE_NAME,\\r\\n\" \n                         + \"    c.CONSTRAINT_NAME,\\r\\n\"\n                         + \"    c.CONSTRAINT_TYPE,\\r\\n\" \n                         + \"    c.STATUS,\\r\\n\" \n                         + \"    c.R_OWNER,\\r\\n\"\n                         + \"    c.R_CONSTRAINT_NAME,\\r\\n\" \n                         + \"    (SELECT rc.TABLE_NAME FROM \"\n                         + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\"CONSTRAINTS\")\n                         + \" rc WHERE rc.OWNER = c.r_OWNER AND rc.CONSTRAINT_NAME = c.R_CONSTRAINT_NAME) AS R_TABLE_NAME,\\r\\n\"\n                         + \"    c.DELETE_RULE,\\r\\n\" \n                         + \"    (\\r\\n\"\n                         + \"      SELECT LISTAGG(COLUMN_NAME || ':' || POSITION,',') WITHIN GROUP (ORDER BY \\\"POSITION\\\") \\r\\n\" \n                         + \"      FROM ALL_CONS_COLUMNS col\\r\\n\" \n                         + \"      WHERE col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME GROUP BY CONSTRAINT_NAME \\r\\n\"\n                         + \"    ) COLUMN_NAMES_NUMS\\r\\n\" + \"FROM\\r\\n\" + \"    \"\n                         + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                 \"CONSTRAINTS\")\n                         + \" c\\r\\n\" + \"WHERE\\r\\n\" + \"    c.CONSTRAINT_TYPE = 'R'\\r\\n\" + \"    AND c.OWNER = ?\\r\\n\"\n                         + \"    AND c.TABLE_NAME = ?\");\n                 \r\n                 \r\n                 \r\n                 \r\n\n                 dbStat = session.prepareStatement(sql.toString());\n                 dbStat.setString(1, OracleSchema.this.getName());\n                 dbStat.setString(2, forTable.getName());\n                 dbStat.setString(3, OracleSchema.this.getName());\n                 dbStat.setString(4, forTable.getName());\n\n\n             }else if (owner.getDataSource().isAtLeastV10() && forTable != null && !useSimpleConnection) {\n                sql.append(\"SELECT \\r\\n\" + \"    c.TABLE_NAME,\\r\\n\" + \"    c.CONSTRAINT_NAME,\\r\\n\"\n                        + \"    c.CONSTRAINT_TYPE,\\r\\n\" + \"    c.STATUS,\\r\\n\" + \"    c.R_OWNER,\\r\\n\"\n                        + \"    c.R_CONSTRAINT_NAME,\\r\\n\" + \"    (SELECT rc.TABLE_NAME FROM \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" rc WHERE rc.OWNER = c.r_OWNER AND rc.CONSTRAINT_NAME = c.R_CONSTRAINT_NAME) AS R_TABLE_NAME,\\r\\n\"\n                        + \"    c.DELETE_RULE,\\r\\n\" + \"    (\\r\\n\"\n                        + \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || p,','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\"\n                        + \"        FROM   (SELECT \\r\\n\"\n                        + \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\"\n                        + \"                FROM   \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\")\n                        + \" col \\r\\n\"\n                        + \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? \\r\\n\"\n                        + \"                )  WHERE cn = c.CONSTRAINT_NAME GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\"\n                        + \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \"FROM\\r\\n\" + \"    \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" c\\r\\n\" + \"WHERE\\r\\n\" + \"    c.CONSTRAINT_TYPE = 'R'\\r\\n\" + \"    AND c.OWNER = ?\\r\\n\"\n                        + \"    AND c.TABLE_NAME = ?\");\n                \r\n                \r\n                \r\n                \r\n\n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                dbStat.setString(2, forTable.getName());\n                dbStat.setString(3, OracleSchema.this.getName());\n                dbStat.setString(4, forTable.getName());\n\n            } else {\n            \n                sql.append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                    \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col, \" +\n                    OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" rc\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                    \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","date":"2019-07-02 04:31:48","endLine":838,"groupId":"11984","id":32,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@OracleSchemaowner@OracleTableforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/9c/23f29cd5e6513aa5f9fcb42db387c89576f688.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, OracleSchema owner, OracleTable forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            JDBCPreparedStatement dbStat;\n             if (owner.getDataSource().isAtLeastV11() && forTable != null) {\n                 sql.append(\"SELECT \\r\\n\" \n                         + \"    c.TABLE_NAME,\\r\\n\" \n                         + \"    c.CONSTRAINT_NAME,\\r\\n\"\n                         + \"    c.CONSTRAINT_TYPE,\\r\\n\" \n                         + \"    c.STATUS,\\r\\n\" \n                         + \"    c.R_OWNER,\\r\\n\"\n                         + \"    c.R_CONSTRAINT_NAME,\\r\\n\" \n                         + \"    (SELECT rc.TABLE_NAME FROM \"\n                         + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\"CONSTRAINTS\")\n                         + \" rc WHERE rc.OWNER = c.r_OWNER AND rc.CONSTRAINT_NAME = c.R_CONSTRAINT_NAME) AS R_TABLE_NAME,\\r\\n\"\n                         + \"    c.DELETE_RULE,\\r\\n\" \n                         + \"    (\\r\\n\"\n                         + \"      SELECT LISTAGG(COLUMN_NAME || ':' || POSITION,',') WITHIN GROUP (ORDER BY \\\"POSITION\\\") \\r\\n\" \n                         + \"      FROM ALL_CONS_COLUMNS col\\r\\n\" \n                         + \"      WHERE col.OWNER =? AND col.TABLE_NAME = ? AND col.CONSTRAINT_NAME = c.CONSTRAINT_NAME GROUP BY CONSTRAINT_NAME \\r\\n\"\n                         + \"    ) COLUMN_NAMES_NUMS\\r\\n\" + \"FROM\\r\\n\" + \"    \"\n                         + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                 \"CONSTRAINTS\")\n                         + \" c\\r\\n\" + \"WHERE\\r\\n\" + \"    c.CONSTRAINT_TYPE = 'R'\\r\\n\" + \"    AND c.OWNER = ?\\r\\n\"\n                         + \"    AND c.TABLE_NAME = ?\");\n                 \r\n                 \r\n                 \r\n                 \r\n\n                 dbStat = session.prepareStatement(sql.toString());\n                 dbStat.setString(1, OracleSchema.this.getName());\n                 dbStat.setString(2, forTable.getName());\n                 dbStat.setString(3, OracleSchema.this.getName());\n                 dbStat.setString(4, forTable.getName());\n\n\n             }else if (owner.getDataSource().isAtLeastV10() && forTable != null) {\n                sql.append(\"SELECT \\r\\n\" + \"    c.TABLE_NAME,\\r\\n\" + \"    c.CONSTRAINT_NAME,\\r\\n\"\n                        + \"    c.CONSTRAINT_TYPE,\\r\\n\" + \"    c.STATUS,\\r\\n\" + \"    c.R_OWNER,\\r\\n\"\n                        + \"    c.R_CONSTRAINT_NAME,\\r\\n\" + \"    (SELECT rc.TABLE_NAME FROM \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" rc WHERE rc.OWNER = c.r_OWNER AND rc.CONSTRAINT_NAME = c.R_CONSTRAINT_NAME) AS R_TABLE_NAME,\\r\\n\"\n                        + \"    c.DELETE_RULE,\\r\\n\" + \"    (\\r\\n\"\n                        + \"        SELECT LTRIM(MAX(SYS_CONNECT_BY_PATH(cname || ':' || p,','))    KEEP (DENSE_RANK LAST ORDER BY curr),',') \\r\\n\"\n                        + \"        FROM   (SELECT \\r\\n\"\n                        + \"                       col.CONSTRAINT_NAME cn,col.POSITION p,col.COLUMN_NAME cname,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) AS curr,\\r\\n\"\n                        + \"                       ROW_NUMBER() OVER (PARTITION BY col.CONSTRAINT_NAME ORDER BY col.POSITION) -1 AS prev\\r\\n\"\n                        + \"                FROM   \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\")\n                        + \" col \\r\\n\"\n                        + \"                WHERE  col.OWNER =? AND col.TABLE_NAME = ? \\r\\n\"\n                        + \"                )  WHERE cn = c.CONSTRAINT_NAME GROUP BY cn CONNECT BY prev = PRIOR curr AND cn = PRIOR cn START WITH curr = 1      \\r\\n\"\n                        + \"        ) COLUMN_NAMES_NUMS\\r\\n\" + \"FROM\\r\\n\" + \"    \"\n                        + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(),\n                                \"CONSTRAINTS\")\n                        + \" c\\r\\n\" + \"WHERE\\r\\n\" + \"    c.CONSTRAINT_TYPE = 'R'\\r\\n\" + \"    AND c.OWNER = ?\\r\\n\"\n                        + \"    AND c.TABLE_NAME = ?\");\n                \r\n                \r\n                \r\n                \r\n\n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                dbStat.setString(2, forTable.getName());\n                dbStat.setString(3, OracleSchema.this.getName());\n                dbStat.setString(4, forTable.getName());\n\n            } else {\n            \n                sql.append(\"SELECT \" + OracleUtils.getSysCatalogHint(owner.getDataSource()) + \" \\r\\n\" +\n                    \"c.TABLE_NAME, c.CONSTRAINT_NAME,c.CONSTRAINT_TYPE,c.STATUS,c.R_OWNER,c.R_CONSTRAINT_NAME,rc.TABLE_NAME as R_TABLE_NAME,c.DELETE_RULE, \\n\" +\n                    \"col.COLUMN_NAME,col.POSITION\\r\\n\" +\n                    \"FROM \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") +\n                    \" c, \" + OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONS_COLUMNS\") + \" col, \" +\n                    OracleUtils.getAdminAllViewPrefix(session.getProgressMonitor(), getDataSource(), \"CONSTRAINTS\") + \" rc\\n\" +\n                    \"WHERE c.CONSTRAINT_TYPE='R' AND c.OWNER=?\\n\" +\n                    \"AND c.OWNER=col.OWNER AND c.CONSTRAINT_NAME=col.CONSTRAINT_NAME\\n\" +\n                    \"AND rc.OWNER=c.r_OWNER AND rc.CONSTRAINT_NAME=c.R_CONSTRAINT_NAME\");\n                if (forTable != null) {\n                    sql.append(\" AND c.TABLE_NAME=?\");\n                }\n                sql.append(\"\\nORDER BY c.CONSTRAINT_NAME,col.POSITION\");\n    \n                dbStat = session.prepareStatement(sql.toString());\n                dbStat.setString(1, OracleSchema.this.getName());\n                if (forTable != null) {\n                    dbStat.setString(2, forTable.getName());\n                }\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/model/OracleSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":741,"status":"M"}],"commitId":"bd970298a76013fbc1909e87c4239ff6fcf60cd9","commitMessage":"@@@Merge pull request #6202 from dbeaver/fix_oracle_constraints\n\n#6173 Oracle option for simple constraints query\n\nFormer-commit-id: ad348806d4f30448550f679a1a43e4ca5a588833","date":"2019-07-02 04:31:48","modifiedFileCount":"4","status":"M","submitter":"Serge Rider"}]
