[{"authorTime":"2018-12-22 17:34:46","codes":[{"authorDate":"2018-10-13 20:06:58","commitOrder":2,"curCode":"    protected void addObjectModifyActions(DBRProgressMonitor monitor, List<DBEPersistAction> actionList, ObjectChangeCommand command, Map<String, Object> options)\n    {\n        final GenericTableColumn column = command.getObject();\n\n        String prefix = \"ALTER TABLE \" + DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \" ALTER COLUMN \" + DBUtils.getQuotedIdentifier(column) + \" \";\n        String typeClause = column.getFullTypeName();\n        if (command.getProperty(DBConstants.PROP_ID_TYPE_NAME) != null || command.getProperty(\"maxLength\") != null || command.getProperty(\"precision\") != null || command.getProperty(\"scale\") != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column type\", prefix + \"TYPE \" + typeClause));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DEFAULT_VALUE) != null) {\n            if (CommonUtils.isEmpty(column.getDefaultValue())) {\n                actionList.add(new SQLDatabasePersistAction(\"Drop column default\", prefix + \"DROP DEFAULT\"));\n            } else {\n                actionList.add(new SQLDatabasePersistAction(\"Set column default\", prefix + \"SET DEFAULT \" + column.getDefaultValue()));\n            }\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DESCRIPTION) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column comment\", \"COMMENT ON COLUMN \" +\n                DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \".\" + DBUtils.getQuotedIdentifier(column) +\n                \" IS \" + SQLUtils.quoteString(column, CommonUtils.notEmpty(column.getDescription()))));\n        }\n    }\n","date":"2018-10-13 20:06:58","endLine":102,"groupId":"4580","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"addObjectModifyActions","params":"(DBRProgressMonitormonitor@List<DBEPersistAction>actionList@ObjectChangeCommandcommand@Map<String@Object>options)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/41/c15e735fe937675f4a78529a50a86bff85a176.src","preCode":"    protected void addObjectModifyActions(DBRProgressMonitor monitor, List<DBEPersistAction> actionList, ObjectChangeCommand command, Map<String, Object> options)\n    {\n        final GenericTableColumn column = command.getObject();\n\n        String prefix = \"ALTER TABLE \" + DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \" ALTER COLUMN \" + DBUtils.getQuotedIdentifier(column) + \" \";\n        String typeClause = column.getFullTypeName();\n        if (command.getProperty(DBConstants.PROP_ID_TYPE_NAME) != null || command.getProperty(\"maxLength\") != null || command.getProperty(\"precision\") != null || command.getProperty(\"scale\") != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column type\", prefix + \"TYPE \" + typeClause));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DEFAULT_VALUE) != null) {\n            if (CommonUtils.isEmpty(column.getDefaultValue())) {\n                actionList.add(new SQLDatabasePersistAction(\"Drop column default\", prefix + \"DROP DEFAULT\"));\n            } else {\n                actionList.add(new SQLDatabasePersistAction(\"Set column default\", prefix + \"SET DEFAULT \" + column.getDefaultValue()));\n            }\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DESCRIPTION) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column comment\", \"COMMENT ON COLUMN \" +\n                DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \".\" + DBUtils.getQuotedIdentifier(column) +\n                \" IS \" + SQLUtils.quoteString(column, CommonUtils.notEmpty(column.getDescription()))));\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.firebird/src/org/jkiss/dbeaver/ext/firebird/edit/FireBirdTableColumnManager.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":81,"status":"NB"},{"authorDate":"2018-12-22 17:34:46","commitOrder":2,"curCode":"    protected void addObjectModifyActions(DBRProgressMonitor monitor, List<DBEPersistAction> actionList, ObjectChangeCommand command, Map<String, Object> options)\n    {\n        final VerticaProjectionColumn column = command.getObject();\n\n        String prefix = \"ALTER TABLE \" + DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \" ALTER COLUMN \" + DBUtils.getQuotedIdentifier(column) + \" \";\n        String typeClause = column.getFullTypeName();\n        if (command.getProperty(DBConstants.PROP_ID_TYPE_NAME) != null || command.getProperty(\"maxLength\") != null || command.getProperty(\"precision\") != null || command.getProperty(\"scale\") != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column type\", prefix + \"SET DATA TYPE \" + typeClause));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_REQUIRED) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column nullability\", prefix + (column.isRequired() ? \"SET\" : \"DROP\") + \" NOT NULL\"));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DEFAULT_VALUE) != null) {\n            if (CommonUtils.isEmpty(column.getDefaultValue())) {\n                actionList.add(new SQLDatabasePersistAction(\"Drop column default\", prefix + \"DROP DEFAULT\"));\n            } else {\n                actionList.add(new SQLDatabasePersistAction(\"Set column default\", prefix + \"SET DEFAULT \" + column.getDefaultValue()));\n            }\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DESCRIPTION) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column comment\", \"COMMENT ON COLUMN \" +\n                DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \".\" + DBUtils.getQuotedIdentifier(column) +\n                \" IS \" + SQLUtils.quoteString(column, CommonUtils.notEmpty(column.getDescription()))));\n        }\n    }\n","date":"2018-12-22 17:34:46","endLine":92,"groupId":"4580","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"addObjectModifyActions","params":"(DBRProgressMonitormonitor@List<DBEPersistAction>actionList@ObjectChangeCommandcommand@Map<String@Object>options)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/64/7495df21009d17bb01dbb83251837ac6df6f41.src","preCode":"    protected void addObjectModifyActions(DBRProgressMonitor monitor, List<DBEPersistAction> actionList, ObjectChangeCommand command, Map<String, Object> options)\n    {\n        final VerticaProjectionColumn column = command.getObject();\n\n        String prefix = \"ALTER TABLE \" + DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \" ALTER COLUMN \" + DBUtils.getQuotedIdentifier(column) + \" \";\n        String typeClause = column.getFullTypeName();\n        if (command.getProperty(DBConstants.PROP_ID_TYPE_NAME) != null || command.getProperty(\"maxLength\") != null || command.getProperty(\"precision\") != null || command.getProperty(\"scale\") != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column type\", prefix + \"SET DATA TYPE \" + typeClause));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_REQUIRED) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column nullability\", prefix + (column.isRequired() ? \"SET\" : \"DROP\") + \" NOT NULL\"));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DEFAULT_VALUE) != null) {\n            if (CommonUtils.isEmpty(column.getDefaultValue())) {\n                actionList.add(new SQLDatabasePersistAction(\"Drop column default\", prefix + \"DROP DEFAULT\"));\n            } else {\n                actionList.add(new SQLDatabasePersistAction(\"Set column default\", prefix + \"SET DEFAULT \" + column.getDefaultValue()));\n            }\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DESCRIPTION) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column comment\", \"COMMENT ON COLUMN \" +\n                DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \".\" + DBUtils.getQuotedIdentifier(column) +\n                \" IS \" + SQLUtils.quoteString(column, CommonUtils.notEmpty(column.getDescription()))));\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.vertica/src/org/jkiss/dbeaver/ext/vertica/edit/VerticaProjectionColumnManager.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":68,"status":"B"}],"commitId":"b2afddb9994709260bfc7b9d8a8d9a66983857a9","commitMessage":"@@@#4437 Vertica: projection column comments\n\n\nFormer-commit-id: f48111c05fc84a73d6c085d31691074ba99bbc7f","date":"2018-12-22 17:34:46","modifiedFileCount":"2","status":"M","submitter":"serge-rider"},{"authorTime":"2020-01-13 04:05:09","codes":[{"authorDate":"2020-01-13 04:05:09","commitOrder":3,"curCode":"    protected void addObjectModifyActions(DBRProgressMonitor monitor, DBCExecutionContext executionContext, List<DBEPersistAction> actionList, ObjectChangeCommand command, Map<String, Object> options)\n    {\n        final GenericTableColumn column = command.getObject();\n\n        String prefix = \"ALTER TABLE \" + DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \" ALTER COLUMN \" + DBUtils.getQuotedIdentifier(column) + \" \";\n        String typeClause = column.getFullTypeName();\n        if (command.getProperty(DBConstants.PROP_ID_TYPE_NAME) != null || command.getProperty(\"maxLength\") != null || command.getProperty(\"precision\") != null || command.getProperty(\"scale\") != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column type\", prefix + \"TYPE \" + typeClause));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DEFAULT_VALUE) != null) {\n            if (CommonUtils.isEmpty(column.getDefaultValue())) {\n                actionList.add(new SQLDatabasePersistAction(\"Drop column default\", prefix + \"DROP DEFAULT\"));\n            } else {\n                actionList.add(new SQLDatabasePersistAction(\"Set column default\", prefix + \"SET DEFAULT \" + column.getDefaultValue()));\n            }\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DESCRIPTION) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column comment\", \"COMMENT ON COLUMN \" +\n                DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \".\" + DBUtils.getQuotedIdentifier(column) +\n                \" IS \" + SQLUtils.quoteString(column, CommonUtils.notEmpty(column.getDescription()))));\n        }\n    }\n","date":"2020-01-13 04:05:09","endLine":93,"groupId":"4580","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"addObjectModifyActions","params":"(DBRProgressMonitormonitor@DBCExecutionContextexecutionContext@List<DBEPersistAction>actionList@ObjectChangeCommandcommand@Map<String@Object>options)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/e9/e6976d6003283867b27e6cf85562dff1726591.src","preCode":"    protected void addObjectModifyActions(DBRProgressMonitor monitor, List<DBEPersistAction> actionList, ObjectChangeCommand command, Map<String, Object> options)\n    {\n        final GenericTableColumn column = command.getObject();\n\n        String prefix = \"ALTER TABLE \" + DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \" ALTER COLUMN \" + DBUtils.getQuotedIdentifier(column) + \" \";\n        String typeClause = column.getFullTypeName();\n        if (command.getProperty(DBConstants.PROP_ID_TYPE_NAME) != null || command.getProperty(\"maxLength\") != null || command.getProperty(\"precision\") != null || command.getProperty(\"scale\") != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column type\", prefix + \"TYPE \" + typeClause));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DEFAULT_VALUE) != null) {\n            if (CommonUtils.isEmpty(column.getDefaultValue())) {\n                actionList.add(new SQLDatabasePersistAction(\"Drop column default\", prefix + \"DROP DEFAULT\"));\n            } else {\n                actionList.add(new SQLDatabasePersistAction(\"Set column default\", prefix + \"SET DEFAULT \" + column.getDefaultValue()));\n            }\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DESCRIPTION) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column comment\", \"COMMENT ON COLUMN \" +\n                DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \".\" + DBUtils.getQuotedIdentifier(column) +\n                \" IS \" + SQLUtils.quoteString(column, CommonUtils.notEmpty(column.getDescription()))));\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.firebird/src/org/jkiss/dbeaver/ext/firebird/edit/FireBirdTableColumnManager.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":72,"status":"M"},{"authorDate":"2020-01-13 04:05:09","commitOrder":3,"curCode":"    protected void addObjectModifyActions(DBRProgressMonitor monitor, DBCExecutionContext executionContext, List<DBEPersistAction> actionList, ObjectChangeCommand command, Map<String, Object> options)\n    {\n        final VerticaProjectionColumn column = command.getObject();\n\n        String prefix = \"ALTER TABLE \" + DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \" ALTER COLUMN \" + DBUtils.getQuotedIdentifier(column) + \" \";\n        String typeClause = column.getFullTypeName();\n        if (command.getProperty(DBConstants.PROP_ID_TYPE_NAME) != null || command.getProperty(\"maxLength\") != null || command.getProperty(\"precision\") != null || command.getProperty(\"scale\") != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column type\", prefix + \"SET DATA TYPE \" + typeClause));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_REQUIRED) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column nullability\", prefix + (column.isRequired() ? \"SET\" : \"DROP\") + \" NOT NULL\"));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DEFAULT_VALUE) != null) {\n            if (CommonUtils.isEmpty(column.getDefaultValue())) {\n                actionList.add(new SQLDatabasePersistAction(\"Drop column default\", prefix + \"DROP DEFAULT\"));\n            } else {\n                actionList.add(new SQLDatabasePersistAction(\"Set column default\", prefix + \"SET DEFAULT \" + column.getDefaultValue()));\n            }\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DESCRIPTION) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column comment\", \"COMMENT ON COLUMN \" +\n                DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \".\" + DBUtils.getQuotedIdentifier(column) +\n                \" IS \" + SQLUtils.quoteString(column, CommonUtils.notEmpty(column.getDescription()))));\n        }\n    }\n","date":"2020-01-13 04:05:09","endLine":93,"groupId":"4580","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"addObjectModifyActions","params":"(DBRProgressMonitormonitor@DBCExecutionContextexecutionContext@List<DBEPersistAction>actionList@ObjectChangeCommandcommand@Map<String@Object>options)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/44/0006871d1f8eabf106b37529c49ca6ef77d730.src","preCode":"    protected void addObjectModifyActions(DBRProgressMonitor monitor, List<DBEPersistAction> actionList, ObjectChangeCommand command, Map<String, Object> options)\n    {\n        final VerticaProjectionColumn column = command.getObject();\n\n        String prefix = \"ALTER TABLE \" + DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \" ALTER COLUMN \" + DBUtils.getQuotedIdentifier(column) + \" \";\n        String typeClause = column.getFullTypeName();\n        if (command.getProperty(DBConstants.PROP_ID_TYPE_NAME) != null || command.getProperty(\"maxLength\") != null || command.getProperty(\"precision\") != null || command.getProperty(\"scale\") != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column type\", prefix + \"SET DATA TYPE \" + typeClause));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_REQUIRED) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column nullability\", prefix + (column.isRequired() ? \"SET\" : \"DROP\") + \" NOT NULL\"));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DEFAULT_VALUE) != null) {\n            if (CommonUtils.isEmpty(column.getDefaultValue())) {\n                actionList.add(new SQLDatabasePersistAction(\"Drop column default\", prefix + \"DROP DEFAULT\"));\n            } else {\n                actionList.add(new SQLDatabasePersistAction(\"Set column default\", prefix + \"SET DEFAULT \" + column.getDefaultValue()));\n            }\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DESCRIPTION) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column comment\", \"COMMENT ON COLUMN \" +\n                DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \".\" + DBUtils.getQuotedIdentifier(column) +\n                \" IS \" + SQLUtils.quoteString(column, CommonUtils.notEmpty(column.getDescription()))));\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.vertica/src/org/jkiss/dbeaver/ext/vertica/edit/VerticaProjectionColumnManager.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":69,"status":"M"}],"commitId":"ea43e170ae31b314627af8f5035dc13373eefe5f","commitMessage":"@@@Merge remote-tracking branch 'origin/devel' into devel\n\n\nFormer-commit-id: b8a88ef308f898dd3c5f78540f0e556e77b18cad","date":"2020-01-13 04:05:09","modifiedFileCount":"136","status":"M","submitter":"serge-rider"},{"authorTime":"2020-01-13 04:05:09","codes":[{"authorDate":"2021-09-02 22:55:16","commitOrder":4,"curCode":"    protected void addObjectModifyActions(DBRProgressMonitor monitor, DBCExecutionContext executionContext, List<DBEPersistAction> actionList, ObjectChangeCommand command, Map<String, Object> options) throws DBException {\n        final FireBirdTableColumn column = (FireBirdTableColumn) command.getObject();\n\n        String prefix = \"ALTER TABLE \" + DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \" ALTER COLUMN \" + DBUtils.getQuotedIdentifier(column) + \" \";\n        String typeClause = column.getFullTypeName();\n        String computedDefinition = column.getComputedDefinition(monitor);\n        if (command.getProperty(DBConstants.PROP_ID_TYPE_NAME) != null || command.getProperty(\"maxLength\") != null || command.getProperty(\"precision\") != null || command.getProperty(\"scale\") != null) {\n            final StringBuilder ddl = new StringBuilder()\n                .append(prefix).append(\"TYPE \").append(typeClause);\n            if (CommonUtils.isNotEmpty(computedDefinition)) {\n                \r\n                ddl.append(\" GENERATED ALWAYS AS \").append(computedDefinition);\n            }\n            actionList.add(new SQLDatabasePersistAction(\"Set column type\", ddl.toString()));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DEFAULT_VALUE) != null) {\n            if (CommonUtils.isEmpty(column.getDefaultValue())) {\n                actionList.add(new SQLDatabasePersistAction(\"Drop column default\", prefix + \"DROP DEFAULT\"));\n            } else {\n                actionList.add(new SQLDatabasePersistAction(\"Set column default\", prefix + \"SET DEFAULT \" + column.getDefaultValue()));\n            }\n        }\n        if (command.getProperty(\"computedDefinition\") != null) {\n            actionList.add(new SQLDatabasePersistAction(\n                \"Set column computed definition\",\n                prefix + \"TYPE \" + typeClause + \" GENERATED ALWAYS AS (\" + computedDefinition + \")\"\n            ));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DESCRIPTION) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column comment\", \"COMMENT ON COLUMN \" +\n                DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \".\" + DBUtils.getQuotedIdentifier(column) +\n                \" IS \" + SQLUtils.quoteString(column, CommonUtils.notEmpty(column.getDescription()))));\n        }\n    }\n","date":"2021-09-02 22:55:16","endLine":118,"groupId":"10747","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"addObjectModifyActions","params":"(DBRProgressMonitormonitor@DBCExecutionContextexecutionContext@List<DBEPersistAction>actionList@ObjectChangeCommandcommand@Map<String@Object>options)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/28/156872b45d3f9dd9995a92bdde54b3b76e5aa2.src","preCode":"    protected void addObjectModifyActions(DBRProgressMonitor monitor, DBCExecutionContext executionContext, List<DBEPersistAction> actionList, ObjectChangeCommand command, Map<String, Object> options)\n    {\n        final GenericTableColumn column = command.getObject();\n\n        String prefix = \"ALTER TABLE \" + DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \" ALTER COLUMN \" + DBUtils.getQuotedIdentifier(column) + \" \";\n        String typeClause = column.getFullTypeName();\n        if (command.getProperty(DBConstants.PROP_ID_TYPE_NAME) != null || command.getProperty(\"maxLength\") != null || command.getProperty(\"precision\") != null || command.getProperty(\"scale\") != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column type\", prefix + \"TYPE \" + typeClause));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DEFAULT_VALUE) != null) {\n            if (CommonUtils.isEmpty(column.getDefaultValue())) {\n                actionList.add(new SQLDatabasePersistAction(\"Drop column default\", prefix + \"DROP DEFAULT\"));\n            } else {\n                actionList.add(new SQLDatabasePersistAction(\"Set column default\", prefix + \"SET DEFAULT \" + column.getDefaultValue()));\n            }\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DESCRIPTION) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column comment\", \"COMMENT ON COLUMN \" +\n                DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \".\" + DBUtils.getQuotedIdentifier(column) +\n                \" IS \" + SQLUtils.quoteString(column, CommonUtils.notEmpty(column.getDescription()))));\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.firebird/src/org/jkiss/dbeaver/ext/firebird/edit/FireBirdTableColumnManager.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":85,"status":"M"},{"authorDate":"2020-01-13 04:05:09","commitOrder":4,"curCode":"    protected void addObjectModifyActions(DBRProgressMonitor monitor, DBCExecutionContext executionContext, List<DBEPersistAction> actionList, ObjectChangeCommand command, Map<String, Object> options)\n    {\n        final VerticaProjectionColumn column = command.getObject();\n\n        String prefix = \"ALTER TABLE \" + DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \" ALTER COLUMN \" + DBUtils.getQuotedIdentifier(column) + \" \";\n        String typeClause = column.getFullTypeName();\n        if (command.getProperty(DBConstants.PROP_ID_TYPE_NAME) != null || command.getProperty(\"maxLength\") != null || command.getProperty(\"precision\") != null || command.getProperty(\"scale\") != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column type\", prefix + \"SET DATA TYPE \" + typeClause));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_REQUIRED) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column nullability\", prefix + (column.isRequired() ? \"SET\" : \"DROP\") + \" NOT NULL\"));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DEFAULT_VALUE) != null) {\n            if (CommonUtils.isEmpty(column.getDefaultValue())) {\n                actionList.add(new SQLDatabasePersistAction(\"Drop column default\", prefix + \"DROP DEFAULT\"));\n            } else {\n                actionList.add(new SQLDatabasePersistAction(\"Set column default\", prefix + \"SET DEFAULT \" + column.getDefaultValue()));\n            }\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DESCRIPTION) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column comment\", \"COMMENT ON COLUMN \" +\n                DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \".\" + DBUtils.getQuotedIdentifier(column) +\n                \" IS \" + SQLUtils.quoteString(column, CommonUtils.notEmpty(column.getDescription()))));\n        }\n    }\n","date":"2020-01-13 04:05:09","endLine":93,"groupId":"10747","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"addObjectModifyActions","params":"(DBRProgressMonitormonitor@DBCExecutionContextexecutionContext@List<DBEPersistAction>actionList@ObjectChangeCommandcommand@Map<String@Object>options)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/44/0006871d1f8eabf106b37529c49ca6ef77d730.src","preCode":"    protected void addObjectModifyActions(DBRProgressMonitor monitor, DBCExecutionContext executionContext, List<DBEPersistAction> actionList, ObjectChangeCommand command, Map<String, Object> options)\n    {\n        final VerticaProjectionColumn column = command.getObject();\n\n        String prefix = \"ALTER TABLE \" + DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \" ALTER COLUMN \" + DBUtils.getQuotedIdentifier(column) + \" \";\n        String typeClause = column.getFullTypeName();\n        if (command.getProperty(DBConstants.PROP_ID_TYPE_NAME) != null || command.getProperty(\"maxLength\") != null || command.getProperty(\"precision\") != null || command.getProperty(\"scale\") != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column type\", prefix + \"SET DATA TYPE \" + typeClause));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_REQUIRED) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column nullability\", prefix + (column.isRequired() ? \"SET\" : \"DROP\") + \" NOT NULL\"));\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DEFAULT_VALUE) != null) {\n            if (CommonUtils.isEmpty(column.getDefaultValue())) {\n                actionList.add(new SQLDatabasePersistAction(\"Drop column default\", prefix + \"DROP DEFAULT\"));\n            } else {\n                actionList.add(new SQLDatabasePersistAction(\"Set column default\", prefix + \"SET DEFAULT \" + column.getDefaultValue()));\n            }\n        }\n        if (command.getProperty(DBConstants.PROP_ID_DESCRIPTION) != null) {\n            actionList.add(new SQLDatabasePersistAction(\"Set column comment\", \"COMMENT ON COLUMN \" +\n                DBUtils.getObjectFullName(column.getTable(), DBPEvaluationContext.DDL) + \".\" + DBUtils.getQuotedIdentifier(column) +\n                \" IS \" + SQLUtils.quoteString(column, CommonUtils.notEmpty(column.getDescription()))));\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.vertica/src/org/jkiss/dbeaver/ext/vertica/edit/VerticaProjectionColumnManager.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":69,"status":"N"}],"commitId":"8a2523a489e6b5ff181883a06513b7ed6e92b8b6","commitMessage":"@@@Merge pull request #13749 from dbeaver/firebird-computed-columns-read#12966\n\n#12966 Read/Edit field computed definition","date":"2021-09-02 22:55:16","modifiedFileCount":"4","status":"M","submitter":"Serge Rider"}]
