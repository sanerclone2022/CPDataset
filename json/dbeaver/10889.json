[{"authorTime":"2016-06-21 02:06:52","codes":[{"authorDate":"2015-12-17 16:20:53","commitOrder":5,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPApplication application = dataSource.getContainer().getApplication();\n            if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (SQLException e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, application, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new FileWriter(tempFile)) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (SQLException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(application, tempFile);\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","date":"2015-12-17 16:20:53","endLine":121,"groupId":"11299","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/dd/10d17b6c5a43092a18344c091af8f22852a9a0.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPApplication application = dataSource.getContainer().getApplication();\n            if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (SQLException e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, application, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new FileWriter(tempFile)) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (SQLException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(application, tempFile);\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/data/JDBCContentCLOB.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":82,"status":"NB"},{"authorDate":"2016-06-21 02:06:52","commitOrder":5,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            long contentLength = getContentLength();\n            DBPApplication application = dataSource.getContainer().getApplication();\n            if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    try (InputStream bs = getInputStream()) {\n                        storage = BytesContentStorage.createFromStream(\n                            bs,\n                            contentLength,\n                            application.getPreferenceStore().getString(ModelPreferences.CONTENT_HEX_ENCODING));\n                    }\n                } catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, application, \"blob\" + bfile.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temporary file\", e);\n                }\n                try (OutputStream os = new FileOutputStream(tempFile)) {\n                    try (InputStream bs = getInputStream()) {\n                        ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                    }\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying stream\", e);\n                } catch (Throwable e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(application, tempFile);\n            }\n            \r\n            releaseBlob();\n        }\n        return storage;\n    }\n","date":"2016-06-21 02:06:52","endLine":143,"groupId":"3608","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/ac/585ef49258172d99c2702074d90f306f363ee0.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            long contentLength = getContentLength();\n            DBPApplication application = dataSource.getContainer().getApplication();\n            if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    try (InputStream bs = getInputStream()) {\n                        storage = BytesContentStorage.createFromStream(\n                            bs,\n                            contentLength,\n                            application.getPreferenceStore().getString(ModelPreferences.CONTENT_HEX_ENCODING));\n                    }\n                } catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, application, \"blob\" + bfile.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temporary file\", e);\n                }\n                try (OutputStream os = new FileOutputStream(tempFile)) {\n                    try (InputStream bs = getInputStream()) {\n                        ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                    }\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying stream\", e);\n                } catch (Throwable e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(application, tempFile);\n            }\n            \r\n            releaseBlob();\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/data/OracleContentBFILE.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":100,"status":"B"}],"commitId":"65df812577e58d9cf600eaa6bdf871a32c1b53a2","commitMessage":"@@@Oracle: BFILE support\n\nFormer-commit-id: 02d7f728479aeb11db7b230cc4042b924b3b8350","date":"2016-06-21 02:06:52","modifiedFileCount":"5","status":"M","submitter":"Serge Rider"},{"authorTime":"2016-06-21 02:22:53","codes":[{"authorDate":"2015-12-17 16:20:53","commitOrder":6,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPApplication application = dataSource.getContainer().getApplication();\n            if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (SQLException e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, application, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new FileWriter(tempFile)) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (SQLException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(application, tempFile);\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","date":"2015-12-17 16:20:53","endLine":121,"groupId":"11299","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/dd/10d17b6c5a43092a18344c091af8f22852a9a0.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPApplication application = dataSource.getContainer().getApplication();\n            if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (SQLException e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, application, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new FileWriter(tempFile)) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (SQLException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(application, tempFile);\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/data/JDBCContentCLOB.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":82,"status":"N"},{"authorDate":"2016-06-21 02:22:53","commitOrder":6,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPApplication application = dataSource.getContainer().getApplication();\n                if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                application.getPreferenceStore().getString(ModelPreferences.CONTENT_HEX_ENCODING));\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, application, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, dataSource);\n                    }\n                    this.storage = new TemporaryContentStorage(application, tempFile);\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","date":"2016-06-21 02:22:53","endLine":181,"groupId":"3608","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/0f/0343091590960d9f291ab421b73fe4d43a23b1.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            long contentLength = getContentLength();\n            DBPApplication application = dataSource.getContainer().getApplication();\n            if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    try (InputStream bs = getInputStream()) {\n                        storage = BytesContentStorage.createFromStream(\n                            bs,\n                            contentLength,\n                            application.getPreferenceStore().getString(ModelPreferences.CONTENT_HEX_ENCODING));\n                    }\n                } catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, application, \"blob\" + bfile.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temporary file\", e);\n                }\n                try (OutputStream os = new FileOutputStream(tempFile)) {\n                    try (InputStream bs = getInputStream()) {\n                        ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                    }\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying stream\", e);\n                } catch (Throwable e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(application, tempFile);\n            }\n            \r\n            releaseBlob();\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/data/OracleContentBFILE.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":133,"status":"M"}],"commitId":"11ca7c845026186224b4413a2bbb042643c6ff9f","commitMessage":"@@@Oracle: BFILE support\n\nFormer-commit-id: 157b5a37e5db4bddf8dc53f4f722b5fb2f6eab00","date":"2016-06-21 02:22:53","modifiedFileCount":"2","status":"M","submitter":"Serge Rider"},{"authorTime":"2016-06-21 02:22:53","codes":[{"authorDate":"2016-10-19 06:26:11","commitOrder":7,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPApplication application = dataSource.getContainer().getApplication();\n            if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (SQLException e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, application, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), ContentUtils.DEFAULT_CHARSET)) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (SQLException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(application, tempFile);\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","date":"2016-10-19 06:26:11","endLine":121,"groupId":"10572","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/b8/ab7ac3a919b5e3b1f5e9f1afabb9da8f670355.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPApplication application = dataSource.getContainer().getApplication();\n            if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (SQLException e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, application, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new FileWriter(tempFile)) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (SQLException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(application, tempFile);\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/data/JDBCContentCLOB.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":82,"status":"M"},{"authorDate":"2016-06-21 02:22:53","commitOrder":7,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPApplication application = dataSource.getContainer().getApplication();\n                if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                application.getPreferenceStore().getString(ModelPreferences.CONTENT_HEX_ENCODING));\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, application, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, dataSource);\n                    }\n                    this.storage = new TemporaryContentStorage(application, tempFile);\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","date":"2016-06-21 02:22:53","endLine":181,"groupId":"3608","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/0f/0343091590960d9f291ab421b73fe4d43a23b1.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPApplication application = dataSource.getContainer().getApplication();\n                if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                application.getPreferenceStore().getString(ModelPreferences.CONTENT_HEX_ENCODING));\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, application, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, dataSource);\n                    }\n                    this.storage = new TemporaryContentStorage(application, tempFile);\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/data/OracleContentBFILE.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":133,"status":"N"}],"commitId":"1cff99d6ca1c0b99d31410cbe3c85ab9475258bc","commitMessage":"@@@Big national CLOB reading fix\n\n\nFormer-commit-id: 23ab65387ab4fe56a2b334dbb74f317cf8832644","date":"2016-10-19 06:26:11","modifiedFileCount":"2","status":"M","submitter":"Serge Rider"},{"authorTime":"2016-06-21 02:22:53","codes":[{"authorDate":"2016-11-02 04:24:35","commitOrder":8,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPApplication application = dataSource.getContainer().getApplication();\n            if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (SQLException e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, application, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), GeneralUtils.DEFAULT_ENCODING)) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (SQLException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(application, tempFile);\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","date":"2016-11-02 04:24:35","endLine":122,"groupId":"10572","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/90/015a51ceda2f92fd558135c7a0e94175b8a2d8.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPApplication application = dataSource.getContainer().getApplication();\n            if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (SQLException e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, application, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), ContentUtils.DEFAULT_CHARSET)) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (SQLException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(application, tempFile);\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/data/JDBCContentCLOB.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":83,"status":"M"},{"authorDate":"2016-06-21 02:22:53","commitOrder":8,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPApplication application = dataSource.getContainer().getApplication();\n                if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                application.getPreferenceStore().getString(ModelPreferences.CONTENT_HEX_ENCODING));\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, application, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, dataSource);\n                    }\n                    this.storage = new TemporaryContentStorage(application, tempFile);\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","date":"2016-06-21 02:22:53","endLine":181,"groupId":"3608","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/0f/0343091590960d9f291ab421b73fe4d43a23b1.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPApplication application = dataSource.getContainer().getApplication();\n                if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                application.getPreferenceStore().getString(ModelPreferences.CONTENT_HEX_ENCODING));\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, application, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, dataSource);\n                    }\n                    this.storage = new TemporaryContentStorage(application, tempFile);\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/data/OracleContentBFILE.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":133,"status":"N"}],"commitId":"bc34fefbd58b9397d54832e652f2916022a342eb","commitMessage":"@@@Default encoding usage refactoring\n\n\nFormer-commit-id: 1a12d60d96374185ddb267dd723be674a40e7525","date":"2016-11-02 04:24:35","modifiedFileCount":"31","status":"M","submitter":"Serge Rider"},{"authorTime":"2016-12-02 06:32:18","codes":[{"authorDate":"2016-12-02 06:32:18","commitOrder":9,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPPlatform platform = dataSource.getContainer().getPlatform();\n            if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (SQLException e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, platform, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), GeneralUtils.DEFAULT_ENCODING)) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (SQLException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(platform, tempFile);\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","date":"2016-12-02 06:32:18","endLine":122,"groupId":"18","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/f8/0a3d69b5d6fc45d2cbe965200c0dd858feb998.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPApplication application = dataSource.getContainer().getApplication();\n            if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (SQLException e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, application, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), GeneralUtils.DEFAULT_ENCODING)) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (SQLException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(application, tempFile);\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/data/JDBCContentCLOB.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":83,"status":"M"},{"authorDate":"2016-12-02 06:32:18","commitOrder":9,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPPlatform platform = dataSource.getContainer().getPlatform();\n                if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                platform.getPreferenceStore().getString(ModelPreferences.CONTENT_HEX_ENCODING));\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, platform, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, dataSource);\n                    }\n                    this.storage = new TemporaryContentStorage(platform, tempFile);\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","date":"2016-12-02 06:32:18","endLine":181,"groupId":"3608","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/4e/ea1ce845024c2684d3dff25d9eb18bd7cb9ebc.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPApplication application = dataSource.getContainer().getApplication();\n                if (contentLength < application.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                application.getPreferenceStore().getString(ModelPreferences.CONTENT_HEX_ENCODING));\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, application, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, dataSource);\n                    }\n                    this.storage = new TemporaryContentStorage(application, tempFile);\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/data/OracleContentBFILE.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":133,"status":"M"}],"commitId":"170f1aebc9763c55777390a3f55db3a5bbfd57bf","commitMessage":"@@@Application model refactoring\n\n\nFormer-commit-id: e5c9be8650805bece3eaf6e230b632f2ce613036","date":"2016-12-02 06:32:18","modifiedFileCount":"34","status":"M","submitter":"Serge Rider"},{"authorTime":"2016-12-02 06:32:18","codes":[{"authorDate":"2016-12-29 01:38:21","commitOrder":10,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPPlatform platform = dataSource.getContainer().getPlatform();\n            if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (Throwable e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, platform, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), GeneralUtils.DEFAULT_ENCODING)) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (Throwable e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(platform, tempFile);\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","date":"2016-12-29 01:38:21","endLine":122,"groupId":"9477","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/d0/94a162d7162abaf08a1b87b778707d8537536c.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPPlatform platform = dataSource.getContainer().getPlatform();\n            if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (SQLException e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, platform, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), GeneralUtils.DEFAULT_ENCODING)) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (SQLException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(platform, tempFile);\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/data/JDBCContentCLOB.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":83,"status":"M"},{"authorDate":"2016-12-02 06:32:18","commitOrder":10,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPPlatform platform = dataSource.getContainer().getPlatform();\n                if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                platform.getPreferenceStore().getString(ModelPreferences.CONTENT_HEX_ENCODING));\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, platform, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, dataSource);\n                    }\n                    this.storage = new TemporaryContentStorage(platform, tempFile);\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","date":"2016-12-02 06:32:18","endLine":181,"groupId":"3608","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/4e/ea1ce845024c2684d3dff25d9eb18bd7cb9ebc.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPPlatform platform = dataSource.getContainer().getPlatform();\n                if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                platform.getPreferenceStore().getString(ModelPreferences.CONTENT_HEX_ENCODING));\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, platform, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, dataSource);\n                    }\n                    this.storage = new TemporaryContentStorage(platform, tempFile);\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/data/OracleContentBFILE.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":133,"status":"N"}],"commitId":"0642210b6f0975a5c52ee5b8d628e5b263235de9","commitMessage":"@@@#1043 Extra error handling in LOB operations\n\n\nFormer-commit-id: 3fd46db766817829106223647e4242f5e30cab64","date":"2016-12-29 01:38:21","modifiedFileCount":"4","status":"M","submitter":"Serge Rider"},{"authorTime":"2017-02-28 18:00:26","codes":[{"authorDate":"2017-02-28 18:00:26","commitOrder":11,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPPlatform platform = dataSource.getContainer().getPlatform();\n            if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (Throwable e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, platform, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), getDefaultEncoding())) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (Throwable e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(platform, tempFile, getDefaultEncoding());\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","date":"2017-02-28 18:00:26","endLine":120,"groupId":"3425","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/08/91493a5ffb48b8691a978809a70e6887b1aa4a.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPPlatform platform = dataSource.getContainer().getPlatform();\n            if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (Throwable e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, platform, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), GeneralUtils.DEFAULT_ENCODING)) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (Throwable e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(platform, tempFile);\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/data/JDBCContentCLOB.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":81,"status":"M"},{"authorDate":"2017-02-28 18:00:26","commitOrder":11,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPPlatform platform = dataSource.getContainer().getPlatform();\n                if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                getDefaultEncoding());\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, platform, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, dataSource);\n                    }\n                    this.storage = new TemporaryContentStorage(platform, tempFile, getDefaultEncoding());\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","date":"2017-02-28 18:00:26","endLine":180,"groupId":"3608","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/56/7369f34b59caba6b65ce2ee363fa345fdd083e.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPPlatform platform = dataSource.getContainer().getPlatform();\n                if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                platform.getPreferenceStore().getString(ModelPreferences.CONTENT_HEX_ENCODING));\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, platform, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, dataSource);\n                    }\n                    this.storage = new TemporaryContentStorage(platform, tempFile);\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/data/OracleContentBFILE.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":132,"status":"M"}],"commitId":"5ecc2dcd9f3699d5cc865fc4ce5b2ed276c98292","commitMessage":"@@@Content encoding (use one from preferences)\n\n\nFormer-commit-id: 7abe3786328ee897cc4ecfbe1513b3de38e0db18","date":"2017-02-28 18:00:26","modifiedFileCount":"7","status":"M","submitter":"serge-rider"},{"authorTime":"2017-02-28 18:00:26","codes":[{"authorDate":"2017-09-14 06:23:34","commitOrder":12,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPPlatform platform = dataSource.getContainer().getPlatform();\n            if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    String subString = clob.getSubString(1, (int) contentLength);\n                    storage = new JDBCContentChars(dataSource, subString);\n                } catch (Exception e) {\n                    log.debug(\"Can't get CLOB as substring\", e);\n                    try {\n                        storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                    } catch (IOException e1) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    } catch (Throwable e1) {\n                        throw new DBCException(e, dataSource);\n                    }\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, platform, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), getDefaultEncoding())) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (Throwable e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(platform, tempFile, getDefaultEncoding());\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","date":"2017-09-14 06:23:34","endLine":126,"groupId":"16244","id":15,"instanceNumber":1,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/b0/0fcd78260a5373179163261953e43ebd8f068f.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPPlatform platform = dataSource.getContainer().getPlatform();\n            if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"IO error while reading content\", e);\n                } catch (Throwable e) {\n                    throw new DBCException(e, dataSource);\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, platform, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), getDefaultEncoding())) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (Throwable e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(platform, tempFile, getDefaultEncoding());\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/data/JDBCContentCLOB.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":82,"status":"M"},{"authorDate":"2017-02-28 18:00:26","commitOrder":12,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPPlatform platform = dataSource.getContainer().getPlatform();\n                if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                getDefaultEncoding());\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, platform, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, dataSource);\n                    }\n                    this.storage = new TemporaryContentStorage(platform, tempFile, getDefaultEncoding());\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","date":"2017-02-28 18:00:26","endLine":180,"groupId":"3608","id":16,"instanceNumber":2,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/56/7369f34b59caba6b65ce2ee363fa345fdd083e.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPPlatform platform = dataSource.getContainer().getPlatform();\n                if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                getDefaultEncoding());\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, platform, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, dataSource);\n                    }\n                    this.storage = new TemporaryContentStorage(platform, tempFile, getDefaultEncoding());\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/data/OracleContentBFILE.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":132,"status":"N"}],"commitId":"2bcfe382e9a3c2badf5ac869d4c6bdab9794457e","commitMessage":"@@@#2037 CLOB reading enhancement (try subString first)\n\n\nFormer-commit-id: 21d72eacf2ac078bcf9a3f51aa034213344675de","date":"2017-09-14 06:23:34","modifiedFileCount":"1","status":"M","submitter":"serge-rider"},{"authorTime":"2020-08-31 00:48:44","codes":[{"authorDate":"2020-08-31 00:48:44","commitOrder":13,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPPlatform platform = executionContext.getDataSource().getContainer().getPlatform();\n            if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    String subString = clob.getSubString(1, (int) contentLength);\n                    storage = new JDBCContentChars(executionContext, subString);\n                } catch (Exception e) {\n                    log.debug(\"Can't get CLOB as substring\", e);\n                    try {\n                        storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                    } catch (IOException e1) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    } catch (Throwable e1) {\n                        throw new DBCException(e, executionContext);\n                    }\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, platform, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), getDefaultEncoding())) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (Throwable e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, executionContext);\n                }\n                this.storage = new TemporaryContentStorage(platform, tempFile, getDefaultEncoding());\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","date":"2020-08-31 00:48:44","endLine":126,"groupId":"4120","id":17,"instanceNumber":1,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/74/3fce8eb4d23b93b0fb9cf08ffaf19d312198fe.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPPlatform platform = dataSource.getContainer().getPlatform();\n            if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    String subString = clob.getSubString(1, (int) contentLength);\n                    storage = new JDBCContentChars(dataSource, subString);\n                } catch (Exception e) {\n                    log.debug(\"Can't get CLOB as substring\", e);\n                    try {\n                        storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                    } catch (IOException e1) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    } catch (Throwable e1) {\n                        throw new DBCException(e, dataSource);\n                    }\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, platform, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), getDefaultEncoding())) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (Throwable e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, dataSource);\n                }\n                this.storage = new TemporaryContentStorage(platform, tempFile, getDefaultEncoding());\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/data/JDBCContentCLOB.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":82,"status":"M"},{"authorDate":"2020-08-31 00:48:44","commitOrder":13,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPPlatform platform = executionContext.getDataSource().getContainer().getPlatform();\n                if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                getDefaultEncoding());\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, platform, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, executionContext);\n                    }\n                    this.storage = new TemporaryContentStorage(platform, tempFile, getDefaultEncoding());\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","date":"2020-08-31 00:48:44","endLine":180,"groupId":"3608","id":18,"instanceNumber":2,"isCurCommit":0,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/ac/94a6fce588207e859771ddde15f17a5169e916.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPPlatform platform = dataSource.getContainer().getPlatform();\n                if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                getDefaultEncoding());\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, platform, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, dataSource);\n                    }\n                    this.storage = new TemporaryContentStorage(platform, tempFile, getDefaultEncoding());\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/data/OracleContentBFILE.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":132,"status":"M"}],"commitId":"3e80e6b4b8d5987e031242a6fced2b32adcc3ad9","commitMessage":"@@@LOB objects refactoring (use executionContext instead of dataSource)\n\n\nFormer-commit-id: c1ad11133ba708ece562b0a8f26d7f8447084335","date":"2020-08-31 00:48:44","modifiedFileCount":"19","status":"M","submitter":"serge-rider"},{"authorTime":"2021-08-18 16:56:42","codes":[{"authorDate":"2021-08-18 16:56:42","commitOrder":14,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPPlatform platform = executionContext.getDataSource().getContainer().getPlatform();\n            if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    String subString = clob.getSubString(1, (int) contentLength);\n                    storage = new JDBCContentChars(executionContext, subString);\n                } catch (Exception e) {\n                    log.debug(\"Can't get CLOB as substring\", e);\n                    try {\n                        storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                    } catch (IOException e1) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    } catch (Throwable e1) {\n                        throw new DBCException(e, executionContext);\n                    }\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, platform, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), getDefaultEncoding())) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (Throwable e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, executionContext);\n                }\n                this.storage = new TemporaryContentStorage(platform, tempFile, getDefaultEncoding(), true);\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","date":"2021-08-18 16:56:42","endLine":126,"groupId":"10889","id":19,"instanceNumber":1,"isCurCommit":1,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/e0/2e05afe83491a704f1fb0bc3ef2fcd9edef812.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && clob != null) {\n            long contentLength = getContentLength();\n            DBPPlatform platform = executionContext.getDataSource().getContainer().getPlatform();\n            if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                try {\n                    String subString = clob.getSubString(1, (int) contentLength);\n                    storage = new JDBCContentChars(executionContext, subString);\n                } catch (Exception e) {\n                    log.debug(\"Can't get CLOB as substring\", e);\n                    try {\n                        storage = StringContentStorage.createFromReader(clob.getCharacterStream(), contentLength);\n                    } catch (IOException e1) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    } catch (Throwable e1) {\n                        throw new DBCException(e, executionContext);\n                    }\n                }\n            } else {\n                \r\n                File tempFile;\n                try {\n                    tempFile = ContentUtils.createTempContentFile(monitor, platform, \"clob\" + clob.hashCode());\n                }\n                catch (IOException e) {\n                    throw new DBCException(\"Can't create temp file\", e);\n                }\n                try (Writer os = new OutputStreamWriter(new FileOutputStream(tempFile), getDefaultEncoding())) {\n                    ContentUtils.copyStreams(clob.getCharacterStream(), contentLength, os, monitor);\n                } catch (IOException e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(\"IO error while copying content\", e);\n                } catch (Throwable e) {\n                    ContentUtils.deleteTempFile(tempFile);\n                    throw new DBCException(e, executionContext);\n                }\n                this.storage = new TemporaryContentStorage(platform, tempFile, getDefaultEncoding());\n            }\n            \r\n            releaseClob();\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.model/src/org/jkiss/dbeaver/model/impl/jdbc/data/JDBCContentCLOB.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":82,"status":"M"},{"authorDate":"2021-08-18 16:56:42","commitOrder":14,"curCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPPlatform platform = executionContext.getDataSource().getContainer().getPlatform();\n                if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                getDefaultEncoding());\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, platform, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, executionContext);\n                    }\n                    this.storage = new TemporaryContentStorage(platform, tempFile, getDefaultEncoding(), true);\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","date":"2021-08-18 16:56:42","endLine":180,"groupId":"10889","id":20,"instanceNumber":2,"isCurCommit":1,"methodName":"getContents","params":"(DBRProgressMonitormonitor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/88/ab04af2c229f545d677a5e050731e896f86877.src","preCode":"    public DBDContentStorage getContents(DBRProgressMonitor monitor)\n        throws DBCException\n    {\n        if (storage == null && bfile != null) {\n            try {\n                openFile();\n                long contentLength = getContentLength();\n                DBPPlatform platform = executionContext.getDataSource().getContainer().getPlatform();\n                if (contentLength < platform.getPreferenceStore().getInt(ModelPreferences.MEMORY_CONTENT_MAX_SIZE)) {\n                    try {\n                        try (InputStream bs = getInputStream()) {\n                            storage = BytesContentStorage.createFromStream(\n                                bs,\n                                contentLength,\n                                getDefaultEncoding());\n                        }\n                    } catch (IOException e) {\n                        throw new DBCException(\"IO error while reading content\", e);\n                    }\n                } else {\n                    \r\n                    File tempFile;\n                    try {\n                        tempFile = ContentUtils.createTempContentFile(monitor, platform, \"blob\" + bfile.hashCode());\n                    } catch (IOException e) {\n                        throw new DBCException(\"Can't create temporary file\", e);\n                    }\n                    try (OutputStream os = new FileOutputStream(tempFile)) {\n                        try (InputStream bs = getInputStream()) {\n                            ContentUtils.copyStreams(bs, contentLength, os, monitor);\n                        }\n                    } catch (IOException e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(\"IO error while copying stream\", e);\n                    } catch (Throwable e) {\n                        ContentUtils.deleteTempFile(tempFile);\n                        throw new DBCException(e, executionContext);\n                    }\n                    this.storage = new TemporaryContentStorage(platform, tempFile, getDefaultEncoding());\n                }\n                \r\n                releaseBlob();\n            }\n            finally {\n                closeFile();\n            }\n        }\n        return storage;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.oracle/src/org/jkiss/dbeaver/ext/oracle/data/OracleContentBFILE.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":132,"status":"M"}],"commitId":"b71c42d935716e59adbfd8dd152d20cea3ecb604","commitMessage":"@@@#12614 Bugfix: external image files deleted after importing in detached editor\n","date":"2021-08-18 16:56:42","modifiedFileCount":"8","status":"M","submitter":"Serge Rider"}]
