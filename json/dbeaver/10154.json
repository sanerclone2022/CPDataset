[{"authorTime":"2019-12-22 02:01:10","codes":[{"authorDate":"2019-12-19 03:41:09","commitOrder":2,"curCode":"    protected void setupProcessParameters(SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        String userPassword = settings.getToolUserPassword();\n        if (CommonUtils.isEmpty(userPassword)) {\n            userPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n        }\n        if (!CommonUtils.isEmpty(userPassword)) {\n            process.environment().put(MySQLConstants.ENV_VARIABLE_MYSQL_PWD, userPassword);\n        }\r\n\r\n\r\n\n    }\n","date":"2019-12-19 03:41:09","endLine":28,"groupId":"4190","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"setupProcessParameters","params":"(SETTINGSsettings@PROCESS_ARGarg@ProcessBuilderprocess)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/b6/40afc3f490c8d14d166a4588ff96f4b2120bd4.src","preCode":"    protected void setupProcessParameters(SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        String userPassword = settings.getToolUserPassword();\n        if (CommonUtils.isEmpty(userPassword)) {\n            userPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n        }\n        if (!CommonUtils.isEmpty(userPassword)) {\n            process.environment().put(MySQLConstants.ENV_VARIABLE_MYSQL_PWD, userPassword);\n        }\r\n\r\n\r\n\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mysql/src/org/jkiss/dbeaver/ext/mysql/tasks/MySQLNativeToolHandler.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":17,"status":"NB"},{"authorDate":"2019-12-22 02:01:10","commitOrder":2,"curCode":"    protected void setupProcessParameters(SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        String userPassword = settings.getToolUserPassword();\n        if (CommonUtils.isEmpty(userPassword)) {\n            userPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n        }\n        if (!CommonUtils.isEmpty(userPassword)) {\n            process.environment().put(\"PGPASSWORD\", userPassword);\n        }\n    }\n","date":"2019-12-22 02:01:10","endLine":27,"groupId":"4190","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"setupProcessParameters","params":"(SETTINGSsettings@PROCESS_ARGarg@ProcessBuilderprocess)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/d2/30f68466cde2ed0eafb98ba735c41774f37983.src","preCode":"    protected void setupProcessParameters(SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        String userPassword = settings.getToolUserPassword();\n        if (CommonUtils.isEmpty(userPassword)) {\n            userPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n        }\n        if (!CommonUtils.isEmpty(userPassword)) {\n            process.environment().put(\"PGPASSWORD\", userPassword);\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.postgresql/src/org/jkiss/dbeaver/ext/postgresql/tasks/PostgreNativeToolHandler.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":19,"status":"B"}],"commitId":"bb9fd77daf267eb315761d430c166d601b82971b","commitMessage":"@@@#7444 PG tasks. MySQL and PG settings load/save fixes\n\n\nFormer-commit-id: 2f064417fa6640e4d73ce0e459951eb23a60e6dd","date":"2019-12-22 02:01:10","modifiedFileCount":"22","status":"M","submitter":"Serge Rider"},{"authorTime":"2019-12-22 02:01:10","codes":[{"authorDate":"2020-10-22 19:25:31","commitOrder":3,"curCode":"    protected void setupProcessParameters(SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        if (!isOverrideCredentials(settings)) {\n            String toolUserPassword = settings.getToolUserPassword();\n\n            if (CommonUtils.isEmpty(settings.getToolUserName())) {\n                toolUserPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n            }\n\n            process.environment().put(MySQLConstants.ENV_VAR_MYSQL_PWD, toolUserPassword);\n        }\n    }\n","date":"2020-10-22 19:25:31","endLine":66,"groupId":"4373","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"setupProcessParameters","params":"(SETTINGSsettings@PROCESS_ARGarg@ProcessBuilderprocess)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/b5/d293736a1c35e5844288038b1d07c2681c1ae8.src","preCode":"    protected void setupProcessParameters(SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        String userPassword = settings.getToolUserPassword();\n        if (CommonUtils.isEmpty(userPassword)) {\n            userPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n        }\n        if (!CommonUtils.isEmpty(userPassword)) {\n            process.environment().put(MySQLConstants.ENV_VARIABLE_MYSQL_PWD, userPassword);\n        }\r\n\r\n\r\n\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mysql/src/org/jkiss/dbeaver/ext/mysql/tasks/MySQLNativeToolHandler.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":56,"status":"M"},{"authorDate":"2019-12-22 02:01:10","commitOrder":3,"curCode":"    protected void setupProcessParameters(SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        String userPassword = settings.getToolUserPassword();\n        if (CommonUtils.isEmpty(userPassword)) {\n            userPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n        }\n        if (!CommonUtils.isEmpty(userPassword)) {\n            process.environment().put(\"PGPASSWORD\", userPassword);\n        }\n    }\n","date":"2019-12-22 02:01:10","endLine":27,"groupId":"4190","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"setupProcessParameters","params":"(SETTINGSsettings@PROCESS_ARGarg@ProcessBuilderprocess)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/d2/30f68466cde2ed0eafb98ba735c41774f37983.src","preCode":"    protected void setupProcessParameters(SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        String userPassword = settings.getToolUserPassword();\n        if (CommonUtils.isEmpty(userPassword)) {\n            userPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n        }\n        if (!CommonUtils.isEmpty(userPassword)) {\n            process.environment().put(\"PGPASSWORD\", userPassword);\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.postgresql/src/org/jkiss/dbeaver/ext/postgresql/tasks/PostgreNativeToolHandler.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":19,"status":"N"}],"commitId":"b31bdc70aaf45a9204c8eb640c774c17d914646e","commitMessage":"@@@Merge pull request #10124 from dbeaver/mysql-credentials#9983\n\n#9983 Checkbox to override credentials stored in system\n\nFormer-commit-id: 5d20717e94fe1e5d127cb7c2bb39d024270a2568","date":"2020-10-22 19:25:31","modifiedFileCount":"8","status":"M","submitter":"Serge Rider"},{"authorTime":"2019-12-22 02:01:10","codes":[{"authorDate":"2020-10-23 19:55:41","commitOrder":4,"curCode":"    protected void setupProcessParameters(SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        if (!isOverrideCredentials(settings)) {\n            String toolUserPassword = settings.getToolUserPassword();\n\n            if (CommonUtils.isEmpty(settings.getToolUserName())) {\n                toolUserPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n            }\n\n            if (CommonUtils.isNotEmpty(toolUserPassword)) {\n                process.environment().put(MySQLConstants.ENV_VAR_MYSQL_PWD, toolUserPassword);\n            }\n        }\n    }\n","date":"2020-10-23 19:55:41","endLine":68,"groupId":"4373","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"setupProcessParameters","params":"(SETTINGSsettings@PROCESS_ARGarg@ProcessBuilderprocess)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/99/dee6276609504226b75d6855a14dca69512d9b.src","preCode":"    protected void setupProcessParameters(SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        if (!isOverrideCredentials(settings)) {\n            String toolUserPassword = settings.getToolUserPassword();\n\n            if (CommonUtils.isEmpty(settings.getToolUserName())) {\n                toolUserPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n            }\n\n            process.environment().put(MySQLConstants.ENV_VAR_MYSQL_PWD, toolUserPassword);\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mysql/src/org/jkiss/dbeaver/ext/mysql/tasks/MySQLNativeToolHandler.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":56,"status":"M"},{"authorDate":"2019-12-22 02:01:10","commitOrder":4,"curCode":"    protected void setupProcessParameters(SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        String userPassword = settings.getToolUserPassword();\n        if (CommonUtils.isEmpty(userPassword)) {\n            userPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n        }\n        if (!CommonUtils.isEmpty(userPassword)) {\n            process.environment().put(\"PGPASSWORD\", userPassword);\n        }\n    }\n","date":"2019-12-22 02:01:10","endLine":27,"groupId":"4190","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"setupProcessParameters","params":"(SETTINGSsettings@PROCESS_ARGarg@ProcessBuilderprocess)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/d2/30f68466cde2ed0eafb98ba735c41774f37983.src","preCode":"    protected void setupProcessParameters(SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        String userPassword = settings.getToolUserPassword();\n        if (CommonUtils.isEmpty(userPassword)) {\n            userPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n        }\n        if (!CommonUtils.isEmpty(userPassword)) {\n            process.environment().put(\"PGPASSWORD\", userPassword);\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.postgresql/src/org/jkiss/dbeaver/ext/postgresql/tasks/PostgreNativeToolHandler.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":19,"status":"N"}],"commitId":"f2d38e9eb3fae292e61ab80f005f93221f5c8f97","commitMessage":"@@@Merge pull request #10152 from dbeaver/mysql-credentials\n\n#9983 Not null password fix\n\nFormer-commit-id: 0d3bf8a39ff0c38aec6737e280c6c6bb6c075f4a","date":"2020-10-23 19:55:41","modifiedFileCount":"1","status":"M","submitter":"Serge Rider"},{"authorTime":"2021-01-26 21:37:21","codes":[{"authorDate":"2021-01-26 21:37:21","commitOrder":5,"curCode":"    protected void setupProcessParameters(DBRProgressMonitor monitor, SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        if (!isOverrideCredentials(settings)) {\n            String toolUserPassword = settings.getToolUserPassword();\n\n            if (CommonUtils.isEmpty(settings.getToolUserName())) {\n                toolUserPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n            }\n\n            if (CommonUtils.isNotEmpty(toolUserPassword)) {\n                process.environment().put(MySQLConstants.ENV_VAR_MYSQL_PWD, toolUserPassword);\n            }\n        }\n    }\n","date":"2021-01-26 21:37:21","endLine":68,"groupId":"4373","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"setupProcessParameters","params":"(DBRProgressMonitormonitor@SETTINGSsettings@PROCESS_ARGarg@ProcessBuilderprocess)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/3e/980b47049415cb13c9a115ac63fe6f290340a9.src","preCode":"    protected void setupProcessParameters(SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        if (!isOverrideCredentials(settings)) {\n            String toolUserPassword = settings.getToolUserPassword();\n\n            if (CommonUtils.isEmpty(settings.getToolUserName())) {\n                toolUserPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n            }\n\n            if (CommonUtils.isNotEmpty(toolUserPassword)) {\n                process.environment().put(MySQLConstants.ENV_VAR_MYSQL_PWD, toolUserPassword);\n            }\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mysql/src/org/jkiss/dbeaver/ext/mysql/tasks/MySQLNativeToolHandler.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":56,"status":"M"},{"authorDate":"2021-01-26 21:37:21","commitOrder":5,"curCode":"    protected void setupProcessParameters(DBRProgressMonitor monitor, SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        String userPassword = settings.getToolUserPassword();\n        if (CommonUtils.isEmpty(userPassword)) {\n            \r\n            DBPDataSourceContainer dataSourceContainer = settings.getDataSourceContainer();\n            DBPConnectionConfiguration cfg = new DBPConnectionConfiguration(dataSourceContainer.getActualConnectionConfiguration());\n            DBAAuthModel authModel = cfg.getAuthModel();\n            if (authModel != AuthModelDatabaseNative.INSTANCE) {\n                DBAAuthCredentials credentials = authModel.loadCredentials(dataSourceContainer, cfg);\n                try {\n                    Properties connProperties = new Properties();\n                    authModel.initAuthentication(monitor, dataSourceContainer.getDataSource(), credentials, cfg, connProperties);\n                    Object authPassword = connProperties.get(DBConstants.DATA_SOURCE_PROPERTY_PASSWORD);\n                    if (authPassword != null) {\n                        userPassword = CommonUtils.toString(authPassword);\n                    }\n                } catch (DBException e) {\n                    \r\n                }\n            }\n            if (CommonUtils.isEmpty(userPassword)) {\n                userPassword = dataSourceContainer.getActualConnectionConfiguration().getUserPassword();\n            }\n        }\n        if (!CommonUtils.isEmpty(userPassword)) {\n            process.environment().put(\"PGPASSWORD\", userPassword);\n        }\n    }\n","date":"2021-01-26 21:37:21","endLine":54,"groupId":"2865","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"setupProcessParameters","params":"(DBRProgressMonitormonitor@SETTINGSsettings@PROCESS_ARGarg@ProcessBuilderprocess)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/10/c06fa0473ab4290c586b14e0c2084ae69c00ad.src","preCode":"    protected void setupProcessParameters(SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        String userPassword = settings.getToolUserPassword();\n        if (CommonUtils.isEmpty(userPassword)) {\n            userPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n        }\n        if (!CommonUtils.isEmpty(userPassword)) {\n            process.environment().put(\"PGPASSWORD\", userPassword);\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.postgresql/src/org/jkiss/dbeaver/ext/postgresql/tasks/PostgreNativeToolHandler.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":27,"status":"M"}],"commitId":"868d529d7f9b706e94a6bef06958fa17c6da81d2","commitMessage":"@@@#11119 Native tool password management enhancement\n\n\nFormer-commit-id: 347951385822656744688a6b68549fed609a3444","date":"2021-01-26 21:37:21","modifiedFileCount":"3","status":"M","submitter":"Serge Rider"},{"authorTime":"2021-01-26 22:26:47","codes":[{"authorDate":"2021-01-26 22:26:47","commitOrder":6,"curCode":"    protected void setupProcessParameters(DBRProgressMonitor monitor, SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        if (!isOverrideCredentials(settings)) {\n            String toolUserPassword = settings.getToolUserPassword();\n            if (CommonUtils.isEmpty(toolUserPassword)) {\n                toolUserPassword = getDataSourcePassword(monitor, settings);\n            }\n\n            if (CommonUtils.isNotEmpty(toolUserPassword)) {\n                process.environment().put(MySQLConstants.ENV_VAR_MYSQL_PWD, toolUserPassword);\n            }\n        }\n    }\n","date":"2021-01-26 22:26:47","endLine":67,"groupId":"10154","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"setupProcessParameters","params":"(DBRProgressMonitormonitor@SETTINGSsettings@PROCESS_ARGarg@ProcessBuilderprocess)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/f0/42323f16028e940c83280e7379d65ffd4b4f95.src","preCode":"    protected void setupProcessParameters(DBRProgressMonitor monitor, SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        if (!isOverrideCredentials(settings)) {\n            String toolUserPassword = settings.getToolUserPassword();\n\n            if (CommonUtils.isEmpty(settings.getToolUserName())) {\n                toolUserPassword = settings.getDataSourceContainer().getActualConnectionConfiguration().getUserPassword();\n            }\n\n            if (CommonUtils.isNotEmpty(toolUserPassword)) {\n                process.environment().put(MySQLConstants.ENV_VAR_MYSQL_PWD, toolUserPassword);\n            }\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mysql/src/org/jkiss/dbeaver/ext/mysql/tasks/MySQLNativeToolHandler.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":56,"status":"M"},{"authorDate":"2021-01-26 22:26:47","commitOrder":6,"curCode":"    protected void setupProcessParameters(DBRProgressMonitor monitor, SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        String userPassword = settings.getToolUserPassword();\n        if (CommonUtils.isEmpty(userPassword)) {\n            userPassword = getDataSourcePassword(monitor, settings);\n        }\n        if (!CommonUtils.isEmpty(userPassword)) {\n            process.environment().put(\"PGPASSWORD\", userPassword);\n        }\n    }\n","date":"2021-01-26 22:26:47","endLine":28,"groupId":"10154","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"setupProcessParameters","params":"(DBRProgressMonitormonitor@SETTINGSsettings@PROCESS_ARGarg@ProcessBuilderprocess)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/9c/3044f41841e98b5bfb2eec1bf7eb25d2f1722f.src","preCode":"    protected void setupProcessParameters(DBRProgressMonitor monitor, SETTINGS settings, PROCESS_ARG arg, ProcessBuilder process) {\n        String userPassword = settings.getToolUserPassword();\n        if (CommonUtils.isEmpty(userPassword)) {\n            \r\n            DBPDataSourceContainer dataSourceContainer = settings.getDataSourceContainer();\n            DBPConnectionConfiguration cfg = new DBPConnectionConfiguration(dataSourceContainer.getActualConnectionConfiguration());\n            DBAAuthModel authModel = cfg.getAuthModel();\n            if (authModel != AuthModelDatabaseNative.INSTANCE) {\n                DBAAuthCredentials credentials = authModel.loadCredentials(dataSourceContainer, cfg);\n                try {\n                    Properties connProperties = new Properties();\n                    authModel.initAuthentication(monitor, dataSourceContainer.getDataSource(), credentials, cfg, connProperties);\n                    Object authPassword = connProperties.get(DBConstants.DATA_SOURCE_PROPERTY_PASSWORD);\n                    if (authPassword != null) {\n                        userPassword = CommonUtils.toString(authPassword);\n                    }\n                } catch (DBException e) {\n                    \r\n                }\n            }\n            if (CommonUtils.isEmpty(userPassword)) {\n                userPassword = dataSourceContainer.getActualConnectionConfiguration().getUserPassword();\n            }\n        }\n        if (!CommonUtils.isEmpty(userPassword)) {\n            process.environment().put(\"PGPASSWORD\", userPassword);\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ext.postgresql/src/org/jkiss/dbeaver/ext/postgresql/tasks/PostgreNativeToolHandler.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":20,"status":"M"}],"commitId":"381cf47131b42a45cff73195e8f092e09e0e3dcd","commitMessage":"@@@#11119 Native tool password management enhancement (+MySQL)\n\n\nFormer-commit-id: e96895d33d233a55265da6c507b944b2260db0e9","date":"2021-01-26 22:26:47","modifiedFileCount":"3","status":"M","submitter":"Serge Rider"}]
