[{"authorTime":"2020-09-12 16:20:18","codes":[{"authorDate":"2018-11-11 06:27:22","commitOrder":2,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder();\n            sql.append(\"SELECT i.*,ic.index_column_id,ic.column_id,ic.key_ordinal,ic.is_descending_key,t.name as table_name\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"indexes\")).append(\" i, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"index_columns\")).append(\" ic, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" t\").append(\"\\n\");\n            sql.append(\"WHERE t.object_id = i.object_id AND ic.object_id=i.object_id AND ic.index_id=i.index_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id = ?\");\n            } else {\n                sql.append(\" AND t.schema_id = ?\");\n            }\n            sql.append(\"\\nORDER BY i.object_id,i.index_id,ic.index_column_id\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","date":"2018-11-11 06:27:22","endLine":361,"groupId":"3239","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@SQLServerSchemaowner@SQLServerTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/b4/4b042841ea7db62d32835923327c8f51aa15f9.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder();\n            sql.append(\"SELECT i.*,ic.index_column_id,ic.column_id,ic.key_ordinal,ic.is_descending_key,t.name as table_name\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"indexes\")).append(\" i, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"index_columns\")).append(\" ic, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" t\").append(\"\\n\");\n            sql.append(\"WHERE t.object_id = i.object_id AND ic.object_id=i.object_id AND ic.index_id=i.index_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id = ?\");\n            } else {\n                sql.append(\" AND t.schema_id = ?\");\n            }\n            sql.append(\"\\nORDER BY i.object_id,i.index_id,ic.index_column_id\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mssql/src/org/jkiss/dbeaver/ext/mssql/model/SQLServerSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":338,"status":"NB"},{"authorDate":"2020-09-12 16:20:18","commitOrder":2,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\"SELECT t.name as table_name,fk.name,fk.key_index_id,fk.is_disabled,fk.delete_referential_action,fk.update_referential_action,\" +\n                \"fkc.*,tr.schema_id referenced_schema_id\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" t,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_keys\")).append(\" fk,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_key_columns\")).append(\" fkc, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" tr\")\n                .append(\"\\nWHERE t.object_id = fk.parent_object_id AND fk.object_id=fkc.constraint_object_id AND tr.object_id=fk.referenced_object_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id=?\");\n            } else {\n                sql.append(\" AND t.schema_id=?\");\n            }\n            sql.append(\"\\nORDER BY fkc.constraint_object_id, fkc.constraint_column_id\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","date":"2020-09-12 16:20:18","endLine":646,"groupId":"11857","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@SQLServerSchemaowner@SQLServerTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/19/7446e0c9de945d51e4e1d4bd70f3fb89ad6b41.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\"SELECT t.name as table_name,fk.name,fk.key_index_id,fk.is_disabled,fk.delete_referential_action,fk.update_referential_action,\" +\n                \"fkc.*,tr.schema_id referenced_schema_id\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" t,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_keys\")).append(\" fk,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_key_columns\")).append(\" fkc, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" tr\")\n                .append(\"\\nWHERE t.object_id = fk.parent_object_id AND fk.object_id=fkc.constraint_object_id AND tr.object_id=fk.referenced_object_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id=?\");\n            } else {\n                sql.append(\" AND t.schema_id=?\");\n            }\n            sql.append(\"\\nORDER BY fkc.constraint_object_id, fkc.constraint_column_id\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mssql/src/org/jkiss/dbeaver/ext/mssql/model/SQLServerSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":621,"status":"B"}],"commitId":"8b94e8f401c89da1e9a9a1550a1f20f0005fed23","commitMessage":"@@@Merge pull request #9752 from dbeaver/sqlservettabletypes#6178\n\n#6178 ddl for data table types added\n\nFormer-commit-id: 1d0c68a915bf21918541c30b8515088560d7257a","date":"2020-09-12 16:20:18","modifiedFileCount":"8","status":"M","submitter":"Serge Rider"},{"authorTime":"2020-09-12 16:20:18","codes":[{"authorDate":"2020-09-16 23:25:20","commitOrder":3,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder();\n            sql.append(\"SELECT i.*,ic.index_column_id,ic.column_id,ic.key_ordinal,ic.is_descending_key,t.name as table_name\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"indexes\")).append(\" i, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"index_columns\")).append(\" ic, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"all_objects\")).append(\" t\").append(\"\\n\");\n            sql.append(\"WHERE t.object_id = i.object_id AND ic.object_id=i.object_id AND ic.index_id=i.index_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id = ?\");\n            } else {\n                sql.append(\" AND t.schema_id = ?\");\n            }\n            sql.append(\"\\nORDER BY i.object_id,i.index_id,ic.index_column_id\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","date":"2020-09-16 23:25:20","endLine":495,"groupId":"3239","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@SQLServerSchemaowner@SQLServerTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/08/bab759ea4fc0653428f941cc8d91770718cb33.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder();\n            sql.append(\"SELECT i.*,ic.index_column_id,ic.column_id,ic.key_ordinal,ic.is_descending_key,t.name as table_name\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"indexes\")).append(\" i, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"index_columns\")).append(\" ic, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" t\").append(\"\\n\");\n            sql.append(\"WHERE t.object_id = i.object_id AND ic.object_id=i.object_id AND ic.index_id=i.index_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id = ?\");\n            } else {\n                sql.append(\" AND t.schema_id = ?\");\n            }\n            sql.append(\"\\nORDER BY i.object_id,i.index_id,ic.index_column_id\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mssql/src/org/jkiss/dbeaver/ext/mssql/model/SQLServerSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":472,"status":"M"},{"authorDate":"2020-09-12 16:20:18","commitOrder":3,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\"SELECT t.name as table_name,fk.name,fk.key_index_id,fk.is_disabled,fk.delete_referential_action,fk.update_referential_action,\" +\n                \"fkc.*,tr.schema_id referenced_schema_id\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" t,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_keys\")).append(\" fk,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_key_columns\")).append(\" fkc, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" tr\")\n                .append(\"\\nWHERE t.object_id = fk.parent_object_id AND fk.object_id=fkc.constraint_object_id AND tr.object_id=fk.referenced_object_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id=?\");\n            } else {\n                sql.append(\" AND t.schema_id=?\");\n            }\n            sql.append(\"\\nORDER BY fkc.constraint_object_id, fkc.constraint_column_id\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","date":"2020-09-12 16:20:18","endLine":646,"groupId":"11857","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@SQLServerSchemaowner@SQLServerTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/19/7446e0c9de945d51e4e1d4bd70f3fb89ad6b41.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\"SELECT t.name as table_name,fk.name,fk.key_index_id,fk.is_disabled,fk.delete_referential_action,fk.update_referential_action,\" +\n                \"fkc.*,tr.schema_id referenced_schema_id\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" t,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_keys\")).append(\" fk,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_key_columns\")).append(\" fkc, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" tr\")\n                .append(\"\\nWHERE t.object_id = fk.parent_object_id AND fk.object_id=fkc.constraint_object_id AND tr.object_id=fk.referenced_object_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id=?\");\n            } else {\n                sql.append(\" AND t.schema_id=?\");\n            }\n            sql.append(\"\\nORDER BY fkc.constraint_object_id, fkc.constraint_column_id\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mssql/src/org/jkiss/dbeaver/ext/mssql/model/SQLServerSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":621,"status":"N"}],"commitId":"9ce6bd9bd56e973be06b9985799e76527f15927a","commitMessage":"@@@Merge pull request #9781 from dbeaver/sqlserverdatatypeconstraint#6178\n\n#6178 constraint tab for table types added\n\nFormer-commit-id: 5a78491bbb85c896b57513ad1b952355d28ca7ea","date":"2020-09-16 23:25:20","modifiedFileCount":"13","status":"M","submitter":"Serge Rider"},{"authorTime":"2020-09-12 16:20:18","codes":[{"authorDate":"2021-01-05 21:14:29","commitOrder":4,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder();\n            sql.append(\"SELECT i.*,ic.index_column_id,ic.column_id,ic.key_ordinal,ic.is_descending_key,t.name as table_name\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"indexes\")).append(\" i, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"index_columns\")).append(\" ic, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"all_objects\")).append(\" t\").append(\"\\n\");\n            sql.append(\"WHERE t.object_id = i.object_id AND ic.object_id=i.object_id AND ic.index_id=i.index_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id = ?\");\n            } else {\n                sql.append(\" AND t.schema_id = ?\");\n            }\n            sql.append(\"\\nORDER BY i.object_id,i.index_id,ic.key_ordinal\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","date":"2021-01-05 21:14:29","endLine":493,"groupId":"14708","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@SQLServerSchemaowner@SQLServerTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/ca/4bb37ecaa8af1e468a1b30697a9f29772a9149.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder();\n            sql.append(\"SELECT i.*,ic.index_column_id,ic.column_id,ic.key_ordinal,ic.is_descending_key,t.name as table_name\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"indexes\")).append(\" i, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"index_columns\")).append(\" ic, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"all_objects\")).append(\" t\").append(\"\\n\");\n            sql.append(\"WHERE t.object_id = i.object_id AND ic.object_id=i.object_id AND ic.index_id=i.index_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id = ?\");\n            } else {\n                sql.append(\" AND t.schema_id = ?\");\n            }\n            sql.append(\"\\nORDER BY i.object_id,i.index_id,ic.index_column_id\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mssql/src/org/jkiss/dbeaver/ext/mssql/model/SQLServerSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":470,"status":"M"},{"authorDate":"2020-09-12 16:20:18","commitOrder":4,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\"SELECT t.name as table_name,fk.name,fk.key_index_id,fk.is_disabled,fk.delete_referential_action,fk.update_referential_action,\" +\n                \"fkc.*,tr.schema_id referenced_schema_id\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" t,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_keys\")).append(\" fk,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_key_columns\")).append(\" fkc, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" tr\")\n                .append(\"\\nWHERE t.object_id = fk.parent_object_id AND fk.object_id=fkc.constraint_object_id AND tr.object_id=fk.referenced_object_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id=?\");\n            } else {\n                sql.append(\" AND t.schema_id=?\");\n            }\n            sql.append(\"\\nORDER BY fkc.constraint_object_id, fkc.constraint_column_id\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","date":"2020-09-12 16:20:18","endLine":646,"groupId":"11857","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@SQLServerSchemaowner@SQLServerTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/19/7446e0c9de945d51e4e1d4bd70f3fb89ad6b41.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\"SELECT t.name as table_name,fk.name,fk.key_index_id,fk.is_disabled,fk.delete_referential_action,fk.update_referential_action,\" +\n                \"fkc.*,tr.schema_id referenced_schema_id\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" t,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_keys\")).append(\" fk,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_key_columns\")).append(\" fkc, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" tr\")\n                .append(\"\\nWHERE t.object_id = fk.parent_object_id AND fk.object_id=fkc.constraint_object_id AND tr.object_id=fk.referenced_object_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id=?\");\n            } else {\n                sql.append(\" AND t.schema_id=?\");\n            }\n            sql.append(\"\\nORDER BY fkc.constraint_object_id, fkc.constraint_column_id\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mssql/src/org/jkiss/dbeaver/ext/mssql/model/SQLServerSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":621,"status":"N"}],"commitId":"b2b357c7036a41bf01d4a9cedf9b209076e3872c","commitMessage":"@@@Merge pull request #10878 from dbeaver/sqlindexcolumnorder#10867\n\n#10867 index columns order change for correct filter definition\n\nFormer-commit-id: 55ee27b24a88678e1219eebc1ea5d9afe661b337","date":"2021-01-05 21:14:29","modifiedFileCount":"1","status":"M","submitter":"Serge Rider"},{"authorTime":"2020-09-12 16:20:18","codes":[{"authorDate":"2021-08-24 00:12:39","commitOrder":5,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder();\n            sql.append(\"SELECT i.*,ic.index_column_id,ic.column_id,ic.key_ordinal,ic.is_descending_key,ic.is_included_column,t.name as table_name\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"indexes\")).append(\" i, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"index_columns\")).append(\" ic, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"all_objects\")).append(\" t\").append(\"\\n\");\n            sql.append(\"WHERE t.object_id = i.object_id AND ic.object_id=i.object_id AND ic.index_id=i.index_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id = ?\");\n            } else {\n                sql.append(\" AND t.schema_id = ?\");\n            }\n            sql.append(\"\\nORDER BY i.object_id,i.index_id,ic.key_ordinal\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","date":"2021-08-24 00:12:39","endLine":503,"groupId":"11810","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@SQLServerSchemaowner@SQLServerTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/59/f0faaf7785ed5941527d22053c6a6f49a36bdd.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder();\n            sql.append(\"SELECT i.*,ic.index_column_id,ic.column_id,ic.key_ordinal,ic.is_descending_key,t.name as table_name\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"indexes\")).append(\" i, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"index_columns\")).append(\" ic, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"all_objects\")).append(\" t\").append(\"\\n\");\n            sql.append(\"WHERE t.object_id = i.object_id AND ic.object_id=i.object_id AND ic.index_id=i.index_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id = ?\");\n            } else {\n                sql.append(\" AND t.schema_id = ?\");\n            }\n            sql.append(\"\\nORDER BY i.object_id,i.index_id,ic.key_ordinal\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mssql/src/org/jkiss/dbeaver/ext/mssql/model/SQLServerSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":480,"status":"M"},{"authorDate":"2020-09-12 16:20:18","commitOrder":5,"curCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\"SELECT t.name as table_name,fk.name,fk.key_index_id,fk.is_disabled,fk.delete_referential_action,fk.update_referential_action,\" +\n                \"fkc.*,tr.schema_id referenced_schema_id\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" t,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_keys\")).append(\" fk,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_key_columns\")).append(\" fkc, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" tr\")\n                .append(\"\\nWHERE t.object_id = fk.parent_object_id AND fk.object_id=fkc.constraint_object_id AND tr.object_id=fk.referenced_object_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id=?\");\n            } else {\n                sql.append(\" AND t.schema_id=?\");\n            }\n            sql.append(\"\\nORDER BY fkc.constraint_object_id, fkc.constraint_column_id\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","date":"2020-09-12 16:20:18","endLine":646,"groupId":"11810","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"prepareObjectsStatement","params":"(JDBCSessionsession@SQLServerSchemaowner@SQLServerTableBaseforTable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/19/7446e0c9de945d51e4e1d4bd70f3fb89ad6b41.src","preCode":"        protected JDBCStatement prepareObjectsStatement(JDBCSession session, SQLServerSchema owner, SQLServerTableBase forTable)\n            throws SQLException\n        {\n            StringBuilder sql = new StringBuilder(500);\n            sql.append(\"SELECT t.name as table_name,fk.name,fk.key_index_id,fk.is_disabled,fk.delete_referential_action,fk.update_referential_action,\" +\n                \"fkc.*,tr.schema_id referenced_schema_id\\nFROM \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" t,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_keys\")).append(\" fk,\")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"foreign_key_columns\")).append(\" fkc, \")\n                .append(SQLServerUtils.getSystemTableName(owner.getDatabase(), \"tables\")).append(\" tr\")\n                .append(\"\\nWHERE t.object_id = fk.parent_object_id AND fk.object_id=fkc.constraint_object_id AND tr.object_id=fk.referenced_object_id\");\n            if (forTable != null) {\n                sql.append(\" AND t.object_id=?\");\n            } else {\n                sql.append(\" AND t.schema_id=?\");\n            }\n            sql.append(\"\\nORDER BY fkc.constraint_object_id, fkc.constraint_column_id\");\n\n            JDBCPreparedStatement dbStat = session.prepareStatement(sql.toString());\n            if (forTable != null) {\n                dbStat.setLong(1, forTable.getObjectId());\n            } else {\n                dbStat.setLong(1, owner.getObjectId());\n            }\n            return dbStat;\n        }\n","realPath":"plugins/org.jkiss.dbeaver.ext.mssql/src/org/jkiss/dbeaver/ext/mssql/model/SQLServerSchema.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":621,"status":"N"}],"commitId":"f037bd799cb3723b9866ed05ce20f8e5793d44b8","commitMessage":"@@@Merge remote-tracking branch 'origin/devel' into devel\n","date":"2021-08-24 00:12:39","modifiedFileCount":"13","status":"M","submitter":"Serge Rider"}]
