[{"authorTime":"2019-01-22 16:48:18","codes":[{"authorDate":"2020-01-10 23:16:20","commitOrder":3,"curCode":"    private void printRecord() {\n        text.append(\"print record ...\\n\");\n        DBPPreferenceStore prefs = getController().getPreferenceStore();\n        boolean delimLeading = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_LEADING);\n        boolean delimTrailing = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_TRAILING);\n        DBDDisplayFormat displayFormat = DBDDisplayFormat.safeValueOf(prefs.getString(ResultSetPreferences.RESULT_TEXT_VALUE_FORMAT));\n\n        StringBuilder grid = new StringBuilder(512);\n        ResultSetModel model = controller.getModel();\n        List<DBDAttributeBinding> attrs = model.getVisibleAttributes();\n        String[] values = new String[attrs.size()];\n        ResultSetRow currentRow = controller.getCurrentRow();\n\n        \r\n        int nameWidth = 4, valueWidth = 5;\n        for (int i = 0; i < attrs.size(); i++) {\n            DBDAttributeBinding attr = attrs.get(i);\n            nameWidth = Math.max(nameWidth, getAttributeName(attr).length());\n            if (currentRow != null) {\n                String displayString = getCellString(model, attr, currentRow, displayFormat);\n                values[i] = displayString;\n                valueWidth = Math.max(valueWidth, values[i].length());\n            }\n        }\n\n        \r\n        if (delimLeading) grid.append(\"|\");\n        grid.append(\"Name\");\n        for (int j = nameWidth - 4; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(\"|Value\");\n        for (int j = valueWidth - 5; j > 0; j--) {\n            grid.append(\" \");\n        }\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (delimLeading) grid.append(\"|\");\n        for (int j = 0; j < nameWidth; j++) grid.append(\"-\");\n        grid.append(\"|\");\n        for (int j = 0; j < valueWidth; j++) grid.append(\"-\");\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (currentRow != null) {\n            \r\n            for (int i = 0; i < attrs.size(); i++) {\n                DBDAttributeBinding attr = attrs.get(i);\n                String name = getAttributeName(attr);\n                if (delimLeading) grid.append(\"|\");\n                grid.append(name);\n                for (int j = nameWidth - name.length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(\"|\");\n                grid.append(values[i]);\n                for (int j = valueWidth - values[i].length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n\n                if (delimTrailing) grid.append(\"|\");\n                grid.append(\"\\n\");\n            }\n        }\n        grid.setLength(grid.length() - 1); \r\n        text.append(grid.toString());\n\r\n    }\n","date":"2020-01-10 23:16:20","endLine":521,"groupId":"15709","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"printRecord","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/58/827abc332cde55dc7857db319e1191f5e250bb.src","preCode":"    private void printRecord() {\n        text.append(\"print record ...\\n\");\n        DBPPreferenceStore prefs = getController().getPreferenceStore();\n        boolean delimLeading = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_LEADING);\n        boolean delimTrailing = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_TRAILING);\n        DBDDisplayFormat displayFormat = DBDDisplayFormat.safeValueOf(prefs.getString(ResultSetPreferences.RESULT_TEXT_VALUE_FORMAT));\n\n        StringBuilder grid = new StringBuilder(512);\n        ResultSetModel model = controller.getModel();\n        List<DBDAttributeBinding> attrs = model.getVisibleAttributes();\n        String[] values = new String[attrs.size()];\n        ResultSetRow currentRow = controller.getCurrentRow();\n\n        \r\n        int nameWidth = 4, valueWidth = 5;\n        for (int i = 0; i < attrs.size(); i++) {\n            DBDAttributeBinding attr = attrs.get(i);\n            nameWidth = Math.max(nameWidth, getAttributeName(attr).length());\n            if (currentRow != null) {\n                String displayString = getCellString(model, attr, currentRow, displayFormat);\n                values[i] = displayString;\n                valueWidth = Math.max(valueWidth, values[i].length());\n            }\n        }\n\n        \r\n        if (delimLeading) grid.append(\"|\");\n        grid.append(\"Name\");\n        for (int j = nameWidth - 4; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(\"|Value\");\n        for (int j = valueWidth - 5; j > 0; j--) {\n            grid.append(\" \");\n        }\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (delimLeading) grid.append(\"|\");\n        for (int j = 0; j < nameWidth; j++) grid.append(\"-\");\n        grid.append(\"|\");\n        for (int j = 0; j < valueWidth; j++) grid.append(\"-\");\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (currentRow != null) {\n            \r\n            for (int i = 0; i < attrs.size(); i++) {\n                DBDAttributeBinding attr = attrs.get(i);\n                String name = getAttributeName(attr);\n                if (delimLeading) grid.append(\"|\");\n                grid.append(name);\n                for (int j = nameWidth - name.length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(\"|\");\n                grid.append(values[i]);\n                for (int j = valueWidth - values[i].length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n\n                if (delimTrailing) grid.append(\"|\");\n                grid.append(\"\\n\");\n            }\n        }\n        grid.setLength(grid.length() - 1); \r\n        text.append(grid.toString());\n\r\n    }\n","realPath":"plugins/org.jkiss.dbeaver.data.console/src/org/jkiss/dbeaver/data/console/ConsoleTextPresentation.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":453,"status":"B"},{"authorDate":"2019-01-22 16:48:18","commitOrder":3,"curCode":"    private void printRecord() {\n        DBPPreferenceStore prefs = getController().getPreferenceStore();\n        boolean delimLeading = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_LEADING);\n        boolean delimTrailing = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_TRAILING);\n        DBDDisplayFormat displayFormat = DBDDisplayFormat.safeValueOf(prefs.getString(ResultSetPreferences.RESULT_TEXT_VALUE_FORMAT));\n\n        StringBuilder grid = new StringBuilder(512);\n        ResultSetModel model = controller.getModel();\n        List<DBDAttributeBinding> attrs = model.getVisibleAttributes();\n        String[] values = new String[attrs.size()];\n        ResultSetRow currentRow = controller.getCurrentRow();\n\n        \r\n        int nameWidth = 4, valueWidth = 5;\n        for (int i = 0; i < attrs.size(); i++) {\n            DBDAttributeBinding attr = attrs.get(i);\n            nameWidth = Math.max(nameWidth, getAttributeName(attr).length());\n            if (currentRow != null) {\n                String displayString = getCellString(model, attr, currentRow, displayFormat);\n                values[i] = displayString;\n                valueWidth = Math.max(valueWidth, values[i].length());\n            }\n        }\n\n        \r\n        if (delimLeading) grid.append(\"|\");\n        grid.append(\"Name\");\n        for (int j = nameWidth - 4; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(\"|Value\");\n        for (int j = valueWidth - 5; j > 0; j--) {\n            grid.append(\" \");\n        }\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (delimLeading) grid.append(\"|\");\n        for (int j = 0; j < nameWidth; j++) grid.append(\"-\");\n        grid.append(\"|\");\n        for (int j = 0; j < valueWidth; j++) grid.append(\"-\");\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (currentRow != null) {\n            \r\n            for (int i = 0; i < attrs.size(); i++) {\n                DBDAttributeBinding attr = attrs.get(i);\n                String name = getAttributeName(attr);\n                if (delimLeading) grid.append(\"|\");\n                grid.append(name);\n                for (int j = nameWidth - name.length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(\"|\");\n                grid.append(values[i]);\n                for (int j = valueWidth - values[i].length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n\n                if (delimTrailing) grid.append(\"|\");\n                grid.append(\"\\n\");\n            }\n        }\n        grid.setLength(grid.length() - 1); \r\n        text.setText(grid.toString());\n    }\n","date":"2019-01-22 16:48:18","endLine":472,"groupId":"15709","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"printRecord","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/a7/34fae2e8df2b2126c524185c1dbfa2363fde90.src","preCode":"    private void printRecord() {\n        DBPPreferenceStore prefs = getController().getPreferenceStore();\n        boolean delimLeading = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_LEADING);\n        boolean delimTrailing = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_TRAILING);\n        DBDDisplayFormat displayFormat = DBDDisplayFormat.safeValueOf(prefs.getString(ResultSetPreferences.RESULT_TEXT_VALUE_FORMAT));\n\n        StringBuilder grid = new StringBuilder(512);\n        ResultSetModel model = controller.getModel();\n        List<DBDAttributeBinding> attrs = model.getVisibleAttributes();\n        String[] values = new String[attrs.size()];\n        ResultSetRow currentRow = controller.getCurrentRow();\n\n        \r\n        int nameWidth = 4, valueWidth = 5;\n        for (int i = 0; i < attrs.size(); i++) {\n            DBDAttributeBinding attr = attrs.get(i);\n            nameWidth = Math.max(nameWidth, getAttributeName(attr).length());\n            if (currentRow != null) {\n                String displayString = getCellString(model, attr, currentRow, displayFormat);\n                values[i] = displayString;\n                valueWidth = Math.max(valueWidth, values[i].length());\n            }\n        }\n\n        \r\n        if (delimLeading) grid.append(\"|\");\n        grid.append(\"Name\");\n        for (int j = nameWidth - 4; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(\"|Value\");\n        for (int j = valueWidth - 5; j > 0; j--) {\n            grid.append(\" \");\n        }\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (delimLeading) grid.append(\"|\");\n        for (int j = 0; j < nameWidth; j++) grid.append(\"-\");\n        grid.append(\"|\");\n        for (int j = 0; j < valueWidth; j++) grid.append(\"-\");\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (currentRow != null) {\n            \r\n            for (int i = 0; i < attrs.size(); i++) {\n                DBDAttributeBinding attr = attrs.get(i);\n                String name = getAttributeName(attr);\n                if (delimLeading) grid.append(\"|\");\n                grid.append(name);\n                for (int j = nameWidth - name.length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(\"|\");\n                grid.append(values[i]);\n                for (int j = valueWidth - values[i].length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n\n                if (delimTrailing) grid.append(\"|\");\n                grid.append(\"\\n\");\n            }\n        }\n        grid.setLength(grid.length() - 1); \r\n        text.setText(grid.toString());\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ui.editors.data/src/org/jkiss/dbeaver/ui/controls/resultset/plaintext/PlainTextPresentation.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":406,"status":"NB"}],"commitId":"ed61883da063203d0710885dc1afa753c9469f19","commitMessage":"@@@Merge pull request #7580 from dbeaver/667-script-console\n\nSQL Script Output Console - plugin module\n\nFormer-commit-id: 5ac05a70dcd19424dafae8148ffc1ae0553277bc","date":"2020-01-10 23:16:20","modifiedFileCount":"0","status":"M","submitter":"Serge Rider"},{"authorTime":"2020-02-09 01:38:29","codes":[{"authorDate":"2020-01-10 23:16:20","commitOrder":4,"curCode":"    private void printRecord() {\n        text.append(\"print record ...\\n\");\n        DBPPreferenceStore prefs = getController().getPreferenceStore();\n        boolean delimLeading = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_LEADING);\n        boolean delimTrailing = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_TRAILING);\n        DBDDisplayFormat displayFormat = DBDDisplayFormat.safeValueOf(prefs.getString(ResultSetPreferences.RESULT_TEXT_VALUE_FORMAT));\n\n        StringBuilder grid = new StringBuilder(512);\n        ResultSetModel model = controller.getModel();\n        List<DBDAttributeBinding> attrs = model.getVisibleAttributes();\n        String[] values = new String[attrs.size()];\n        ResultSetRow currentRow = controller.getCurrentRow();\n\n        \r\n        int nameWidth = 4, valueWidth = 5;\n        for (int i = 0; i < attrs.size(); i++) {\n            DBDAttributeBinding attr = attrs.get(i);\n            nameWidth = Math.max(nameWidth, getAttributeName(attr).length());\n            if (currentRow != null) {\n                String displayString = getCellString(model, attr, currentRow, displayFormat);\n                values[i] = displayString;\n                valueWidth = Math.max(valueWidth, values[i].length());\n            }\n        }\n\n        \r\n        if (delimLeading) grid.append(\"|\");\n        grid.append(\"Name\");\n        for (int j = nameWidth - 4; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(\"|Value\");\n        for (int j = valueWidth - 5; j > 0; j--) {\n            grid.append(\" \");\n        }\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (delimLeading) grid.append(\"|\");\n        for (int j = 0; j < nameWidth; j++) grid.append(\"-\");\n        grid.append(\"|\");\n        for (int j = 0; j < valueWidth; j++) grid.append(\"-\");\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (currentRow != null) {\n            \r\n            for (int i = 0; i < attrs.size(); i++) {\n                DBDAttributeBinding attr = attrs.get(i);\n                String name = getAttributeName(attr);\n                if (delimLeading) grid.append(\"|\");\n                grid.append(name);\n                for (int j = nameWidth - name.length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(\"|\");\n                grid.append(values[i]);\n                for (int j = valueWidth - values[i].length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n\n                if (delimTrailing) grid.append(\"|\");\n                grid.append(\"\\n\");\n            }\n        }\n        grid.setLength(grid.length() - 1); \r\n        text.append(grid.toString());\n\r\n    }\n","date":"2020-01-10 23:16:20","endLine":521,"groupId":"15709","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"printRecord","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/58/827abc332cde55dc7857db319e1191f5e250bb.src","preCode":"    private void printRecord() {\n        text.append(\"print record ...\\n\");\n        DBPPreferenceStore prefs = getController().getPreferenceStore();\n        boolean delimLeading = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_LEADING);\n        boolean delimTrailing = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_TRAILING);\n        DBDDisplayFormat displayFormat = DBDDisplayFormat.safeValueOf(prefs.getString(ResultSetPreferences.RESULT_TEXT_VALUE_FORMAT));\n\n        StringBuilder grid = new StringBuilder(512);\n        ResultSetModel model = controller.getModel();\n        List<DBDAttributeBinding> attrs = model.getVisibleAttributes();\n        String[] values = new String[attrs.size()];\n        ResultSetRow currentRow = controller.getCurrentRow();\n\n        \r\n        int nameWidth = 4, valueWidth = 5;\n        for (int i = 0; i < attrs.size(); i++) {\n            DBDAttributeBinding attr = attrs.get(i);\n            nameWidth = Math.max(nameWidth, getAttributeName(attr).length());\n            if (currentRow != null) {\n                String displayString = getCellString(model, attr, currentRow, displayFormat);\n                values[i] = displayString;\n                valueWidth = Math.max(valueWidth, values[i].length());\n            }\n        }\n\n        \r\n        if (delimLeading) grid.append(\"|\");\n        grid.append(\"Name\");\n        for (int j = nameWidth - 4; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(\"|Value\");\n        for (int j = valueWidth - 5; j > 0; j--) {\n            grid.append(\" \");\n        }\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (delimLeading) grid.append(\"|\");\n        for (int j = 0; j < nameWidth; j++) grid.append(\"-\");\n        grid.append(\"|\");\n        for (int j = 0; j < valueWidth; j++) grid.append(\"-\");\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (currentRow != null) {\n            \r\n            for (int i = 0; i < attrs.size(); i++) {\n                DBDAttributeBinding attr = attrs.get(i);\n                String name = getAttributeName(attr);\n                if (delimLeading) grid.append(\"|\");\n                grid.append(name);\n                for (int j = nameWidth - name.length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(\"|\");\n                grid.append(values[i]);\n                for (int j = valueWidth - values[i].length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n\n                if (delimTrailing) grid.append(\"|\");\n                grid.append(\"\\n\");\n            }\n        }\n        grid.setLength(grid.length() - 1); \r\n        text.append(grid.toString());\n\r\n    }\n","realPath":"plugins/org.jkiss.dbeaver.data.console/src/org/jkiss/dbeaver/data/console/ConsoleTextPresentation.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":453,"status":"N"},{"authorDate":"2020-02-09 01:38:29","commitOrder":4,"curCode":"    private void printRecord() {\n        DBPPreferenceStore prefs = getController().getPreferenceStore();\n        boolean delimLeading = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_LEADING);\n        boolean delimTrailing = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_TRAILING);\n        DBDDisplayFormat displayFormat = DBDDisplayFormat.safeValueOf(prefs.getString(ResultSetPreferences.RESULT_TEXT_VALUE_FORMAT));\n        boolean extraSpaces = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_EXTRA_SPACES);\n        String indent = extraSpaces ? \" \" : \"\";\n\n        StringBuilder grid = new StringBuilder(512);\n        ResultSetModel model = controller.getModel();\n        List<DBDAttributeBinding> attrs = model.getVisibleAttributes();\n        String[] values = new String[attrs.size()];\n        ResultSetRow currentRow = controller.getCurrentRow();\n\n        \r\n        int nameWidth = 4, valueWidth = 5;\n        for (int i = 0; i < attrs.size(); i++) {\n            DBDAttributeBinding attr = attrs.get(i);\n            nameWidth = Math.max(nameWidth, getAttributeName(attr).length());\n            if (currentRow != null) {\n                String displayString = getCellString(model, attr, currentRow, displayFormat);\n                values[i] = displayString;\n                valueWidth = Math.max(valueWidth, values[i].length());\n            }\n        }\n        if (extraSpaces) {\n            \r\n            \r\n        }\n\n        \r\n        if (delimLeading) grid.append(\"|\");\n        grid.append(indent).append(\"Name\");\n        for (int j = nameWidth - 4; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(indent).append(\"|\").append(indent).append(\"Value\");\n        for (int j = valueWidth - 5; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(indent);\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (delimLeading) grid.append(\"|\");\n        if (extraSpaces) grid.append(\"--\");\n        for (int j = 0; j < nameWidth; j++) grid.append(\"-\");\n        grid.append(\"|\");\n        if (extraSpaces) grid.append(\"--\");\n        for (int j = 0; j < valueWidth; j++) grid.append(\"-\");\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (currentRow != null) {\n            \r\n            for (int i = 0; i < attrs.size(); i++) {\n                DBDAttributeBinding attr = attrs.get(i);\n                String name = getAttributeName(attr);\n                if (delimLeading) grid.append(\"|\");\n                grid.append(indent);\n                grid.append(name);\n                grid.append(indent);\n                for (int j = nameWidth - name.length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(\"|\");\n                grid.append(indent);\n                grid.append(values[i]);\n                for (int j = valueWidth - values[i].length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(indent);\n\n                if (delimTrailing) grid.append(\"|\");\n                grid.append(\"\\n\");\n            }\n        }\n        grid.setLength(grid.length() - 1); \r\n        text.setText(grid.toString());\n    }\n","date":"2020-02-09 01:38:29","endLine":516,"groupId":"3745","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"printRecord","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/cd/43e10260c16ab537610f063904aed79d4fd005.src","preCode":"    private void printRecord() {\n        DBPPreferenceStore prefs = getController().getPreferenceStore();\n        boolean delimLeading = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_LEADING);\n        boolean delimTrailing = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_TRAILING);\n        DBDDisplayFormat displayFormat = DBDDisplayFormat.safeValueOf(prefs.getString(ResultSetPreferences.RESULT_TEXT_VALUE_FORMAT));\n\n        StringBuilder grid = new StringBuilder(512);\n        ResultSetModel model = controller.getModel();\n        List<DBDAttributeBinding> attrs = model.getVisibleAttributes();\n        String[] values = new String[attrs.size()];\n        ResultSetRow currentRow = controller.getCurrentRow();\n\n        \r\n        int nameWidth = 4, valueWidth = 5;\n        for (int i = 0; i < attrs.size(); i++) {\n            DBDAttributeBinding attr = attrs.get(i);\n            nameWidth = Math.max(nameWidth, getAttributeName(attr).length());\n            if (currentRow != null) {\n                String displayString = getCellString(model, attr, currentRow, displayFormat);\n                values[i] = displayString;\n                valueWidth = Math.max(valueWidth, values[i].length());\n            }\n        }\n\n        \r\n        if (delimLeading) grid.append(\"|\");\n        grid.append(\"Name\");\n        for (int j = nameWidth - 4; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(\"|Value\");\n        for (int j = valueWidth - 5; j > 0; j--) {\n            grid.append(\" \");\n        }\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (delimLeading) grid.append(\"|\");\n        for (int j = 0; j < nameWidth; j++) grid.append(\"-\");\n        grid.append(\"|\");\n        for (int j = 0; j < valueWidth; j++) grid.append(\"-\");\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (currentRow != null) {\n            \r\n            for (int i = 0; i < attrs.size(); i++) {\n                DBDAttributeBinding attr = attrs.get(i);\n                String name = getAttributeName(attr);\n                if (delimLeading) grid.append(\"|\");\n                grid.append(name);\n                for (int j = nameWidth - name.length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(\"|\");\n                grid.append(values[i]);\n                for (int j = valueWidth - values[i].length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n\n                if (delimTrailing) grid.append(\"|\");\n                grid.append(\"\\n\");\n            }\n        }\n        grid.setLength(grid.length() - 1); \r\n        text.setText(grid.toString());\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ui.editors.data/src/org/jkiss/dbeaver/ui/controls/resultset/plaintext/PlainTextPresentation.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":437,"status":"M"}],"commitId":"e40d0103792b7dae0f1a6470e5cf05b25d2b0f1a","commitMessage":"@@@#7807 RSV: plaintext + extra spaces\n\n\nFormer-commit-id: 9d7929a6fb1a8f008b683e2d260d71e4c4a4ad42","date":"2020-02-09 01:38:29","modifiedFileCount":"1","status":"M","submitter":"Serge Rider"},{"authorTime":"2021-04-07 18:06:03","codes":[{"authorDate":"2020-01-10 23:16:20","commitOrder":5,"curCode":"    private void printRecord() {\n        text.append(\"print record ...\\n\");\n        DBPPreferenceStore prefs = getController().getPreferenceStore();\n        boolean delimLeading = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_LEADING);\n        boolean delimTrailing = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_TRAILING);\n        DBDDisplayFormat displayFormat = DBDDisplayFormat.safeValueOf(prefs.getString(ResultSetPreferences.RESULT_TEXT_VALUE_FORMAT));\n\n        StringBuilder grid = new StringBuilder(512);\n        ResultSetModel model = controller.getModel();\n        List<DBDAttributeBinding> attrs = model.getVisibleAttributes();\n        String[] values = new String[attrs.size()];\n        ResultSetRow currentRow = controller.getCurrentRow();\n\n        \r\n        int nameWidth = 4, valueWidth = 5;\n        for (int i = 0; i < attrs.size(); i++) {\n            DBDAttributeBinding attr = attrs.get(i);\n            nameWidth = Math.max(nameWidth, getAttributeName(attr).length());\n            if (currentRow != null) {\n                String displayString = getCellString(model, attr, currentRow, displayFormat);\n                values[i] = displayString;\n                valueWidth = Math.max(valueWidth, values[i].length());\n            }\n        }\n\n        \r\n        if (delimLeading) grid.append(\"|\");\n        grid.append(\"Name\");\n        for (int j = nameWidth - 4; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(\"|Value\");\n        for (int j = valueWidth - 5; j > 0; j--) {\n            grid.append(\" \");\n        }\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (delimLeading) grid.append(\"|\");\n        for (int j = 0; j < nameWidth; j++) grid.append(\"-\");\n        grid.append(\"|\");\n        for (int j = 0; j < valueWidth; j++) grid.append(\"-\");\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (currentRow != null) {\n            \r\n            for (int i = 0; i < attrs.size(); i++) {\n                DBDAttributeBinding attr = attrs.get(i);\n                String name = getAttributeName(attr);\n                if (delimLeading) grid.append(\"|\");\n                grid.append(name);\n                for (int j = nameWidth - name.length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(\"|\");\n                grid.append(values[i]);\n                for (int j = valueWidth - values[i].length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n\n                if (delimTrailing) grid.append(\"|\");\n                grid.append(\"\\n\");\n            }\n        }\n        grid.setLength(grid.length() - 1); \r\n        text.append(grid.toString());\n\r\n    }\n","date":"2020-01-10 23:16:20","endLine":521,"groupId":"10340","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"printRecord","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/58/827abc332cde55dc7857db319e1191f5e250bb.src","preCode":"    private void printRecord() {\n        text.append(\"print record ...\\n\");\n        DBPPreferenceStore prefs = getController().getPreferenceStore();\n        boolean delimLeading = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_LEADING);\n        boolean delimTrailing = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_TRAILING);\n        DBDDisplayFormat displayFormat = DBDDisplayFormat.safeValueOf(prefs.getString(ResultSetPreferences.RESULT_TEXT_VALUE_FORMAT));\n\n        StringBuilder grid = new StringBuilder(512);\n        ResultSetModel model = controller.getModel();\n        List<DBDAttributeBinding> attrs = model.getVisibleAttributes();\n        String[] values = new String[attrs.size()];\n        ResultSetRow currentRow = controller.getCurrentRow();\n\n        \r\n        int nameWidth = 4, valueWidth = 5;\n        for (int i = 0; i < attrs.size(); i++) {\n            DBDAttributeBinding attr = attrs.get(i);\n            nameWidth = Math.max(nameWidth, getAttributeName(attr).length());\n            if (currentRow != null) {\n                String displayString = getCellString(model, attr, currentRow, displayFormat);\n                values[i] = displayString;\n                valueWidth = Math.max(valueWidth, values[i].length());\n            }\n        }\n\n        \r\n        if (delimLeading) grid.append(\"|\");\n        grid.append(\"Name\");\n        for (int j = nameWidth - 4; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(\"|Value\");\n        for (int j = valueWidth - 5; j > 0; j--) {\n            grid.append(\" \");\n        }\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (delimLeading) grid.append(\"|\");\n        for (int j = 0; j < nameWidth; j++) grid.append(\"-\");\n        grid.append(\"|\");\n        for (int j = 0; j < valueWidth; j++) grid.append(\"-\");\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (currentRow != null) {\n            \r\n            for (int i = 0; i < attrs.size(); i++) {\n                DBDAttributeBinding attr = attrs.get(i);\n                String name = getAttributeName(attr);\n                if (delimLeading) grid.append(\"|\");\n                grid.append(name);\n                for (int j = nameWidth - name.length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(\"|\");\n                grid.append(values[i]);\n                for (int j = valueWidth - values[i].length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n\n                if (delimTrailing) grid.append(\"|\");\n                grid.append(\"\\n\");\n            }\n        }\n        grid.setLength(grid.length() - 1); \r\n        text.append(grid.toString());\n\r\n    }\n","realPath":"plugins/org.jkiss.dbeaver.data.console/src/org/jkiss/dbeaver/data/console/ConsoleTextPresentation.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":453,"status":"N"},{"authorDate":"2021-04-07 18:06:03","commitOrder":5,"curCode":"    private void printRecord() {\n        DBPPreferenceStore prefs = getController().getPreferenceStore();\n        boolean delimLeading = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_LEADING);\n        boolean delimTrailing = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_TRAILING);\n        boolean delimTop = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_TOP);\n        boolean delimBottom = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_BOTTOM);\n        DBDDisplayFormat displayFormat = DBDDisplayFormat.safeValueOf(prefs.getString(ResultSetPreferences.RESULT_TEXT_VALUE_FORMAT));\n        boolean extraSpaces = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_EXTRA_SPACES);\n        String indent = extraSpaces ? \" \" : \"\";\n\n        StringBuilder grid = new StringBuilder(512);\n        ResultSetModel model = controller.getModel();\n        List<DBDAttributeBinding> attrs = model.getVisibleAttributes();\n        String[] values = new String[attrs.size()];\n        ResultSetRow currentRow = controller.getCurrentRow();\n\n        \r\n        int nameWidth = 4, valueWidth = 5;\n        for (int i = 0; i < attrs.size(); i++) {\n            DBDAttributeBinding attr = attrs.get(i);\n            nameWidth = Math.max(nameWidth, getAttributeName(attr).length());\n            if (currentRow != null) {\n                String displayString = getCellString(model, attr, currentRow, displayFormat);\n                values[i] = displayString;\n                valueWidth = Math.max(valueWidth, values[i].length());\n            }\n        }\n        final int extraSpacesNum = extraSpaces ? 2 : 0;\n        final int[] colWidths = {nameWidth + extraSpacesNum, valueWidth + extraSpacesNum};\n\n        if (delimTop) {\n            \r\n            printSeparator(delimLeading, delimTrailing, colWidths, grid);\n        }\n\n        \r\n        if (delimLeading) grid.append(\"|\");\n        grid.append(indent).append(\"Name\");\n        for (int j = nameWidth - 4; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(indent).append(\"|\").append(indent).append(\"Value\");\n        for (int j = valueWidth - 5; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(indent);\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        \r\n        printSeparator(delimLeading, delimTrailing, colWidths, grid);\n\n        if (currentRow != null) {\n            \r\n            for (int i = 0; i < attrs.size(); i++) {\n                DBDAttributeBinding attr = attrs.get(i);\n                String name = getAttributeName(attr);\n                if (delimLeading) grid.append(\"|\");\n                grid.append(indent);\n                grid.append(name);\n                grid.append(indent);\n                for (int j = nameWidth - name.length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(\"|\");\n                grid.append(indent);\n                grid.append(values[i]);\n                for (int j = valueWidth - values[i].length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(indent);\n\n                if (delimTrailing) grid.append(\"|\");\n                grid.append(\"\\n\");\n            }\n        }\n        if (delimBottom) {\n            \r\n            printSeparator(delimLeading, delimTrailing, colWidths, grid);\n        }\n        grid.setLength(grid.length() - 1); \r\n        text.setText(grid.toString());\n    }\n","date":"2021-04-07 18:06:03","endLine":520,"groupId":"10340","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"printRecord","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/71/f04cb40196a6a9196d01c95e0d706deb429fe7.src","preCode":"    private void printRecord() {\n        DBPPreferenceStore prefs = getController().getPreferenceStore();\n        boolean delimLeading = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_LEADING);\n        boolean delimTrailing = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_DELIMITER_TRAILING);\n        DBDDisplayFormat displayFormat = DBDDisplayFormat.safeValueOf(prefs.getString(ResultSetPreferences.RESULT_TEXT_VALUE_FORMAT));\n        boolean extraSpaces = prefs.getBoolean(ResultSetPreferences.RESULT_TEXT_EXTRA_SPACES);\n        String indent = extraSpaces ? \" \" : \"\";\n\n        StringBuilder grid = new StringBuilder(512);\n        ResultSetModel model = controller.getModel();\n        List<DBDAttributeBinding> attrs = model.getVisibleAttributes();\n        String[] values = new String[attrs.size()];\n        ResultSetRow currentRow = controller.getCurrentRow();\n\n        \r\n        int nameWidth = 4, valueWidth = 5;\n        for (int i = 0; i < attrs.size(); i++) {\n            DBDAttributeBinding attr = attrs.get(i);\n            nameWidth = Math.max(nameWidth, getAttributeName(attr).length());\n            if (currentRow != null) {\n                String displayString = getCellString(model, attr, currentRow, displayFormat);\n                values[i] = displayString;\n                valueWidth = Math.max(valueWidth, values[i].length());\n            }\n        }\n        if (extraSpaces) {\n            \r\n            \r\n        }\n\n        \r\n        if (delimLeading) grid.append(\"|\");\n        grid.append(indent).append(\"Name\");\n        for (int j = nameWidth - 4; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(indent).append(\"|\").append(indent).append(\"Value\");\n        for (int j = valueWidth - 5; j > 0; j--) {\n            grid.append(\" \");\n        }\n        grid.append(indent);\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (delimLeading) grid.append(\"|\");\n        if (extraSpaces) grid.append(\"--\");\n        for (int j = 0; j < nameWidth; j++) grid.append(\"-\");\n        grid.append(\"|\");\n        if (extraSpaces) grid.append(\"--\");\n        for (int j = 0; j < valueWidth; j++) grid.append(\"-\");\n        if (delimTrailing) grid.append(\"|\");\n        grid.append(\"\\n\");\n\n        if (currentRow != null) {\n            \r\n            for (int i = 0; i < attrs.size(); i++) {\n                DBDAttributeBinding attr = attrs.get(i);\n                String name = getAttributeName(attr);\n                if (delimLeading) grid.append(\"|\");\n                grid.append(indent);\n                grid.append(name);\n                grid.append(indent);\n                for (int j = nameWidth - name.length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(\"|\");\n                grid.append(indent);\n                grid.append(values[i]);\n                for (int j = valueWidth - values[i].length(); j > 0; j--) {\n                    grid.append(\" \");\n                }\n                grid.append(indent);\n\n                if (delimTrailing) grid.append(\"|\");\n                grid.append(\"\\n\");\n            }\n        }\n        grid.setLength(grid.length() - 1); \r\n        text.setText(grid.toString());\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ui.editors.data/src/org/jkiss/dbeaver/ui/controls/resultset/plaintext/PlainTextPresentation.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":438,"status":"M"}],"commitId":"bd0294bf9ce3810306b75c3ee211ae42bd34dcc0","commitMessage":"@@@Merge pull request #12014 from dbeaver/plaintext-presentation-delimiters#11660\n\n#11660 Plaintext presentation: top and bottom delimiters\n\nFormer-commit-id: edc446af2866e5ba9b469f7e64f7d97245674e98","date":"2021-04-07 18:06:03","modifiedFileCount":"5","status":"M","submitter":"Serge Rider"}]
