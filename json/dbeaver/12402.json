[{"authorTime":"2019-01-03 03:34:02","codes":[{"authorDate":"2018-12-29 05:36:45","commitOrder":3,"curCode":"    public static void copyToClipboard(String string) {\n        if (string != null && string.length() > 0) {\n            Clipboard clipboard = new Clipboard(Display.getCurrent());\n            try {\n                TextTransfer textTransfer = TextTransfer.getInstance();\n                clipboard.setContents(\n                    new Object[]{string},\n                    new Transfer[]{textTransfer});\n            } finally {\n                clipboard.dispose();\n            }\n        }\n    }\n","date":"2018-12-29 05:36:49","endLine":423,"groupId":"1083","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"copyToClipboard","params":"(Stringstring)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/a3/bcab78b8e0741a13d6a0a0060a7a7ec0a30e44.src","preCode":"    public static void copyToClipboard(String string) {\n        if (string != null && string.length() > 0) {\n            Clipboard clipboard = new Clipboard(Display.getCurrent());\n            try {\n                TextTransfer textTransfer = TextTransfer.getInstance();\n                clipboard.setContents(\n                    new Object[]{string},\n                    new Transfer[]{textTransfer});\n            } finally {\n                clipboard.dispose();\n            }\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ui.editors.data/src/org/jkiss/dbeaver/ui/controls/resultset/ResultSetUtils.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":411,"status":"NB"},{"authorDate":"2019-01-03 03:34:02","commitOrder":3,"curCode":"    public Object execute(ExecutionEvent event) throws ExecutionException {\n        IWorkbenchPart activePart = HandlerUtil.getActivePart(event);\n        if (activePart == null) {\n            return null;\n        }\n\n        IResultSetController rsc = activePart.getAdapter(IResultSetController.class);\n        if (rsc != null && UIUtils.hasFocus(rsc.getControl())) {\n            IResultSetSelection selection = rsc.getSelection();\n            if (selection != null && !selection.isEmpty()) {\n                for (Object cell : selection.toArray()) {\n                    DBDAttributeBinding attr = selection.getElementAttribute(cell);\n                    ResultSetRow row = selection.getElementRow(cell);\n                    if (row != null && attr != null) {\n                        ResultSetValueController valueController = new ResultSetValueController(\n                            rsc,\n                            attr,\n                            row,\n                            IValueController.EditType.NONE,\n                            null);\n                        DBDValueHandler valueHandler = valueController.getValueHandler();\n                        String uuid = generateUUID();\n                        valueController.updateValue(uuid, false);\n                    }\n                }\n                rsc.redrawData(false, false);\n                rsc.updateEditControls();\n            }\n        } else {\n            ITextViewer textViewer = activePart.getAdapter(ITextViewer.class);\n            if (textViewer != null) {\n                ISelection selection = textViewer.getSelectionProvider().getSelection();\n                if (selection instanceof TextSelection) {\n                    try {\n                        int offset = ((TextSelection) selection).getOffset();\n                        int length = ((TextSelection) selection).getLength();\n                        String uuid = generateUUID();\n                        textViewer.getDocument().replace(\n                            offset,\n                            length, uuid);\n                        textViewer.getSelectionProvider().setSelection(new TextSelection(offset + uuid.length(), 0));\n                    } catch (BadLocationException e) {\n                        DBWorkbench.getPlatformUI().showError(\"Insert UUID\", \"Error inserting UUID in text editor\", e);\n                    }\n                }\n            }\n        }\n\n        return null;\n    }\n","date":"2019-01-03 03:34:02","endLine":96,"groupId":"1083","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"execute","params":"(ExecutionEventevent)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/59/060953a35852feb2dd51dd3ad7efbd2b4ab12b.src","preCode":"    public Object execute(ExecutionEvent event) throws ExecutionException {\n        IWorkbenchPart activePart = HandlerUtil.getActivePart(event);\n        if (activePart == null) {\n            return null;\n        }\n\n        IResultSetController rsc = activePart.getAdapter(IResultSetController.class);\n        if (rsc != null && UIUtils.hasFocus(rsc.getControl())) {\n            IResultSetSelection selection = rsc.getSelection();\n            if (selection != null && !selection.isEmpty()) {\n                for (Object cell : selection.toArray()) {\n                    DBDAttributeBinding attr = selection.getElementAttribute(cell);\n                    ResultSetRow row = selection.getElementRow(cell);\n                    if (row != null && attr != null) {\n                        ResultSetValueController valueController = new ResultSetValueController(\n                            rsc,\n                            attr,\n                            row,\n                            IValueController.EditType.NONE,\n                            null);\n                        DBDValueHandler valueHandler = valueController.getValueHandler();\n                        String uuid = generateUUID();\n                        valueController.updateValue(uuid, false);\n                    }\n                }\n                rsc.redrawData(false, false);\n                rsc.updateEditControls();\n            }\n        } else {\n            ITextViewer textViewer = activePart.getAdapter(ITextViewer.class);\n            if (textViewer != null) {\n                ISelection selection = textViewer.getSelectionProvider().getSelection();\n                if (selection instanceof TextSelection) {\n                    try {\n                        int offset = ((TextSelection) selection).getOffset();\n                        int length = ((TextSelection) selection).getLength();\n                        String uuid = generateUUID();\n                        textViewer.getDocument().replace(\n                            offset,\n                            length, uuid);\n                        textViewer.getSelectionProvider().setSelection(new TextSelection(offset + uuid.length(), 0));\n                    } catch (BadLocationException e) {\n                        DBWorkbench.getPlatformUI().showError(\"Insert UUID\", \"Error inserting UUID in text editor\", e);\n                    }\n                }\n            }\n        }\n\n        return null;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.core/src/org/jkiss/dbeaver/ui/actions/common/GenerateUUIDHandler.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":47,"status":"MB"}],"commitId":"c9035fd6dfc6ca5eaacafcf80f39575aa603e2dd","commitMessage":"@@@#4818 UID gen: update edit controls after gen\n\n\nFormer-commit-id: fcfc2b665aa1c777e8d2e2680818d74f6f64c8b7","date":"2019-01-03 03:34:02","modifiedFileCount":"1","status":"M","submitter":"serge-rider"},{"authorTime":"2021-04-25 04:37:00","codes":[{"authorDate":"2018-12-29 05:36:45","commitOrder":4,"curCode":"    public static void copyToClipboard(String string) {\n        if (string != null && string.length() > 0) {\n            Clipboard clipboard = new Clipboard(Display.getCurrent());\n            try {\n                TextTransfer textTransfer = TextTransfer.getInstance();\n                clipboard.setContents(\n                    new Object[]{string},\n                    new Transfer[]{textTransfer});\n            } finally {\n                clipboard.dispose();\n            }\n        }\n    }\n","date":"2018-12-29 05:36:49","endLine":423,"groupId":"12402","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"copyToClipboard","params":"(Stringstring)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/a3/bcab78b8e0741a13d6a0a0060a7a7ec0a30e44.src","preCode":"    public static void copyToClipboard(String string) {\n        if (string != null && string.length() > 0) {\n            Clipboard clipboard = new Clipboard(Display.getCurrent());\n            try {\n                TextTransfer textTransfer = TextTransfer.getInstance();\n                clipboard.setContents(\n                    new Object[]{string},\n                    new Transfer[]{textTransfer});\n            } finally {\n                clipboard.dispose();\n            }\n        }\n    }\n","realPath":"plugins/org.jkiss.dbeaver.ui.editors.data/src/org/jkiss/dbeaver/ui/controls/resultset/ResultSetUtils.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":411,"status":"N"},{"authorDate":"2021-04-25 04:37:00","commitOrder":4,"curCode":"    public Object execute(ExecutionEvent event) throws ExecutionException {\n        IWorkbenchPart activePart = HandlerUtil.getActivePart(event);\n        if (activePart == null) {\n            return null;\n        }\n        String uuid = generateUUID();\n\n        IResultSetController rsc = activePart.getAdapter(IResultSetController.class);\n        if (rsc != null && UIUtils.hasFocus(rsc.getControl())) {\n            IResultSetSelection selection = rsc.getSelection();\n            if (selection != null && !selection.isEmpty()) {\n                for (Object cell : selection.toArray()) {\n                    DBDAttributeBinding attr = selection.getElementAttribute(cell);\n                    ResultSetRow row = selection.getElementRow(cell);\n                    if (row != null && attr != null) {\n                        ResultSetValueController valueController = new ResultSetValueController(\n                            rsc,\n                            attr,\n                            row,\n                            IValueController.EditType.NONE,\n                            null);\n                        DBDValueHandler valueHandler = valueController.getValueHandler();\n                        valueController.updateValue(uuid, false);\n                    }\n                }\n                rsc.redrawData(false, false);\n                rsc.updateEditControls();\n            }\n        } else {\n            ITextViewer textViewer = activePart.getAdapter(ITextViewer.class);\n            if (textViewer != null) {\n                ISelection selection = textViewer.getSelectionProvider().getSelection();\n                if (selection instanceof TextSelection) {\n                    try {\n                        int offset = ((TextSelection) selection).getOffset();\n                        int length = ((TextSelection) selection).getLength();\n                        textViewer.getDocument().replace(\n                            offset,\n                            length, uuid);\n                        textViewer.getSelectionProvider().setSelection(new TextSelection(offset + uuid.length(), 0));\n                    } catch (BadLocationException e) {\n                        DBWorkbench.getPlatformUI().showError(\"Insert UUID\", \"Error inserting UUID in text editor\", e);\n                    }\n                }\n            } else {\n                Clipboard clipboard = new Clipboard(Display.getCurrent());\n                try {\n                    TextTransfer textTransfer = TextTransfer.getInstance();\n                    clipboard.setContents(\n                        new Object[]{uuid},\n                        new Transfer[]{textTransfer});\n                } finally {\n                    clipboard.dispose();\n                }\n\n            }\n        }\n\n        return null;\n    }\n","date":"2021-04-25 04:37:00","endLine":106,"groupId":"12402","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"execute","params":"(ExecutionEventevent)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dbeaver-10-0.7/blobInfo/CC_OUT/blobs/46/9a3e6f83bcd7504b75fcd8d4bf71c24c662a05.src","preCode":"    public Object execute(ExecutionEvent event) throws ExecutionException {\n        IWorkbenchPart activePart = HandlerUtil.getActivePart(event);\n        if (activePart == null) {\n            return null;\n        }\n\n        IResultSetController rsc = activePart.getAdapter(IResultSetController.class);\n        if (rsc != null && UIUtils.hasFocus(rsc.getControl())) {\n            IResultSetSelection selection = rsc.getSelection();\n            if (selection != null && !selection.isEmpty()) {\n                for (Object cell : selection.toArray()) {\n                    DBDAttributeBinding attr = selection.getElementAttribute(cell);\n                    ResultSetRow row = selection.getElementRow(cell);\n                    if (row != null && attr != null) {\n                        ResultSetValueController valueController = new ResultSetValueController(\n                            rsc,\n                            attr,\n                            row,\n                            IValueController.EditType.NONE,\n                            null);\n                        DBDValueHandler valueHandler = valueController.getValueHandler();\n                        String uuid = generateUUID();\n                        valueController.updateValue(uuid, false);\n                    }\n                }\n                rsc.redrawData(false, false);\n                rsc.updateEditControls();\n            }\n        } else {\n            ITextViewer textViewer = activePart.getAdapter(ITextViewer.class);\n            if (textViewer != null) {\n                ISelection selection = textViewer.getSelectionProvider().getSelection();\n                if (selection instanceof TextSelection) {\n                    try {\n                        int offset = ((TextSelection) selection).getOffset();\n                        int length = ((TextSelection) selection).getLength();\n                        String uuid = generateUUID();\n                        textViewer.getDocument().replace(\n                            offset,\n                            length, uuid);\n                        textViewer.getSelectionProvider().setSelection(new TextSelection(offset + uuid.length(), 0));\n                    } catch (BadLocationException e) {\n                        DBWorkbench.getPlatformUI().showError(\"Insert UUID\", \"Error inserting UUID in text editor\", e);\n                    }\n                }\n            }\n        }\n\n        return null;\n    }\n","realPath":"plugins/org.jkiss.dbeaver.core/src/org/jkiss/dbeaver/ui/actions/common/GenerateUUIDHandler.java","repoName":"dbeaver","snippetEndLine":0,"snippetStartLine":0,"startLine":47,"status":"M"}],"commitId":"728f722197e2420f84c8a4e3ab26d940135fa94e","commitMessage":"@@@Generate UUID: copy to clipboard if no active editor found\n\n\nFormer-commit-id: f52df6281eebe4c667f45ddb9366ab347e591f52","date":"2021-04-25 04:37:00","modifiedFileCount":"1","status":"M","submitter":"serge-rider"}]
