[{"authorTime":"2018-07-18 18:21:45","codes":[{"authorDate":"2018-07-18 18:21:45","commitOrder":1,"curCode":"    public LogPosition getFirstPosition() throws CanalStoreException {\n        final ReentrantLock lock = this.lock;\n        lock.lock();\n        try {\n            long firstSeqeuence = ackSequence.get();\n            if (firstSeqeuence == INIT_SQEUENCE && firstSeqeuence < putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence + 1)]; \r\n                                                                     \r\n                return CanalEventUtils.createPosition(event, false);\n            } else if (firstSeqeuence > INIT_SQEUENCE && firstSeqeuence < putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence + 1)]; \r\n                                                                     \r\n                return CanalEventUtils.createPosition(event, true);\n            } else if (firstSeqeuence > INIT_SQEUENCE && firstSeqeuence == putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence)]; \r\n                                                                 \r\n                return CanalEventUtils.createPosition(event, false);\n            } else {\n                \r\n                return null;\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n","date":"2018-07-18 18:21:45","endLine":372,"groupId":"1004","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"getFirstPosition","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-canal-10-0.7/blobInfo/CC_OUT/blobs/07/5d152431c158611120bfd6bb12f9e8de64e8bf.src","preCode":"    public LogPosition getFirstPosition() throws CanalStoreException {\n        final ReentrantLock lock = this.lock;\n        lock.lock();\n        try {\n            long firstSeqeuence = ackSequence.get();\n            if (firstSeqeuence == INIT_SQEUENCE && firstSeqeuence < putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence + 1)]; \r\n                                                                     \r\n                return CanalEventUtils.createPosition(event, false);\n            } else if (firstSeqeuence > INIT_SQEUENCE && firstSeqeuence < putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence + 1)]; \r\n                                                                     \r\n                return CanalEventUtils.createPosition(event, true);\n            } else if (firstSeqeuence > INIT_SQEUENCE && firstSeqeuence == putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence)]; \r\n                                                                 \r\n                return CanalEventUtils.createPosition(event, false);\n            } else {\n                \r\n                return null;\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n","realPath":"store/src/main/java/com/alibaba/otter/canal/store/memory/MemoryEventStoreWithBuffer.java","repoName":"canal","snippetEndLine":0,"snippetStartLine":0,"startLine":345,"status":"B"},{"authorDate":"2018-07-18 18:21:45","commitOrder":1,"curCode":"    public LogPosition getLatestPosition() throws CanalStoreException {\n        final ReentrantLock lock = this.lock;\n        lock.lock();\n        try {\n            long latestSequence = putSequence.get();\n            if (latestSequence > INIT_SQEUENCE && latestSequence != ackSequence.get()) {\n                Event event = entries[(int) putSequence.get() & indexMask]; \r\n                return CanalEventUtils.createPosition(event, true);\n            } else if (latestSequence > INIT_SQEUENCE && latestSequence == ackSequence.get()) {\n                \r\n                Event event = entries[(int) putSequence.get() & indexMask]; \r\n                                                                            \r\n                                                                            \r\n                return CanalEventUtils.createPosition(event, false);\n            } else {\n                \r\n                return null;\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n","date":"2018-07-18 18:21:45","endLine":395,"groupId":"614","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"getLatestPosition","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-canal-10-0.7/blobInfo/CC_OUT/blobs/07/5d152431c158611120bfd6bb12f9e8de64e8bf.src","preCode":"    public LogPosition getLatestPosition() throws CanalStoreException {\n        final ReentrantLock lock = this.lock;\n        lock.lock();\n        try {\n            long latestSequence = putSequence.get();\n            if (latestSequence > INIT_SQEUENCE && latestSequence != ackSequence.get()) {\n                Event event = entries[(int) putSequence.get() & indexMask]; \r\n                return CanalEventUtils.createPosition(event, true);\n            } else if (latestSequence > INIT_SQEUENCE && latestSequence == ackSequence.get()) {\n                \r\n                Event event = entries[(int) putSequence.get() & indexMask]; \r\n                                                                            \r\n                                                                            \r\n                return CanalEventUtils.createPosition(event, false);\n            } else {\n                \r\n                return null;\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n","realPath":"store/src/main/java/com/alibaba/otter/canal/store/memory/MemoryEventStoreWithBuffer.java","repoName":"canal","snippetEndLine":0,"snippetStartLine":0,"startLine":374,"status":"B"}],"commitId":"10bb800f85ac047071a942a3323fccebed3dac44","commitMessage":"@@@fixed issue #726 .  ??SessionHandler?????. ?????Entry\n","date":"2018-07-18 18:21:45","modifiedFileCount":"17","status":"B","submitter":"??"},{"authorTime":"2018-09-20 10:15:23","codes":[{"authorDate":"2018-09-20 10:15:23","commitOrder":2,"curCode":"    public LogPosition getFirstPosition() throws CanalStoreException {\n        final ReentrantLock lock = this.lock;\n        lock.lock();\n        try {\n            long firstSeqeuence = ackSequence.get();\n            if (firstSeqeuence == INIT_SEQUENCE && firstSeqeuence < putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence + 1)]; \r\n                                                                     \r\n                return CanalEventUtils.createPosition(event, false);\n            } else if (firstSeqeuence > INIT_SEQUENCE && firstSeqeuence < putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence + 1)]; \r\n                                                                     \r\n                return CanalEventUtils.createPosition(event, true);\n            } else if (firstSeqeuence > INIT_SEQUENCE && firstSeqeuence == putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence)]; \r\n                                                                 \r\n                return CanalEventUtils.createPosition(event, false);\n            } else {\n                \r\n                return null;\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n","date":"2018-09-20 10:15:23","endLine":383,"groupId":"1004","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"getFirstPosition","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-canal-10-0.7/blobInfo/CC_OUT/blobs/5f/db0323ca12178c02a32dd50cddbfafaffa8854.src","preCode":"    public LogPosition getFirstPosition() throws CanalStoreException {\n        final ReentrantLock lock = this.lock;\n        lock.lock();\n        try {\n            long firstSeqeuence = ackSequence.get();\n            if (firstSeqeuence == INIT_SQEUENCE && firstSeqeuence < putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence + 1)]; \r\n                                                                     \r\n                return CanalEventUtils.createPosition(event, false);\n            } else if (firstSeqeuence > INIT_SQEUENCE && firstSeqeuence < putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence + 1)]; \r\n                                                                     \r\n                return CanalEventUtils.createPosition(event, true);\n            } else if (firstSeqeuence > INIT_SQEUENCE && firstSeqeuence == putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence)]; \r\n                                                                 \r\n                return CanalEventUtils.createPosition(event, false);\n            } else {\n                \r\n                return null;\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n","realPath":"store/src/main/java/com/alibaba/otter/canal/store/memory/MemoryEventStoreWithBuffer.java","repoName":"canal","snippetEndLine":0,"snippetStartLine":0,"startLine":356,"status":"M"},{"authorDate":"2018-09-20 10:15:23","commitOrder":2,"curCode":"    public LogPosition getLatestPosition() throws CanalStoreException {\n        final ReentrantLock lock = this.lock;\n        lock.lock();\n        try {\n            long latestSequence = putSequence.get();\n            if (latestSequence > INIT_SEQUENCE && latestSequence != ackSequence.get()) {\n                Event event = entries[(int) putSequence.get() & indexMask]; \r\n                return CanalEventUtils.createPosition(event, true);\n            } else if (latestSequence > INIT_SEQUENCE && latestSequence == ackSequence.get()) {\n                \r\n                Event event = entries[(int) putSequence.get() & indexMask]; \r\n                                                                            \r\n                                                                            \r\n                return CanalEventUtils.createPosition(event, false);\n            } else {\n                \r\n                return null;\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n","date":"2018-09-20 10:15:23","endLine":406,"groupId":"614","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"getLatestPosition","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-canal-10-0.7/blobInfo/CC_OUT/blobs/5f/db0323ca12178c02a32dd50cddbfafaffa8854.src","preCode":"    public LogPosition getLatestPosition() throws CanalStoreException {\n        final ReentrantLock lock = this.lock;\n        lock.lock();\n        try {\n            long latestSequence = putSequence.get();\n            if (latestSequence > INIT_SQEUENCE && latestSequence != ackSequence.get()) {\n                Event event = entries[(int) putSequence.get() & indexMask]; \r\n                return CanalEventUtils.createPosition(event, true);\n            } else if (latestSequence > INIT_SQEUENCE && latestSequence == ackSequence.get()) {\n                \r\n                Event event = entries[(int) putSequence.get() & indexMask]; \r\n                                                                            \r\n                                                                            \r\n                return CanalEventUtils.createPosition(event, false);\n            } else {\n                \r\n                return null;\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n","realPath":"store/src/main/java/com/alibaba/otter/canal/store/memory/MemoryEventStoreWithBuffer.java","repoName":"canal","snippetEndLine":0,"snippetStartLine":0,"startLine":385,"status":"M"}],"commitId":"b026c44ea87fd2a392bf3abe59733c9037132910","commitMessage":"@@@Merge pull request #953 from DaiZZZZZ/master\n\n??????","date":"2018-09-20 10:15:23","modifiedFileCount":"1","status":"M","submitter":"agapple"},{"authorTime":"2018-09-20 10:15:23","codes":[{"authorDate":"2019-06-25 17:32:46","commitOrder":3,"curCode":"    public LogPosition getFirstPosition() throws CanalStoreException {\n        final ReentrantLock lock = this.lock;\n        lock.lock();\n        try {\n            long firstSeqeuence = ackSequence.get();\n            if (firstSeqeuence == INIT_SEQUENCE && firstSeqeuence < putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence + 1)]; \r\n                                                                     \r\n                return CanalEventUtils.createPosition(event, false);\n            } else if (firstSeqeuence > INIT_SEQUENCE && firstSeqeuence < putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence)]; \r\n                \r\n                return CanalEventUtils.createPosition(event, false);\n            } else if (firstSeqeuence > INIT_SEQUENCE && firstSeqeuence == putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence)]; \r\n                                                                 \r\n                return CanalEventUtils.createPosition(event, false);\n            } else {\n                \r\n                return null;\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n","date":"2019-06-25 17:32:46","endLine":388,"groupId":"1024","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"getFirstPosition","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-canal-10-0.7/blobInfo/CC_OUT/blobs/22/308c7104061ed46f3e014ae13cff73f116471e.src","preCode":"    public LogPosition getFirstPosition() throws CanalStoreException {\n        final ReentrantLock lock = this.lock;\n        lock.lock();\n        try {\n            long firstSeqeuence = ackSequence.get();\n            if (firstSeqeuence == INIT_SEQUENCE && firstSeqeuence < putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence + 1)]; \r\n                                                                     \r\n                return CanalEventUtils.createPosition(event, false);\n            } else if (firstSeqeuence > INIT_SEQUENCE && firstSeqeuence < putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence + 1)]; \r\n                                                                     \r\n                return CanalEventUtils.createPosition(event, true);\n            } else if (firstSeqeuence > INIT_SEQUENCE && firstSeqeuence == putSequence.get()) {\n                \r\n                Event event = entries[getIndex(firstSeqeuence)]; \r\n                                                                 \r\n                return CanalEventUtils.createPosition(event, false);\n            } else {\n                \r\n                return null;\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n","realPath":"store/src/main/java/com/alibaba/otter/canal/store/memory/MemoryEventStoreWithBuffer.java","repoName":"canal","snippetEndLine":0,"snippetStartLine":0,"startLine":361,"status":"M"},{"authorDate":"2018-09-20 10:15:23","commitOrder":3,"curCode":"    public LogPosition getLatestPosition() throws CanalStoreException {\n        final ReentrantLock lock = this.lock;\n        lock.lock();\n        try {\n            long latestSequence = putSequence.get();\n            if (latestSequence > INIT_SEQUENCE && latestSequence != ackSequence.get()) {\n                Event event = entries[(int) putSequence.get() & indexMask]; \r\n                return CanalEventUtils.createPosition(event, true);\n            } else if (latestSequence > INIT_SEQUENCE && latestSequence == ackSequence.get()) {\n                \r\n                Event event = entries[(int) putSequence.get() & indexMask]; \r\n                                                                            \r\n                                                                            \r\n                return CanalEventUtils.createPosition(event, false);\n            } else {\n                \r\n                return null;\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n","date":"2018-09-20 10:15:23","endLine":406,"groupId":"1024","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"getLatestPosition","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-canal-10-0.7/blobInfo/CC_OUT/blobs/5f/db0323ca12178c02a32dd50cddbfafaffa8854.src","preCode":"    public LogPosition getLatestPosition() throws CanalStoreException {\n        final ReentrantLock lock = this.lock;\n        lock.lock();\n        try {\n            long latestSequence = putSequence.get();\n            if (latestSequence > INIT_SEQUENCE && latestSequence != ackSequence.get()) {\n                Event event = entries[(int) putSequence.get() & indexMask]; \r\n                return CanalEventUtils.createPosition(event, true);\n            } else if (latestSequence > INIT_SEQUENCE && latestSequence == ackSequence.get()) {\n                \r\n                Event event = entries[(int) putSequence.get() & indexMask]; \r\n                                                                            \r\n                                                                            \r\n                return CanalEventUtils.createPosition(event, false);\n            } else {\n                \r\n                return null;\n            }\n        } finally {\n            lock.unlock();\n        }\n    }\n","realPath":"store/src/main/java/com/alibaba/otter/canal/store/memory/MemoryEventStoreWithBuffer.java","repoName":"canal","snippetEndLine":0,"snippetStartLine":0,"startLine":385,"status":"N"}],"commitId":"49570834934388acdfcf0cdceb276fce0e8ccf5d","commitMessage":"@@@fixed issue #1897 .  memory event store ack null\n","date":"2019-06-25 17:32:46","modifiedFileCount":"6","status":"M","submitter":"agapple"}]
