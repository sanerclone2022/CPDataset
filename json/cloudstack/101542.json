[{"authorTime":"2018-01-20 05:49:27","codes":[{"authorDate":"2018-01-20 05:49:27","commitOrder":1,"curCode":"    public ListResponse<DomainRouterResponse> searchForRouters(ListRoutersCmd cmd) {\n        Pair<List<DomainRouterJoinVO>, Integer> result =\n            searchForRoutersInternal(cmd, cmd.getId(), cmd.getRouterName(), cmd.getState(), cmd.getZoneId(), cmd.getPodId(), cmd.getClusterId(), cmd.getHostId(),\n                cmd.getKeyword(), cmd.getNetworkId(), cmd.getVpcId(), cmd.getForVpc(), cmd.getRole(), cmd.getVersion());\n        ListResponse<DomainRouterResponse> response = new ListResponse<DomainRouterResponse>();\n\n        List<DomainRouterResponse> routerResponses = ViewResponseHelper.createDomainRouterResponse(result.first().toArray(new DomainRouterJoinVO[result.first().size()]));\n        response.setResponses(routerResponses, result.second());\n        return response;\n    }\n","date":"2018-01-20 05:49:27","endLine":1162,"groupId":"12289","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"searchForRouters","params":"(ListRoutersCmdcmd)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/9c/728ef0f78a89a60fa81fa6bfab723232623813.src","preCode":"    public ListResponse<DomainRouterResponse> searchForRouters(ListRoutersCmd cmd) {\n        Pair<List<DomainRouterJoinVO>, Integer> result =\n            searchForRoutersInternal(cmd, cmd.getId(), cmd.getRouterName(), cmd.getState(), cmd.getZoneId(), cmd.getPodId(), cmd.getClusterId(), cmd.getHostId(),\n                cmd.getKeyword(), cmd.getNetworkId(), cmd.getVpcId(), cmd.getForVpc(), cmd.getRole(), cmd.getVersion());\n        ListResponse<DomainRouterResponse> response = new ListResponse<DomainRouterResponse>();\n\n        List<DomainRouterResponse> routerResponses = ViewResponseHelper.createDomainRouterResponse(result.first().toArray(new DomainRouterJoinVO[result.first().size()]));\n        response.setResponses(routerResponses, result.second());\n        return response;\n    }\n","realPath":"server/src/main/java/com/cloud/api/query/QueryManagerImpl.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":1153,"status":"B"},{"authorDate":"2018-01-20 05:49:27","commitOrder":1,"curCode":"    public ListResponse<DomainRouterResponse> searchForInternalLbVms(ListInternalLBVMsCmd cmd) {\n        Pair<List<DomainRouterJoinVO>, Integer> result =\n            searchForRoutersInternal(cmd, cmd.getId(), cmd.getRouterName(), cmd.getState(), cmd.getZoneId(), cmd.getPodId(), null, cmd.getHostId(), cmd.getKeyword(),\n                cmd.getNetworkId(), cmd.getVpcId(), cmd.getForVpc(), cmd.getRole(), null);\n        ListResponse<DomainRouterResponse> response = new ListResponse<DomainRouterResponse>();\n\n        List<DomainRouterResponse> routerResponses = ViewResponseHelper.createDomainRouterResponse(result.first().toArray(new DomainRouterJoinVO[result.first().size()]));\n        response.setResponses(routerResponses, result.second());\n        return response;\n    }\n","date":"2018-01-20 05:49:27","endLine":1174,"groupId":"12289","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"searchForInternalLbVms","params":"(ListInternalLBVMsCmdcmd)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/9c/728ef0f78a89a60fa81fa6bfab723232623813.src","preCode":"    public ListResponse<DomainRouterResponse> searchForInternalLbVms(ListInternalLBVMsCmd cmd) {\n        Pair<List<DomainRouterJoinVO>, Integer> result =\n            searchForRoutersInternal(cmd, cmd.getId(), cmd.getRouterName(), cmd.getState(), cmd.getZoneId(), cmd.getPodId(), null, cmd.getHostId(), cmd.getKeyword(),\n                cmd.getNetworkId(), cmd.getVpcId(), cmd.getForVpc(), cmd.getRole(), null);\n        ListResponse<DomainRouterResponse> response = new ListResponse<DomainRouterResponse>();\n\n        List<DomainRouterResponse> routerResponses = ViewResponseHelper.createDomainRouterResponse(result.first().toArray(new DomainRouterJoinVO[result.first().size()]));\n        response.setResponses(routerResponses, result.second());\n        return response;\n    }\n","realPath":"server/src/main/java/com/cloud/api/query/QueryManagerImpl.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":1165,"status":"B"}],"commitId":"893a88d225276e45f12f9490e6af2c94a81c2965","commitMessage":"@@@CLOUDSTACK-10105: Use maven standard project structure in all projects (#2283)\n\nRemove maven standard module (which only a few were using) and get ride of maven customization for the projects structure.\n\n- moved all directories to src/main/java.  src/main/resources.  src/main/scripts.  src/test/java.  src/test/resources\n- grep scan to search for src/com and src/org left over\n- grep for <project>/scripts to fix pom.xml configuration\n- remove custom <build> configuration in pom.xml\n\nSigned-off-by: Marc-Aur?le Brothier <m@brothier.org>","date":"2018-01-20 05:49:27","modifiedFileCount":"1","status":"B","submitter":"Marc-Aur?le Brothier"},{"authorTime":"2020-01-30 19:39:03","codes":[{"authorDate":"2020-01-30 19:39:03","commitOrder":2,"curCode":"    public ListResponse<DomainRouterResponse> searchForRouters(ListRoutersCmd cmd) {\n        Pair<List<DomainRouterJoinVO>, Integer> result = searchForRoutersInternal(cmd, cmd.getId(), cmd.getRouterName(), cmd.getState(), cmd.getZoneId(), cmd.getPodId(), cmd.getClusterId(),\n                cmd.getHostId(), cmd.getKeyword(), cmd.getNetworkId(), cmd.getVpcId(), cmd.getForVpc(), cmd.getRole(), cmd.getVersion());\n        ListResponse<DomainRouterResponse> response = new ListResponse<DomainRouterResponse>();\n        List<DomainRouterResponse> routerResponses = ViewResponseHelper.createDomainRouterResponse(result.first().toArray(new DomainRouterJoinVO[result.first().size()]));\n        if (VirtualNetworkApplianceManager.RouterHealthChecksEnabled.value()) {\n            for (DomainRouterResponse res : routerResponses) {\n                DomainRouterVO resRouter = _routerDao.findByUuid(res.getId());\n                res.setHealthChecksFailed(routerHealthCheckResultDao.hasFailingChecks(resRouter.getId()));\n                if (cmd.shouldFetchHealthCheckResults()) {\n                    res.setHealthCheckResults(responseGenerator.createHealthCheckResponse(resRouter,\n                            new ArrayList<>(routerHealthCheckResultDao.getHealthCheckResults(resRouter.getId()))));\n                }\n            }\n        }\n        response.setResponses(routerResponses, result.second());\n        return response;\n    }\n","date":"2020-01-30 19:39:03","endLine":1230,"groupId":"12289","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"searchForRouters","params":"(ListRoutersCmdcmd)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/6f/90d0825da2441842fd26269a3a19ef5c7ee337.src","preCode":"    public ListResponse<DomainRouterResponse> searchForRouters(ListRoutersCmd cmd) {\n        Pair<List<DomainRouterJoinVO>, Integer> result = searchForRoutersInternal(cmd, cmd.getId(), cmd.getRouterName(), cmd.getState(), cmd.getZoneId(), cmd.getPodId(), cmd.getClusterId(),\n                cmd.getHostId(), cmd.getKeyword(), cmd.getNetworkId(), cmd.getVpcId(), cmd.getForVpc(), cmd.getRole(), cmd.getVersion());\n        ListResponse<DomainRouterResponse> response = new ListResponse<DomainRouterResponse>();\n\n        List<DomainRouterResponse> routerResponses = ViewResponseHelper.createDomainRouterResponse(result.first().toArray(new DomainRouterJoinVO[result.first().size()]));\n        response.setResponses(routerResponses, result.second());\n        return response;\n    }\n","realPath":"server/src/main/java/com/cloud/api/query/QueryManagerImpl.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":1213,"status":"M"},{"authorDate":"2020-01-30 19:39:03","commitOrder":2,"curCode":"    public ListResponse<DomainRouterResponse> searchForInternalLbVms(ListInternalLBVMsCmd cmd) {\n        Pair<List<DomainRouterJoinVO>, Integer> result = searchForRoutersInternal(cmd, cmd.getId(), cmd.getRouterName(), cmd.getState(), cmd.getZoneId(), cmd.getPodId(), null, cmd.getHostId(),\n                cmd.getKeyword(), cmd.getNetworkId(), cmd.getVpcId(), cmd.getForVpc(), cmd.getRole(), null);\n        ListResponse<DomainRouterResponse> response = new ListResponse<DomainRouterResponse>();\n        List<DomainRouterResponse> routerResponses = ViewResponseHelper.createDomainRouterResponse(result.first().toArray(new DomainRouterJoinVO[result.first().size()]));\n        if (VirtualNetworkApplianceManager.RouterHealthChecksEnabled.value()) {\n            for (DomainRouterResponse res : routerResponses) {\n                DomainRouterVO resRouter = _routerDao.findByUuid(res.getId());\n                res.setHealthChecksFailed(routerHealthCheckResultDao.hasFailingChecks(resRouter.getId()));\n                if (cmd.shouldFetchHealthCheckResults()) {\n                    res.setHealthCheckResults(responseGenerator.createHealthCheckResponse(resRouter,\n                            new ArrayList<>(routerHealthCheckResultDao.getHealthCheckResults(resRouter.getId()))));\n                }\n            }\n        }\n\n        response.setResponses(routerResponses, result.second());\n        return response;\n    }\n","date":"2020-01-30 19:39:03","endLine":1251,"groupId":"12289","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"searchForInternalLbVms","params":"(ListInternalLBVMsCmdcmd)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/6f/90d0825da2441842fd26269a3a19ef5c7ee337.src","preCode":"    public ListResponse<DomainRouterResponse> searchForInternalLbVms(ListInternalLBVMsCmd cmd) {\n        Pair<List<DomainRouterJoinVO>, Integer> result = searchForRoutersInternal(cmd, cmd.getId(), cmd.getRouterName(), cmd.getState(), cmd.getZoneId(), cmd.getPodId(), null, cmd.getHostId(),\n                cmd.getKeyword(), cmd.getNetworkId(), cmd.getVpcId(), cmd.getForVpc(), cmd.getRole(), null);\n        ListResponse<DomainRouterResponse> response = new ListResponse<DomainRouterResponse>();\n\n        List<DomainRouterResponse> routerResponses = ViewResponseHelper.createDomainRouterResponse(result.first().toArray(new DomainRouterJoinVO[result.first().size()]));\n        response.setResponses(routerResponses, result.second());\n        return response;\n    }\n","realPath":"server/src/main/java/com/cloud/api/query/QueryManagerImpl.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":1233,"status":"M"}],"commitId":"c0abfce8fa3bd1603a4b1ea6fe9908623e04a827","commitMessage":"@@@Health check feature for virtual router (#3575)\n\n\n","date":"2020-01-30 19:39:03","modifiedFileCount":"39","status":"M","submitter":"Anurag Awasthi"},{"authorTime":"2021-06-29 15:22:24","codes":[{"authorDate":"2021-06-29 15:22:24","commitOrder":3,"curCode":"    public ListResponse<DomainRouterResponse> searchForRouters(ListRoutersCmd cmd) {\n        Pair<List<DomainRouterJoinVO>, Integer> result = searchForRoutersInternal(cmd, cmd.getId(), cmd.getRouterName(), cmd.getState(), cmd.getZoneId(), cmd.getPodId(), cmd.getClusterId(),\n                cmd.getHostId(), cmd.getKeyword(), cmd.getNetworkId(), cmd.getVpcId(), cmd.getForVpc(), cmd.getRole(), cmd.getVersion(), cmd.isHealthCheckFailed());\n        ListResponse<DomainRouterResponse> response = new ListResponse<DomainRouterResponse>();\n        List<DomainRouterResponse> routerResponses = ViewResponseHelper.createDomainRouterResponse(result.first().toArray(new DomainRouterJoinVO[result.first().size()]));\n        if (VirtualNetworkApplianceManager.RouterHealthChecksEnabled.value()) {\n            for (DomainRouterResponse res : routerResponses) {\n                DomainRouterVO resRouter = _routerDao.findByUuid(res.getId());\n                res.setHealthChecksFailed(routerHealthCheckResultDao.hasFailingChecks(resRouter.getId()));\n                if (cmd.shouldFetchHealthCheckResults()) {\n                    res.setHealthCheckResults(responseGenerator.createHealthCheckResponse(resRouter,\n                            new ArrayList<>(routerHealthCheckResultDao.getHealthCheckResults(resRouter.getId()))));\n                }\n            }\n        }\n        response.setResponses(routerResponses, result.second());\n        return response;\n    }\n","date":"2021-06-29 15:22:24","endLine":1282,"groupId":"101542","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"searchForRouters","params":"(ListRoutersCmdcmd)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/0c/8a7f794355470585e66f00b8f188e538eae528.src","preCode":"    public ListResponse<DomainRouterResponse> searchForRouters(ListRoutersCmd cmd) {\n        Pair<List<DomainRouterJoinVO>, Integer> result = searchForRoutersInternal(cmd, cmd.getId(), cmd.getRouterName(), cmd.getState(), cmd.getZoneId(), cmd.getPodId(), cmd.getClusterId(),\n                cmd.getHostId(), cmd.getKeyword(), cmd.getNetworkId(), cmd.getVpcId(), cmd.getForVpc(), cmd.getRole(), cmd.getVersion());\n        ListResponse<DomainRouterResponse> response = new ListResponse<DomainRouterResponse>();\n        List<DomainRouterResponse> routerResponses = ViewResponseHelper.createDomainRouterResponse(result.first().toArray(new DomainRouterJoinVO[result.first().size()]));\n        if (VirtualNetworkApplianceManager.RouterHealthChecksEnabled.value()) {\n            for (DomainRouterResponse res : routerResponses) {\n                DomainRouterVO resRouter = _routerDao.findByUuid(res.getId());\n                res.setHealthChecksFailed(routerHealthCheckResultDao.hasFailingChecks(resRouter.getId()));\n                if (cmd.shouldFetchHealthCheckResults()) {\n                    res.setHealthCheckResults(responseGenerator.createHealthCheckResponse(resRouter,\n                            new ArrayList<>(routerHealthCheckResultDao.getHealthCheckResults(resRouter.getId()))));\n                }\n            }\n        }\n        response.setResponses(routerResponses, result.second());\n        return response;\n    }\n","realPath":"server/src/main/java/com/cloud/api/query/QueryManagerImpl.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":1265,"status":"M"},{"authorDate":"2021-06-29 15:22:24","commitOrder":3,"curCode":"    public ListResponse<DomainRouterResponse> searchForInternalLbVms(ListInternalLBVMsCmd cmd) {\n        Pair<List<DomainRouterJoinVO>, Integer> result = searchForRoutersInternal(cmd, cmd.getId(), cmd.getRouterName(), cmd.getState(), cmd.getZoneId(), cmd.getPodId(), null, cmd.getHostId(),\n                cmd.getKeyword(), cmd.getNetworkId(), cmd.getVpcId(), cmd.getForVpc(), cmd.getRole(), null, null);\n        ListResponse<DomainRouterResponse> response = new ListResponse<DomainRouterResponse>();\n        List<DomainRouterResponse> routerResponses = ViewResponseHelper.createDomainRouterResponse(result.first().toArray(new DomainRouterJoinVO[result.first().size()]));\n        if (VirtualNetworkApplianceManager.RouterHealthChecksEnabled.value()) {\n            for (DomainRouterResponse res : routerResponses) {\n                DomainRouterVO resRouter = _routerDao.findByUuid(res.getId());\n                res.setHealthChecksFailed(routerHealthCheckResultDao.hasFailingChecks(resRouter.getId()));\n                if (cmd.shouldFetchHealthCheckResults()) {\n                    res.setHealthCheckResults(responseGenerator.createHealthCheckResponse(resRouter,\n                            new ArrayList<>(routerHealthCheckResultDao.getHealthCheckResults(resRouter.getId()))));\n                }\n            }\n        }\n\n        response.setResponses(routerResponses, result.second());\n        return response;\n    }\n","date":"2021-06-29 15:22:24","endLine":1303,"groupId":"101542","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"searchForInternalLbVms","params":"(ListInternalLBVMsCmdcmd)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/0c/8a7f794355470585e66f00b8f188e538eae528.src","preCode":"    public ListResponse<DomainRouterResponse> searchForInternalLbVms(ListInternalLBVMsCmd cmd) {\n        Pair<List<DomainRouterJoinVO>, Integer> result = searchForRoutersInternal(cmd, cmd.getId(), cmd.getRouterName(), cmd.getState(), cmd.getZoneId(), cmd.getPodId(), null, cmd.getHostId(),\n                cmd.getKeyword(), cmd.getNetworkId(), cmd.getVpcId(), cmd.getForVpc(), cmd.getRole(), null);\n        ListResponse<DomainRouterResponse> response = new ListResponse<DomainRouterResponse>();\n        List<DomainRouterResponse> routerResponses = ViewResponseHelper.createDomainRouterResponse(result.first().toArray(new DomainRouterJoinVO[result.first().size()]));\n        if (VirtualNetworkApplianceManager.RouterHealthChecksEnabled.value()) {\n            for (DomainRouterResponse res : routerResponses) {\n                DomainRouterVO resRouter = _routerDao.findByUuid(res.getId());\n                res.setHealthChecksFailed(routerHealthCheckResultDao.hasFailingChecks(resRouter.getId()));\n                if (cmd.shouldFetchHealthCheckResults()) {\n                    res.setHealthCheckResults(responseGenerator.createHealthCheckResponse(resRouter,\n                            new ArrayList<>(routerHealthCheckResultDao.getHealthCheckResults(resRouter.getId()))));\n                }\n            }\n        }\n\n        response.setResponses(routerResponses, result.second());\n        return response;\n    }\n","realPath":"server/src/main/java/com/cloud/api/query/QueryManagerImpl.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":1285,"status":"M"}],"commitId":"9ac3925936c385065ff6629d3bb7e0b46b579500","commitMessage":"@@@server: list routers by healthchecksfailed (#4886)\n\n* server: list routers by healthchecksfailed\n\n* #4886: fix build error\n\n* #4886: ignore global setting\n\nCo-authored-by: Wei Zhou <weizhou@apache.org>","date":"2021-06-29 15:22:24","modifiedFileCount":"4","status":"M","submitter":"Wei Zhou"}]
