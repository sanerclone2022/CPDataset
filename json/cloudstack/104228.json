[{"authorTime":"2020-03-06 15:51:23","codes":[{"authorDate":"2020-03-06 15:51:23","commitOrder":1,"curCode":"    public boolean stopKubernetesCluster(long kubernetesClusterId) throws CloudRuntimeException {\n        if (!KubernetesServiceEnabled.value()) {\n            logAndThrow(Level.ERROR, \"Kubernetes Service plugin is disabled\");\n        }\n        final KubernetesClusterVO kubernetesCluster = kubernetesClusterDao.findById(kubernetesClusterId);\n        if (kubernetesCluster == null) {\n            throw new InvalidParameterValueException(\"Failed to find Kubernetes cluster with given ID\");\n        }\n        if (kubernetesCluster.getRemoved() != null) {\n            throw new InvalidParameterValueException(String.format(\"Kubernetes cluster ID: %s is already deleted\", kubernetesCluster.getUuid()));\n        }\n        accountManager.checkAccess(CallContext.current().getCallingAccount(), SecurityChecker.AccessType.OperateEntry, false, kubernetesCluster);\n        if (kubernetesCluster.getState().equals(KubernetesCluster.State.Stopped)) {\n            if (LOGGER.isDebugEnabled()) {\n                LOGGER.debug(String.format(\"Kubernetes cluster ID: %s is already stopped\", kubernetesCluster.getUuid()));\n            }\n            return true;\n        }\n        if (kubernetesCluster.getState().equals(KubernetesCluster.State.Stopping)) {\n            if (LOGGER.isDebugEnabled()) {\n                LOGGER.debug(String.format(\"Kubernetes cluster ID: %s is getting stopped\", kubernetesCluster.getUuid()));\n            }\n            return true;\n        }\n        KubernetesClusterStopWorker stopWorker = new KubernetesClusterStopWorker(kubernetesCluster, this);\n        stopWorker = ComponentContext.inject(stopWorker);\n        return stopWorker.stop();\n    }\n","date":"2020-03-06 15:51:23","endLine":1092,"groupId":"7254","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"stopKubernetesCluster","params":"(longkubernetesClusterId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/35/8fa034a8ba19c25ff80ea5a512ad96d333cf35.src","preCode":"    public boolean stopKubernetesCluster(long kubernetesClusterId) throws CloudRuntimeException {\n        if (!KubernetesServiceEnabled.value()) {\n            logAndThrow(Level.ERROR, \"Kubernetes Service plugin is disabled\");\n        }\n        final KubernetesClusterVO kubernetesCluster = kubernetesClusterDao.findById(kubernetesClusterId);\n        if (kubernetesCluster == null) {\n            throw new InvalidParameterValueException(\"Failed to find Kubernetes cluster with given ID\");\n        }\n        if (kubernetesCluster.getRemoved() != null) {\n            throw new InvalidParameterValueException(String.format(\"Kubernetes cluster ID: %s is already deleted\", kubernetesCluster.getUuid()));\n        }\n        accountManager.checkAccess(CallContext.current().getCallingAccount(), SecurityChecker.AccessType.OperateEntry, false, kubernetesCluster);\n        if (kubernetesCluster.getState().equals(KubernetesCluster.State.Stopped)) {\n            if (LOGGER.isDebugEnabled()) {\n                LOGGER.debug(String.format(\"Kubernetes cluster ID: %s is already stopped\", kubernetesCluster.getUuid()));\n            }\n            return true;\n        }\n        if (kubernetesCluster.getState().equals(KubernetesCluster.State.Stopping)) {\n            if (LOGGER.isDebugEnabled()) {\n                LOGGER.debug(String.format(\"Kubernetes cluster ID: %s is getting stopped\", kubernetesCluster.getUuid()));\n            }\n            return true;\n        }\n        KubernetesClusterStopWorker stopWorker = new KubernetesClusterStopWorker(kubernetesCluster, this);\n        stopWorker = ComponentContext.inject(stopWorker);\n        return stopWorker.stop();\n    }\n","realPath":"plugins/integrations/kubernetes-service/src/main/java/com/cloud/kubernetes/cluster/KubernetesClusterManagerImpl.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":1065,"status":"B"},{"authorDate":"2020-03-06 15:51:23","commitOrder":1,"curCode":"    public boolean deleteKubernetesCluster(Long kubernetesClusterId) throws CloudRuntimeException {\n        if (!KubernetesServiceEnabled.value()) {\n            logAndThrow(Level.ERROR, \"Kubernetes Service plugin is disabled\");\n        }\n        KubernetesClusterVO cluster = kubernetesClusterDao.findById(kubernetesClusterId);\n        if (cluster == null) {\n            throw new InvalidParameterValueException(\"Invalid cluster id specified\");\n        }\n        accountManager.checkAccess(CallContext.current().getCallingAccount(), SecurityChecker.AccessType.OperateEntry, false, cluster);\n        KubernetesClusterDestroyWorker destroyWorker = new KubernetesClusterDestroyWorker(cluster, this);\n        destroyWorker = ComponentContext.inject(destroyWorker);\n        return destroyWorker.destroy();\n    }\n","date":"2020-03-06 15:51:23","endLine":1107,"groupId":"7018","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"deleteKubernetesCluster","params":"(LongkubernetesClusterId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/35/8fa034a8ba19c25ff80ea5a512ad96d333cf35.src","preCode":"    public boolean deleteKubernetesCluster(Long kubernetesClusterId) throws CloudRuntimeException {\n        if (!KubernetesServiceEnabled.value()) {\n            logAndThrow(Level.ERROR, \"Kubernetes Service plugin is disabled\");\n        }\n        KubernetesClusterVO cluster = kubernetesClusterDao.findById(kubernetesClusterId);\n        if (cluster == null) {\n            throw new InvalidParameterValueException(\"Invalid cluster id specified\");\n        }\n        accountManager.checkAccess(CallContext.current().getCallingAccount(), SecurityChecker.AccessType.OperateEntry, false, cluster);\n        KubernetesClusterDestroyWorker destroyWorker = new KubernetesClusterDestroyWorker(cluster, this);\n        destroyWorker = ComponentContext.inject(destroyWorker);\n        return destroyWorker.destroy();\n    }\n","realPath":"plugins/integrations/kubernetes-service/src/main/java/com/cloud/kubernetes/cluster/KubernetesClusterManagerImpl.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":1095,"status":"B"}],"commitId":"8cc70c7d8725319ba5455c5fe17ede275e372f1c","commitMessage":"@@@CloudStack Kubernetes Service (#3680)\n\n","date":"2020-03-06 15:51:23","modifiedFileCount":"10","status":"B","submitter":"Abhishek Kumar"},{"authorTime":"2020-03-06 15:51:23","codes":[{"authorDate":"2020-10-27 14:45:43","commitOrder":2,"curCode":"    public boolean stopKubernetesCluster(long kubernetesClusterId) throws CloudRuntimeException {\n        if (!KubernetesServiceEnabled.value()) {\n            logAndThrow(Level.ERROR, \"Kubernetes Service plugin is disabled\");\n        }\n        final KubernetesClusterVO kubernetesCluster = kubernetesClusterDao.findById(kubernetesClusterId);\n        if (kubernetesCluster == null) {\n            throw new InvalidParameterValueException(\"Failed to find Kubernetes cluster with given ID\");\n        }\n        if (kubernetesCluster.getRemoved() != null) {\n            throw new InvalidParameterValueException(String.format(\"Kubernetes cluster : %s is already deleted\", kubernetesCluster.getName()));\n        }\n        accountManager.checkAccess(CallContext.current().getCallingAccount(), SecurityChecker.AccessType.OperateEntry, false, kubernetesCluster);\n        if (kubernetesCluster.getState().equals(KubernetesCluster.State.Stopped)) {\n            if (LOGGER.isDebugEnabled()) {\n                LOGGER.debug(String.format(\"Kubernetes cluster : %s is already stopped\", kubernetesCluster.getName()));\n            }\n            return true;\n        }\n        if (kubernetesCluster.getState().equals(KubernetesCluster.State.Stopping)) {\n            if (LOGGER.isDebugEnabled()) {\n                LOGGER.debug(String.format(\"Kubernetes cluster : %s is getting stopped\", kubernetesCluster.getName()));\n            }\n            return true;\n        }\n        KubernetesClusterStopWorker stopWorker = new KubernetesClusterStopWorker(kubernetesCluster, this);\n        stopWorker = ComponentContext.inject(stopWorker);\n        return stopWorker.stop();\n    }\n","date":"2020-10-27 14:45:43","endLine":1107,"groupId":"104228","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"stopKubernetesCluster","params":"(longkubernetesClusterId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/11/ac555b79a4b7f7a7d6004454fbaf942bcc1125.src","preCode":"    public boolean stopKubernetesCluster(long kubernetesClusterId) throws CloudRuntimeException {\n        if (!KubernetesServiceEnabled.value()) {\n            logAndThrow(Level.ERROR, \"Kubernetes Service plugin is disabled\");\n        }\n        final KubernetesClusterVO kubernetesCluster = kubernetesClusterDao.findById(kubernetesClusterId);\n        if (kubernetesCluster == null) {\n            throw new InvalidParameterValueException(\"Failed to find Kubernetes cluster with given ID\");\n        }\n        if (kubernetesCluster.getRemoved() != null) {\n            throw new InvalidParameterValueException(String.format(\"Kubernetes cluster ID: %s is already deleted\", kubernetesCluster.getUuid()));\n        }\n        accountManager.checkAccess(CallContext.current().getCallingAccount(), SecurityChecker.AccessType.OperateEntry, false, kubernetesCluster);\n        if (kubernetesCluster.getState().equals(KubernetesCluster.State.Stopped)) {\n            if (LOGGER.isDebugEnabled()) {\n                LOGGER.debug(String.format(\"Kubernetes cluster ID: %s is already stopped\", kubernetesCluster.getUuid()));\n            }\n            return true;\n        }\n        if (kubernetesCluster.getState().equals(KubernetesCluster.State.Stopping)) {\n            if (LOGGER.isDebugEnabled()) {\n                LOGGER.debug(String.format(\"Kubernetes cluster ID: %s is getting stopped\", kubernetesCluster.getUuid()));\n            }\n            return true;\n        }\n        KubernetesClusterStopWorker stopWorker = new KubernetesClusterStopWorker(kubernetesCluster, this);\n        stopWorker = ComponentContext.inject(stopWorker);\n        return stopWorker.stop();\n    }\n","realPath":"plugins/integrations/kubernetes-service/src/main/java/com/cloud/kubernetes/cluster/KubernetesClusterManagerImpl.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":1080,"status":"M"},{"authorDate":"2020-03-06 15:51:23","commitOrder":2,"curCode":"    public boolean deleteKubernetesCluster(Long kubernetesClusterId) throws CloudRuntimeException {\n        if (!KubernetesServiceEnabled.value()) {\n            logAndThrow(Level.ERROR, \"Kubernetes Service plugin is disabled\");\n        }\n        KubernetesClusterVO cluster = kubernetesClusterDao.findById(kubernetesClusterId);\n        if (cluster == null) {\n            throw new InvalidParameterValueException(\"Invalid cluster id specified\");\n        }\n        accountManager.checkAccess(CallContext.current().getCallingAccount(), SecurityChecker.AccessType.OperateEntry, false, cluster);\n        KubernetesClusterDestroyWorker destroyWorker = new KubernetesClusterDestroyWorker(cluster, this);\n        destroyWorker = ComponentContext.inject(destroyWorker);\n        return destroyWorker.destroy();\n    }\n","date":"2020-03-06 15:51:23","endLine":1107,"groupId":"104228","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"deleteKubernetesCluster","params":"(LongkubernetesClusterId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/35/8fa034a8ba19c25ff80ea5a512ad96d333cf35.src","preCode":"    public boolean deleteKubernetesCluster(Long kubernetesClusterId) throws CloudRuntimeException {\n        if (!KubernetesServiceEnabled.value()) {\n            logAndThrow(Level.ERROR, \"Kubernetes Service plugin is disabled\");\n        }\n        KubernetesClusterVO cluster = kubernetesClusterDao.findById(kubernetesClusterId);\n        if (cluster == null) {\n            throw new InvalidParameterValueException(\"Invalid cluster id specified\");\n        }\n        accountManager.checkAccess(CallContext.current().getCallingAccount(), SecurityChecker.AccessType.OperateEntry, false, cluster);\n        KubernetesClusterDestroyWorker destroyWorker = new KubernetesClusterDestroyWorker(cluster, this);\n        destroyWorker = ComponentContext.inject(destroyWorker);\n        return destroyWorker.destroy();\n    }\n","realPath":"plugins/integrations/kubernetes-service/src/main/java/com/cloud/kubernetes/cluster/KubernetesClusterManagerImpl.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":1095,"status":"N"}],"commitId":"86f2b796cfd4d6758dff322ce31ae880a9c4e02b","commitMessage":"@@@CKS : More log changes from uuid to name (#4415)\n\n","date":"2020-10-27 14:45:43","modifiedFileCount":"9","status":"M","submitter":"davidjumani"}]
