[{"authorTime":"2019-06-06 01:40:51","codes":[{"authorDate":"2019-06-06 01:40:51","commitOrder":2,"curCode":"    public TemplateProfile prepare(GetUploadParamsForTemplateCmd cmd) throws ResourceAllocationException {\n        UploadParams params = new TemplateUploadParams(CallContext.current().getCallingUserId(), cmd.getName(),\n                cmd.getDisplayText(), cmd.getBits(), BooleanUtils.toBoolean(cmd.isPasswordEnabled()),\n                BooleanUtils.toBoolean(cmd.getRequiresHvm()), BooleanUtils.toBoolean(cmd.isPublic()),\n                BooleanUtils.toBoolean(cmd.isFeatured()), BooleanUtils.toBoolean(cmd.isExtractable()), cmd.getFormat(), cmd.getOsTypeId(),\n                cmd.getZoneId(), HypervisorType.getType(cmd.getHypervisor()), cmd.getChecksum(),\n                cmd.getTemplateTag(), cmd.getEntityOwnerId(), cmd.getDetails(), BooleanUtils.toBoolean(cmd.isSshKeyEnabled()),\n                BooleanUtils.toBoolean(cmd.isDynamicallyScalable()), BooleanUtils.toBoolean(cmd.isRoutingType()));\n        return prepareUploadParamsInternal(params);\n    }\n","date":"2019-06-06 01:40:51","endLine":332,"groupId":"3948","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"prepare","params":"(GetUploadParamsForTemplateCmdcmd)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/0e/88c147f512c7577170f11ff0ca891cef195081.src","preCode":"    public TemplateProfile prepare(GetUploadParamsForTemplateCmd cmd) throws ResourceAllocationException {\n        UploadParams params = new TemplateUploadParams(CallContext.current().getCallingUserId(), cmd.getName(),\n                cmd.getDisplayText(), cmd.getBits(), BooleanUtils.toBoolean(cmd.isPasswordEnabled()),\n                BooleanUtils.toBoolean(cmd.getRequiresHvm()), BooleanUtils.toBoolean(cmd.isPublic()),\n                BooleanUtils.toBoolean(cmd.isFeatured()), BooleanUtils.toBoolean(cmd.isExtractable()), cmd.getFormat(), cmd.getOsTypeId(),\n                cmd.getZoneId(), HypervisorType.getType(cmd.getHypervisor()), cmd.getChecksum(),\n                cmd.getTemplateTag(), cmd.getEntityOwnerId(), cmd.getDetails(), BooleanUtils.toBoolean(cmd.isSshKeyEnabled()),\n                BooleanUtils.toBoolean(cmd.isDynamicallyScalable()), BooleanUtils.toBoolean(cmd.isRoutingType()));\n        return prepareUploadParamsInternal(params);\n    }\n","realPath":"server/src/main/java/com/cloud/template/TemplateAdapterBase.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":323,"status":"MB"},{"authorDate":"2019-06-06 01:40:51","commitOrder":2,"curCode":"    public TemplateProfile prepare(GetUploadParamsForIsoCmd cmd) throws ResourceAllocationException {\n        UploadParams params = new IsoUploadParams(CallContext.current().getCallingUserId(), cmd.getName(),\n                cmd.getDisplayText(), BooleanUtils.toBoolean(cmd.isPublic()), BooleanUtils.toBoolean(cmd.isFeatured()),\n                BooleanUtils.toBoolean(cmd.isExtractable()), cmd.getOsTypeId(),\n                cmd.getZoneId(), BooleanUtils.toBoolean(cmd.isBootable()), cmd.getEntityOwnerId());\n        return prepareUploadParamsInternal(params);\n    }\n","date":"2019-06-06 01:40:51","endLine":341,"groupId":"1685","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"prepare","params":"(GetUploadParamsForIsoCmdcmd)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/0e/88c147f512c7577170f11ff0ca891cef195081.src","preCode":"    public TemplateProfile prepare(GetUploadParamsForIsoCmd cmd) throws ResourceAllocationException {\n        UploadParams params = new IsoUploadParams(CallContext.current().getCallingUserId(), cmd.getName(),\n                cmd.getDisplayText(), BooleanUtils.toBoolean(cmd.isPublic()), BooleanUtils.toBoolean(cmd.isFeatured()),\n                BooleanUtils.toBoolean(cmd.isExtractable()), cmd.getOsTypeId(),\n                cmd.getZoneId(), BooleanUtils.toBoolean(cmd.isBootable()), cmd.getEntityOwnerId());\n        return prepareUploadParamsInternal(params);\n    }\n","realPath":"server/src/main/java/com/cloud/template/TemplateAdapterBase.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":335,"status":"B"}],"commitId":"7247c5e97ead863c7ee66733c3f6e5446806af76","commitMessage":"@@@server: add local ISO upload via UI (#3251)\n\nProblem: Users can register ISOs from URL but cannot upload local ISOs.\n\nRoot cause: CloudStack provides browser-based upload support for volumes and templates.  but ISOs are not supported.\n\nSolution:\nThe existing browser-based upload from local functionality for templates and volumes (https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=39620237) is extended to support uploading local ISOs.\n\nExtend the UI: A new button is created under the ISOs view: 'Upload from Local'. A new dialog form is displayed in which the user must select the ISO to upload from its local file system.\nExtend the API: New 'GetUploadParamsForIso' API command is created to handle the ISO upload.","date":"2019-06-06 01:40:51","modifiedFileCount":"7","status":"M","submitter":"Nicolas Vazquez"},{"authorTime":"2019-06-06 01:40:51","codes":[{"authorDate":"2020-12-23 17:43:39","commitOrder":3,"curCode":"    public TemplateProfile prepare(GetUploadParamsForTemplateCmd cmd) throws ResourceAllocationException {\n        Long osTypeId = cmd.getOsTypeId();\n        if (osTypeId == null) {\n            s_logger.info(\"Setting the default guest OS for deploy-as-is templates while the template upload is not completed\");\n            osTypeId = getDefaultDeployAsIsGuestOsId();\n        }\n        UploadParams params = new TemplateUploadParams(CallContext.current().getCallingUserId(), cmd.getName(),\n                cmd.getDisplayText(), cmd.getBits(), BooleanUtils.toBoolean(cmd.isPasswordEnabled()),\n                BooleanUtils.toBoolean(cmd.getRequiresHvm()), BooleanUtils.toBoolean(cmd.isPublic()),\n                BooleanUtils.toBoolean(cmd.isFeatured()), BooleanUtils.toBoolean(cmd.isExtractable()), cmd.getFormat(), osTypeId,\n                cmd.getZoneId(), HypervisorType.getType(cmd.getHypervisor()), cmd.getChecksum(),\n                cmd.getTemplateTag(), cmd.getEntityOwnerId(), cmd.getDetails(), BooleanUtils.toBoolean(cmd.isSshKeyEnabled()),\n                BooleanUtils.toBoolean(cmd.isDynamicallyScalable()), BooleanUtils.toBoolean(cmd.isRoutingType()));\n        return prepareUploadParamsInternal(params);\n    }\n","date":"2020-12-23 17:43:39","endLine":363,"groupId":"1684","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"prepare","params":"(GetUploadParamsForTemplateCmdcmd)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/88/0b7081bf3bc4af696671e02babe17d104a372c.src","preCode":"    public TemplateProfile prepare(GetUploadParamsForTemplateCmd cmd) throws ResourceAllocationException {\n        UploadParams params = new TemplateUploadParams(CallContext.current().getCallingUserId(), cmd.getName(),\n                cmd.getDisplayText(), cmd.getBits(), BooleanUtils.toBoolean(cmd.isPasswordEnabled()),\n                BooleanUtils.toBoolean(cmd.getRequiresHvm()), BooleanUtils.toBoolean(cmd.isPublic()),\n                BooleanUtils.toBoolean(cmd.isFeatured()), BooleanUtils.toBoolean(cmd.isExtractable()), cmd.getFormat(), cmd.getOsTypeId(),\n                cmd.getZoneId(), HypervisorType.getType(cmd.getHypervisor()), cmd.getChecksum(),\n                cmd.getTemplateTag(), cmd.getEntityOwnerId(), cmd.getDetails(), BooleanUtils.toBoolean(cmd.isSshKeyEnabled()),\n                BooleanUtils.toBoolean(cmd.isDynamicallyScalable()), BooleanUtils.toBoolean(cmd.isRoutingType()));\n        return prepareUploadParamsInternal(params);\n    }\n","realPath":"server/src/main/java/com/cloud/template/TemplateAdapterBase.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":349,"status":"M"},{"authorDate":"2019-06-06 01:40:51","commitOrder":3,"curCode":"    public TemplateProfile prepare(GetUploadParamsForIsoCmd cmd) throws ResourceAllocationException {\n        UploadParams params = new IsoUploadParams(CallContext.current().getCallingUserId(), cmd.getName(),\n                cmd.getDisplayText(), BooleanUtils.toBoolean(cmd.isPublic()), BooleanUtils.toBoolean(cmd.isFeatured()),\n                BooleanUtils.toBoolean(cmd.isExtractable()), cmd.getOsTypeId(),\n                cmd.getZoneId(), BooleanUtils.toBoolean(cmd.isBootable()), cmd.getEntityOwnerId());\n        return prepareUploadParamsInternal(params);\n    }\n","date":"2019-06-06 01:40:51","endLine":341,"groupId":"1685","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"prepare","params":"(GetUploadParamsForIsoCmdcmd)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/0e/88c147f512c7577170f11ff0ca891cef195081.src","preCode":"    public TemplateProfile prepare(GetUploadParamsForIsoCmd cmd) throws ResourceAllocationException {\n        UploadParams params = new IsoUploadParams(CallContext.current().getCallingUserId(), cmd.getName(),\n                cmd.getDisplayText(), BooleanUtils.toBoolean(cmd.isPublic()), BooleanUtils.toBoolean(cmd.isFeatured()),\n                BooleanUtils.toBoolean(cmd.isExtractable()), cmd.getOsTypeId(),\n                cmd.getZoneId(), BooleanUtils.toBoolean(cmd.isBootable()), cmd.getEntityOwnerId());\n        return prepareUploadParamsInternal(params);\n    }\n","realPath":"server/src/main/java/com/cloud/template/TemplateAdapterBase.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":335,"status":"N"}],"commitId":"4617be458387421bbbfc120c1f054c9939ba52eb","commitMessage":"@@@vmware: Fix template upload from local (#4555)\n\nUpdate the guest OS from the OVF file after upload is completed\nThis PR fixes the template upload from local on VMware\n\nCo-authored-by: dahn <daan.hoogland@gmail.com>\nCo-authored-by: dahn <daan.hoogland@gmail.com>","date":"2020-12-23 17:43:39","modifiedFileCount":"7","status":"M","submitter":"Nicolas Vazquez"},{"authorTime":"2019-06-06 01:40:51","codes":[{"authorDate":"2021-05-18 17:49:20","commitOrder":4,"curCode":"    public TemplateProfile prepare(GetUploadParamsForTemplateCmd cmd) throws ResourceAllocationException {\n        Long osTypeId = cmd.getOsTypeId();\n        if (osTypeId == null) {\n            s_logger.info(\"Setting the default guest OS for deploy-as-is templates while the template upload is not completed\");\n            osTypeId = getDefaultDeployAsIsGuestOsId();\n        }\n        UploadParams params = new TemplateUploadParams(CallContext.current().getCallingUserId(), cmd.getName(),\n                cmd.getDisplayText(), cmd.getBits(), BooleanUtils.toBoolean(cmd.isPasswordEnabled()),\n                BooleanUtils.toBoolean(cmd.getRequiresHvm()), BooleanUtils.toBoolean(cmd.isPublic()),\n                BooleanUtils.toBoolean(cmd.isFeatured()), BooleanUtils.toBoolean(cmd.isExtractable()), cmd.getFormat(), osTypeId,\n                cmd.getZoneId(), HypervisorType.getType(cmd.getHypervisor()), cmd.getChecksum(),\n                cmd.getTemplateTag(), cmd.getEntityOwnerId(), cmd.getDetails(), BooleanUtils.toBoolean(cmd.isSshKeyEnabled()),\n                BooleanUtils.toBoolean(cmd.isDynamicallyScalable()), BooleanUtils.toBoolean(cmd.isRoutingType()), cmd.isDeployAsIs());\n        return prepareUploadParamsInternal(params);\n    }\n","date":"2021-05-18 17:49:20","endLine":363,"groupId":"111373","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"prepare","params":"(GetUploadParamsForTemplateCmdcmd)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/29/0a895adc0777720d3919cbfd3b85c9c8af643d.src","preCode":"    public TemplateProfile prepare(GetUploadParamsForTemplateCmd cmd) throws ResourceAllocationException {\n        Long osTypeId = cmd.getOsTypeId();\n        if (osTypeId == null) {\n            s_logger.info(\"Setting the default guest OS for deploy-as-is templates while the template upload is not completed\");\n            osTypeId = getDefaultDeployAsIsGuestOsId();\n        }\n        UploadParams params = new TemplateUploadParams(CallContext.current().getCallingUserId(), cmd.getName(),\n                cmd.getDisplayText(), cmd.getBits(), BooleanUtils.toBoolean(cmd.isPasswordEnabled()),\n                BooleanUtils.toBoolean(cmd.getRequiresHvm()), BooleanUtils.toBoolean(cmd.isPublic()),\n                BooleanUtils.toBoolean(cmd.isFeatured()), BooleanUtils.toBoolean(cmd.isExtractable()), cmd.getFormat(), osTypeId,\n                cmd.getZoneId(), HypervisorType.getType(cmd.getHypervisor()), cmd.getChecksum(),\n                cmd.getTemplateTag(), cmd.getEntityOwnerId(), cmd.getDetails(), BooleanUtils.toBoolean(cmd.isSshKeyEnabled()),\n                BooleanUtils.toBoolean(cmd.isDynamicallyScalable()), BooleanUtils.toBoolean(cmd.isRoutingType()));\n        return prepareUploadParamsInternal(params);\n    }\n","realPath":"server/src/main/java/com/cloud/template/TemplateAdapterBase.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":349,"status":"M"},{"authorDate":"2019-06-06 01:40:51","commitOrder":4,"curCode":"    public TemplateProfile prepare(GetUploadParamsForIsoCmd cmd) throws ResourceAllocationException {\n        UploadParams params = new IsoUploadParams(CallContext.current().getCallingUserId(), cmd.getName(),\n                cmd.getDisplayText(), BooleanUtils.toBoolean(cmd.isPublic()), BooleanUtils.toBoolean(cmd.isFeatured()),\n                BooleanUtils.toBoolean(cmd.isExtractable()), cmd.getOsTypeId(),\n                cmd.getZoneId(), BooleanUtils.toBoolean(cmd.isBootable()), cmd.getEntityOwnerId());\n        return prepareUploadParamsInternal(params);\n    }\n","date":"2019-06-06 01:40:51","endLine":341,"groupId":"111373","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"prepare","params":"(GetUploadParamsForIsoCmdcmd)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/0e/88c147f512c7577170f11ff0ca891cef195081.src","preCode":"    public TemplateProfile prepare(GetUploadParamsForIsoCmd cmd) throws ResourceAllocationException {\n        UploadParams params = new IsoUploadParams(CallContext.current().getCallingUserId(), cmd.getName(),\n                cmd.getDisplayText(), BooleanUtils.toBoolean(cmd.isPublic()), BooleanUtils.toBoolean(cmd.isFeatured()),\n                BooleanUtils.toBoolean(cmd.isExtractable()), cmd.getOsTypeId(),\n                cmd.getZoneId(), BooleanUtils.toBoolean(cmd.isBootable()), cmd.getEntityOwnerId());\n        return prepareUploadParamsInternal(params);\n    }\n","realPath":"server/src/main/java/com/cloud/template/TemplateAdapterBase.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":335,"status":"N"}],"commitId":"426f14b6ed87c3dc072ee1d95d84892fc624bcf0","commitMessage":"@@@Merge remote-tracking branch 'apache/4.15'\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>\n","date":"2021-05-18 17:49:20","modifiedFileCount":"23","status":"M","submitter":"Abhishek Kumar"}]
