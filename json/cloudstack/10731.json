[{"authorTime":"2020-09-17 12:42:10","codes":[{"authorDate":"2018-01-20 05:49:27","commitOrder":2,"curCode":"    public SnapshotInfo getChild() {\n        QueryBuilder<SnapshotDataStoreVO> sc = QueryBuilder.create(SnapshotDataStoreVO.class);\n        sc.and(sc.entity().getDataStoreId(), Op.EQ, store.getId());\n        sc.and(sc.entity().getRole(), Op.EQ, store.getRole());\n        sc.and(sc.entity().getState(), Op.NIN, State.Destroying, State.Destroyed, State.Error);\n        sc.and(sc.entity().getParentSnapshotId(), Op.EQ, getId());\n        SnapshotDataStoreVO vo = sc.find();\n        if (vo == null) {\n            return null;\n        }\n        return snapshotFactory.getSnapshot(vo.getId(), store);\n    }\n","date":"2018-01-20 05:49:27","endLine":130,"groupId":"18187","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"getChild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/23/e1650ffa0cfc31359fd2d4941c6e675dc1cb19.src","preCode":"    public SnapshotInfo getChild() {\n        QueryBuilder<SnapshotDataStoreVO> sc = QueryBuilder.create(SnapshotDataStoreVO.class);\n        sc.and(sc.entity().getDataStoreId(), Op.EQ, store.getId());\n        sc.and(sc.entity().getRole(), Op.EQ, store.getRole());\n        sc.and(sc.entity().getState(), Op.NIN, State.Destroying, State.Destroyed, State.Error);\n        sc.and(sc.entity().getParentSnapshotId(), Op.EQ, getId());\n        SnapshotDataStoreVO vo = sc.find();\n        if (vo == null) {\n            return null;\n        }\n        return snapshotFactory.getSnapshot(vo.getId(), store);\n    }\n","realPath":"engine/storage/snapshot/src/main/java/org/apache/cloudstack/storage/snapshot/SnapshotObject.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":119,"status":"NB"},{"authorDate":"2020-09-17 12:42:10","commitOrder":2,"curCode":"    public List<SnapshotInfo> getChildren() {\n        QueryBuilder<SnapshotDataStoreVO> sc = QueryBuilder.create(SnapshotDataStoreVO.class);\n        sc.and(sc.entity().getDataStoreId(), Op.EQ, store.getId());\n        sc.and(sc.entity().getRole(), Op.EQ, store.getRole());\n        sc.and(sc.entity().getState(), Op.NIN, State.Destroying, State.Destroyed, State.Error);\n        sc.and(sc.entity().getParentSnapshotId(), Op.EQ, getId());\n        List<SnapshotDataStoreVO> vos = sc.list();\n\n        List<SnapshotInfo> children = new ArrayList<>();\n        if (vos != null) {\n            for (SnapshotDataStoreVO vo : vos) {\n                children.add(snapshotFactory.getSnapshot(vo.getSnapshotId(), DataStoreRole.Image));\n            }\n        }\n        return children;\n    }\n","date":"2020-09-17 12:42:10","endLine":149,"groupId":"18187","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"getChildren","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/f1/07343f0def2d3ad2c56872d574cd3834469543.src","preCode":"    public List<SnapshotInfo> getChildren() {\n        QueryBuilder<SnapshotDataStoreVO> sc = QueryBuilder.create(SnapshotDataStoreVO.class);\n        sc.and(sc.entity().getDataStoreId(), Op.EQ, store.getId());\n        sc.and(sc.entity().getRole(), Op.EQ, store.getRole());\n        sc.and(sc.entity().getState(), Op.NIN, State.Destroying, State.Destroyed, State.Error);\n        sc.and(sc.entity().getParentSnapshotId(), Op.EQ, getId());\n        List<SnapshotDataStoreVO> vos = sc.list();\n\n        List<SnapshotInfo> children = new ArrayList<>();\n        if (vos != null) {\n            for (SnapshotDataStoreVO vo : vos) {\n                children.add(snapshotFactory.getSnapshot(vo.getSnapshotId(), DataStoreRole.Image));\n            }\n        }\n        return children;\n    }\n","realPath":"engine/storage/snapshot/src/main/java/org/apache/cloudstack/storage/snapshot/SnapshotObject.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":134,"status":"B"}],"commitId":"b464fe41c67812145731c7c6c3edebb94bc47487","commitMessage":"@@@server: Secondary Storage Usage Improvements (#4053)\n\nThis feature enables the following:\nBalanced migration of data objects from source Image store to destination Image store(s)\nComplete migration of data\nsetting an image store to read-only\nviewing download progress of templates across all data stores\nRelated Primate PR: apache/cloudstack-primate#326","date":"2020-09-17 12:42:10","modifiedFileCount":"55","status":"M","submitter":"Pearl Dsilva"},{"authorTime":"2021-04-30 00:20:40","codes":[{"authorDate":"2018-01-20 05:49:27","commitOrder":3,"curCode":"    public SnapshotInfo getChild() {\n        QueryBuilder<SnapshotDataStoreVO> sc = QueryBuilder.create(SnapshotDataStoreVO.class);\n        sc.and(sc.entity().getDataStoreId(), Op.EQ, store.getId());\n        sc.and(sc.entity().getRole(), Op.EQ, store.getRole());\n        sc.and(sc.entity().getState(), Op.NIN, State.Destroying, State.Destroyed, State.Error);\n        sc.and(sc.entity().getParentSnapshotId(), Op.EQ, getId());\n        SnapshotDataStoreVO vo = sc.find();\n        if (vo == null) {\n            return null;\n        }\n        return snapshotFactory.getSnapshot(vo.getId(), store);\n    }\n","date":"2018-01-20 05:49:27","endLine":130,"groupId":"10731","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"getChild","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/23/e1650ffa0cfc31359fd2d4941c6e675dc1cb19.src","preCode":"    public SnapshotInfo getChild() {\n        QueryBuilder<SnapshotDataStoreVO> sc = QueryBuilder.create(SnapshotDataStoreVO.class);\n        sc.and(sc.entity().getDataStoreId(), Op.EQ, store.getId());\n        sc.and(sc.entity().getRole(), Op.EQ, store.getRole());\n        sc.and(sc.entity().getState(), Op.NIN, State.Destroying, State.Destroyed, State.Error);\n        sc.and(sc.entity().getParentSnapshotId(), Op.EQ, getId());\n        SnapshotDataStoreVO vo = sc.find();\n        if (vo == null) {\n            return null;\n        }\n        return snapshotFactory.getSnapshot(vo.getId(), store);\n    }\n","realPath":"engine/storage/snapshot/src/main/java/org/apache/cloudstack/storage/snapshot/SnapshotObject.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":119,"status":"N"},{"authorDate":"2021-04-30 00:20:40","commitOrder":3,"curCode":"    public List<SnapshotInfo> getChildren() {\n        QueryBuilder<SnapshotDataStoreVO> sc = QueryBuilder.create(SnapshotDataStoreVO.class);\n        sc.and(sc.entity().getDataStoreId(), Op.EQ, store.getId());\n        sc.and(sc.entity().getRole(), Op.EQ, store.getRole());\n        sc.and(sc.entity().getState(), Op.NIN, State.Destroying, State.Destroyed, State.Error);\n        sc.and(sc.entity().getParentSnapshotId(), Op.EQ, getId());\n        List<SnapshotDataStoreVO> vos = sc.list();\n\n        List<SnapshotInfo> children = new ArrayList<>();\n        if (vos != null) {\n            for (SnapshotDataStoreVO vo : vos) {\n                SnapshotInfo info = snapshotFactory.getSnapshot(vo.getSnapshotId(), DataStoreRole.Image);\n                if (info != null) {\n                    children.add(info);\n                }\n            }\n        }\n        return children;\n    }\n","date":"2021-04-30 00:20:40","endLine":152,"groupId":"10731","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"getChildren","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/1d/343ab22d2f23b3049d02ae17bea1c80062bc8b.src","preCode":"    public List<SnapshotInfo> getChildren() {\n        QueryBuilder<SnapshotDataStoreVO> sc = QueryBuilder.create(SnapshotDataStoreVO.class);\n        sc.and(sc.entity().getDataStoreId(), Op.EQ, store.getId());\n        sc.and(sc.entity().getRole(), Op.EQ, store.getRole());\n        sc.and(sc.entity().getState(), Op.NIN, State.Destroying, State.Destroyed, State.Error);\n        sc.and(sc.entity().getParentSnapshotId(), Op.EQ, getId());\n        List<SnapshotDataStoreVO> vos = sc.list();\n\n        List<SnapshotInfo> children = new ArrayList<>();\n        if (vos != null) {\n            for (SnapshotDataStoreVO vo : vos) {\n                children.add(snapshotFactory.getSnapshot(vo.getSnapshotId(), DataStoreRole.Image));\n            }\n        }\n        return children;\n    }\n","realPath":"engine/storage/snapshot/src/main/java/org/apache/cloudstack/storage/snapshot/SnapshotObject.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":134,"status":"M"}],"commitId":"4742ac15f7be5d3cf6f7e328133cb8589a7578ce","commitMessage":"@@@Merge remote-tracking branch 'origin/4.15'\n","date":"2021-04-30 00:20:40","modifiedFileCount":"19","status":"M","submitter":"Rohit Yadav"}]
