[{"authorTime":"2017-10-11 17:49:06","codes":[{"authorDate":"2017-10-11 17:49:06","commitOrder":1,"curCode":"    private static String stripAlgorithmFromDigest(String digest) {\n        if(StringUtils.isNotEmpty(digest)) {\n            int s = digest.indexOf('{');\r\n            int e = digest.indexOf('}');\n            if (s == 0 && e > s) { \r\n                return digest.substring(e+1);\n            }\n        }\n        \r\n        return digest;\n    }\n","date":"2017-10-11 17:49:06","endLine":74,"groupId":"13814","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"stripAlgorithmFromDigest","params":"(Stringdigest)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/e4/7bf393db28f6cedd0ec8005fdaab0c0b92042f.src","preCode":"    private static String stripAlgorithmFromDigest(String digest) {\n        if(StringUtils.isNotEmpty(digest)) {\n            int s = digest.indexOf('{');\r\n            int e = digest.indexOf('}');\n            if (s == 0 && e > s) { \r\n                return digest.substring(e+1);\n            }\n        }\n        \r\n        return digest;\n    }\n","realPath":"utils/src/main/java/org/apache/cloudstack/utils/security/ChecksumValue.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":64,"status":"B"},{"authorDate":"2017-10-11 17:49:06","commitOrder":1,"curCode":"    private static String algorithmFromDigest(String digest) {\n        if(StringUtils.isNotEmpty(digest)) {\n            int s = digest.indexOf('{');\n            int e = digest.indexOf('}');\n            if (s == 0 && e > s+1) { \r\n                return digest.substring(s+1,e);\n            } \r\n        } \r\n        return \"MD5\";\n    }\n","date":"2017-10-11 17:49:06","endLine":85,"groupId":"13814","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"algorithmFromDigest","params":"(Stringdigest)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/e4/7bf393db28f6cedd0ec8005fdaab0c0b92042f.src","preCode":"    private static String algorithmFromDigest(String digest) {\n        if(StringUtils.isNotEmpty(digest)) {\n            int s = digest.indexOf('{');\n            int e = digest.indexOf('}');\n            if (s == 0 && e > s+1) { \r\n                return digest.substring(s+1,e);\n            } \r\n        } \r\n        return \"MD5\";\n    }\n","realPath":"utils/src/main/java/org/apache/cloudstack/utils/security/ChecksumValue.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":76,"status":"B"}],"commitId":"ed7811a9a2589395fcfe8341b870ef14215e008f","commitMessage":"@@@CLOUDSTACK-10046 checksum validation for any java supported Digests-type (#2246)\n\n* CLOUDSTACK-10046 digest helper for calculating checksums\n\n* CLOUDSTACK-10046 cleanup unused checksum code\n\n* CLOUDSTACK-10046 padding method proof of concept\n\n* CLOUDSTACK-10046 only compare checksums if old value is valid\n\n* Adding positive and negative tests for md5.  sha-1 and sha-256.  for xen.  vmware and kvm hypervisors.\nKVM Results:\n\n Negative Test Passed - Exception Occurred Under template download ['Traceback (most recent call last):\\n'.  '  File \"/Users/bstoyanov/Documents/sb2/cloudstack/test/integration/smoke/test_templates.py\".  line 189.  in test_02_1_create_template_with_checksum_sha1_negative\\n    self.download(self.apiclient.  template.id)\\n'.  '  File \"/Users/bstoyanov/Documents/sb2/cloudstack/test/integration/smoke/test_templates.py\".  line 260.  in download\\n    template.status)\\n'.  'Exception: Failed to download template: status - Failed post download script: checksum \"{sha-1}bf580a13f791d86acf3449a7b457a91a14389264\" didn\\'t match the given value.  \"{sha-1}someInvalidValue\"\\n']\n=== TestName: test_02_1_create_template_with_checksum_sha1_negative | Status : SUCCESS ===\n=== TestName: test_02_create_template_with_checksum_sha1 | Status : SUCCESS ===.\n Negative Test Passed - Exception Occurred Under template download ['Traceback (most recent call last):\\n'.  '  File \"/Users/bstoyanov/Documents/sb2/cloudstack/test/integration/smoke/test_templates.py\".  line 203.  in test_03_1_create_template_with_checksum_sha256_negative\\n    self.download(self.apiclient.  template.id)\\n'.  '  File \"/Users/bstoyanov/Documents/sb2/cloudstack/test/integration/smoke/test_templates.py\".  line 260.  in download\\n    template.status)\\n'.  'Exception: Failed to download template: status - Failed post download script: checksum \"{SHA-256}efc03633f2b8f5db08acbcc5dc1be9028572dfd8f1c6c8ea663f0ef94b458c5\" didn\\'t match the given value.  \"{SHA-256}someInvalidValue\"\\n']\n=== TestName: test_03_1_create_template_with_checksum_sha256_negative | Status : SUCCESS ===\n=== TestName: test_03_create_template_with_checksum_sha256 | Status : SUCCESS ===\n Negative Test Passed - Exception Occurred Under template download ['Traceback (most recent call last):\\n'.  '  File \"/Users/bstoyanov/Documents/sb2/cloudstack/test/integration/smoke/test_templates.py\".  line 217.  in test_04_1_create_template_with_checksum_md5_negative\\n    self.download(self.apiclient.  template.id)\\n'.  '  File \"/Users/bstoyanov/Documents/sb2/cloudstack/test/integration/smoke/test_templates.py\".  line 260.  in download\\n    template.status)\\n'.  'Exception: Failed to download template: status - Failed post download script: checksum \"{md5}ada77653dcf1e59495a9e1ac670ad95f\" didn\\'t match the given value.  \"{md5}someInvalidValue\"\\n']\n=== TestName: test_04_1_create_template_with_checksum_md5_negative | Status : SUCCESS ===\n=== TestName: test_04_create_template_with_checksum_md5 | Status : SUCCESS ===\n\n* CLOUDSTACK-10046 digest helper for calculating checksums\n\n* CLOUDSTACK-10046 cleanup unused checksum code\n\n* CLOUDSTACK-10046 padding method proof of concept\n\n* CLOUDSTACK-10046 only compare checksums if old value is valid\n\n* Adding positive and negative tests for md5.  sha-1 and sha-256.  for xen.  vmware and kvm hypervisors.\nKVM Results:\n\n Negative Test Passed - Exception Occurred Under template download ['Traceback (most recent call last):\\n'.  '  File \"/Users/bstoyanov/Documents/sb2/cloudstack/test/integration/smoke/test_templates.py\".  line 189.  in test_02_1_create_template_with_checksum_sha1_negative\\n    self.download(self.apiclient.  template.id)\\n'.  '  File \"/Users/bstoyanov/Documents/sb2/cloudstack/test/integration/smoke/test_templates.py\".  line 260.  in download\\n    template.status)\\n'.  'Exception: Failed to download template: status - Failed post download script: checksum \"{sha-1}bf580a13f791d86acf3449a7b457a91a14389264\" didn\\'t match the given value.  \"{sha-1}someInvalidValue\"\\n']\n=== TestName: test_02_1_create_template_with_checksum_sha1_negative | Status : SUCCESS ===\n=== TestName: test_02_create_template_with_checksum_sha1 | Status : SUCCESS ===.\n Negative Test Passed - Exception Occurred Under template download ['Traceback (most recent call last):\\n'.  '  File \"/Users/bstoyanov/Documents/sb2/cloudstack/test/integration/smoke/test_templates.py\".  line 203.  in test_03_1_create_template_with_checksum_sha256_negative\\n    self.download(self.apiclient.  template.id)\\n'.  '  File \"/Users/bstoyanov/Documents/sb2/cloudstack/test/integration/smoke/test_templates.py\".  line 260.  in download\\n    template.status)\\n'.  'Exception: Failed to download template: status - Failed post download script: checksum \"{SHA-256}efc03633f2b8f5db08acbcc5dc1be9028572dfd8f1c6c8ea663f0ef94b458c5\" didn\\'t match the given value.  \"{SHA-256}someInvalidValue\"\\n']\n=== TestName: test_03_1_create_template_with_checksum_sha256_negative | Status : SUCCESS ===\n=== TestName: test_03_create_template_with_checksum_sha256 | Status : SUCCESS ===\n Negative Test Passed - Exception Occurred Under template download ['Traceback (most recent call last):\\n'.  '  File \"/Users/bstoyanov/Documents/sb2/cloudstack/test/integration/smoke/test_templates.py\".  line 217.  in test_04_1_create_template_with_checksum_md5_negative\\n    self.download(self.apiclient.  template.id)\\n'.  '  File \"/Users/bstoyanov/Documents/sb2/cloudstack/test/integration/smoke/test_templates.py\".  line 260.  in download\\n    template.status)\\n'.  'Exception: Failed to download template: status - Failed post download script: checksum \"{md5}ada77653dcf1e59495a9e1ac670ad95f\" didn\\'t match the given value.  \"{md5}someInvalidValue\"\\n']\n=== TestName: test_04_1_create_template_with_checksum_md5_negative | Status : SUCCESS ===\n=== TestName: test_04_create_template_with_checksum_md5 | Status : SUCCESS ===\n\n* Adding additional test with no checksum added when registering template\nResult:\ntest_05_create_template_with_no_checksum (integration.smoke.test_templates.TestCreateTemplateWithChecksum) ... === TestName: test_05_create_template_with_no_checksum | Status : SUCCESS ===\nok\n\n----------------------------------------------------------------------\nRan 1 test in 42.320s\n\nOK\n\n* Fixing negative tests exception handling\n\n* Adding tests for ISO checksum validation and fixing a zero prefix failure test in templates\n\n* CLOUDSTACK-10046 padding\n\n* CLOUDSTACK-10046 usability additions\n\n* yet another IDE artifact hindering checkstyle\n","date":"2017-10-11 17:49:06","modifiedFileCount":"12","status":"B","submitter":"dahn"},{"authorTime":"2020-01-31 16:48:11","codes":[{"authorDate":"2017-10-11 17:49:06","commitOrder":2,"curCode":"    private static String stripAlgorithmFromDigest(String digest) {\n        if(StringUtils.isNotEmpty(digest)) {\n            int s = digest.indexOf('{');\r\n            int e = digest.indexOf('}');\n            if (s == 0 && e > s) { \r\n                return digest.substring(e+1);\n            }\n        }\n        \r\n        return digest;\n    }\n","date":"2017-10-11 17:49:06","endLine":74,"groupId":"102714","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"stripAlgorithmFromDigest","params":"(Stringdigest)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/e4/7bf393db28f6cedd0ec8005fdaab0c0b92042f.src","preCode":"    private static String stripAlgorithmFromDigest(String digest) {\n        if(StringUtils.isNotEmpty(digest)) {\n            int s = digest.indexOf('{');\r\n            int e = digest.indexOf('}');\n            if (s == 0 && e > s) { \r\n                return digest.substring(e+1);\n            }\n        }\n        \r\n        return digest;\n    }\n","realPath":"utils/src/main/java/org/apache/cloudstack/utils/security/ChecksumValue.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":64,"status":"N"},{"authorDate":"2020-01-31 16:48:11","commitOrder":2,"curCode":"    private static String algorithmFromDigest(String digest) {\n        if(StringUtils.isNotEmpty(digest)) {\n            int s = digest.indexOf('{');\n            int e = digest.indexOf('}');\n            if (s == 0 && e > s+1) { \r\n                return digest.substring(s+1,e);\n            } \r\n            return \"MD5\";\n        } \r\n        return \"SHA-512\";\n    }\n","date":"2020-01-31 16:48:11","endLine":86,"groupId":"102714","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"algorithmFromDigest","params":"(Stringdigest)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/e7/a7be46bad986d5776be016e7120d0e87144e54.src","preCode":"    private static String algorithmFromDigest(String digest) {\n        if(StringUtils.isNotEmpty(digest)) {\n            int s = digest.indexOf('{');\n            int e = digest.indexOf('}');\n            if (s == 0 && e > s+1) { \r\n                return digest.substring(s+1,e);\n            } \r\n        } \r\n        return \"MD5\";\n    }\n","realPath":"utils/src/main/java/org/apache/cloudstack/utils/security/ChecksumValue.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":76,"status":"M"}],"commitId":"424f10cc7778ca929f7cf90972f0bb34a80026ad","commitMessage":"@@@Merge remote-tracking branch 'origin/4.13'\n","date":"2020-01-31 16:48:11","modifiedFileCount":"5","status":"M","submitter":"Rohit Yadav"}]
