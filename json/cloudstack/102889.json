[{"authorTime":"2018-01-20 05:49:27","codes":[{"authorDate":"2018-03-08 17:59:52","commitOrder":2,"curCode":"    protected void createXenServerToolsIsoEntryInDatabase() {\n        VMTemplateVO tmplt = _tmpltDao.findByTemplateName(xenServerIsoName);\n        if (tmplt == null) {\n            long id = _tmpltDao.getNextInSequence(Long.class, \"id\");\n            VMTemplateVO template = VMTemplateVO.createPreHostIso(id, xenServerIsoName, xenServerIsoName, ImageFormat.ISO, true, true, TemplateType.PERHOST, null, null, true, 64,\n                    Account.ACCOUNT_ID_SYSTEM, null, xenServerIsoDisplayText, false, 1, false, HypervisorType.XenServer);\n            _tmpltDao.persist(template);\n        } else {\n            long id = tmplt.getId();\n            tmplt.setTemplateType(TemplateType.PERHOST);\n            tmplt.setUrl(null);\n            tmplt.setDisplayText(xenServerIsoDisplayText);\n            _tmpltDao.update(id, tmplt);\n        }\n    }\n","date":"2018-03-08 17:59:52","endLine":541,"groupId":"23339","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"createXenServerToolsIsoEntryInDatabase","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/75/ee55793bdf31d167e76111c426cd799960c171.src","preCode":"    protected void createXenServerToolsIsoEntryInDatabase() {\n        VMTemplateVO tmplt = _tmpltDao.findByTemplateName(xenServerIsoName);\n        if (tmplt == null) {\n            long id = _tmpltDao.getNextInSequence(Long.class, \"id\");\n            VMTemplateVO template = VMTemplateVO.createPreHostIso(id, xenServerIsoName, xenServerIsoName, ImageFormat.ISO, true, true, TemplateType.PERHOST, null, null, true, 64,\n                    Account.ACCOUNT_ID_SYSTEM, null, xenServerIsoDisplayText, false, 1, false, HypervisorType.XenServer);\n            _tmpltDao.persist(template);\n        } else {\n            long id = tmplt.getId();\n            tmplt.setTemplateType(TemplateType.PERHOST);\n            tmplt.setUrl(null);\n            tmplt.setDisplayText(xenServerIsoDisplayText);\n            _tmpltDao.update(id, tmplt);\n        }\n    }\n","realPath":"plugins/hypervisors/xenserver/src/main/java/com/cloud/hypervisor/xenserver/discoverer/XcpServerDiscoverer.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":527,"status":"B"},{"authorDate":"2018-01-20 05:49:27","commitOrder":2,"curCode":"    private void createVmwareToolsIso() {\n        String isoName = \"vmware-tools.iso\";\n        VMTemplateVO tmplt = _tmpltDao.findByTemplateName(isoName);\n        Long id;\n        if (tmplt == null) {\n            id = _tmpltDao.getNextInSequence(Long.class, \"id\");\n            VMTemplateVO template =\n                    VMTemplateVO.createPreHostIso(id, isoName, isoName, ImageFormat.ISO, true, true, TemplateType.PERHOST, null, null, true, 64, Account.ACCOUNT_ID_SYSTEM,\n                            null, \"VMware Tools Installer ISO\", false, 1, false, HypervisorType.VMware);\n            _tmpltDao.persist(template);\n        } else {\n            id = tmplt.getId();\n            tmplt.setTemplateType(TemplateType.PERHOST);\n            tmplt.setUrl(null);\n            _tmpltDao.update(id, tmplt);\n        }\n    }\n","date":"2018-01-20 05:49:27","endLine":576,"groupId":"9144","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"createVmwareToolsIso","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/4b/2f830a3ee726720910790a796de0b123c87496.src","preCode":"    private void createVmwareToolsIso() {\n        String isoName = \"vmware-tools.iso\";\n        VMTemplateVO tmplt = _tmpltDao.findByTemplateName(isoName);\n        Long id;\n        if (tmplt == null) {\n            id = _tmpltDao.getNextInSequence(Long.class, \"id\");\n            VMTemplateVO template =\n                    VMTemplateVO.createPreHostIso(id, isoName, isoName, ImageFormat.ISO, true, true, TemplateType.PERHOST, null, null, true, 64, Account.ACCOUNT_ID_SYSTEM,\n                            null, \"VMware Tools Installer ISO\", false, 1, false, HypervisorType.VMware);\n            _tmpltDao.persist(template);\n        } else {\n            id = tmplt.getId();\n            tmplt.setTemplateType(TemplateType.PERHOST);\n            tmplt.setUrl(null);\n            _tmpltDao.update(id, tmplt);\n        }\n    }\n","realPath":"plugins/hypervisors/vmware/src/main/java/com/cloud/hypervisor/vmware/VmwareServerDiscoverer.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":560,"status":"NB"}],"commitId":"c3e5c09ac6bfecedbdd831acba0e8fbcb5d4d3d5","commitMessage":"@@@[CLOUDSTACK-10197] Update DisplayText of XenServer tools ISO entry in the database when it already exists (#2470)\n\n* Update the displayText of XenServer ISO when it already exist in the DB\n\nBesides updating the ISO display text.  I also created unit test cases for 'createXenServerToolsIsoEntryInDatabase' and 'getActualIsoTemplate' methods.\n\n* Formatting and cleanups for checkstyle of changed classes\n","date":"2018-03-08 17:59:52","modifiedFileCount":"11","status":"M","submitter":"Rafael Weing?rtner"},{"authorTime":"2021-08-09 17:40:51","codes":[{"authorDate":"2018-03-08 17:59:52","commitOrder":3,"curCode":"    protected void createXenServerToolsIsoEntryInDatabase() {\n        VMTemplateVO tmplt = _tmpltDao.findByTemplateName(xenServerIsoName);\n        if (tmplt == null) {\n            long id = _tmpltDao.getNextInSequence(Long.class, \"id\");\n            VMTemplateVO template = VMTemplateVO.createPreHostIso(id, xenServerIsoName, xenServerIsoName, ImageFormat.ISO, true, true, TemplateType.PERHOST, null, null, true, 64,\n                    Account.ACCOUNT_ID_SYSTEM, null, xenServerIsoDisplayText, false, 1, false, HypervisorType.XenServer);\n            _tmpltDao.persist(template);\n        } else {\n            long id = tmplt.getId();\n            tmplt.setTemplateType(TemplateType.PERHOST);\n            tmplt.setUrl(null);\n            tmplt.setDisplayText(xenServerIsoDisplayText);\n            _tmpltDao.update(id, tmplt);\n        }\n    }\n","date":"2018-03-08 17:59:52","endLine":541,"groupId":"102889","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"createXenServerToolsIsoEntryInDatabase","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/75/ee55793bdf31d167e76111c426cd799960c171.src","preCode":"    protected void createXenServerToolsIsoEntryInDatabase() {\n        VMTemplateVO tmplt = _tmpltDao.findByTemplateName(xenServerIsoName);\n        if (tmplt == null) {\n            long id = _tmpltDao.getNextInSequence(Long.class, \"id\");\n            VMTemplateVO template = VMTemplateVO.createPreHostIso(id, xenServerIsoName, xenServerIsoName, ImageFormat.ISO, true, true, TemplateType.PERHOST, null, null, true, 64,\n                    Account.ACCOUNT_ID_SYSTEM, null, xenServerIsoDisplayText, false, 1, false, HypervisorType.XenServer);\n            _tmpltDao.persist(template);\n        } else {\n            long id = tmplt.getId();\n            tmplt.setTemplateType(TemplateType.PERHOST);\n            tmplt.setUrl(null);\n            tmplt.setDisplayText(xenServerIsoDisplayText);\n            _tmpltDao.update(id, tmplt);\n        }\n    }\n","realPath":"plugins/hypervisors/xenserver/src/main/java/com/cloud/hypervisor/xenserver/discoverer/XcpServerDiscoverer.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":527,"status":"N"},{"authorDate":"2021-08-09 17:40:51","commitOrder":3,"curCode":"    private void createVmwareToolsIso() {\n        String isoName = TemplateManager.VMWARE_TOOLS_ISO;\n        VMTemplateVO tmplt = _tmpltDao.findByTemplateName(isoName);\n        Long id;\n        if (tmplt == null) {\n            id = _tmpltDao.getNextInSequence(Long.class, \"id\");\n            VMTemplateVO template =\n                    VMTemplateVO.createPreHostIso(id, isoName, isoName, ImageFormat.ISO, true, true, TemplateType.PERHOST, null, null, true, 64, Account.ACCOUNT_ID_SYSTEM,\n                            null, \"VMware Tools Installer ISO\", false, 1, false, HypervisorType.VMware);\n            _tmpltDao.persist(template);\n        } else {\n            id = tmplt.getId();\n            tmplt.setTemplateType(TemplateType.PERHOST);\n            tmplt.setUrl(null);\n            _tmpltDao.update(id, tmplt);\n        }\n    }\n","date":"2021-08-09 17:40:51","endLine":580,"groupId":"102889","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"createVmwareToolsIso","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-cloudstack-10-0.7/blobInfo/CC_OUT/blobs/f1/f3b709cfc4ed5e729d4c9cc72c7506e8ee7bc8.src","preCode":"    private void createVmwareToolsIso() {\n        String isoName = \"vmware-tools.iso\";\n        VMTemplateVO tmplt = _tmpltDao.findByTemplateName(isoName);\n        Long id;\n        if (tmplt == null) {\n            id = _tmpltDao.getNextInSequence(Long.class, \"id\");\n            VMTemplateVO template =\n                    VMTemplateVO.createPreHostIso(id, isoName, isoName, ImageFormat.ISO, true, true, TemplateType.PERHOST, null, null, true, 64, Account.ACCOUNT_ID_SYSTEM,\n                            null, \"VMware Tools Installer ISO\", false, 1, false, HypervisorType.VMware);\n            _tmpltDao.persist(template);\n        } else {\n            id = tmplt.getId();\n            tmplt.setTemplateType(TemplateType.PERHOST);\n            tmplt.setUrl(null);\n            _tmpltDao.update(id, tmplt);\n        }\n    }\n","realPath":"plugins/hypervisors/vmware/src/main/java/com/cloud/hypervisor/vmware/VmwareServerDiscoverer.java","repoName":"cloudstack","snippetEndLine":0,"snippetStartLine":0,"startLine":564,"status":"M"}],"commitId":"cb1078aa202ef77cd699a7617daf006febb6fee6","commitMessage":"@@@Merge remote-tracking branch 'apache/4.15' into main\n","date":"2021-08-09 17:40:51","modifiedFileCount":"12","status":"M","submitter":"davidjumani"}]
