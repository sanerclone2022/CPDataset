[{"authorTime":"2018-08-31 00:56:26","codes":[{"authorDate":"2018-08-31 00:56:26","commitOrder":1,"curCode":"  public ContainerRequest filter(ContainerRequest request)\n  {\n    final ResourceAction resourceAction = new ResourceAction(\n        new Resource(\"STATE\", ResourceType.STATE),\n        getAction(request)\n    );\n\n    final Access authResult = AuthorizationUtils.authorizeResourceAction(\n        getReq(),\n        resourceAction,\n        getAuthorizerMapper()\n    );\n\n    if (!authResult.isAllowed()) {\n      throw new ForbiddenException(authResult.toString());\n    }\n\n    return request;\n  }\n","date":"2018-08-31 00:56:26","endLine":76,"groupId":"14025","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"filter","params":"(ContainerRequestrequest)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/7e/230302c25489a19e48df83325b91efacf693e3.src","preCode":"  public ContainerRequest filter(ContainerRequest request)\n  {\n    final ResourceAction resourceAction = new ResourceAction(\n        new Resource(\"STATE\", ResourceType.STATE),\n        getAction(request)\n    );\n\n    final Access authResult = AuthorizationUtils.authorizeResourceAction(\n        getReq(),\n        resourceAction,\n        getAuthorizerMapper()\n    );\n\n    if (!authResult.isAllowed()) {\n      throw new ForbiddenException(authResult.toString());\n    }\n\n    return request;\n  }\n","realPath":"server/src/main/java/org/apache/druid/server/http/security/StateResourceFilter.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":58,"status":"B"},{"authorDate":"2018-08-31 00:56:26","commitOrder":1,"curCode":"  private String getRequestDatasourceName(ContainerRequest request)\n  {\n    final String dataSourceName = request.getPathSegments()\n                                         .get(\n                                             Iterables.indexOf(\n                                                 request.getPathSegments(),\n                                                 new Predicate<PathSegment>()\n                                                 {\n                                                   @Override\n                                                   public boolean apply(PathSegment input)\n                                                   {\n                                                     return \"datasources\".equals(input.getPath());\n                                                   }\n                                                 }\n                                             ) + 1\n                                         ).getPath();\n    Preconditions.checkNotNull(dataSourceName);\n    return dataSourceName;\n  }\n","date":"2018-08-31 00:56:26","endLine":95,"groupId":"14025","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"getRequestDatasourceName","params":"(ContainerRequestrequest)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/a7/6905dba413e97916c0c859d6311d06184bbbbf.src","preCode":"  private String getRequestDatasourceName(ContainerRequest request)\n  {\n    final String dataSourceName = request.getPathSegments()\n                                         .get(\n                                             Iterables.indexOf(\n                                                 request.getPathSegments(),\n                                                 new Predicate<PathSegment>()\n                                                 {\n                                                   @Override\n                                                   public boolean apply(PathSegment input)\n                                                   {\n                                                     return \"datasources\".equals(input.getPath());\n                                                   }\n                                                 }\n                                             ) + 1\n                                         ).getPath();\n    Preconditions.checkNotNull(dataSourceName);\n    return dataSourceName;\n  }\n","realPath":"server/src/main/java/org/apache/druid/server/http/security/DatasourceResourceFilter.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":77,"status":"B"}],"commitId":"431d3d8497f9079857c3baa7ae7ab4cb44a22355","commitMessage":"@@@Rename io.druid to org.apache.druid. (#6266)\n\n* Rename io.druid to org.apache.druid.\n\n* Fix META-INF files and remove some benchmark results.\n\n* MonitorsConfig update for metrics package migration.\n\n* Reorder some dimensions in inner queries for some reason.\n\n* Fix protobuf tests.\n","date":"2018-08-31 00:56:26","modifiedFileCount":"5","status":"B","submitter":"Gian Merlino"},{"authorTime":"2018-08-31 00:56:26","codes":[{"authorDate":"2019-05-02 22:18:02","commitOrder":2,"curCode":"  public ContainerRequest filter(ContainerRequest request)\n  {\n    final ResourceAction resourceAction = new ResourceAction(\n        Resource.STATE_RESOURCE,\n        getAction(request)\n    );\n\n    final Access authResult = AuthorizationUtils.authorizeResourceAction(\n        getReq(),\n        resourceAction,\n        getAuthorizerMapper()\n    );\n\n    if (!authResult.isAllowed()) {\n      throw new ForbiddenException(authResult.toString());\n    }\n\n    return request;\n  }\n","date":"2019-05-02 22:18:02","endLine":75,"groupId":"101189","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"filter","params":"(ContainerRequestrequest)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/27/5ea350086d8aefbe1fc31be06426a8b2c3facd.src","preCode":"  public ContainerRequest filter(ContainerRequest request)\n  {\n    final ResourceAction resourceAction = new ResourceAction(\n        new Resource(\"STATE\", ResourceType.STATE),\n        getAction(request)\n    );\n\n    final Access authResult = AuthorizationUtils.authorizeResourceAction(\n        getReq(),\n        resourceAction,\n        getAuthorizerMapper()\n    );\n\n    if (!authResult.isAllowed()) {\n      throw new ForbiddenException(authResult.toString());\n    }\n\n    return request;\n  }\n","realPath":"server/src/main/java/org/apache/druid/server/http/security/StateResourceFilter.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":57,"status":"M"},{"authorDate":"2018-08-31 00:56:26","commitOrder":2,"curCode":"  private String getRequestDatasourceName(ContainerRequest request)\n  {\n    final String dataSourceName = request.getPathSegments()\n                                         .get(\n                                             Iterables.indexOf(\n                                                 request.getPathSegments(),\n                                                 new Predicate<PathSegment>()\n                                                 {\n                                                   @Override\n                                                   public boolean apply(PathSegment input)\n                                                   {\n                                                     return \"datasources\".equals(input.getPath());\n                                                   }\n                                                 }\n                                             ) + 1\n                                         ).getPath();\n    Preconditions.checkNotNull(dataSourceName);\n    return dataSourceName;\n  }\n","date":"2018-08-31 00:56:26","endLine":95,"groupId":"101189","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"getRequestDatasourceName","params":"(ContainerRequestrequest)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/a7/6905dba413e97916c0c859d6311d06184bbbbf.src","preCode":"  private String getRequestDatasourceName(ContainerRequest request)\n  {\n    final String dataSourceName = request.getPathSegments()\n                                         .get(\n                                             Iterables.indexOf(\n                                                 request.getPathSegments(),\n                                                 new Predicate<PathSegment>()\n                                                 {\n                                                   @Override\n                                                   public boolean apply(PathSegment input)\n                                                   {\n                                                     return \"datasources\".equals(input.getPath());\n                                                   }\n                                                 }\n                                             ) + 1\n                                         ).getPath();\n    Preconditions.checkNotNull(dataSourceName);\n    return dataSourceName;\n  }\n","realPath":"server/src/main/java/org/apache/druid/server/http/security/DatasourceResourceFilter.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":77,"status":"N"}],"commitId":"a013350018d96cbb40944a0b5e060d510eeabdbc","commitMessage":"@@@Adjust required permissions for system schema (#7579)\n\n* Adjust required permissions for system schema\n\n* PR comments.  fix current_size handling\n\n* Checkstyle\n\n* Set curr_size instead of current_size\n\n* Adjust information schema docs\n\n* Fix merge conflict\n\n* Update tests\n","date":"2019-05-02 22:18:02","modifiedFileCount":"5","status":"M","submitter":"Jonathan Wei"}]
