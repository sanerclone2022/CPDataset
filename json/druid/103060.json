[{"authorTime":"2018-09-22 08:58:19","codes":[{"authorDate":"2018-09-22 08:58:19","commitOrder":1,"curCode":"  private HttpClient makeCustomHttpClient(String keystorePath, String certAlias)\n  {\n    SSLContext intermediateClientSSLContext = new TLSUtils.ClientSSLContextBuilder()\n        .setProtocol(sslClientConfig.getProtocol())\n        .setTrustStoreType(sslClientConfig.getTrustStoreType())\n        .setTrustStorePath(sslClientConfig.getTrustStorePath())\n        .setTrustStoreAlgorithm(sslClientConfig.getTrustStoreAlgorithm())\n        .setTrustStorePasswordProvider(sslClientConfig.getTrustStorePasswordProvider())\n        .setKeyStoreType(sslClientConfig.getKeyStoreType())\n        .setKeyStorePath(keystorePath)\n        .setKeyStoreAlgorithm(sslClientConfig.getKeyManagerFactoryAlgorithm())\n        .setCertAlias(certAlias)\n        .setKeyStorePasswordProvider(sslClientConfig.getKeyStorePasswordProvider())\n        .setKeyManagerFactoryPasswordProvider(sslClientConfig.getKeyManagerPasswordProvider())\n        .build();\n\n    final HttpClientConfig.Builder builder = getHttpClientConfigBuilder(intermediateClientSSLContext);\n\n    final Lifecycle lifecycle = new Lifecycle();\n\n    HttpClient client = HttpClientInit.createClient(\n        builder.build(),\n        LifecycleUtils.asMmxLifecycle(lifecycle)\n    );\n\n    HttpClient adminClient = new CredentialedHttpClient(\n        new BasicCredentials(\"admin\", \"priest\"),\n        client\n    );\n    return adminClient;\n  }\n","date":"2018-09-22 08:58:19","endLine":354,"groupId":"7191","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"makeCustomHttpClient","params":"(StringkeystorePath@StringcertAlias)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/cb/14870845435689999b5c9b6f5d81c115196568.src","preCode":"  private HttpClient makeCustomHttpClient(String keystorePath, String certAlias)\n  {\n    SSLContext intermediateClientSSLContext = new TLSUtils.ClientSSLContextBuilder()\n        .setProtocol(sslClientConfig.getProtocol())\n        .setTrustStoreType(sslClientConfig.getTrustStoreType())\n        .setTrustStorePath(sslClientConfig.getTrustStorePath())\n        .setTrustStoreAlgorithm(sslClientConfig.getTrustStoreAlgorithm())\n        .setTrustStorePasswordProvider(sslClientConfig.getTrustStorePasswordProvider())\n        .setKeyStoreType(sslClientConfig.getKeyStoreType())\n        .setKeyStorePath(keystorePath)\n        .setKeyStoreAlgorithm(sslClientConfig.getKeyManagerFactoryAlgorithm())\n        .setCertAlias(certAlias)\n        .setKeyStorePasswordProvider(sslClientConfig.getKeyStorePasswordProvider())\n        .setKeyManagerFactoryPasswordProvider(sslClientConfig.getKeyManagerPasswordProvider())\n        .build();\n\n    final HttpClientConfig.Builder builder = getHttpClientConfigBuilder(intermediateClientSSLContext);\n\n    final Lifecycle lifecycle = new Lifecycle();\n\n    HttpClient client = HttpClientInit.createClient(\n        builder.build(),\n        LifecycleUtils.asMmxLifecycle(lifecycle)\n    );\n\n    HttpClient adminClient = new CredentialedHttpClient(\n        new BasicCredentials(\"admin\", \"priest\"),\n        client\n    );\n    return adminClient;\n  }\n","realPath":"integration-tests/src/test/java/org/apache/druid/tests/security/ITTLSTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":324,"status":"B"},{"authorDate":"2018-09-22 08:58:19","commitOrder":1,"curCode":"  private HttpClient makeCertlessClient()\n  {\n    SSLContext certlessClientSSLContext = new TLSUtils.ClientSSLContextBuilder()\n        .setProtocol(sslClientConfig.getProtocol())\n        .setTrustStoreType(sslClientConfig.getTrustStoreType())\n        .setTrustStorePath(sslClientConfig.getTrustStorePath())\n        .setTrustStoreAlgorithm(sslClientConfig.getTrustStoreAlgorithm())\n        .setTrustStorePasswordProvider(sslClientConfig.getTrustStorePasswordProvider())\n        .build();\n\n    final HttpClientConfig.Builder builder = getHttpClientConfigBuilder(certlessClientSSLContext);\n\n    final Lifecycle lifecycle = new Lifecycle();\n\n    HttpClient client = HttpClientInit.createClient(\n        builder.build(),\n        LifecycleUtils.asMmxLifecycle(lifecycle)\n    );\n\n    HttpClient adminClient = new CredentialedHttpClient(\n        new BasicCredentials(\"admin\", \"priest\"),\n        client\n    );\n    return adminClient;\n  }\n","date":"2018-09-22 08:58:19","endLine":380,"groupId":"7191","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"makeCertlessClient","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/cb/14870845435689999b5c9b6f5d81c115196568.src","preCode":"  private HttpClient makeCertlessClient()\n  {\n    SSLContext certlessClientSSLContext = new TLSUtils.ClientSSLContextBuilder()\n        .setProtocol(sslClientConfig.getProtocol())\n        .setTrustStoreType(sslClientConfig.getTrustStoreType())\n        .setTrustStorePath(sslClientConfig.getTrustStorePath())\n        .setTrustStoreAlgorithm(sslClientConfig.getTrustStoreAlgorithm())\n        .setTrustStorePasswordProvider(sslClientConfig.getTrustStorePasswordProvider())\n        .build();\n\n    final HttpClientConfig.Builder builder = getHttpClientConfigBuilder(certlessClientSSLContext);\n\n    final Lifecycle lifecycle = new Lifecycle();\n\n    HttpClient client = HttpClientInit.createClient(\n        builder.build(),\n        LifecycleUtils.asMmxLifecycle(lifecycle)\n    );\n\n    HttpClient adminClient = new CredentialedHttpClient(\n        new BasicCredentials(\"admin\", \"priest\"),\n        client\n    );\n    return adminClient;\n  }\n","realPath":"integration-tests/src/test/java/org/apache/druid/tests/security/ITTLSTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":356,"status":"B"}],"commitId":"364bf9d1f98114f3ae30e420ba593c67bc9504fa","commitMessage":"@@@Fix non org.apache.druid files and add package name checkstyle rule (#6367)\n\n* Fix non org.apache.druid files and add package name checkstyle rule\n\n* PR comment\n","date":"2018-09-22 08:58:19","modifiedFileCount":"3","status":"B","submitter":"Jonathan Wei"},{"authorTime":"2018-10-25 07:31:52","codes":[{"authorDate":"2018-10-25 07:31:52","commitOrder":2,"curCode":"  private HttpClient makeCustomHttpClient(\n      String keystorePath,\n      String certAlias,\n      TLSCertificateChecker certificateChecker\n  )\n  {\n    SSLContext intermediateClientSSLContext = new TLSUtils.ClientSSLContextBuilder()\n        .setProtocol(sslClientConfig.getProtocol())\n        .setTrustStoreType(sslClientConfig.getTrustStoreType())\n        .setTrustStorePath(sslClientConfig.getTrustStorePath())\n        .setTrustStoreAlgorithm(sslClientConfig.getTrustStoreAlgorithm())\n        .setTrustStorePasswordProvider(sslClientConfig.getTrustStorePasswordProvider())\n        .setKeyStoreType(sslClientConfig.getKeyStoreType())\n        .setKeyStorePath(keystorePath)\n        .setKeyStoreAlgorithm(sslClientConfig.getKeyManagerFactoryAlgorithm())\n        .setCertAlias(certAlias)\n        .setKeyStorePasswordProvider(sslClientConfig.getKeyStorePasswordProvider())\n        .setKeyManagerFactoryPasswordProvider(sslClientConfig.getKeyManagerPasswordProvider())\n        .setCertificateChecker(certificateChecker)\n        .build();\n\n    final HttpClientConfig.Builder builder = getHttpClientConfigBuilder(intermediateClientSSLContext);\n\n    final Lifecycle lifecycle = new Lifecycle();\n\n    HttpClient client = HttpClientInit.createClient(\n        builder.build(),\n        LifecycleUtils.asMmxLifecycle(lifecycle)\n    );\n\n    HttpClient adminClient = new CredentialedHttpClient(\n        new BasicCredentials(\"admin\", \"priest\"),\n        client\n    );\n    return adminClient;\n  }\n","date":"2018-10-25 07:31:52","endLine":402,"groupId":"7191","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"makeCustomHttpClient","params":"(StringkeystorePath@StringcertAlias@TLSCertificateCheckercertificateChecker)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/1b/67c6407b8c15dda3f7895eb8417e050426773a.src","preCode":"  private HttpClient makeCustomHttpClient(String keystorePath, String certAlias)\n  {\n    SSLContext intermediateClientSSLContext = new TLSUtils.ClientSSLContextBuilder()\n        .setProtocol(sslClientConfig.getProtocol())\n        .setTrustStoreType(sslClientConfig.getTrustStoreType())\n        .setTrustStorePath(sslClientConfig.getTrustStorePath())\n        .setTrustStoreAlgorithm(sslClientConfig.getTrustStoreAlgorithm())\n        .setTrustStorePasswordProvider(sslClientConfig.getTrustStorePasswordProvider())\n        .setKeyStoreType(sslClientConfig.getKeyStoreType())\n        .setKeyStorePath(keystorePath)\n        .setKeyStoreAlgorithm(sslClientConfig.getKeyManagerFactoryAlgorithm())\n        .setCertAlias(certAlias)\n        .setKeyStorePasswordProvider(sslClientConfig.getKeyStorePasswordProvider())\n        .setKeyManagerFactoryPasswordProvider(sslClientConfig.getKeyManagerPasswordProvider())\n        .build();\n\n    final HttpClientConfig.Builder builder = getHttpClientConfigBuilder(intermediateClientSSLContext);\n\n    final Lifecycle lifecycle = new Lifecycle();\n\n    HttpClient client = HttpClientInit.createClient(\n        builder.build(),\n        LifecycleUtils.asMmxLifecycle(lifecycle)\n    );\n\n    HttpClient adminClient = new CredentialedHttpClient(\n        new BasicCredentials(\"admin\", \"priest\"),\n        client\n    );\n    return adminClient;\n  }\n","realPath":"integration-tests/src/test/java/org/apache/druid/tests/security/ITTLSTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":367,"status":"M"},{"authorDate":"2018-10-25 07:31:52","commitOrder":2,"curCode":"  private HttpClient makeCertlessClient()\n  {\n    SSLContext certlessClientSSLContext = new TLSUtils.ClientSSLContextBuilder()\n        .setProtocol(sslClientConfig.getProtocol())\n        .setTrustStoreType(sslClientConfig.getTrustStoreType())\n        .setTrustStorePath(sslClientConfig.getTrustStorePath())\n        .setTrustStoreAlgorithm(sslClientConfig.getTrustStoreAlgorithm())\n        .setTrustStorePasswordProvider(sslClientConfig.getTrustStorePasswordProvider())\n        .setCertificateChecker(certificateChecker)\n        .build();\n\n    final HttpClientConfig.Builder builder = getHttpClientConfigBuilder(certlessClientSSLContext);\n\n    final Lifecycle lifecycle = new Lifecycle();\n\n    HttpClient client = HttpClientInit.createClient(\n        builder.build(),\n        LifecycleUtils.asMmxLifecycle(lifecycle)\n    );\n\n    HttpClient adminClient = new CredentialedHttpClient(\n        new BasicCredentials(\"admin\", \"priest\"),\n        client\n    );\n    return adminClient;\n  }\n","date":"2018-10-25 07:31:52","endLine":429,"groupId":"13263","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"makeCertlessClient","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/1b/67c6407b8c15dda3f7895eb8417e050426773a.src","preCode":"  private HttpClient makeCertlessClient()\n  {\n    SSLContext certlessClientSSLContext = new TLSUtils.ClientSSLContextBuilder()\n        .setProtocol(sslClientConfig.getProtocol())\n        .setTrustStoreType(sslClientConfig.getTrustStoreType())\n        .setTrustStorePath(sslClientConfig.getTrustStorePath())\n        .setTrustStoreAlgorithm(sslClientConfig.getTrustStoreAlgorithm())\n        .setTrustStorePasswordProvider(sslClientConfig.getTrustStorePasswordProvider())\n        .build();\n\n    final HttpClientConfig.Builder builder = getHttpClientConfigBuilder(certlessClientSSLContext);\n\n    final Lifecycle lifecycle = new Lifecycle();\n\n    HttpClient client = HttpClientInit.createClient(\n        builder.build(),\n        LifecycleUtils.asMmxLifecycle(lifecycle)\n    );\n\n    HttpClient adminClient = new CredentialedHttpClient(\n        new BasicCredentials(\"admin\", \"priest\"),\n        client\n    );\n    return adminClient;\n  }\n","realPath":"integration-tests/src/test/java/org/apache/druid/tests/security/ITTLSTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":404,"status":"M"}],"commitId":"b2d9b6f23dfb828c834a1956f0099b07aa1e400d","commitMessage":"@@@Allow custom TLS cert checks (#6432)\n\n* Allow custom TLS cert checks\n\n* PR comment\n\n* Checkstyle.  PR comment\n","date":"2018-10-25 07:31:52","modifiedFileCount":"11","status":"M","submitter":"Jonathan Wei"},{"authorTime":"2019-03-10 07:14:09","codes":[{"authorDate":"2019-03-10 07:14:09","commitOrder":3,"curCode":"  private HttpClient makeCustomHttpClient(\n      String keystorePath,\n      String certAlias,\n      TLSCertificateChecker certificateChecker\n  )\n  {\n    SSLContext intermediateClientSSLContext = new TLSUtils.ClientSSLContextBuilder()\n        .setProtocol(sslClientConfig.getProtocol())\n        .setTrustStoreType(sslClientConfig.getTrustStoreType())\n        .setTrustStorePath(sslClientConfig.getTrustStorePath())\n        .setTrustStoreAlgorithm(sslClientConfig.getTrustStoreAlgorithm())\n        .setTrustStorePasswordProvider(sslClientConfig.getTrustStorePasswordProvider())\n        .setKeyStoreType(sslClientConfig.getKeyStoreType())\n        .setKeyStorePath(keystorePath)\n        .setKeyStoreAlgorithm(sslClientConfig.getKeyManagerFactoryAlgorithm())\n        .setCertAlias(certAlias)\n        .setKeyStorePasswordProvider(sslClientConfig.getKeyStorePasswordProvider())\n        .setKeyManagerFactoryPasswordProvider(sslClientConfig.getKeyManagerPasswordProvider())\n        .setCertificateChecker(certificateChecker)\n        .build();\n\n    final HttpClientConfig.Builder builder = getHttpClientConfigBuilder(intermediateClientSSLContext);\n\n    final Lifecycle lifecycle = new Lifecycle();\n\n    HttpClient client = HttpClientInit.createClient(\n        builder.build(),\n        lifecycle\n    );\n\n    HttpClient adminClient = new CredentialedHttpClient(\n        new BasicCredentials(\"admin\", \"priest\"),\n        client\n    );\n    return adminClient;\n  }\n","date":"2019-03-10 07:14:09","endLine":401,"groupId":"103060","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"makeCustomHttpClient","params":"(StringkeystorePath@StringcertAlias@TLSCertificateCheckercertificateChecker)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/40/aaa2c49a6cde0da9d42e1ac89642d0679879d6.src","preCode":"  private HttpClient makeCustomHttpClient(\n      String keystorePath,\n      String certAlias,\n      TLSCertificateChecker certificateChecker\n  )\n  {\n    SSLContext intermediateClientSSLContext = new TLSUtils.ClientSSLContextBuilder()\n        .setProtocol(sslClientConfig.getProtocol())\n        .setTrustStoreType(sslClientConfig.getTrustStoreType())\n        .setTrustStorePath(sslClientConfig.getTrustStorePath())\n        .setTrustStoreAlgorithm(sslClientConfig.getTrustStoreAlgorithm())\n        .setTrustStorePasswordProvider(sslClientConfig.getTrustStorePasswordProvider())\n        .setKeyStoreType(sslClientConfig.getKeyStoreType())\n        .setKeyStorePath(keystorePath)\n        .setKeyStoreAlgorithm(sslClientConfig.getKeyManagerFactoryAlgorithm())\n        .setCertAlias(certAlias)\n        .setKeyStorePasswordProvider(sslClientConfig.getKeyStorePasswordProvider())\n        .setKeyManagerFactoryPasswordProvider(sslClientConfig.getKeyManagerPasswordProvider())\n        .setCertificateChecker(certificateChecker)\n        .build();\n\n    final HttpClientConfig.Builder builder = getHttpClientConfigBuilder(intermediateClientSSLContext);\n\n    final Lifecycle lifecycle = new Lifecycle();\n\n    HttpClient client = HttpClientInit.createClient(\n        builder.build(),\n        LifecycleUtils.asMmxLifecycle(lifecycle)\n    );\n\n    HttpClient adminClient = new CredentialedHttpClient(\n        new BasicCredentials(\"admin\", \"priest\"),\n        client\n    );\n    return adminClient;\n  }\n","realPath":"integration-tests/src/test/java/org/apache/druid/tests/security/ITTLSTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":366,"status":"M"},{"authorDate":"2019-03-10 07:14:09","commitOrder":3,"curCode":"  private HttpClient makeCertlessClient()\n  {\n    SSLContext certlessClientSSLContext = new TLSUtils.ClientSSLContextBuilder()\n        .setProtocol(sslClientConfig.getProtocol())\n        .setTrustStoreType(sslClientConfig.getTrustStoreType())\n        .setTrustStorePath(sslClientConfig.getTrustStorePath())\n        .setTrustStoreAlgorithm(sslClientConfig.getTrustStoreAlgorithm())\n        .setTrustStorePasswordProvider(sslClientConfig.getTrustStorePasswordProvider())\n        .setCertificateChecker(certificateChecker)\n        .build();\n\n    final HttpClientConfig.Builder builder = getHttpClientConfigBuilder(certlessClientSSLContext);\n\n    final Lifecycle lifecycle = new Lifecycle();\n\n    HttpClient client = HttpClientInit.createClient(\n        builder.build(),\n        lifecycle\n    );\n\n    HttpClient adminClient = new CredentialedHttpClient(\n        new BasicCredentials(\"admin\", \"priest\"),\n        client\n    );\n    return adminClient;\n  }\n","date":"2019-03-10 07:14:09","endLine":428,"groupId":"103060","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"makeCertlessClient","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/40/aaa2c49a6cde0da9d42e1ac89642d0679879d6.src","preCode":"  private HttpClient makeCertlessClient()\n  {\n    SSLContext certlessClientSSLContext = new TLSUtils.ClientSSLContextBuilder()\n        .setProtocol(sslClientConfig.getProtocol())\n        .setTrustStoreType(sslClientConfig.getTrustStoreType())\n        .setTrustStorePath(sslClientConfig.getTrustStorePath())\n        .setTrustStoreAlgorithm(sslClientConfig.getTrustStoreAlgorithm())\n        .setTrustStorePasswordProvider(sslClientConfig.getTrustStorePasswordProvider())\n        .setCertificateChecker(certificateChecker)\n        .build();\n\n    final HttpClientConfig.Builder builder = getHttpClientConfigBuilder(certlessClientSSLContext);\n\n    final Lifecycle lifecycle = new Lifecycle();\n\n    HttpClient client = HttpClientInit.createClient(\n        builder.build(),\n        LifecycleUtils.asMmxLifecycle(lifecycle)\n    );\n\n    HttpClient adminClient = new CredentialedHttpClient(\n        new BasicCredentials(\"admin\", \"priest\"),\n        client\n    );\n    return adminClient;\n  }\n","realPath":"integration-tests/src/test/java/org/apache/druid/tests/security/ITTLSTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":403,"status":"M"}],"commitId":"5cc171419cf64e07448b501f47114ece9c03740b","commitMessage":"@@@move jetty module to Lifecycle.Stage.LAST to allow graceful shutdown to work with lookups and stuff.  put http-clint on lifecycle modules lifecycle (#7215)\n\n","date":"2019-03-10 07:14:09","modifiedFileCount":"4","status":"M","submitter":"Clint Wylie"}]
