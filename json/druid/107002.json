[{"authorTime":"2020-12-04 00:58:17","codes":[{"authorDate":"2020-01-20 09:14:23","commitOrder":5,"curCode":"  public static AggregationTestHelper createTopNQueryAggregationTestHelper(\n      List<? extends Module> jsonModulesToRegister,\n      TemporaryFolder tempFolder\n  )\n  {\n    ObjectMapper mapper = TestHelper.makeJsonMapper();\n\n    TopNQueryQueryToolChest toolchest = new TopNQueryQueryToolChest(new TopNQueryConfig());\n\n    final CloseableStupidPool<ByteBuffer> pool = new CloseableStupidPool<>(\n        \"TopNQueryRunnerFactory-bufferPool\",\n        new Supplier<ByteBuffer>()\n        {\n          @Override\n          public ByteBuffer get()\n          {\n            return ByteBuffer.allocate(10 * 1024 * 1024);\n          }\n        }\n    );\n    final Closer resourceCloser = Closer.create();\n    TopNQueryRunnerFactory factory = new TopNQueryRunnerFactory(\n        pool,\n        toolchest,\n        QueryRunnerTestHelper.NOOP_QUERYWATCHER\n    );\n\n    IndexIO indexIO = new IndexIO(\n        mapper,\n        new ColumnConfig()\n        {\n          @Override\n          public int columnCacheSizeBytes()\n          {\n            return 0;\n          }\n        }\n    );\n\n    return new AggregationTestHelper(\n        mapper,\n        new IndexMergerV9(mapper, indexIO, OffHeapMemorySegmentWriteOutMediumFactory.instance()),\n        indexIO,\n        toolchest,\n        factory,\n        tempFolder,\n        jsonModulesToRegister,\n        resourceCloser\n    );\n  }\n","date":"2020-01-20 09:14:23","endLine":261,"groupId":"8851","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"createTopNQueryAggregationTestHelper","params":"(List<?extendsModule>jsonModulesToRegister@TemporaryFoldertempFolder)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/37/9b04a64a4bee8c00d0aede6591e25c244f1f86.src","preCode":"  public static AggregationTestHelper createTopNQueryAggregationTestHelper(\n      List<? extends Module> jsonModulesToRegister,\n      TemporaryFolder tempFolder\n  )\n  {\n    ObjectMapper mapper = TestHelper.makeJsonMapper();\n\n    TopNQueryQueryToolChest toolchest = new TopNQueryQueryToolChest(new TopNQueryConfig());\n\n    final CloseableStupidPool<ByteBuffer> pool = new CloseableStupidPool<>(\n        \"TopNQueryRunnerFactory-bufferPool\",\n        new Supplier<ByteBuffer>()\n        {\n          @Override\n          public ByteBuffer get()\n          {\n            return ByteBuffer.allocate(10 * 1024 * 1024);\n          }\n        }\n    );\n    final Closer resourceCloser = Closer.create();\n    TopNQueryRunnerFactory factory = new TopNQueryRunnerFactory(\n        pool,\n        toolchest,\n        QueryRunnerTestHelper.NOOP_QUERYWATCHER\n    );\n\n    IndexIO indexIO = new IndexIO(\n        mapper,\n        new ColumnConfig()\n        {\n          @Override\n          public int columnCacheSizeBytes()\n          {\n            return 0;\n          }\n        }\n    );\n\n    return new AggregationTestHelper(\n        mapper,\n        new IndexMergerV9(mapper, indexIO, OffHeapMemorySegmentWriteOutMediumFactory.instance()),\n        indexIO,\n        toolchest,\n        factory,\n        tempFolder,\n        jsonModulesToRegister,\n        resourceCloser\n    );\n  }\n","realPath":"processing/src/test/java/org/apache/druid/query/aggregation/AggregationTestHelper.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":212,"status":"NB"},{"authorDate":"2020-12-04 00:58:17","commitOrder":5,"curCode":"  public static AggregationTestHelper createScanQueryAggregationTestHelper(\n      List<? extends Module> jsonModulesToRegister,\n      TemporaryFolder tempFolder\n  )\n  {\n    ObjectMapper mapper = TestHelper.makeJsonMapper();\n\n    ScanQueryQueryToolChest toolchest = new ScanQueryQueryToolChest(\n        new ScanQueryConfig(),\n        DefaultGenericQueryMetricsFactory.instance()\n    );\n\n    final Closer resourceCloser = Closer.create();\n    ScanQueryRunnerFactory factory = new ScanQueryRunnerFactory(\n        toolchest,\n        new ScanQueryEngine(),\n        new ScanQueryConfig()\n    );\n\n    IndexIO indexIO = new IndexIO(\n        mapper,\n        new ColumnConfig()\n        {\n          @Override\n          public int columnCacheSizeBytes()\n          {\n            return 0;\n          }\n        }\n    );\n\n    return new AggregationTestHelper(\n        mapper,\n        new IndexMergerV9(mapper, indexIO, OffHeapMemorySegmentWriteOutMediumFactory.instance()),\n        indexIO,\n        toolchest,\n        factory,\n        tempFolder,\n        jsonModulesToRegister,\n        resourceCloser\n    );\n  }\n","date":"2020-12-04 00:58:17","endLine":311,"groupId":"8007","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"createScanQueryAggregationTestHelper","params":"(List<?extendsModule>jsonModulesToRegister@TemporaryFoldertempFolder)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/54/17f458a344877977f265c91c22a13036469ecb.src","preCode":"  public static AggregationTestHelper createScanQueryAggregationTestHelper(\n      List<? extends Module> jsonModulesToRegister,\n      TemporaryFolder tempFolder\n  )\n  {\n    ObjectMapper mapper = TestHelper.makeJsonMapper();\n\n    ScanQueryQueryToolChest toolchest = new ScanQueryQueryToolChest(\n        new ScanQueryConfig(),\n        DefaultGenericQueryMetricsFactory.instance()\n    );\n\n    final Closer resourceCloser = Closer.create();\n    ScanQueryRunnerFactory factory = new ScanQueryRunnerFactory(\n        toolchest,\n        new ScanQueryEngine(),\n        new ScanQueryConfig()\n    );\n\n    IndexIO indexIO = new IndexIO(\n        mapper,\n        new ColumnConfig()\n        {\n          @Override\n          public int columnCacheSizeBytes()\n          {\n            return 0;\n          }\n        }\n    );\n\n    return new AggregationTestHelper(\n        mapper,\n        new IndexMergerV9(mapper, indexIO, OffHeapMemorySegmentWriteOutMediumFactory.instance()),\n        indexIO,\n        toolchest,\n        factory,\n        tempFolder,\n        jsonModulesToRegister,\n        resourceCloser\n    );\n  }\n","realPath":"processing/src/test/java/org/apache/druid/query/aggregation/AggregationTestHelper.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":270,"status":"B"}],"commitId":"813e18774e86811bfd82ca87160a0a82d24e6201","commitMessage":"@@@make dimension column extensible with COMPLEX type (#10277)\n\n* make dimension column extensible with COMPLEX type\n\n* more changes\n\nChange-Id: I9707dd644b8d71030b74a8c1d6fff0c0020d960d\n\n* processing module changes for build fix\n\nChange-Id: I146f95a41b79d20edb1721be13f0e9641f788e0e\n\n* rename ColumnCapabilities.getTypeName() to getComplexTypeName()\n\n* rename ColumnBuilder.setTypeName(..) -> ColumnBuilder.setComplexTypeName(..)","date":"2020-12-04 00:58:17","modifiedFileCount":"10","status":"M","submitter":"Himanshu"},{"authorTime":"2021-05-03 07:14:21","codes":[{"authorDate":"2021-05-03 07:14:21","commitOrder":6,"curCode":"  public static AggregationTestHelper createTopNQueryAggregationTestHelper(\n      List<? extends Module> jsonModulesToRegister,\n      TemporaryFolder tempFolder\n  )\n  {\n    ObjectMapper mapper = TestHelper.makeJsonMapper();\n\n    TopNQueryQueryToolChest toolchest = new TopNQueryQueryToolChest(new TopNQueryConfig());\n\n    final CloseableStupidPool<ByteBuffer> pool = new CloseableStupidPool<>(\n        \"TopNQueryRunnerFactory-bufferPool\",\n        new Supplier<ByteBuffer>()\n        {\n          @Override\n          public ByteBuffer get()\n          {\n            return ByteBuffer.allocate(10 * 1024 * 1024);\n          }\n        }\n    );\n    final Closer resourceCloser = Closer.create();\n    TopNQueryRunnerFactory factory = new TopNQueryRunnerFactory(\n        pool,\n        toolchest,\n        QueryRunnerTestHelper.NOOP_QUERYWATCHER\n    );\n\n    IndexIO indexIO = new IndexIO(\n        mapper,\n        new ColumnConfig()\n        {\n          @Override\n          public int columnCacheSizeBytes()\n          {\n            return 0;\n          }\n        }\n    );\n\n    return new AggregationTestHelper(\n        mapper,\n        new IndexMergerV9(mapper, indexIO, OffHeapMemorySegmentWriteOutMediumFactory.instance()),\n        indexIO,\n        toolchest,\n        factory,\n        tempFolder,\n        jsonModulesToRegister,\n        resourceCloser,\n        Collections.emptyMap()\n    );\n  }\n","date":"2021-05-03 07:14:21","endLine":278,"groupId":"107002","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"createTopNQueryAggregationTestHelper","params":"(List<?extendsModule>jsonModulesToRegister@TemporaryFoldertempFolder)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/1e/d990b5f9700f529cbd769a35122d5b01b3462f.src","preCode":"  public static AggregationTestHelper createTopNQueryAggregationTestHelper(\n      List<? extends Module> jsonModulesToRegister,\n      TemporaryFolder tempFolder\n  )\n  {\n    ObjectMapper mapper = TestHelper.makeJsonMapper();\n\n    TopNQueryQueryToolChest toolchest = new TopNQueryQueryToolChest(new TopNQueryConfig());\n\n    final CloseableStupidPool<ByteBuffer> pool = new CloseableStupidPool<>(\n        \"TopNQueryRunnerFactory-bufferPool\",\n        new Supplier<ByteBuffer>()\n        {\n          @Override\n          public ByteBuffer get()\n          {\n            return ByteBuffer.allocate(10 * 1024 * 1024);\n          }\n        }\n    );\n    final Closer resourceCloser = Closer.create();\n    TopNQueryRunnerFactory factory = new TopNQueryRunnerFactory(\n        pool,\n        toolchest,\n        QueryRunnerTestHelper.NOOP_QUERYWATCHER\n    );\n\n    IndexIO indexIO = new IndexIO(\n        mapper,\n        new ColumnConfig()\n        {\n          @Override\n          public int columnCacheSizeBytes()\n          {\n            return 0;\n          }\n        }\n    );\n\n    return new AggregationTestHelper(\n        mapper,\n        new IndexMergerV9(mapper, indexIO, OffHeapMemorySegmentWriteOutMediumFactory.instance()),\n        indexIO,\n        toolchest,\n        factory,\n        tempFolder,\n        jsonModulesToRegister,\n        resourceCloser\n    );\n  }\n","realPath":"processing/src/test/java/org/apache/druid/query/aggregation/AggregationTestHelper.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":228,"status":"M"},{"authorDate":"2021-05-03 07:14:21","commitOrder":6,"curCode":"  public static AggregationTestHelper createScanQueryAggregationTestHelper(\n      List<? extends Module> jsonModulesToRegister,\n      TemporaryFolder tempFolder\n  )\n  {\n    ObjectMapper mapper = TestHelper.makeJsonMapper();\n\n    ScanQueryQueryToolChest toolchest = new ScanQueryQueryToolChest(\n        new ScanQueryConfig(),\n        DefaultGenericQueryMetricsFactory.instance()\n    );\n\n    final Closer resourceCloser = Closer.create();\n    ScanQueryRunnerFactory factory = new ScanQueryRunnerFactory(\n        toolchest,\n        new ScanQueryEngine(),\n        new ScanQueryConfig()\n    );\n\n    IndexIO indexIO = new IndexIO(\n        mapper,\n        new ColumnConfig()\n        {\n          @Override\n          public int columnCacheSizeBytes()\n          {\n            return 0;\n          }\n        }\n    );\n\n    return new AggregationTestHelper(\n        mapper,\n        new IndexMergerV9(mapper, indexIO, OffHeapMemorySegmentWriteOutMediumFactory.instance()),\n        indexIO,\n        toolchest,\n        factory,\n        tempFolder,\n        jsonModulesToRegister,\n        resourceCloser,\n        Collections.emptyMap()\n    );\n  }\n","date":"2021-05-03 07:14:21","endLine":322,"groupId":"107002","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"createScanQueryAggregationTestHelper","params":"(List<?extendsModule>jsonModulesToRegister@TemporaryFoldertempFolder)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/1e/d990b5f9700f529cbd769a35122d5b01b3462f.src","preCode":"  public static AggregationTestHelper createScanQueryAggregationTestHelper(\n      List<? extends Module> jsonModulesToRegister,\n      TemporaryFolder tempFolder\n  )\n  {\n    ObjectMapper mapper = TestHelper.makeJsonMapper();\n\n    ScanQueryQueryToolChest toolchest = new ScanQueryQueryToolChest(\n        new ScanQueryConfig(),\n        DefaultGenericQueryMetricsFactory.instance()\n    );\n\n    final Closer resourceCloser = Closer.create();\n    ScanQueryRunnerFactory factory = new ScanQueryRunnerFactory(\n        toolchest,\n        new ScanQueryEngine(),\n        new ScanQueryConfig()\n    );\n\n    IndexIO indexIO = new IndexIO(\n        mapper,\n        new ColumnConfig()\n        {\n          @Override\n          public int columnCacheSizeBytes()\n          {\n            return 0;\n          }\n        }\n    );\n\n    return new AggregationTestHelper(\n        mapper,\n        new IndexMergerV9(mapper, indexIO, OffHeapMemorySegmentWriteOutMediumFactory.instance()),\n        indexIO,\n        toolchest,\n        factory,\n        tempFolder,\n        jsonModulesToRegister,\n        resourceCloser\n    );\n  }\n","realPath":"processing/src/test/java/org/apache/druid/query/aggregation/AggregationTestHelper.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":280,"status":"M"}],"commitId":"809e001939be9196a4c3c620037606ab6e5af3b8","commitMessage":"@@@Vectorize the DataSketches quantiles aggregator. (#11183)\n\n* Vectorize the DataSketches quantiles aggregator.\n\nAlso removes synchronization for the BufferAggregator and VectorAggregator\nimplementations.  since it is not necessary (similar to #11115).\n\nExtends DoublesSketchAggregatorTest and DoublesSketchSqlAggregatorTest\nto run all test cases in vectorized mode.\n\n* Style fix.","date":"2021-05-03 07:14:21","modifiedFileCount":"8","status":"M","submitter":"Gian Merlino"}]
