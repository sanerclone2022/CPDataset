[{"authorTime":"2018-08-31 00:56:26","codes":[{"authorDate":"2018-08-31 00:56:26","commitOrder":1,"curCode":"  public void testTimeseriesLosAngelesViaPlannerConfig() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_LOS_ANGELES,\n        QUERY_CONTEXT_DEFAULT,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT FLOOR(__time TO MONTH) AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(QSS(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzfromString(LOS_ANGELES)))\n                  .aggregators(AGGS(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_DEFAULT)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, T(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, T(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","date":"2018-08-31 00:56:26","endLine":6065,"groupId":"9343","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testTimeseriesLosAngelesViaPlannerConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/d7/379ded006b366f1ea8ef06ae925a08ff61040e.src","preCode":"  public void testTimeseriesLosAngelesViaPlannerConfig() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_LOS_ANGELES,\n        QUERY_CONTEXT_DEFAULT,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT FLOOR(__time TO MONTH) AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(QSS(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzfromString(LOS_ANGELES)))\n                  .aggregators(AGGS(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_DEFAULT)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, T(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, T(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","realPath":"sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":6037,"status":"B"},{"authorDate":"2018-08-31 00:56:26","commitOrder":1,"curCode":"  public void testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_DEFAULT,\n        QUERY_CONTEXT_LOS_ANGELES,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT TIME_FLOOR(__time, 'P1M') AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(QSS(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzfromString(LOS_ANGELES)))\n                  .aggregators(AGGS(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_LOS_ANGELES)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, T(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, T(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","date":"2018-08-31 00:56:26","endLine":6280,"groupId":"10080","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/d7/379ded006b366f1ea8ef06ae925a08ff61040e.src","preCode":"  public void testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_DEFAULT,\n        QUERY_CONTEXT_LOS_ANGELES,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT TIME_FLOOR(__time, 'P1M') AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(QSS(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzfromString(LOS_ANGELES)))\n                  .aggregators(AGGS(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_LOS_ANGELES)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, T(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, T(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","realPath":"sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":6252,"status":"B"}],"commitId":"431d3d8497f9079857c3baa7ae7ab4cb44a22355","commitMessage":"@@@Rename io.druid to org.apache.druid. (#6266)\n\n* Rename io.druid to org.apache.druid.\n\n* Fix META-INF files and remove some benchmark results.\n\n* MonitorsConfig update for metrics package migration.\n\n* Reorder some dimensions in inner queries for some reason.\n\n* Fix protobuf tests.\n","date":"2018-08-31 00:56:26","modifiedFileCount":"5","status":"B","submitter":"Gian Merlino"},{"authorTime":"2019-01-22 03:11:10","codes":[{"authorDate":"2019-01-22 03:11:10","commitOrder":2,"curCode":"  public void testTimeseriesLosAngelesViaPlannerConfig() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_LOS_ANGELES,\n        QUERY_CONTEXT_DEFAULT,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT FLOOR(__time TO MONTH) AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(QSS(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(AGGS(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_DEFAULT)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, T(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, T(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","date":"2019-01-22 03:11:10","endLine":5908,"groupId":"9343","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testTimeseriesLosAngelesViaPlannerConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/67/ca1f70c731300f7dbb54f867b25a44c93ad864.src","preCode":"  public void testTimeseriesLosAngelesViaPlannerConfig() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_LOS_ANGELES,\n        QUERY_CONTEXT_DEFAULT,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT FLOOR(__time TO MONTH) AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(QSS(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzfromString(LOS_ANGELES)))\n                  .aggregators(AGGS(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_DEFAULT)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, T(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, T(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","realPath":"sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":5880,"status":"M"},{"authorDate":"2019-01-22 03:11:10","commitOrder":2,"curCode":"  public void testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_DEFAULT,\n        QUERY_CONTEXT_LOS_ANGELES,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT TIME_FLOOR(__time, 'P1M') AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(QSS(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(AGGS(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_LOS_ANGELES)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, T(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, T(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","date":"2019-01-22 03:11:10","endLine":6123,"groupId":"10080","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/67/ca1f70c731300f7dbb54f867b25a44c93ad864.src","preCode":"  public void testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_DEFAULT,\n        QUERY_CONTEXT_LOS_ANGELES,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT TIME_FLOOR(__time, 'P1M') AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(QSS(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzfromString(LOS_ANGELES)))\n                  .aggregators(AGGS(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_LOS_ANGELES)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, T(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, T(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","realPath":"sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":6095,"status":"M"}],"commitId":"8eae26fd4e7572060d112864dd3d5f6a865b9c89","commitMessage":"@@@Introduce SegmentId class (#6370)\n\n* Introduce SegmentId class\n\n* tmp\n\n* Fix SelectQueryRunnerTest\n\n* Fix indentation\n\n* Fixes\n\n* Remove Comparators.inverse() tests\n\n* Refinements\n\n* Fix tests\n\n* Fix more tests\n\n* Remove duplicate DataSegmentTest.  fixes #6064\n\n* SegmentDescriptor doc\n\n* Fix SQLMetadataStorageUpdaterJobHandler\n\n* Fix DataSegment deserialization for ignoring id\n\n* Add comments\n\n* More comments\n\n* Address more comments\n\n* Fix compilation\n\n* Restore segment2 in SystemSchemaTest according to a comment\n\n* Fix style\n\n* fix testServerSegmentsTable\n\n* Fix compilation\n\n* Add comments about why SegmentId and SegmentIdWithShardSpec are separate classes\n\n* Fix SystemSchemaTest\n\n* Fix style\n\n* Compare SegmentDescriptor with SegmentId in Javadoc and comments rather than with DataSegment\n\n* Remove a link.  see https://youtrack.jetbrains.com/issue/IDEA-205164\n\n* Fix compilation\n","date":"2019-01-22 03:11:10","modifiedFileCount":"308","status":"M","submitter":"Roman Leventov"},{"authorTime":"2019-02-24 12:10:31","codes":[{"authorDate":"2019-02-24 12:10:31","commitOrder":3,"curCode":"  public void testTimeseriesLosAngelesViaPlannerConfig() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_LOS_ANGELES,\n        QUERY_CONTEXT_DEFAULT,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT FLOOR(__time TO MONTH) AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_DEFAULT)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, t(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, t(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, t(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, t(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","date":"2019-02-24 12:10:31","endLine":5925,"groupId":"18200","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testTimeseriesLosAngelesViaPlannerConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/ad/6030fb8d73521776662c2a97e0f873c4ad7d0f.src","preCode":"  public void testTimeseriesLosAngelesViaPlannerConfig() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_LOS_ANGELES,\n        QUERY_CONTEXT_DEFAULT,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT FLOOR(__time TO MONTH) AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(QSS(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(AGGS(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_DEFAULT)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, T(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, T(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","realPath":"sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":5897,"status":"M"},{"authorDate":"2019-02-24 12:10:31","commitOrder":3,"curCode":"  public void testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_DEFAULT,\n        QUERY_CONTEXT_LOS_ANGELES,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT TIME_FLOOR(__time, 'P1M') AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_LOS_ANGELES)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, t(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, t(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, t(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, t(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","date":"2019-02-24 12:10:31","endLine":6140,"groupId":"18202","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/ad/6030fb8d73521776662c2a97e0f873c4ad7d0f.src","preCode":"  public void testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_DEFAULT,\n        QUERY_CONTEXT_LOS_ANGELES,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT TIME_FLOOR(__time, 'P1M') AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(QSS(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(AGGS(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_LOS_ANGELES)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, T(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, T(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, T(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","realPath":"sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":6112,"status":"M"}],"commitId":"8b803cbc22b15799fd0526de8d6d0eea155ad733","commitMessage":"@@@Added checkstyle for \"Methods starting with Capital Letters\"  (#7118)\n\n* Added checkstyle for \"Methods starting with Capital Letters\" and changed the method names violating this.\n\n* Un-abbreviate the method names in the calcite tests\n\n* Fixed checkstyle errors\n\n* Changed asserts position in the code\n","date":"2019-02-24 12:10:31","modifiedFileCount":"24","status":"M","submitter":"Himanshu Pandey"},{"authorTime":"2019-03-12 02:37:58","codes":[{"authorDate":"2019-03-12 02:37:58","commitOrder":4,"curCode":"  public void testTimeseriesLosAngelesViaPlannerConfig() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_LOS_ANGELES,\n        QUERY_CONTEXT_DEFAULT,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT FLOOR(__time TO MONTH) AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_DEFAULT)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, timestamp(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, timestamp(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","date":"2019-03-12 02:37:58","endLine":5949,"groupId":"6105","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testTimeseriesLosAngelesViaPlannerConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/f1/8c276266e32af9fa10564200b9d46f4c640c4f.src","preCode":"  public void testTimeseriesLosAngelesViaPlannerConfig() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_LOS_ANGELES,\n        QUERY_CONTEXT_DEFAULT,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT FLOOR(__time TO MONTH) AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_DEFAULT)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, t(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, t(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, t(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, t(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","realPath":"sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":5921,"status":"M"},{"authorDate":"2019-03-12 02:37:58","commitOrder":4,"curCode":"  public void testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_DEFAULT,\n        QUERY_CONTEXT_LOS_ANGELES,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT TIME_FLOOR(__time, 'P1M') AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_LOS_ANGELES)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, timestamp(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, timestamp(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","date":"2019-03-12 02:37:58","endLine":6164,"groupId":"9664","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/f1/8c276266e32af9fa10564200b9d46f4c640c4f.src","preCode":"  public void testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_DEFAULT,\n        QUERY_CONTEXT_LOS_ANGELES,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT TIME_FLOOR(__time, 'P1M') AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_LOS_ANGELES)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, t(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, t(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, t(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, t(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","realPath":"sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":6136,"status":"M"}],"commitId":"d7ba19d477732578fc310831ed28365b36332752","commitMessage":"@@@sql.  filters.  and virtual columns  (#6902)\n\n* refactor sql planning to re-use expression virtual columns when possible when constructing a DruidQuery.  allowing virtual columns to be defined in filter expressions.  and making resulting native druid queries more concise. also minor refactor of built-in sql aggregators to maximize code re-use\n\n* fix it\n\n* fix it in the right place\n\n* fixup for base64 stuff\n\n* fixup tests\n\n* fix merge conflict on import order\n\n* fixup\n\n* fix imports\n\n* fix tests\n\n* review comments\n\n* refactor\n\n* re-arrange\n\n* better javadoc\n\n* fixup merge\n\n* fixup tests\n\n* fix accidental changes\n","date":"2019-03-12 02:37:58","modifiedFileCount":"33","status":"M","submitter":"Clint Wylie"},{"authorTime":"2019-03-12 02:37:58","codes":[{"authorDate":"2019-05-22 02:40:44","commitOrder":5,"curCode":"  public void testTimeseriesLosAngelesViaPlannerConfig() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_LOS_ANGELES,\n        QUERY_CONTEXT_DEFAULT,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT\\n\"\n        + \"    FLOOR(__time TO MONTH) AS gran,\\n\"\n        + \"    cnt\\n\"\n        + \"  FROM druid.foo\\n\"\n        + \"  WHERE __time >= TIME_PARSE('1999-12-01 00:00:00') AND __time < TIME_PARSE('2002-01-01 00:00:00')\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Intervals.of(\"1999-12-01T00-08:00/2002-01-01T00-08:00\")))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_DEFAULT)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, timestamp(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, timestamp(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","date":"2019-05-22 02:40:44","endLine":5979,"groupId":"6105","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"testTimeseriesLosAngelesViaPlannerConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/79/e51d5eb6ce2cc951a15ca12fb5d88895ac3f37.src","preCode":"  public void testTimeseriesLosAngelesViaPlannerConfig() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_LOS_ANGELES,\n        QUERY_CONTEXT_DEFAULT,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT FLOOR(__time TO MONTH) AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_DEFAULT)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, timestamp(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, timestamp(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","realPath":"sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":5948,"status":"M"},{"authorDate":"2019-03-12 02:37:58","commitOrder":5,"curCode":"  public void testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_DEFAULT,\n        QUERY_CONTEXT_LOS_ANGELES,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT TIME_FLOOR(__time, 'P1M') AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_LOS_ANGELES)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, timestamp(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, timestamp(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","date":"2019-03-12 02:37:58","endLine":6164,"groupId":"9664","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/f1/8c276266e32af9fa10564200b9d46f4c640c4f.src","preCode":"  public void testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_DEFAULT,\n        QUERY_CONTEXT_LOS_ANGELES,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT TIME_FLOOR(__time, 'P1M') AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_LOS_ANGELES)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, timestamp(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, timestamp(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","realPath":"sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":6136,"status":"N"}],"commitId":"43c54385f6f7705507570c50e048b08cf5902b10","commitMessage":"@@@SQL: Respect default timezone for TIME_PARSE and TIME_SHIFT. (#7704)\n\n* SQL: Respect default timezone for TIME_PARSE and TIME_SHIFT.\n\nThey were inadvertently using UTC rather than the default timezone.\nAlso.  harmonize how time functions handle their parameters.\n\n* Fix tests\n\n* Add another TIME_SHIFT test.\n","date":"2019-05-22 02:40:44","modifiedFileCount":"9","status":"M","submitter":"Gian Merlino"},{"authorTime":"2020-06-04 07:46:28","codes":[{"authorDate":"2020-06-04 07:46:28","commitOrder":6,"curCode":"  public void testTimeseriesLosAngelesViaPlannerConfig() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_LOS_ANGELES,\n        QUERY_CONTEXT_DEFAULT,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT\\n\"\n        + \"    FLOOR(__time TO MONTH) AS gran,\\n\"\n        + \"    cnt\\n\"\n        + \"  FROM druid.foo\\n\"\n        + \"  WHERE __time >= TIME_PARSE('1999-12-01 00:00:00') AND __time < TIME_PARSE('2002-01-01 00:00:00')\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Intervals.of(\"1999-12-01T00-08:00/2002-01-01T00-08:00\")))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(getTimeseriesContextWithFloorTime(TIMESERIES_CONTEXT_DEFAULT, \"d0\"))\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, timestamp(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, timestamp(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","date":"2020-06-04 07:46:28","endLine":10447,"groupId":"6105","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"testTimeseriesLosAngelesViaPlannerConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/80/68a0d9e38b7f8629d5cf759c2492a4d2cb8fd4.src","preCode":"  public void testTimeseriesLosAngelesViaPlannerConfig() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_LOS_ANGELES,\n        QUERY_CONTEXT_DEFAULT,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT\\n\"\n        + \"    FLOOR(__time TO MONTH) AS gran,\\n\"\n        + \"    cnt\\n\"\n        + \"  FROM druid.foo\\n\"\n        + \"  WHERE __time >= TIME_PARSE('1999-12-01 00:00:00') AND __time < TIME_PARSE('2002-01-01 00:00:00')\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Intervals.of(\"1999-12-01T00-08:00/2002-01-01T00-08:00\")))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_DEFAULT)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, timestamp(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, timestamp(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","realPath":"sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":10416,"status":"M"},{"authorDate":"2020-06-04 07:46:28","commitOrder":6,"curCode":"  public void testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_DEFAULT,\n        QUERY_CONTEXT_LOS_ANGELES,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT TIME_FLOOR(__time, 'P1M') AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(getTimeseriesContextWithFloorTime(TIMESERIES_CONTEXT_LOS_ANGELES, \"d0\"))\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, timestamp(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, timestamp(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","date":"2020-06-04 07:46:28","endLine":10668,"groupId":"19221","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/80/68a0d9e38b7f8629d5cf759c2492a4d2cb8fd4.src","preCode":"  public void testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_DEFAULT,\n        QUERY_CONTEXT_LOS_ANGELES,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT TIME_FLOOR(__time, 'P1M') AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(TIMESERIES_CONTEXT_LOS_ANGELES)\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, timestamp(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, timestamp(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","realPath":"sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":10640,"status":"M"}],"commitId":"790e9482ea18d87d59eeeeab4ceec14e4b1e192d","commitMessage":"@@@Fix Subquery could not be converted to groupBy query (#9959)\n\n* Fix join\n\n* Fix Subquery could not be converted to groupBy query\n\n* Fix Subquery could not be converted to groupBy query\n\n* Fix Subquery could not be converted to groupBy query\n\n* Fix Subquery could not be converted to groupBy query\n\n* Fix Subquery could not be converted to groupBy query\n\n* Fix Subquery could not be converted to groupBy query\n\n* Fix Subquery could not be converted to groupBy query\n\n* Fix Subquery could not be converted to groupBy query\n\n* add tests\n\n* address comments\n\n* fix failing tests","date":"2020-06-04 07:46:28","modifiedFileCount":"12","status":"M","submitter":"Maytas Monsereenusorn"},{"authorTime":"2020-06-04 07:46:28","codes":[{"authorDate":"2021-05-11 01:13:37","commitOrder":7,"curCode":"  public void testTimeseriesLosAngelesViaPlannerConfig() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_LOS_ANGELES,\n        QUERY_CONTEXT_DEFAULT,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT\\n\"\n        + \"    FLOOR(__time TO MONTH) AS gran,\\n\"\n        + \"    cnt\\n\"\n        + \"  FROM druid.foo\\n\"\n        + \"  WHERE __time >= TIME_PARSE('1999-12-01 00:00:00') AND __time < TIME_PARSE('2002-01-01 00:00:00')\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Intervals.of(\"1999-12-01T00-08:00/2002-01-01T00-08:00\")))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(getTimeseriesContextWithFloorTime(TIMESERIES_CONTEXT_BY_GRAN, \"d0\"))\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, timestamp(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, timestamp(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","date":"2021-05-11 01:13:37","endLine":12154,"groupId":"101765","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"testTimeseriesLosAngelesViaPlannerConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/1e/fd99b05ebe6da94fffaa752ce8de0e97ef485f.src","preCode":"  public void testTimeseriesLosAngelesViaPlannerConfig() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_LOS_ANGELES,\n        QUERY_CONTEXT_DEFAULT,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT\\n\"\n        + \"    FLOOR(__time TO MONTH) AS gran,\\n\"\n        + \"    cnt\\n\"\n        + \"  FROM druid.foo\\n\"\n        + \"  WHERE __time >= TIME_PARSE('1999-12-01 00:00:00') AND __time < TIME_PARSE('2002-01-01 00:00:00')\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Intervals.of(\"1999-12-01T00-08:00/2002-01-01T00-08:00\")))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(getTimeseriesContextWithFloorTime(TIMESERIES_CONTEXT_DEFAULT, \"d0\"))\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, timestamp(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, timestamp(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","realPath":"sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":12123,"status":"M"},{"authorDate":"2020-06-04 07:46:28","commitOrder":7,"curCode":"  public void testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_DEFAULT,\n        QUERY_CONTEXT_LOS_ANGELES,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT TIME_FLOOR(__time, 'P1M') AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(getTimeseriesContextWithFloorTime(TIMESERIES_CONTEXT_LOS_ANGELES, \"d0\"))\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, timestamp(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, timestamp(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","date":"2020-06-04 07:46:28","endLine":10668,"groupId":"101765","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/80/68a0d9e38b7f8629d5cf759c2492a4d2cb8fd4.src","preCode":"  public void testTimeseriesLosAngelesUsingTimeFloorConnectionLosAngeles() throws Exception\n  {\n    testQuery(\n        PLANNER_CONFIG_DEFAULT,\n        QUERY_CONTEXT_LOS_ANGELES,\n        \"SELECT SUM(cnt), gran FROM (\\n\"\n        + \"  SELECT TIME_FLOOR(__time, 'P1M') AS gran,\\n\"\n        + \"  cnt FROM druid.foo\\n\"\n        + \") AS x\\n\"\n        + \"GROUP BY gran\\n\"\n        + \"ORDER BY gran\",\n        CalciteTests.REGULAR_USER_AUTH_RESULT,\n        ImmutableList.of(\n            Druids.newTimeseriesQueryBuilder()\n                  .dataSource(CalciteTests.DATASOURCE1)\n                  .intervals(querySegmentSpec(Filtration.eternity()))\n                  .granularity(new PeriodGranularity(Period.months(1), null, DateTimes.inferTzFromString(LOS_ANGELES)))\n                  .aggregators(aggregators(new LongSumAggregatorFactory(\"a0\", \"cnt\")))\n                  .context(getTimeseriesContextWithFloorTime(TIMESERIES_CONTEXT_LOS_ANGELES, \"d0\"))\n                  .build()\n        ),\n        ImmutableList.of(\n            new Object[]{1L, timestamp(\"1999-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2000-01-01\", LOS_ANGELES)},\n            new Object[]{1L, timestamp(\"2000-12-01\", LOS_ANGELES)},\n            new Object[]{2L, timestamp(\"2001-01-01\", LOS_ANGELES)}\n        )\n    );\n  }\n","realPath":"sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":10640,"status":"N"}],"commitId":"691d7a1d548909951468005348a603380f4d6d74","commitMessage":"@@@SQL timeseries no longer skip empty buckets with all granularity (#11188)\n\n* SQL timeseries no longer skip empty buckets with all granularity\n\n* add comment.  fix tests\n\n* the ol switcheroo\n\n* revert unintended change\n\n* docs and more tests\n\n* style\n\n* make checkstyle happy\n\n* docs fixes and more tests\n\n* add docs.  tests for array_agg\n\n* fixes\n\n* oops\n\n* doc stuffs\n\n* fix compile.  match doc style","date":"2021-05-11 01:13:37","modifiedFileCount":"16","status":"M","submitter":"Clint Wylie"}]
