[{"authorTime":"2019-04-27 08:07:48","codes":[{"authorDate":"2019-04-27 08:07:48","commitOrder":1,"curCode":"  public void testApply()\n  {\n    event.put(\"count\", new Double(10.0));\n    event.put(\"avgCount\", new Double(12.0));\n\n    Row result = pac.apply(row);\n\n    assertEquals(result.getMetric(\"avgCountRatio\").floatValue(), 10.0f / 12.0f, 0.0);\n  }\n","date":"2019-04-27 08:07:48","endLine":97,"groupId":"15239","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testApply","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/51/c707749f183d0ea70500e26d0413e616c9fd80.src","preCode":"  public void testApply()\n  {\n    event.put(\"count\", new Double(10.0));\n    event.put(\"avgCount\", new Double(12.0));\n\n    Row result = pac.apply(row);\n\n    assertEquals(result.getMetric(\"avgCountRatio\").floatValue(), 10.0f / 12.0f, 0.0);\n  }\n","realPath":"extensions-contrib/moving-average-query/src/test/java/org/apache/druid/query/movingaverage/PostAveragerAggregatorCalculatorTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"B"},{"authorDate":"2019-04-27 08:07:48","commitOrder":1,"curCode":"  public void testApplyMissingColumn()\n  {\n    event.put(\"count\", new Double(10.0));\n\n    Row result = pac.apply(row);\n\n    assertEquals(result.getMetric(\"avgCountRatio\").floatValue(), 0.0, 0.0);\n    assertNull(result.getRaw(\"avgCountRatio\"));\n  }\n","date":"2019-04-27 08:07:48","endLine":108,"groupId":"15239","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testApplyMissingColumn","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/51/c707749f183d0ea70500e26d0413e616c9fd80.src","preCode":"  public void testApplyMissingColumn()\n  {\n    event.put(\"count\", new Double(10.0));\n\n    Row result = pac.apply(row);\n\n    assertEquals(result.getMetric(\"avgCountRatio\").floatValue(), 0.0, 0.0);\n    assertNull(result.getRaw(\"avgCountRatio\"));\n  }\n","realPath":"extensions-contrib/moving-average-query/src/test/java/org/apache/druid/query/movingaverage/PostAveragerAggregatorCalculatorTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":100,"status":"B"}],"commitId":"f02251ab2d6e1b4d13bf78415c9c7528a7a9c063","commitMessage":"@@@Contributing Moving-Average Query to open source. (#6430)\n\n* Contributing Moving-Average Query to open source.\n\n* Fix failing code inspections.\n\n* See if explicit types will invoke the correct comparison function.\n\n* Explicitly remove support for druid.generic.useDefaultValueForNull configuration parameter.\n\n* Update styling and headers for complience.\n\n* Refresh code with latest master changes:\n\n* Remove NullDimensionSelector.\n* Apply changes of RequestLogger.\n* Apply changes of TimelineServerView.\n\n* Small checkstyle fix.\n\n* Checkstyle fixes.\n\n* Fixing rat errors; Teamcity errors.\n\n* Removing support theta sketches. Will be added back in this pr or a following once DI conflicts with datasketches are resolved.\n\n* Implements some of the review fixes.\n\n* Contributing Moving-Average Query to open source.\n\n* Fix failing code inspections.\n\n* See if explicit types will invoke the correct comparison function.\n\n* Explicitly remove support for druid.generic.useDefaultValueForNull configuration parameter.\n\n* Update styling and headers for complience.\n\n* Refresh code with latest master changes:\n\n* Remove NullDimensionSelector.\n* Apply changes of RequestLogger.\n* Apply changes of TimelineServerView.\n\n* Small checkstyle fix.\n\n* Checkstyle fixes.\n\n* Fixing rat errors; Teamcity errors.\n\n* Removing support theta sketches. Will be added back in this pr or a following once DI conflicts with datasketches are resolved.\n\n* Implements some of the review fixes.\n\n* More fixes for review.\n\n* More fixes from review.\n\n* MapBasedRow is Unmodifiable. Create new rows instead of modifying existing ones.\n\n* Remove more changes related to datasketches support.\n\n* Refactor BaseAverager startFrom field and add a comment.\n\n* fakeEvents field: Refactor initialization and add comment.\n\n* Rename parameters (tiny change).\n\n* Fix variable name typo in test (JAN_4).\n\n* Fix styling of non camelCase fields.\n\n* Fix Preconditions.checkArgument for cycleSize.\n\n* Add more documentation to RowBucketIterable and other classes.\n\n* key/value comment on in MovingAverageIterable.\n\n* Fix anonymous makeColumnValueSelector returning null.\n\n* Replace IdentityYieldingAccumolator with Yielders.each().\n\n* * internalNext() should return null instead of throwing exception.\n* Remove unused variables/prarameters.\n\n* Harden MovingAverageIterableTest (Switch anyOf to exact match).\n\n* Change internalNext() from recursion to iteration; Simplify next() and hasNext().\n\n* Remove unused imports.\n\n* Address review comments.\n\n* Rename fakeEvents to emptyEvents.\n\n* Remove redundant parameter key from computeMovingAverage.\n\n* Check yielder as well in RowBucketIterable#hasNext()\n\n* Fix javadoc.\n","date":"2019-04-27 08:07:48","modifiedFileCount":"0","status":"B","submitter":"Eyal Yurman"},{"authorTime":"2019-07-07 00:33:12","codes":[{"authorDate":"2019-07-07 00:33:12","commitOrder":2,"curCode":"  public void testApply()\n  {\n    event.put(\"count\", 10.0);\n    event.put(\"avgCount\", 12.0);\n\n    Row result = pac.apply(row);\n\n    Assert.assertEquals(10.0f / 12.0f, result.getMetric(\"avgCountRatio\").floatValue(), 0.0);\n  }\n","date":"2019-07-07 00:33:12","endLine":92,"groupId":"104019","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testApply","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/54/2408c75de52c5974e6da1f20d7e2e4b4b81066.src","preCode":"  public void testApply()\n  {\n    event.put(\"count\", new Double(10.0));\n    event.put(\"avgCount\", new Double(12.0));\n\n    Row result = pac.apply(row);\n\n    assertEquals(result.getMetric(\"avgCountRatio\").floatValue(), 10.0f / 12.0f, 0.0);\n  }\n","realPath":"extensions-contrib/moving-average-query/src/test/java/org/apache/druid/query/movingaverage/PostAveragerAggregatorCalculatorTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":84,"status":"M"},{"authorDate":"2019-07-07 00:33:12","commitOrder":2,"curCode":"  public void testApplyMissingColumn()\n  {\n    event.put(\"count\", 10.0);\n\n    Row result = pac.apply(row);\n\n    Assert.assertEquals(0.0, result.getMetric(\"avgCountRatio\").floatValue(), 0.0);\n    Assert.assertNull(result.getRaw(\"avgCountRatio\"));\n  }\n","date":"2019-07-07 00:33:12","endLine":103,"groupId":"104019","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testApplyMissingColumn","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/54/2408c75de52c5974e6da1f20d7e2e4b4b81066.src","preCode":"  public void testApplyMissingColumn()\n  {\n    event.put(\"count\", new Double(10.0));\n\n    Row result = pac.apply(row);\n\n    assertEquals(result.getMetric(\"avgCountRatio\").floatValue(), 0.0, 0.0);\n    assertNull(result.getRaw(\"avgCountRatio\"));\n  }\n","realPath":"extensions-contrib/moving-average-query/src/test/java/org/apache/druid/query/movingaverage/PostAveragerAggregatorCalculatorTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":95,"status":"M"}],"commitId":"1166bbcb75d432817715fdd429737f86730b5591","commitMessage":"@@@Remove static imports from tests (#8036)\n\nMake static imports forbidden in tests and remove all occurrences to be\nconsistent with the non-test code.\n\nAlso.  various changes to files affected by above:\n- Reformat to adhere to druid style guide\n- Fix various IntelliJ warnings\n- Fix various SonarLint warnings (e.g..  the expected/actual args to\n  Assert.assertEquals() were flipped)","date":"2019-07-07 00:33:12","modifiedFileCount":"98","status":"M","submitter":"Chi Cao Minh"}]
