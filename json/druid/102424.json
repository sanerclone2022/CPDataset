[{"authorTime":"2021-04-02 08:30:47","codes":[{"authorDate":"2021-04-02 08:30:47","commitOrder":1,"curCode":"  public void testFailValidAndInvalidProperty()\n  {\n    MetadataStorageConnectorConfig connectorConfig = new MetadataStorageConnectorConfig()\n    {\n      @Override\n      public String getConnectURI()\n      {\n        return \"jdbc:postgresql://localhost:3306/test?user=maytas&password=secret&keyonly\";\n      }\n    };\n\n    JdbcAccessSecurityConfig securityConfig = newSecurityConfigEnforcingAllowList(ImmutableSet.of(\"user\", \"nonenone\"));\n\n    expectedException.expectMessage(\"is not in the allowed list\");\n    expectedException.expect(IllegalArgumentException.class);\n\n    new PostgresqlFirehoseDatabaseConnector(\n        connectorConfig,\n        securityConfig\n    );\n  }\n","date":"2021-04-02 08:30:47","endLine":165,"groupId":"19416","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testFailValidAndInvalidProperty","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/4a/b9ab3b380594b4757cd17dce563b18dabb81a7.src","preCode":"  public void testFailValidAndInvalidProperty()\n  {\n    MetadataStorageConnectorConfig connectorConfig = new MetadataStorageConnectorConfig()\n    {\n      @Override\n      public String getConnectURI()\n      {\n        return \"jdbc:postgresql://localhost:3306/test?user=maytas&password=secret&keyonly\";\n      }\n    };\n\n    JdbcAccessSecurityConfig securityConfig = newSecurityConfigEnforcingAllowList(ImmutableSet.of(\"user\", \"nonenone\"));\n\n    expectedException.expectMessage(\"is not in the allowed list\");\n    expectedException.expect(IllegalArgumentException.class);\n\n    new PostgresqlFirehoseDatabaseConnector(\n        connectorConfig,\n        securityConfig\n    );\n  }\n","realPath":"extensions-core/postgresql-metadata-storage/src/test/java/org/apache/druid/firehose/PostgresqlFirehoseDatabaseConnectorTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":145,"status":"B"},{"authorDate":"2021-04-02 08:30:47","commitOrder":1,"curCode":"  public void testFailOnlyInvalidProperty()\n  {\n    MetadataStorageConnectorConfig connectorConfig = new MetadataStorageConnectorConfig()\n    {\n      @Override\n      public String getConnectURI()\n      {\n        return \"jdbc:mysql://localhost:3306/test?user=maytas&password=secret&keyonly\";\n      }\n    };\n\n    JdbcAccessSecurityConfig securityConfig = newSecurityConfigEnforcingAllowList(ImmutableSet.of(\"none\", \"nonenone\"));\n\n    expectedException.expectMessage(\"The property [password] is not in the allowed list\");\n    expectedException.expect(IllegalArgumentException.class);\n\n    new MySQLFirehoseDatabaseConnector(\n        connectorConfig,\n        securityConfig\n    );\n  }\n","date":"2021-04-02 08:30:47","endLine":143,"groupId":"19417","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testFailOnlyInvalidProperty","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/47/78a42958d5c928565f175deb9b2354d31cca58.src","preCode":"  public void testFailOnlyInvalidProperty()\n  {\n    MetadataStorageConnectorConfig connectorConfig = new MetadataStorageConnectorConfig()\n    {\n      @Override\n      public String getConnectURI()\n      {\n        return \"jdbc:mysql://localhost:3306/test?user=maytas&password=secret&keyonly\";\n      }\n    };\n\n    JdbcAccessSecurityConfig securityConfig = newSecurityConfigEnforcingAllowList(ImmutableSet.of(\"none\", \"nonenone\"));\n\n    expectedException.expectMessage(\"The property [password] is not in the allowed list\");\n    expectedException.expect(IllegalArgumentException.class);\n\n    new MySQLFirehoseDatabaseConnector(\n        connectorConfig,\n        securityConfig\n    );\n  }\n","realPath":"extensions-core/mysql-metadata-storage/src/test/java/org/apache/druid/firehose/sql/MySQLFirehoseDatabaseConnectorTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":123,"status":"B"}],"commitId":"cfcebc40f67a38eb0a3a23ae8919100bd432d533","commitMessage":"@@@Allow list for JDBC connection properties to address CVE-2021-26919 (#11047)\n\n* Allow list for JDBC connection properties to address CVE-2021-26919\n\n* fix tests for java 11","date":"2021-04-02 08:30:47","modifiedFileCount":"14","status":"B","submitter":"Jihoon Son"},{"authorTime":"2021-07-09 03:25:37","codes":[{"authorDate":"2021-04-02 08:30:47","commitOrder":2,"curCode":"  public void testFailValidAndInvalidProperty()\n  {\n    MetadataStorageConnectorConfig connectorConfig = new MetadataStorageConnectorConfig()\n    {\n      @Override\n      public String getConnectURI()\n      {\n        return \"jdbc:postgresql://localhost:3306/test?user=maytas&password=secret&keyonly\";\n      }\n    };\n\n    JdbcAccessSecurityConfig securityConfig = newSecurityConfigEnforcingAllowList(ImmutableSet.of(\"user\", \"nonenone\"));\n\n    expectedException.expectMessage(\"is not in the allowed list\");\n    expectedException.expect(IllegalArgumentException.class);\n\n    new PostgresqlFirehoseDatabaseConnector(\n        connectorConfig,\n        securityConfig\n    );\n  }\n","date":"2021-04-02 08:30:47","endLine":165,"groupId":"102424","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testFailValidAndInvalidProperty","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/4a/b9ab3b380594b4757cd17dce563b18dabb81a7.src","preCode":"  public void testFailValidAndInvalidProperty()\n  {\n    MetadataStorageConnectorConfig connectorConfig = new MetadataStorageConnectorConfig()\n    {\n      @Override\n      public String getConnectURI()\n      {\n        return \"jdbc:postgresql://localhost:3306/test?user=maytas&password=secret&keyonly\";\n      }\n    };\n\n    JdbcAccessSecurityConfig securityConfig = newSecurityConfigEnforcingAllowList(ImmutableSet.of(\"user\", \"nonenone\"));\n\n    expectedException.expectMessage(\"is not in the allowed list\");\n    expectedException.expect(IllegalArgumentException.class);\n\n    new PostgresqlFirehoseDatabaseConnector(\n        connectorConfig,\n        securityConfig\n    );\n  }\n","realPath":"extensions-core/postgresql-metadata-storage/src/test/java/org/apache/druid/firehose/PostgresqlFirehoseDatabaseConnectorTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":145,"status":"N"},{"authorDate":"2021-07-09 03:25:37","commitOrder":2,"curCode":"  public void testFailOnlyInvalidProperty()\n  {\n    MetadataStorageConnectorConfig connectorConfig = new MetadataStorageConnectorConfig()\n    {\n      @Override\n      public String getConnectURI()\n      {\n        return \"jdbc:mysql://localhost:3306/test?user=maytas&password=secret&keyonly\";\n      }\n    };\n\n    JdbcAccessSecurityConfig securityConfig = newSecurityConfigEnforcingAllowList(ImmutableSet.of(\"none\", \"nonenone\"));\n\n    expectedException.expectMessage(\"The property [password] is not in the allowed list\");\n    expectedException.expect(IllegalArgumentException.class);\n\n    new MySQLFirehoseDatabaseConnector(\n        connectorConfig,\n        null,\n        securityConfig\n    );\n  }\n","date":"2021-07-09 03:25:37","endLine":227,"groupId":"102424","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"testFailOnlyInvalidProperty","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/b4/6cb26856224a0ab128aeb369de1761227c3517.src","preCode":"  public void testFailOnlyInvalidProperty()\n  {\n    MetadataStorageConnectorConfig connectorConfig = new MetadataStorageConnectorConfig()\n    {\n      @Override\n      public String getConnectURI()\n      {\n        return \"jdbc:mysql://localhost:3306/test?user=maytas&password=secret&keyonly\";\n      }\n    };\n\n    JdbcAccessSecurityConfig securityConfig = newSecurityConfigEnforcingAllowList(ImmutableSet.of(\"none\", \"nonenone\"));\n\n    expectedException.expectMessage(\"The property [password] is not in the allowed list\");\n    expectedException.expect(IllegalArgumentException.class);\n\n    new MySQLFirehoseDatabaseConnector(\n        connectorConfig,\n        securityConfig\n    );\n  }\n","realPath":"extensions-core/mysql-metadata-storage/src/test/java/org/apache/druid/firehose/sql/MySQLFirehoseDatabaseConnectorTest.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":206,"status":"M"}],"commitId":"63fcd77c3817c209c294159aa0578486225bded3","commitMessage":"@@@support using mariadb connector with mysql extensions (#11402)\n\n* support using mariadb connector with mysql extensions\n\n* cleanup and more tests\n\n* fix test\n\n* javadocs.  more tests.  etc\n\n* style and more test\n\n* more test more better\n\n* missing pom\n\n* more pom","date":"2021-07-09 03:25:37","modifiedFileCount":"16","status":"M","submitter":"Clint Wylie"}]
