[{"authorTime":"2018-08-31 00:56:26","codes":[{"authorDate":"2018-08-31 00:56:26","commitOrder":1,"curCode":"  public Response getSubTaskSpec(@PathParam(\"id\") String id, @Context final HttpServletRequest req)\n  {\n    IndexTaskUtils.datasourceAuthorizationCheck(req, Action.READ, getDataSource(), authorizerMapper);\n\n    if (runner == null) {\n      return Response.status(Response.Status.SERVICE_UNAVAILABLE).entity(\"task is not running yet\").build();\n    } else {\n      final SubTaskSpec subTaskSpec = runner.getSubTaskSpec(id);\n      if (subTaskSpec == null) {\n        return Response.status(Response.Status.NOT_FOUND).build();\n      } else {\n        return Response.ok(subTaskSpec).build();\n      }\n    }\n  }\n","date":"2018-08-31 00:56:26","endLine":518,"groupId":"17038","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"getSubTaskSpec","params":"(@PathParam(\"id\")Stringid@@ContextfinalHttpServletRequestreq)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/b6/40c56ceb101b131329cefc1faa51066e64ff59.src","preCode":"  public Response getSubTaskSpec(@PathParam(\"id\") String id, @Context final HttpServletRequest req)\n  {\n    IndexTaskUtils.datasourceAuthorizationCheck(req, Action.READ, getDataSource(), authorizerMapper);\n\n    if (runner == null) {\n      return Response.status(Response.Status.SERVICE_UNAVAILABLE).entity(\"task is not running yet\").build();\n    } else {\n      final SubTaskSpec subTaskSpec = runner.getSubTaskSpec(id);\n      if (subTaskSpec == null) {\n        return Response.status(Response.Status.NOT_FOUND).build();\n      } else {\n        return Response.ok(subTaskSpec).build();\n      }\n    }\n  }\n","realPath":"indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":504,"status":"B"},{"authorDate":"2018-08-31 00:56:26","commitOrder":1,"curCode":"  public Response getSubTaskState(@PathParam(\"id\") String id, @Context final HttpServletRequest req)\n  {\n    IndexTaskUtils.datasourceAuthorizationCheck(req, Action.READ, getDataSource(), authorizerMapper);\n    if (runner == null) {\n      return Response.status(Response.Status.SERVICE_UNAVAILABLE).entity(\"task is not running yet\").build();\n    } else {\n      final SubTaskSpecStatus subTaskSpecStatus = runner.getSubTaskState(id);\n      if (subTaskSpecStatus == null) {\n        return Response.status(Response.Status.NOT_FOUND).build();\n      } else {\n        return Response.ok(subTaskSpecStatus).build();\n      }\n    }\n  }\n","date":"2018-08-31 00:56:26","endLine":536,"groupId":"20626","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"getSubTaskState","params":"(@PathParam(\"id\")Stringid@@ContextfinalHttpServletRequestreq)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/b6/40c56ceb101b131329cefc1faa51066e64ff59.src","preCode":"  public Response getSubTaskState(@PathParam(\"id\") String id, @Context final HttpServletRequest req)\n  {\n    IndexTaskUtils.datasourceAuthorizationCheck(req, Action.READ, getDataSource(), authorizerMapper);\n    if (runner == null) {\n      return Response.status(Response.Status.SERVICE_UNAVAILABLE).entity(\"task is not running yet\").build();\n    } else {\n      final SubTaskSpecStatus subTaskSpecStatus = runner.getSubTaskState(id);\n      if (subTaskSpecStatus == null) {\n        return Response.status(Response.Status.NOT_FOUND).build();\n      } else {\n        return Response.ok(subTaskSpecStatus).build();\n      }\n    }\n  }\n","realPath":"indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":523,"status":"B"}],"commitId":"431d3d8497f9079857c3baa7ae7ab4cb44a22355","commitMessage":"@@@Rename io.druid to org.apache.druid. (#6266)\n\n* Rename io.druid to org.apache.druid.\n\n* Fix META-INF files and remove some benchmark results.\n\n* MonitorsConfig update for metrics package migration.\n\n* Reorder some dimensions in inner queries for some reason.\n\n* Fix protobuf tests.\n","date":"2018-08-31 00:56:26","modifiedFileCount":"5","status":"B","submitter":"Gian Merlino"},{"authorTime":"2019-08-16 08:43:35","codes":[{"authorDate":"2019-08-16 08:43:35","commitOrder":2,"curCode":"  public Response getSubTaskSpec(@PathParam(\"id\") String id, @Context final HttpServletRequest req)\n  {\n    IndexTaskUtils.datasourceAuthorizationCheck(req, Action.READ, getDataSource(), authorizerMapper);\n\n    final ParallelIndexTaskRunner currentRunner = getCurrentRunner();\n    if (currentRunner == null) {\n      return Response.status(Response.Status.SERVICE_UNAVAILABLE).entity(\"task is not running yet\").build();\n    } else {\n      final SubTaskSpec subTaskSpec = currentRunner.getSubTaskSpec(id);\n      if (subTaskSpec == null) {\n        return Response.status(Response.Status.NOT_FOUND).build();\n      } else {\n        return Response.ok(subTaskSpec).build();\n      }\n    }\n  }\n","date":"2019-08-16 08:43:35","endLine":921,"groupId":"104804","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"getSubTaskSpec","params":"(@PathParam(\"id\")Stringid@@ContextfinalHttpServletRequestreq)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/2f/a30e34270cbf73e77f8b0d52fcc889b0794b21.src","preCode":"  public Response getSubTaskSpec(@PathParam(\"id\") String id, @Context final HttpServletRequest req)\n  {\n    IndexTaskUtils.datasourceAuthorizationCheck(req, Action.READ, getDataSource(), authorizerMapper);\n\n    if (runner == null) {\n      return Response.status(Response.Status.SERVICE_UNAVAILABLE).entity(\"task is not running yet\").build();\n    } else {\n      final SubTaskSpec subTaskSpec = runner.getSubTaskSpec(id);\n      if (subTaskSpec == null) {\n        return Response.status(Response.Status.NOT_FOUND).build();\n      } else {\n        return Response.ok(subTaskSpec).build();\n      }\n    }\n  }\n","realPath":"indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":906,"status":"M"},{"authorDate":"2019-08-16 08:43:35","commitOrder":2,"curCode":"  public Response getSubTaskState(@PathParam(\"id\") String id, @Context final HttpServletRequest req)\n  {\n    IndexTaskUtils.datasourceAuthorizationCheck(req, Action.READ, getDataSource(), authorizerMapper);\n    final ParallelIndexTaskRunner currentRunner = getCurrentRunner();\n    if (currentRunner == null) {\n      return Response.status(Response.Status.SERVICE_UNAVAILABLE).entity(\"task is not running yet\").build();\n    } else {\n      final SubTaskSpecStatus subTaskSpecStatus = currentRunner.getSubTaskState(id);\n      if (subTaskSpecStatus == null) {\n        return Response.status(Response.Status.NOT_FOUND).build();\n      } else {\n        return Response.ok(subTaskSpecStatus).build();\n      }\n    }\n  }\n","date":"2019-08-16 08:43:35","endLine":940,"groupId":"104804","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"getSubTaskState","params":"(@PathParam(\"id\")Stringid@@ContextfinalHttpServletRequestreq)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/2f/a30e34270cbf73e77f8b0d52fcc889b0794b21.src","preCode":"  public Response getSubTaskState(@PathParam(\"id\") String id, @Context final HttpServletRequest req)\n  {\n    IndexTaskUtils.datasourceAuthorizationCheck(req, Action.READ, getDataSource(), authorizerMapper);\n    if (runner == null) {\n      return Response.status(Response.Status.SERVICE_UNAVAILABLE).entity(\"task is not running yet\").build();\n    } else {\n      final SubTaskSpecStatus subTaskSpecStatus = runner.getSubTaskState(id);\n      if (subTaskSpecStatus == null) {\n        return Response.status(Response.Status.NOT_FOUND).build();\n      } else {\n        return Response.ok(subTaskSpecStatus).build();\n      }\n    }\n  }\n","realPath":"indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":926,"status":"M"}],"commitId":"5dac6375f382ba485ec000802ff0e922929df95d","commitMessage":"@@@Add support for parallel native indexing with shuffle for perfect rollup (#8257)\n\n* Add TaskResourceCleaner; fix a couple of concurrency bugs in batch tasks\n\n* kill runner when it's ready\n\n* add comment\n\n* kill run thread\n\n* fix test\n\n* Take closeable out of Appenderator\n\n* add javadoc\n\n* fix test\n\n* fix test\n\n* update javadoc\n\n* add javadoc about killed task\n\n* address comment\n\n* Add support for parallel native indexing with shuffle for perfect rollup.\n\n* Add comment about volatiles\n\n* fix test\n\n* fix test\n\n* handling missing exceptions\n\n* more clear javadoc for stopGracefully\n\n* unused import\n\n* update javadoc\n\n* Add missing statement in javadoc\n\n* address comments; fix doc\n\n* add javadoc for isGuaranteedRollup\n\n* Rename confusing variable name and fix typos\n\n* fix typos; move fetch() to a better home; fix the expiration time\n\n* add support https\n","date":"2019-08-16 08:43:35","modifiedFileCount":"49","status":"M","submitter":"Jihoon Son"}]
