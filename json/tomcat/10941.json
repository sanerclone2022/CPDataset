[{"authorTime":"2006-07-20 20:50:34","codes":[{"authorDate":"2006-07-20 20:50:34","commitOrder":1,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null || !path.startsWith(\"/\")) {\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n        }\n        \n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        String libPath = \"/WEB-INF/lib/\";\n        if ((path.startsWith(libPath)) && (path.endsWith(\".jar\"))) {\n            File jarFile = null;\n            if (context.isFilesystemBased()) {\n                jarFile = new File(basePath, path);\n            } else {\n                jarFile = new File(context.getWorkPath(), path);\n            }\n            if (jarFile.exists()) {\n                return jarFile.toURL();\n            } else {\n                return null;\n            }\n        } else {\n\n            DirContext resources = context.getResources();\n            if (resources != null) {\n                String fullPath = context.getName() + path;\n                String hostName = context.getParent().getName();\n                try {\n                    resources.lookup(path);\n                    return new URL\n                        (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                         new DirContextURLStreamHandler(resources));\n                } catch (Exception e) {\n                    \r\n                }\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2006-07-20 20:50:34","endLine":511,"groupId":"10773","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/8d/2d7fdb479b0098802fad7e3a40fa9da90c0fd9.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null || !path.startsWith(\"/\")) {\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n        }\n        \n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        String libPath = \"/WEB-INF/lib/\";\n        if ((path.startsWith(libPath)) && (path.endsWith(\".jar\"))) {\n            File jarFile = null;\n            if (context.isFilesystemBased()) {\n                jarFile = new File(basePath, path);\n            } else {\n                jarFile = new File(context.getWorkPath(), path);\n            }\n            if (jarFile.exists()) {\n                return jarFile.toURL();\n            } else {\n                return null;\n            }\n        } else {\n\n            DirContext resources = context.getResources();\n            if (resources != null) {\n                String fullPath = context.getName() + path;\n                String hostName = context.getParent().getName();\n                try {\n                    resources.lookup(path);\n                    return new URL\n                        (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                         new DirContextURLStreamHandler(resources));\n                } catch (Exception e) {\n                    \r\n                }\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":468,"status":"B"},{"authorDate":"2006-07-20 20:50:34","commitOrder":1,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(path);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n            }\n        }\n        return (null);\n\n    }\n","date":"2006-07-20 20:50:34","endLine":539,"groupId":"12517","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/8d/2d7fdb479b0098802fad7e3a40fa9da90c0fd9.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(path);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":522,"status":"B"}],"commitId":"eae54419c6e196933998f63358367040edaa4a8c","commitMessage":"@@@Phase 1: Setting eol and mime types\n@echo off\nif \"%OS%\" == \"Windows_NT\" setlocal\n\nif \"%1\" == \"\" (\nset SCRIPT_NAME=%~f0\n) else (\nset SCRIPT_NAME=%~f1\n)\n\nfor /D %%i in (*) do (\ncd %%i\nsvn propset svn:eol-style native *.java\nsvn propset svn:eol-style native *.properties\nsvn propset svn:eol-style native *.xml\nsvn propset svn:eol-style native *.xsd\nsvn propset svn:eol-style native *.xsl\nsvn propset svn:eol-style native *.dtd\nsvn propset svn:eol-style native *.tld\nsvn propset svn:eol-style native *.html\nsvn propset svn:eol-style native *.txt\nsvn propset svn:eol-style native *.jsp\nsvn propset svn:eol-style native *.jspx\nsvn propset svn:eol-style native *.jspf\nsvn propset svn:eol-style native *.sh\nsvn propset svn:eol-style native *.bat\nsvn propset svn:eol-style native *.svg\nsvn propset svn:mime-type image/gif *.gif\nsvn propset svn:mime-type image/jpeg *.jpg\nsvn propset svn:mime-type image/bmp *.bmp\nsvn propset svn:mime-type application/pdf *.pdf\nsvn propset svn:mime-type application/pdf *.pdf\nsvn propset svn:mime-type image/x-icon *.ico\n\ncall %SCRIPT_NAME% %SCRIPT_NAME%\ncd ..\n)\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@423920 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2006-07-20 20:50:34","modifiedFileCount":"858","status":"B","submitter":"Mladen Turk"},{"authorTime":"2007-12-19 07:08:51","codes":[{"authorDate":"2006-07-20 20:50:34","commitOrder":2,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null || !path.startsWith(\"/\")) {\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n        }\n        \n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        String libPath = \"/WEB-INF/lib/\";\n        if ((path.startsWith(libPath)) && (path.endsWith(\".jar\"))) {\n            File jarFile = null;\n            if (context.isFilesystemBased()) {\n                jarFile = new File(basePath, path);\n            } else {\n                jarFile = new File(context.getWorkPath(), path);\n            }\n            if (jarFile.exists()) {\n                return jarFile.toURL();\n            } else {\n                return null;\n            }\n        } else {\n\n            DirContext resources = context.getResources();\n            if (resources != null) {\n                String fullPath = context.getName() + path;\n                String hostName = context.getParent().getName();\n                try {\n                    resources.lookup(path);\n                    return new URL\n                        (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                         new DirContextURLStreamHandler(resources));\n                } catch (Exception e) {\n                    \r\n                }\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2006-07-20 20:50:34","endLine":511,"groupId":"10773","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/8d/2d7fdb479b0098802fad7e3a40fa9da90c0fd9.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null || !path.startsWith(\"/\")) {\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n        }\n        \n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        String libPath = \"/WEB-INF/lib/\";\n        if ((path.startsWith(libPath)) && (path.endsWith(\".jar\"))) {\n            File jarFile = null;\n            if (context.isFilesystemBased()) {\n                jarFile = new File(basePath, path);\n            } else {\n                jarFile = new File(context.getWorkPath(), path);\n            }\n            if (jarFile.exists()) {\n                return jarFile.toURL();\n            } else {\n                return null;\n            }\n        } else {\n\n            DirContext resources = context.getResources();\n            if (resources != null) {\n                String fullPath = context.getName() + path;\n                String hostName = context.getParent().getName();\n                try {\n                    resources.lookup(path);\n                    return new URL\n                        (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                         new DirContextURLStreamHandler(resources));\n                } catch (Exception e) {\n                    \r\n                }\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":468,"status":"N"},{"authorDate":"2007-12-19 07:08:51","commitOrder":2,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        path = normalize(path);\n        if (path == null || !path.startsWith(\"/\"))\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(path);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n            }\n        }\n        return (null);\n\n    }\n","date":"2007-12-19 07:08:51","endLine":524,"groupId":"12517","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/6b/cd9e4d260fa156ad548859cf1599d6e0489c7b.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(path);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":507,"status":"M"}],"commitId":"8f91433e1d56e9b266b1aa4f835e329e6b9c77fa","commitMessage":"@@@Fix bug 43241. Patch provided by John Kew.\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@605356 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2007-12-19 07:08:51","modifiedFileCount":"1","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2008-02-14 21:59:00","codes":[{"authorDate":"2008-02-14 21:59:00","commitOrder":3,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        String libPath = \"/WEB-INF/lib/\";\n        if ((path.startsWith(libPath)) && (path.endsWith(\".jar\"))) {\n            File jarFile = null;\n            if (context.isFilesystemBased()) {\n                jarFile = new File(basePath, path);\n            } else {\n                jarFile = new File(context.getWorkPath(), path);\n            }\n            if (jarFile.exists()) {\n                return jarFile.toURL();\n            } else {\n                return null;\n            }\n        } else {\n\n            DirContext resources = context.getResources();\n            if (resources != null) {\n                String fullPath = context.getName() + path;\n                String hostName = context.getParent().getName();\n                try {\n                    resources.lookup(path);\n                    return new URL\n                        (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                         new DirContextURLStreamHandler(resources));\n                } catch (Exception e) {\n                    \r\n                }\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2008-02-14 21:59:00","endLine":500,"groupId":"10773","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/43/708d7622438e5655264285742826afc99ed515.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null || !path.startsWith(\"/\")) {\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n        }\n        \n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        String libPath = \"/WEB-INF/lib/\";\n        if ((path.startsWith(libPath)) && (path.endsWith(\".jar\"))) {\n            File jarFile = null;\n            if (context.isFilesystemBased()) {\n                jarFile = new File(basePath, path);\n            } else {\n                jarFile = new File(context.getWorkPath(), path);\n            }\n            if (jarFile.exists()) {\n                return jarFile.toURL();\n            } else {\n                return null;\n            }\n        } else {\n\n            DirContext resources = context.getResources();\n            if (resources != null) {\n                String fullPath = context.getName() + path;\n                String hostName = context.getParent().getName();\n                try {\n                    resources.lookup(path);\n                    return new URL\n                        (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                         new DirContextURLStreamHandler(resources));\n                } catch (Exception e) {\n                    \r\n                }\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":454,"status":"M"},{"authorDate":"2008-02-14 21:59:00","commitOrder":3,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            return null;\n        \n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(path);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n            }\n        }\n        return (null);\n\n    }\n","date":"2008-02-14 21:59:00","endLine":531,"groupId":"12517","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/43/708d7622438e5655264285742826afc99ed515.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        path = normalize(path);\n        if (path == null || !path.startsWith(\"/\"))\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(path);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":511,"status":"M"}],"commitId":"ea2b04721e5259a116a99c2b1ac3ae54e53f76e1","commitMessage":"@@@Add STRICT compliance flag to impact cookie value handling to provide backwards compatibility\nAdd STRICT complanice flag to impact ServletContext.getResource(AsStream) to be backwards compatible\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@627743 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2008-02-14 21:59:00","modifiedFileCount":"2","status":"M","submitter":"Filip Hanik"},{"authorTime":"2008-02-14 21:59:00","codes":[{"authorDate":"2008-12-28 01:48:13","commitOrder":4,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        String libPath = \"/WEB-INF/lib/\";\n        if ((path.startsWith(libPath)) && (path.endsWith(\".jar\"))) {\n            File jarFile = null;\n            if (context.isFilesystemBased()) {\n                jarFile = new File(basePath, path);\n            } else {\n                jarFile = new File(context.getWorkPath(), path);\n            }\n            if (jarFile.exists()) {\n                return jarFile.toURI().toURL();\n            } else {\n                return null;\n            }\n        } else {\n\n            DirContext resources = context.getResources();\n            if (resources != null) {\n                String fullPath = context.getName() + path;\n                String hostName = context.getParent().getName();\n                try {\n                    resources.lookup(path);\n                    return new URL\n                        (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                         new DirContextURLStreamHandler(resources));\n                } catch (Exception e) {\n                    \r\n                }\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2008-12-28 01:48:13","endLine":504,"groupId":"13532","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/67/f9b1fcb2c4ebd08c73371d9b2e3aa3a1349630.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        String libPath = \"/WEB-INF/lib/\";\n        if ((path.startsWith(libPath)) && (path.endsWith(\".jar\"))) {\n            File jarFile = null;\n            if (context.isFilesystemBased()) {\n                jarFile = new File(basePath, path);\n            } else {\n                jarFile = new File(context.getWorkPath(), path);\n            }\n            if (jarFile.exists()) {\n                return jarFile.toURL();\n            } else {\n                return null;\n            }\n        } else {\n\n            DirContext resources = context.getResources();\n            if (resources != null) {\n                String fullPath = context.getName() + path;\n                String hostName = context.getParent().getName();\n                try {\n                    resources.lookup(path);\n                    return new URL\n                        (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                         new DirContextURLStreamHandler(resources));\n                } catch (Exception e) {\n                    \r\n                }\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":458,"status":"M"},{"authorDate":"2008-02-14 21:59:00","commitOrder":4,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            return null;\n        \n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(path);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n            }\n        }\n        return (null);\n\n    }\n","date":"2008-02-14 21:59:00","endLine":531,"groupId":"12517","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/43/708d7622438e5655264285742826afc99ed515.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            return null;\n        \n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(path);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":511,"status":"N"}],"commitId":"5d381b3df0c2d443ca5de814dbfc65c5700e76e9","commitMessage":"@@@Generics changes for o.a.c.core\nFix various Eclipse warnings (unused code.  unnecessary casts.  etc)\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729650 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2008-12-28 01:48:13","modifiedFileCount":"20","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2009-01-15 23:34:52","codes":[{"authorDate":"2009-01-15 23:34:52","commitOrder":5,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        path = RequestUtil.normalize(path);\n        if (path == null)\n            return (null);\n\n        String libPath = \"/WEB-INF/lib/\";\n        if ((path.startsWith(libPath)) && (path.endsWith(\".jar\"))) {\n            File jarFile = null;\n            if (context.isFilesystemBased()) {\n                jarFile = new File(basePath, path);\n            } else {\n                jarFile = new File(context.getWorkPath(), path);\n            }\n            if (jarFile.exists()) {\n                return jarFile.toURI().toURL();\n            } else {\n                return null;\n            }\n        } else {\n\n            DirContext resources = context.getResources();\n            if (resources != null) {\n                String fullPath = context.getName() + path;\n                String hostName = context.getParent().getName();\n                try {\n                    resources.lookup(path);\n                    return new URL\n                        (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                         new DirContextURLStreamHandler(resources));\n                } catch (Exception e) {\n                    \r\n                }\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2009-01-15 23:34:52","endLine":535,"groupId":"13532","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/0c/0ba2f2c5d252fe06288f3f0cce2ec63135bad3.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        String libPath = \"/WEB-INF/lib/\";\n        if ((path.startsWith(libPath)) && (path.endsWith(\".jar\"))) {\n            File jarFile = null;\n            if (context.isFilesystemBased()) {\n                jarFile = new File(basePath, path);\n            } else {\n                jarFile = new File(context.getWorkPath(), path);\n            }\n            if (jarFile.exists()) {\n                return jarFile.toURI().toURL();\n            } else {\n                return null;\n            }\n        } else {\n\n            DirContext resources = context.getResources();\n            if (resources != null) {\n                String fullPath = context.getName() + path;\n                String hostName = context.getParent().getName();\n                try {\n                    resources.lookup(path);\n                    return new URL\n                        (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                         new DirContextURLStreamHandler(resources));\n                } catch (Exception e) {\n                    \r\n                }\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":489,"status":"M"},{"authorDate":"2009-01-15 23:34:52","commitOrder":5,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            return null;\n\n        path = RequestUtil.normalize(path);\n        if (path == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(path);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n            }\n        }\n        return (null);\n\n    }\n","date":"2009-01-15 23:34:52","endLine":569,"groupId":"12517","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/0c/0ba2f2c5d252fe06288f3f0cce2ec63135bad3.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        path = normalize(path);\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            return null;\n        \n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(path);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":546,"status":"M"}],"commitId":"6b61911f94d6d8d49ee933c5f1882a7e7c336d2c","commitMessage":"@@@Remove 3 of the essentially 4 duplicate normalise implementations.\nMinor tweaks where required to use the new single implementation.\nRemove unnecessary normalisation calls.\nThis includes the fix for CVE-2008-5515.\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734734 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2009-01-15 23:34:52","modifiedFileCount":"8","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2009-01-15 23:34:52","codes":[{"authorDate":"2009-11-10 04:43:47","commitOrder":6,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getName() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(path);\n                return new URL\n                    (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                     new DirContextURLStreamHandler(resources));\n            } catch (Exception e) {\n                \r\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2009-11-10 04:43:47","endLine":507,"groupId":"1637","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/0f/939f3609bd8252a29e1165fec41a95619b2a21.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        path = RequestUtil.normalize(path);\n        if (path == null)\n            return (null);\n\n        String libPath = \"/WEB-INF/lib/\";\n        if ((path.startsWith(libPath)) && (path.endsWith(\".jar\"))) {\n            File jarFile = null;\n            if (context.isFilesystemBased()) {\n                jarFile = new File(basePath, path);\n            } else {\n                jarFile = new File(context.getWorkPath(), path);\n            }\n            if (jarFile.exists()) {\n                return jarFile.toURI().toURL();\n            } else {\n                return null;\n            }\n        } else {\n\n            DirContext resources = context.getResources();\n            if (resources != null) {\n                String fullPath = context.getName() + path;\n                String hostName = context.getParent().getName();\n                try {\n                    resources.lookup(path);\n                    return new URL\n                        (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                         new DirContextURLStreamHandler(resources));\n                } catch (Exception e) {\n                    \r\n                }\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":477,"status":"M"},{"authorDate":"2009-01-15 23:34:52","commitOrder":6,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            return null;\n\n        path = RequestUtil.normalize(path);\n        if (path == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(path);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n            }\n        }\n        return (null);\n\n    }\n","date":"2009-01-15 23:34:52","endLine":569,"groupId":"12517","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/0c/0ba2f2c5d252fe06288f3f0cce2ec63135bad3.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            return null;\n\n        path = RequestUtil.normalize(path);\n        if (path == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(path);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":546,"status":"N"}],"commitId":"b758c2003e51a1f12535a4a9bacc96836216bdbd","commitMessage":"@@@The assumption that contexts will always be file system based or that resources will always be extracted to the work does not hold true.  particularly for custom DirContext implementations. Don't make the assumption and clean-up up the redundant field that is no longer required.\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834220 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2009-11-10 04:43:47","modifiedFileCount":"4","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2010-02-03 14:27:46","codes":[{"authorDate":"2009-11-10 04:43:47","commitOrder":7,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getName() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(path);\n                return new URL\n                    (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                     new DirContextURLStreamHandler(resources));\n            } catch (Exception e) {\n                \r\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2009-11-10 04:43:47","endLine":507,"groupId":"1637","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/0f/939f3609bd8252a29e1165fec41a95619b2a21.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getName() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(path);\n                return new URL\n                    (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                     new DirContextURLStreamHandler(resources));\n            } catch (Exception e) {\n                \r\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":477,"status":"N"},{"authorDate":"2010-02-03 14:27:46","commitOrder":7,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n                \r\n            }\n        }\n        return (null);\n\n    }\n","date":"2010-02-03 14:27:46","endLine":550,"groupId":"12517","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/e8/882ad31fa8de3b9721f2bb884cf387b475a8b8.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            return null;\n\n        path = RequestUtil.normalize(path);\n        if (path == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(path);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":526,"status":"M"}],"commitId":"d694549a2313944fc38568a600c5d62cd9faafa8","commitMessage":"@@@More servlet 3.0 plumbing\nFix some Eclipse warnings\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905910 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2010-02-03 14:27:46","modifiedFileCount":"2","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2010-04-30 11:49:40","codes":[{"authorDate":"2010-04-30 11:49:40","commitOrder":8,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getName() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(path);\n                return new URL\n                    (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                     new DirContextURLStreamHandler(resources));\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2010-04-30 11:49:40","endLine":521,"groupId":"1637","id":15,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/47/b18b1e5d0b5bf0fc200f457dd314dd46fcf300.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getName() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(path);\n                return new URL\n                    (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                     new DirContextURLStreamHandler(resources));\n            } catch (Exception e) {\n                \r\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":487,"status":"M"},{"authorDate":"2010-04-30 11:49:40","commitOrder":8,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","date":"2010-04-30 11:49:40","endLine":560,"groupId":"12517","id":16,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/47/b18b1e5d0b5bf0fc200f457dd314dd46fcf300.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (Exception e) {\n                \r\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":532,"status":"M"}],"commitId":"b7c336a1b0414898adab2fc6e79aa9471003e2be","commitMessage":"@@@Log unexpected runtima and IO errors in ApplicationContext#getResource() and ApplicationContext#getResourceAsStream(). This is inspired by BZ 49218.\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939551 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2010-04-30 11:49:40","modifiedFileCount":"1","status":"M","submitter":"Konstantin Kolinko"},{"authorTime":"2010-06-07 02:39:33","codes":[{"authorDate":"2010-06-07 02:39:33","commitOrder":9,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getName() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(path);\n                return new URL\n                    (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                     new DirContextURLStreamHandler(resources));\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2010-06-07 02:39:33","endLine":546,"groupId":"1637","id":17,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/56/10765a0c87c7ee785aa2439bcf036936b9b2b1.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getName() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(path);\n                return new URL\n                    (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                     new DirContextURLStreamHandler(resources));\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":512,"status":"M"},{"authorDate":"2010-06-07 02:39:33","commitOrder":9,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","date":"2010-06-07 02:39:33","endLine":585,"groupId":"12517","id":18,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/56/10765a0c87c7ee785aa2439bcf036936b9b2b1.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && Globals.STRICT_SERVLET_COMPLIANCE)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":557,"status":"M"}],"commitId":"eb2c1f7d605fddabb0e8df6bb82ba9ab3c33dc81","commitMessage":"@@@Part of refactoring STRICT_SERVLET_COMPLIANCE so it just changes defaults\nNew GET_RESOURCE_REQUIRE_SLASH property\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951923 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2010-06-07 02:39:33","modifiedFileCount":"1","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2010-06-07 02:39:33","codes":[{"authorDate":"2010-11-06 02:17:56","commitOrder":10,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getPath() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(path);\n                return new URL\n                    (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                     new DirContextURLStreamHandler(resources));\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2010-11-06 02:17:56","endLine":554,"groupId":"1637","id":19,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/33/a8a67e3c633f29df891d7aa27f55428b9eace2.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getName() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(path);\n                return new URL\n                    (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                     new DirContextURLStreamHandler(resources));\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":520,"status":"M"},{"authorDate":"2010-06-07 02:39:33","commitOrder":10,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","date":"2010-06-07 02:39:33","endLine":585,"groupId":"12517","id":20,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/56/10765a0c87c7ee785aa2439bcf036936b9b2b1.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":557,"status":"N"}],"commitId":"af45e448f15dc1ddf4aa9abc43c051c3b1fe9f5d","commitMessage":"@@@Parallel deployment\nAdditional Context.get[Name|Path]() clean up\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031690 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2010-11-06 02:17:56","modifiedFileCount":"2","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2010-06-07 02:39:33","codes":[{"authorDate":"2011-03-04 23:52:01","commitOrder":11,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null ||\n                !path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\n                    \"applicationContext.requestDispatcher.iae\", path));\n        \n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getPath() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(path);\n                return new URL\n                    (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                     new DirContextURLStreamHandler(resources));\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2011-03-04 23:52:01","endLine":552,"groupId":"1637","id":21,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/22/925c27d011fadac62ab78ff7e5833f98e8ba0a.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n\n        \n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getPath() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(path);\n                return new URL\n                    (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                     new DirContextURLStreamHandler(resources));\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":520,"status":"M"},{"authorDate":"2010-06-07 02:39:33","commitOrder":11,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","date":"2010-06-07 02:39:33","endLine":585,"groupId":"12517","id":22,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/56/10765a0c87c7ee785aa2439bcf036936b9b2b1.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":557,"status":"N"}],"commitId":"ffe7b727a76ce3b316f915650d93c649504d173e","commitMessage":"@@@Code clean-up\n - fix FindBugs warnings\n - remove unused code\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078022 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2011-03-04 23:52:01","modifiedFileCount":"4","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2010-06-07 02:39:33","codes":[{"authorDate":"2011-11-09 07:28:59","commitOrder":12,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null ||\n                !path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\n                    \"applicationContext.requestDispatcher.iae\", path));\n\n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getPath() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(normPath);\n                return new URL\n                    (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                     new DirContextURLStreamHandler(resources));\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2011-11-09 07:28:59","endLine":537,"groupId":"1637","id":23,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/80/61362fdb3a7861a598d21eaff047dd84475bd7.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null ||\n                !path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\n                    \"applicationContext.requestDispatcher.iae\", path));\n\n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getPath() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(path);\n                return new URL\n                    (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                     new DirContextURLStreamHandler(resources));\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":505,"status":"M"},{"authorDate":"2010-06-07 02:39:33","commitOrder":12,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","date":"2010-06-07 02:39:33","endLine":585,"groupId":"12517","id":24,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/56/10765a0c87c7ee785aa2439bcf036936b9b2b1.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":557,"status":"N"}],"commitId":"b7f5c7e2c8515ff6f1d6936ff9f79d406ad105ac","commitMessage":"@@@Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=52156\nNeed to use normalised path to look up resource in DirContext\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1199529 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2011-11-09 07:28:59","modifiedFileCount":"1","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2010-06-07 02:39:33","codes":[{"authorDate":"2012-06-01 04:18:49","commitOrder":13,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null ||\n                !path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\n                    \"applicationContext.requestDispatcher.iae\", path));\n\n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getPath() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(normPath);\n                return new URI(\"jndi\",\n                        getJNDIUri(hostName, fullPath), null).toURL();\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2012-06-01 04:18:49","endLine":533,"groupId":"0","id":25,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/9c/28cf5e7de2dca310f4ee7da3ca41c12b38ea9b.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null ||\n                !path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\n                    \"applicationContext.requestDispatcher.iae\", path));\n\n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getPath() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(normPath);\n                return new URL\n                    (\"jndi\", \"\", 0, getJNDIUri(hostName, fullPath),\n                     new DirContextURLStreamHandler(resources));\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":502,"status":"M"},{"authorDate":"2010-06-07 02:39:33","commitOrder":13,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","date":"2010-06-07 02:39:33","endLine":585,"groupId":"12517","id":26,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/56/10765a0c87c7ee785aa2439bcf036936b9b2b1.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":557,"status":"N"}],"commitId":"b4650d80b1505b9051bd4e04892457cb463bb998","commitMessage":"@@@Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=53257\nBZ 53257 is partially a regression caused by r1152593 (the fix for BZ 51584) and partially an existing issue that had always been present.\nThis patch:\n- reverts r1152593\n- extends the test cases to cover BZ 53257 & BZ 51584\n- correctly fixes BZ 53257 & BZ 51584\n- fixes the additional issues the unit tests uncovered\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1344890 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2012-06-01 04:18:49","modifiedFileCount":"3","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2010-06-07 02:39:33","codes":[{"authorDate":"2012-06-02 05:33:19","commitOrder":14,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null ||\n                !path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\n                    \"applicationContext.requestDispatcher.iae\", path));\n\n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getPath() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(normPath);\n                URI uri = new URI(\"jndi\", getJNDIUri(hostName, fullPath), null);\n                return new URL(null, uri.toString(),\n                        new DirContextURLStreamHandler(resources));\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2012-06-02 05:33:19","endLine":535,"groupId":"14511","id":27,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/7d/d1338cc7cc39e7db589e301bb288a72890de06.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null ||\n                !path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\n                    \"applicationContext.requestDispatcher.iae\", path));\n\n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getPath() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(normPath);\n                return new URI(\"jndi\",\n                        getJNDIUri(hostName, fullPath), null).toURL();\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":503,"status":"M"},{"authorDate":"2010-06-07 02:39:33","commitOrder":14,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","date":"2010-06-07 02:39:33","endLine":585,"groupId":"12517","id":28,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/56/10765a0c87c7ee785aa2439bcf036936b9b2b1.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":557,"status":"N"}],"commitId":"7ae8155e98ef778556e8cc05eedefbad834dd874","commitMessage":"@@@For https://issues.apache.org/bugzilla/show_bug.cgi?id=53257\nReview of r1344902:\nRestore passing DirContextURLStreamHandler instance into the new URL.\n\nNote that we use \"new DirContextURLStreamHandler(DirContext)\" and\nthus the handler will not need to call DirContextURLStreamHandler#get() to retrieve the context.\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1345357 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2012-06-02 05:33:19","modifiedFileCount":"1","status":"M","submitter":"Konstantin Kolinko"},{"authorTime":"2010-06-07 02:39:33","codes":[{"authorDate":"2012-06-28 02:50:50","commitOrder":15,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null ||\n                !path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\n                    \"applicationContext.requestDispatcher.iae\", path));\n\n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getPath() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(normPath);\n                URI uri = new URI(\"jndi\", null, \"\", -1,\n                        getJNDIUri(hostName, fullPath), null, null);\n                return new URL(null, uri.toString(),\n                        new DirContextURLStreamHandler(resources));\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","date":"2012-06-28 02:50:50","endLine":536,"groupId":"14511","id":29,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/fb/7490f4d51d85da76b6be6e017a71de0c0f5ac6.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null ||\n                !path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\n                    \"applicationContext.requestDispatcher.iae\", path));\n\n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getPath() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(normPath);\n                URI uri = new URI(\"jndi\", getJNDIUri(hostName, fullPath), null);\n                return new URL(null, uri.toString(),\n                        new DirContextURLStreamHandler(resources));\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":503,"status":"M"},{"authorDate":"2010-06-07 02:39:33","commitOrder":15,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","date":"2010-06-07 02:39:33","endLine":585,"groupId":"12517","id":30,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/56/10765a0c87c7ee785aa2439bcf036936b9b2b1.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":557,"status":"N"}],"commitId":"4de432501c09c4c064accdc88eff88fb121a0386","commitMessage":"@@@Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=53467\nUse more explicit URI constructor to ensure components are correctly encoded.\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1354664 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2012-06-28 02:50:50","modifiedFileCount":"2","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2012-10-24 06:38:16","codes":[{"authorDate":"2012-10-24 06:38:16","commitOrder":16,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null ||\n                !path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\n                    \"applicationContext.requestDispatcher.iae\", path));\n\n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(normPath).getURL();\n        }\n\n        return null;\n    }\n","date":"2012-10-24 06:38:16","endLine":522,"groupId":"9692","id":31,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/fb/6ba1cdaf12b061c40aaaf7bd7b45a7a1bc2685.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null ||\n                !path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\n                    \"applicationContext.requestDispatcher.iae\", path));\n\n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            String fullPath = context.getPath() + normPath;\n            String hostName = context.getParent().getName();\n            try {\n                resources.lookup(normPath);\n                URI uri = new URI(\"jndi\", null, \"\", -1,\n                        getJNDIUri(hostName, fullPath), null, null);\n                return new URL(null, uri.toString(),\n                        new DirContextURLStreamHandler(resources));\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":504,"status":"M"},{"authorDate":"2012-10-24 06:38:16","commitOrder":16,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(normalizedPath).getInputStream();\n        }\n\n        return null;\n    }\n","date":"2012-10-24 06:38:16","endLine":552,"groupId":"11755","id":32,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/fb/6ba1cdaf12b061c40aaaf7bd7b45a7a1bc2685.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        DirContext resources = context.getResources();\n        if (resources != null) {\n            try {\n                Object resource = resources.lookup(normalizedPath);\n                if (resource instanceof Resource)\n                    return (((Resource) resource).streamContent());\n            } catch (NamingException e) {\n                \r\n            } catch (Exception e) {\n                \r\n                log(sm.getString(\"applicationContext.lookup.error\", path,\n                        getContextPath()), e);\n            }\n        }\n        return (null);\n\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":534,"status":"M"}],"commitId":"527baba1736d3111596fb19dba367460fdb2808c","commitMessage":"@@@Merge new resources implementation from sandbox/trunk-resources\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1401503 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2012-10-24 06:38:16","modifiedFileCount":"27","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2013-11-15 23:09:09","codes":[{"authorDate":"2013-11-15 23:09:09","commitOrder":17,"curCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null ||\n                !path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\n                    \"applicationContext.requestDispatcher.iae\", path));\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(path).getURL();\n        }\n\n        return null;\n    }\n","date":"2013-11-15 23:09:09","endLine":519,"groupId":"9692","id":33,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/0e/a43abd8295cfb19dfb1b2db56ef5022307b8d5.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null ||\n                !path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\n                    \"applicationContext.requestDispatcher.iae\", path));\n\n        String normPath = RequestUtil.normalize(path);\n        if (normPath == null)\n            return (null);\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(normPath).getURL();\n        }\n\n        return null;\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":505,"status":"M"},{"authorDate":"2013-11-15 23:09:09","commitOrder":17,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(path).getInputStream();\n        }\n\n        return null;\n    }\n","date":"2013-11-15 23:09:09","endLine":545,"groupId":"1187","id":34,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/0e/a43abd8295cfb19dfb1b2db56ef5022307b8d5.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        String normalizedPath = RequestUtil.normalize(path);\n        if (normalizedPath == null)\n            return (null);\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(normalizedPath).getInputStream();\n        }\n\n        return null;\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":531,"status":"M"}],"commitId":"140f4cdbfd3bc2740e8c1b2185f95a54e49dca16","commitMessage":"@@@Normlization is now handled by the WebResourceRoot\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1542286 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2013-11-15 23:09:09","modifiedFileCount":"1","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2013-11-15 23:09:09","codes":[{"authorDate":"2015-08-12 17:27:29","commitOrder":18,"curCode":"    public URL getResource(String path) throws MalformedURLException {\n\n        String validatedPath = validateResourcePath(path);\n\n        if (validatedPath == null) {\n            throw new MalformedURLException(\n                    sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n        }\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(validatedPath).getURL();\n        }\n\n        return null;\n    }\n","date":"2015-08-12 17:27:29","endLine":557,"groupId":"9692","id":35,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/b1/859e3aeea1c814e29a64f418ae7d08498c0495.src","preCode":"    public URL getResource(String path)\n        throws MalformedURLException {\n\n        if (path == null ||\n                !path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            throw new MalformedURLException(sm.getString(\n                    \"applicationContext.requestDispatcher.iae\", path));\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(path).getURL();\n        }\n\n        return null;\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":542,"status":"M"},{"authorDate":"2013-11-15 23:09:09","commitOrder":18,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(path).getInputStream();\n        }\n\n        return null;\n    }\n","date":"2013-11-15 23:09:09","endLine":545,"groupId":"1187","id":36,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/0e/a43abd8295cfb19dfb1b2db56ef5022307b8d5.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(path).getInputStream();\n        }\n\n        return null;\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":531,"status":"N"}],"commitId":"bb78819ed2e12c5e0fc45d56a5627048280432ad","commitMessage":"@@@Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=58228\nMake behaviour of ServletContext.getResource() and ServletContext.getResourceAsStream() consistent with each other and the expected behaviour of the GET_RESOURCE_REQUIRE_SLASH system property.\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1695459 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2015-08-12 17:27:29","modifiedFileCount":"1","status":"M","submitter":"Mark Thomas"},{"authorTime":"2015-11-03 18:52:32","codes":[{"authorDate":"2015-11-03 18:52:32","commitOrder":19,"curCode":"    public URL getResource(String path) throws MalformedURLException {\n\n        String validatedPath = validateResourcePath(path, false);\n\n        if (validatedPath == null) {\n            throw new MalformedURLException(\n                    sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n        }\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(validatedPath).getURL();\n        }\n\n        return null;\n    }\n","date":"2015-11-03 18:52:32","endLine":490,"groupId":"9692","id":37,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/65/4a82e9ea4a33178b7b0da04feedbb424e7ecde.src","preCode":"    public URL getResource(String path) throws MalformedURLException {\n\n        String validatedPath = validateResourcePath(path);\n\n        if (validatedPath == null) {\n            throw new MalformedURLException(\n                    sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n        }\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(validatedPath).getURL();\n        }\n\n        return null;\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":475,"status":"M"},{"authorDate":"2015-11-03 18:52:32","commitOrder":19,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        String validatedPath = validateResourcePath(path, false);\n\n        if (validatedPath == null) {\n            return null;\n        }\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(validatedPath).getInputStream();\n        }\n\n        return null;\n    }\n","date":"2015-11-03 18:52:32","endLine":508,"groupId":"1206","id":38,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/65/4a82e9ea4a33178b7b0da04feedbb424e7ecde.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        if (path == null)\n            return (null);\n\n        if (!path.startsWith(\"/\") && GET_RESOURCE_REQUIRE_SLASH)\n            return null;\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(path).getInputStream();\n        }\n\n        return null;\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":494,"status":"M"}],"commitId":"8cffa009f6172476918c58145e8c546112e7896e","commitMessage":"@@@Extend the fix for https://bz.apache.org/bugzilla/show_bug.cgi?id=58228 to include getRealPath(String)\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1712250 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2015-11-03 18:52:32","modifiedFileCount":"1","status":"M","submitter":"Mark Thomas"},{"authorTime":"2020-11-30 21:35:59","codes":[{"authorDate":"2020-11-30 21:35:59","commitOrder":20,"curCode":"    public URL getResource(String path) throws MalformedURLException {\n\n        String validatedPath = validateResourcePath(path, !context.getContextGetResourceRequiresSlash());\n\n        if (validatedPath == null) {\n            throw new MalformedURLException(\n                    sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n        }\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(validatedPath).getURL();\n        }\n\n        return null;\n    }\n","date":"2020-11-30 21:35:59","endLine":527,"groupId":"10941","id":39,"instanceNumber":1,"isCurCommit":0,"methodName":"getResource","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/50/85f9131ba3d1a99f9e75a2af5c1fe694344249.src","preCode":"    public URL getResource(String path) throws MalformedURLException {\n\n        String validatedPath = validateResourcePath(path, false);\n\n        if (validatedPath == null) {\n            throw new MalformedURLException(\n                    sm.getString(\"applicationContext.requestDispatcher.iae\", path));\n        }\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(validatedPath).getURL();\n        }\n\n        return null;\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":512,"status":"M"},{"authorDate":"2020-11-30 21:35:59","commitOrder":20,"curCode":"    public InputStream getResourceAsStream(String path) {\n\n        String validatedPath = validateResourcePath(path, !context.getContextGetResourceRequiresSlash());\n\n        if (validatedPath == null) {\n            return null;\n        }\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(validatedPath).getInputStream();\n        }\n\n        return null;\n    }\n","date":"2020-11-30 21:35:59","endLine":545,"groupId":"10941","id":40,"instanceNumber":2,"isCurCommit":0,"methodName":"getResourceAsStream","params":"(Stringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/50/85f9131ba3d1a99f9e75a2af5c1fe694344249.src","preCode":"    public InputStream getResourceAsStream(String path) {\n\n        String validatedPath = validateResourcePath(path, false);\n\n        if (validatedPath == null) {\n            return null;\n        }\n\n        WebResourceRoot resources = context.getResources();\n        if (resources != null) {\n            return resources.getResource(validatedPath).getInputStream();\n        }\n\n        return null;\n    }\n","realPath":"java/org/apache/catalina/core/ApplicationContext.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":531,"status":"M"}],"commitId":"37f8bf5e7d499465897568cbd48b918cde7ad587","commitMessage":"@@@Fix BZ 56890 - Clarification of ServletContext.getRealPath(String)\n\nhttps://bz.apache.org/bugzilla/show_bug.cgi?id=56890\nIf the provided path doesn't start with \"/\".  process the method call as\nif \"/\" was appended to the beginning of the provided path.","date":"2020-11-30 21:35:59","modifiedFileCount":"1","status":"M","submitter":"Mark Thomas"}]
