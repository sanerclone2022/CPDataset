[{"authorTime":"2011-08-15 20:29:58","codes":[{"authorDate":"2011-08-15 20:29:58","commitOrder":1,"curCode":"    public void testBug51653a() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/invalid\",\n                new ByteChunk(), null);\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","date":"2011-08-15 20:29:58","endLine":75,"groupId":"6654","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testBug51653a","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/eb/9b6f37c6aae4b042e10df41b774591497be09d.src","preCode":"    public void testBug51653a() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/invalid\",\n                new ByteChunk(), null);\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","realPath":"test/org/apache/catalina/core/TestStandardContextValve.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":42,"status":"B"},{"authorDate":"2011-08-15 20:29:58","commitOrder":1,"curCode":"    public void testBug51653b() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"test\", new Bug51653ErrorTrigger());\n        ctx.addServletMapping(\"/test\", \"test\");\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/test\",\n                new ByteChunk(), null);\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","date":"2011-08-15 20:29:58","endLine":115,"groupId":"6654","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testBug51653b","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/eb/9b6f37c6aae4b042e10df41b774591497be09d.src","preCode":"    public void testBug51653b() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"test\", new Bug51653ErrorTrigger());\n        ctx.addServletMapping(\"/test\", \"test\");\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/test\",\n                new ByteChunk(), null);\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","realPath":"test/org/apache/catalina/core/TestStandardContextValve.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"B"}],"commitId":"685f4dcfdbb1c661b7872604f161319c11f3df99","commitMessage":"@@@Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51653\nMove custom error handling from Host to Context.\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157810 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2011-08-15 20:29:58","modifiedFileCount":"2","status":"B","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2011-08-15 20:29:58","codes":[{"authorDate":"2011-08-15 21:03:34","commitOrder":2,"curCode":"    public void testBug51653a() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/invalid\",\n                new ByteChunk(), null);\n\n        tomcat.stop();\n        tomcat.destroy();\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","date":"2011-08-15 21:03:34","endLine":78,"groupId":"6654","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testBug51653a","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/b3/ca5c0b004ca8a71b6410fe61dbbe64fa8fd7a2.src","preCode":"    public void testBug51653a() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/invalid\",\n                new ByteChunk(), null);\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","realPath":"test/org/apache/catalina/core/TestStandardContextValve.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":42,"status":"M"},{"authorDate":"2011-08-15 20:29:58","commitOrder":2,"curCode":"    public void testBug51653b() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"test\", new Bug51653ErrorTrigger());\n        ctx.addServletMapping(\"/test\", \"test\");\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/test\",\n                new ByteChunk(), null);\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","date":"2011-08-15 20:29:58","endLine":115,"groupId":"6654","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testBug51653b","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/eb/9b6f37c6aae4b042e10df41b774591497be09d.src","preCode":"    public void testBug51653b() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"test\", new Bug51653ErrorTrigger());\n        ctx.addServletMapping(\"/test\", \"test\");\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/test\",\n                new ByteChunk(), null);\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","realPath":"test/org/apache/catalina/core/TestStandardContextValve.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"N"}],"commitId":"fec871aba184c2273e4fe41f05497958d2eb2d11","commitMessage":"@@@Attempt to fix timing issues on Linux unit tests\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157832 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2011-08-15 21:03:34","modifiedFileCount":"1","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2011-08-15 20:29:58","codes":[{"authorDate":"2011-08-15 21:14:12","commitOrder":3,"curCode":"    public void testBug51653a() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/invalid\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","date":"2011-08-15 21:14:12","endLine":86,"groupId":"6654","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testBug51653a","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/78/bb50854c5799a1df38d0dec521c898421ffba7.src","preCode":"    public void testBug51653a() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/invalid\",\n                new ByteChunk(), null);\n\n        tomcat.stop();\n        tomcat.destroy();\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","realPath":"test/org/apache/catalina/core/TestStandardContextValve.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":42,"status":"M"},{"authorDate":"2011-08-15 20:29:58","commitOrder":3,"curCode":"    public void testBug51653b() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"test\", new Bug51653ErrorTrigger());\n        ctx.addServletMapping(\"/test\", \"test\");\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/test\",\n                new ByteChunk(), null);\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","date":"2011-08-15 20:29:58","endLine":115,"groupId":"6654","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testBug51653b","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/eb/9b6f37c6aae4b042e10df41b774591497be09d.src","preCode":"    public void testBug51653b() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"test\", new Bug51653ErrorTrigger());\n        ctx.addServletMapping(\"/test\", \"test\");\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/test\",\n                new ByteChunk(), null);\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","realPath":"test/org/apache/catalina/core/TestStandardContextValve.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"N"}],"commitId":"570ca808136911ee25dc40ba5304264cf6c6bbdc","commitMessage":"@@@Better fix for timing issues on Linux with unit tests\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157834 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2011-08-15 21:14:12","modifiedFileCount":"1","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2011-08-15 21:52:18","codes":[{"authorDate":"2011-08-15 21:14:12","commitOrder":4,"curCode":"    public void testBug51653a() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/invalid\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","date":"2011-08-15 21:14:12","endLine":86,"groupId":"6654","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testBug51653a","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/78/bb50854c5799a1df38d0dec521c898421ffba7.src","preCode":"    public void testBug51653a() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/invalid\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","realPath":"test/org/apache/catalina/core/TestStandardContextValve.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":42,"status":"N"},{"authorDate":"2011-08-15 21:52:18","commitOrder":4,"curCode":"    public void testBug51653b() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"test\", new Bug51653ErrorTrigger());\n        ctx.addServletMapping(\"/test\", \"test\");\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/test\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","date":"2011-08-15 21:52:18","endLine":137,"groupId":"6654","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testBug51653b","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/87/fb50f4de6821e6204bd9d0c51c3fd1577460e7.src","preCode":"    public void testBug51653b() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n        \n        \r\n        Tomcat.addServlet(ctx, \"test\", new Bug51653ErrorTrigger());\n        ctx.addServletMapping(\"/test\", \"test\");\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/test\",\n                new ByteChunk(), null);\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","realPath":"test/org/apache/catalina/core/TestStandardContextValve.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"M"}],"commitId":"8fb3e243ad82c9f97af6d17cacce392234f48636","commitMessage":"@@@Also seeing similar failures with NIO & APR\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157847 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2011-08-15 21:52:18","modifiedFileCount":"1","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2014-10-30 03:37:10","codes":[{"authorDate":"2014-10-30 03:37:10","commitOrder":5,"curCode":"    public void testBug51653a() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        Context ctx = tomcat.addContext(\"\", null);\n\n        \r\n        StringBuilder trace = new StringBuilder();\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/invalid\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","date":"2014-10-30 03:37:10","endLine":84,"groupId":"6654","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"testBug51653a","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/c0/445a42830aaa28464dbfe788c7940b10dec513.src","preCode":"    public void testBug51653a() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/invalid\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","realPath":"test/org/apache/catalina/core/TestStandardContextValve.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":41,"status":"M"},{"authorDate":"2014-10-30 03:37:10","commitOrder":5,"curCode":"    public void testBug51653b() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        Context ctx = tomcat.addContext(\"\", null);\n\n        \r\n        StringBuilder trace = new StringBuilder();\n\n        \r\n        Tomcat.addServlet(ctx, \"test\", new Bug51653ErrorTrigger());\n        ctx.addServletMapping(\"/test\", \"test\");\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/test\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","date":"2014-10-30 03:37:10","endLine":134,"groupId":"6654","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"testBug51653b","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/c0/445a42830aaa28464dbfe788c7940b10dec513.src","preCode":"    public void testBug51653b() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        File docBase = new File(System.getProperty(\"java.io.tmpdir\"));\n        Context ctx = tomcat.addContext(\"\", docBase.getAbsolutePath());\n\n        \r\n        StringBuilder trace = new StringBuilder();\n\n        \r\n        Tomcat.addServlet(ctx, \"test\", new Bug51653ErrorTrigger());\n        ctx.addServletMapping(\"/test\", \"test\");\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/test\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","realPath":"test/org/apache/catalina/core/TestStandardContextValve.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":87,"status":"M"}],"commitId":"bc5542ad354fb1e2fec2f97c3f2e4c34097ced52","commitMessage":"@@@Avoid using /tmp as a docBase where it is not necessary\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1635273 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2014-10-30 03:37:10","modifiedFileCount":"7","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2016-08-31 00:41:12","codes":[{"authorDate":"2016-08-31 00:41:12","commitOrder":6,"curCode":"    public void testBug51653a() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        Context ctx = tomcat.addContext(\"\", null);\n\n        \r\n        StringBuilder trace = new StringBuilder();\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMappingDecoded(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/invalid\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","date":"2016-08-31 00:41:12","endLine":84,"groupId":"6654","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"testBug51653a","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/02/b2b77864592fa03f38b44967946282fdb48e3b.src","preCode":"    public void testBug51653a() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        Context ctx = tomcat.addContext(\"\", null);\n\n        \r\n        StringBuilder trace = new StringBuilder();\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/invalid\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","realPath":"test/org/apache/catalina/core/TestStandardContextValve.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":41,"status":"M"},{"authorDate":"2016-08-31 00:41:12","commitOrder":6,"curCode":"    public void testBug51653b() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        Context ctx = tomcat.addContext(\"\", null);\n\n        \r\n        StringBuilder trace = new StringBuilder();\n\n        \r\n        Tomcat.addServlet(ctx, \"test\", new Bug51653ErrorTrigger());\n        ctx.addServletMappingDecoded(\"/test\", \"test\");\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMappingDecoded(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/test\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","date":"2016-08-31 00:41:12","endLine":134,"groupId":"6654","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"testBug51653b","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/02/b2b77864592fa03f38b44967946282fdb48e3b.src","preCode":"    public void testBug51653b() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        Context ctx = tomcat.addContext(\"\", null);\n\n        \r\n        StringBuilder trace = new StringBuilder();\n\n        \r\n        Tomcat.addServlet(ctx, \"test\", new Bug51653ErrorTrigger());\n        ctx.addServletMapping(\"/test\", \"test\");\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMapping(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/test\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","realPath":"test/org/apache/catalina/core/TestStandardContextValve.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":87,"status":"M"}],"commitId":"1ab3266d53d7b273d431154229385e216662f34a","commitMessage":"@@@\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1758423 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2016-08-31 00:41:12","modifiedFileCount":"100","status":"M","submitter":"Mark Thomas"},{"authorTime":"2017-11-13 18:49:13","codes":[{"authorDate":"2017-11-13 18:49:13","commitOrder":7,"curCode":"    public void testBug51653a() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        Context ctx = tomcat.addContext(\"\", null);\n\n        \r\n        StringBuilder trace = new StringBuilder();\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMappingDecoded(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/invalid\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        Assert.assertEquals(Response.SC_NOT_FOUND, rc);\n        Assert.assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","date":"2017-11-13 18:49:13","endLine":84,"groupId":"101910","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"testBug51653a","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/96/b2a8b074e6e4f94369587e2687e2c6aea3ef0f.src","preCode":"    public void testBug51653a() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        Context ctx = tomcat.addContext(\"\", null);\n\n        \r\n        StringBuilder trace = new StringBuilder();\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMappingDecoded(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/invalid\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","realPath":"test/org/apache/catalina/core/TestStandardContextValve.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":41,"status":"M"},{"authorDate":"2017-11-13 18:49:13","commitOrder":7,"curCode":"    public void testBug51653b() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        Context ctx = tomcat.addContext(\"\", null);\n\n        \r\n        StringBuilder trace = new StringBuilder();\n\n        \r\n        Tomcat.addServlet(ctx, \"test\", new Bug51653ErrorTrigger());\n        ctx.addServletMappingDecoded(\"/test\", \"test\");\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMappingDecoded(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/test\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        Assert.assertEquals(Response.SC_NOT_FOUND, rc);\n        Assert.assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","date":"2017-11-13 18:49:13","endLine":134,"groupId":"101910","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"testBug51653b","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/96/b2a8b074e6e4f94369587e2687e2c6aea3ef0f.src","preCode":"    public void testBug51653b() throws Exception {\n        \r\n        Tomcat tomcat = getTomcatInstance();\n\n        \r\n        Context ctx = tomcat.addContext(\"\", null);\n\n        \r\n        StringBuilder trace = new StringBuilder();\n\n        \r\n        Tomcat.addServlet(ctx, \"test\", new Bug51653ErrorTrigger());\n        ctx.addServletMappingDecoded(\"/test\", \"test\");\n\n        \r\n        Tomcat.addServlet(ctx, \"errorPage\", new Bug51653ErrorPage(trace));\n        ctx.addServletMappingDecoded(\"/error\", \"errorPage\");\n        \r\n        ErrorPage errorPage = new ErrorPage();\n        errorPage.setErrorCode(Response.SC_NOT_FOUND);\n        errorPage.setLocation(\"/error\");\n        ctx.addErrorPage(errorPage);\n\n        \r\n        Bug51653RequestListener reqListener =\n            new Bug51653RequestListener(trace);\n        ((StandardContext) ctx).addApplicationEventListener(reqListener);\n\n        tomcat.start();\n\n        \r\n        int rc = getUrl(\"http://localhost:\" + getPort() + \"/test\",\n                new ByteChunk(), null);\n\n        \r\n        \r\n        int i = 20;\n        while (i > 0) {\n            if (trace.toString().endsWith(\"Destroy\")) {\n                break;\n            }\n            Thread.sleep(250);\n            i--;\n        }\n\n        assertEquals(Response.SC_NOT_FOUND, rc);\n        assertEquals(\"InitErrorDestroy\", trace.toString());\n    }\n","realPath":"test/org/apache/catalina/core/TestStandardContextValve.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":87,"status":"M"}],"commitId":"e1b3882ee74368e5d4e7fd90679e009280cdd69b","commitMessage":"@@@Remove use of all static Assert.* imports\n- fixes Gump errors with latest Checkstyle\n- doesn't introduce errors for older Checkstyle\n- makes unit tests consistent mwith use of Assert\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1815079 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2017-11-13 18:49:13","modifiedFileCount":"105","status":"M","submitter":"Mark Thomas"}]
