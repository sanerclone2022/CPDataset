[{"authorTime":"2019-10-19 22:24:36","codes":[{"authorDate":"2019-10-19 22:24:36","commitOrder":1,"curCode":"  public void getAdviseAllEventsOrCachedForConcurrentUpdateShouldSucceed(\n      ParallelExecutor executor) throws Exception {\n\n    DistributionAdvisor advisor = createCacheDistributionAdvisor();\n    CacheProfile profile = createCacheProfile();\n    advisor.putProfile(profile, true);\n\n    executor.inParallel(() -> {\n      ((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached();\n    }, count);\n    executor.execute();\n\n    assertTrue(((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached()\n        .contains(profile.getDistributedMember()));\n    assertEquals(((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached().size(), 1);\n\n  }\n","date":"2019-10-19 22:24:36","endLine":62,"groupId":"18005","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"getAdviseAllEventsOrCachedForConcurrentUpdateShouldSucceed","params":"(ParallelExecutorexecutor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/9a/fbc520d2fdd4fb4fa9dee87c85802dafea9633.src","preCode":"  public void getAdviseAllEventsOrCachedForConcurrentUpdateShouldSucceed(\n      ParallelExecutor executor) throws Exception {\n\n    DistributionAdvisor advisor = createCacheDistributionAdvisor();\n    CacheProfile profile = createCacheProfile();\n    advisor.putProfile(profile, true);\n\n    executor.inParallel(() -> {\n      ((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached();\n    }, count);\n    executor.execute();\n\n    assertTrue(((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached()\n        .contains(profile.getDistributedMember()));\n    assertEquals(((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached().size(), 1);\n\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/internal/cache/CacheDistributionAdvisorConcurrentTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":46,"status":"B"},{"authorDate":"2019-10-19 22:24:36","commitOrder":1,"curCode":"  public void getAdviseUpdateForConcurrentUpdateShouldSucceed(\n      ParallelExecutor executor) throws Exception {\n\n    EntryEventImpl event = new EntryEventImpl();\n    event.setNewValue(null);\n    event.setOperation(Operation.CREATE);\n\n    DistributionAdvisor advisor = createCacheDistributionAdvisor();\n    CacheProfile profile = createCacheProfile();\n    advisor.putProfile(profile, true);\n\n    executor.inParallel(() -> {\n      ((CacheDistributionAdvisor) advisor).adviseUpdate(event);\n    }, count);\n    executor.execute();\n\n    assertTrue(((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached()\n        .contains(profile.getDistributedMember()));\n    assertEquals(((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached().size(), 1);\n\n  }\n","date":"2019-10-19 22:24:36","endLine":85,"groupId":"18005","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"getAdviseUpdateForConcurrentUpdateShouldSucceed","params":"(ParallelExecutorexecutor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/9a/fbc520d2fdd4fb4fa9dee87c85802dafea9633.src","preCode":"  public void getAdviseUpdateForConcurrentUpdateShouldSucceed(\n      ParallelExecutor executor) throws Exception {\n\n    EntryEventImpl event = new EntryEventImpl();\n    event.setNewValue(null);\n    event.setOperation(Operation.CREATE);\n\n    DistributionAdvisor advisor = createCacheDistributionAdvisor();\n    CacheProfile profile = createCacheProfile();\n    advisor.putProfile(profile, true);\n\n    executor.inParallel(() -> {\n      ((CacheDistributionAdvisor) advisor).adviseUpdate(event);\n    }, count);\n    executor.execute();\n\n    assertTrue(((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached()\n        .contains(profile.getDistributedMember()));\n    assertEquals(((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached().size(), 1);\n\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/internal/cache/CacheDistributionAdvisorConcurrentTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":65,"status":"B"}],"commitId":"5046c70d6b5458027c51265a178107c50540a0bf","commitMessage":"@@@Merge pull request #4086 from Nordix/feature/GEODE-6807\n\nGEODE-6807: cache adviseUpdate and adviseAllEventsOrCached","date":"2019-10-19 22:24:36","modifiedFileCount":"4","status":"B","submitter":"Mario Ivanac"},{"authorTime":"2020-04-29 00:05:55","codes":[{"authorDate":"2020-04-29 00:05:55","commitOrder":2,"curCode":"  public void getAdviseAllEventsOrCachedForConcurrentUpdateShouldSucceed(ParallelExecutor executor)\n      throws Exception {\n\n    CacheDistributionAdvisor advisor = createCacheDistributionAdvisor();\n    CacheProfile profile = createCacheProfile();\n    advisor.putProfile(profile, true);\n\n    executor.inParallel(() -> {\n      advisor.adviseAllEventsOrCached();\n    }, count);\n    executor.execute();\n\n    assertThat(advisor.adviseAllEventsOrCached())\n        .contains(profile.getDistributedMember());\n    assertThat(advisor.adviseAllEventsOrCached())\n        .hasSize(1);\n  }\n","date":"2020-04-29 00:05:55","endLine":65,"groupId":"104093","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"getAdviseAllEventsOrCachedForConcurrentUpdateShouldSucceed","params":"(ParallelExecutorexecutor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/6d/fce1fd948923d60e01d41bdac211128993474a.src","preCode":"  public void getAdviseAllEventsOrCachedForConcurrentUpdateShouldSucceed(\n      ParallelExecutor executor) throws Exception {\n\n    DistributionAdvisor advisor = createCacheDistributionAdvisor();\n    CacheProfile profile = createCacheProfile();\n    advisor.putProfile(profile, true);\n\n    executor.inParallel(() -> {\n      ((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached();\n    }, count);\n    executor.execute();\n\n    assertTrue(((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached()\n        .contains(profile.getDistributedMember()));\n    assertEquals(((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached().size(), 1);\n\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/internal/cache/CacheDistributionAdvisorConcurrentTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":49,"status":"M"},{"authorDate":"2020-04-29 00:05:55","commitOrder":2,"curCode":"  public void getAdviseUpdateForConcurrentUpdateShouldSucceed(ParallelExecutor executor)\n      throws Exception {\n\n    EntryEventImpl event = new EntryEventImpl();\n    event.setNewValue(null);\n    event.setOperation(Operation.CREATE);\n\n    CacheDistributionAdvisor advisor = createCacheDistributionAdvisor();\n    CacheProfile profile = createCacheProfile();\n    advisor.putProfile(profile, true);\n\n    executor.inParallel(() -> {\n      advisor.adviseUpdate(event);\n    }, count);\n    executor.execute();\n\n    assertThat(advisor.adviseAllEventsOrCached())\n        .contains(profile.getDistributedMember());\n    assertThat(advisor.adviseAllEventsOrCached())\n        .hasSize(1);\n\n  }\n","date":"2020-04-29 00:05:55","endLine":89,"groupId":"104093","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"getAdviseUpdateForConcurrentUpdateShouldSucceed","params":"(ParallelExecutorexecutor)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/6d/fce1fd948923d60e01d41bdac211128993474a.src","preCode":"  public void getAdviseUpdateForConcurrentUpdateShouldSucceed(\n      ParallelExecutor executor) throws Exception {\n\n    EntryEventImpl event = new EntryEventImpl();\n    event.setNewValue(null);\n    event.setOperation(Operation.CREATE);\n\n    DistributionAdvisor advisor = createCacheDistributionAdvisor();\n    CacheProfile profile = createCacheProfile();\n    advisor.putProfile(profile, true);\n\n    executor.inParallel(() -> {\n      ((CacheDistributionAdvisor) advisor).adviseUpdate(event);\n    }, count);\n    executor.execute();\n\n    assertTrue(((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached()\n        .contains(profile.getDistributedMember()));\n    assertEquals(((CacheDistributionAdvisor) advisor).adviseAllEventsOrCached().size(), 1);\n\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/internal/cache/CacheDistributionAdvisorConcurrentTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":68,"status":"M"}],"commitId":"5e0b25a3247cb12075fd7bba97cb96b0e42dcb2c","commitMessage":"@@@GEODE-7964: Fixup all tests touched for Mockito upgrade (#4986)\n\n","date":"2020-04-29 00:05:55","modifiedFileCount":"7","status":"M","submitter":"Kirk Lund"}]
