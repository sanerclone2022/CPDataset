[{"authorTime":"2018-08-29 02:54:21","codes":[{"authorDate":"2018-08-29 02:54:21","commitOrder":1,"curCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateBuilder serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\");\n\n    CertificateBuilder clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\");\n\n    startServerAndClient(serverCertificate, clientCertificate);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCause(\n            new SSLHandshakeException(\"java.security.cert.CertificateException: No name matching \"\n                + localhost.getHostName() + \" found\"));\n  }\n","date":"2018-08-29 02:54:21","endLine":130,"groupId":"19106","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateNoHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/16/13f75fdbf2d420d27209136c521611509818e8.src","preCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateBuilder serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\");\n\n    CertificateBuilder clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\");\n\n    startServerAndClient(serverCertificate, clientCertificate);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCause(\n            new SSLHandshakeException(\"java.security.cert.CertificateException: No name matching \"\n                + localhost.getHostName() + \" found\"));\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":116,"status":"B"},{"authorDate":"2018-08-29 02:54:21","commitOrder":1,"curCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateBuilder serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .sanDnsName(\"example.com\");\n\n    CertificateBuilder clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\");\n\n    startServerAndClient(serverCertificate, clientCertificate);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCause(new SSLHandshakeException(\n            \"java.security.cert.CertificateException: No subject alternative DNS name matching \"\n                + localhost.getHostName() + \" found.\"));\n  }\n","date":"2018-08-29 02:54:21","endLine":148,"groupId":"19106","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateWrongHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/16/13f75fdbf2d420d27209136c521611509818e8.src","preCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateBuilder serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .sanDnsName(\"example.com\");\n\n    CertificateBuilder clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\");\n\n    startServerAndClient(serverCertificate, clientCertificate);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCause(new SSLHandshakeException(\n            \"java.security.cert.CertificateException: No subject alternative DNS name matching \"\n                + localhost.getHostName() + \" found.\"));\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":133,"status":"B"}],"commitId":"fd29e625c482c9b983d69a4b1ad2abee3775a69b","commitMessage":"@@@GEODE-5594: Enable endpoint identification during using SSL handshake. (#2346)\n\n   User can enable endpoint identification during SSL handshake\n   to validate server's hostname with server's identity.\n\n   New boolean property ssl-endpoint-validation-enabled is added.","date":"2018-08-29 02:54:21","modifiedFileCount":"9","status":"B","submitter":"Sai Boorlagadda"},{"authorTime":"2018-09-18 00:25:05","codes":[{"authorDate":"2018-09-18 00:25:05","commitOrder":2,"curCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateBuilder serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\");\n\n    CertificateBuilder clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\");\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCause(\n            new SSLHandshakeException(\"java.security.cert.CertificateException: No name matching \"\n                + localhost.getHostName() + \" found\"));\n  }\n","date":"2018-09-18 00:25:05","endLine":154,"groupId":"19106","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateNoHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/dc/55a23f7bf11433ddd4a0f2e62a1b215765e0c9.src","preCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateBuilder serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\");\n\n    CertificateBuilder clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\");\n\n    startServerAndClient(serverCertificate, clientCertificate);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCause(\n            new SSLHandshakeException(\"java.security.cert.CertificateException: No name matching \"\n                + localhost.getHostName() + \" found\"));\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":140,"status":"M"},{"authorDate":"2018-09-18 00:25:05","commitOrder":2,"curCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateBuilder serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .sanDnsName(\"example.com\");\n\n    CertificateBuilder clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\");\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCause(new SSLHandshakeException(\n            \"java.security.cert.CertificateException: No subject alternative DNS name matching \"\n                + localhost.getHostName() + \" found.\"));\n  }\n","date":"2018-09-18 00:25:05","endLine":172,"groupId":"19106","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateWrongHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/dc/55a23f7bf11433ddd4a0f2e62a1b215765e0c9.src","preCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateBuilder serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .sanDnsName(\"example.com\");\n\n    CertificateBuilder clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\");\n\n    startServerAndClient(serverCertificate, clientCertificate);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCause(new SSLHandshakeException(\n            \"java.security.cert.CertificateException: No subject alternative DNS name matching \"\n                + localhost.getHostName() + \" found.\"));\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":157,"status":"M"}],"commitId":"7890652974c3268b098074ca12c74973b2639a6d","commitMessage":"@@@GEODE-5338: Geode client to support Trust and Keystore rotation (#2244)\n\nA new SSL property 'ssl-use-default-context' is added to let Geode use\ndefault SSL context. When set to true Geode uses default SSL context as\nreturned by SSLContext.getInstance('Default') or uses the context as set\nby using SSLContext.setDefault().\n\nHostname validation is enabled when using default context","date":"2018-09-18 00:25:05","modifiedFileCount":"10","status":"M","submitter":"Sai Boorlagadda"},{"authorTime":"2018-10-19 05:17:13","codes":[{"authorDate":"2018-10-19 05:17:13","commitOrder":3,"curCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateBuilder serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\");\n\n    CertificateBuilder clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\");\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No name matching \" + localhost.getHostName() + \" found\");\n  }\n","date":"2018-10-19 05:17:13","endLine":153,"groupId":"19106","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateNoHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/85/8a46954c65d6944fce87d0161ef6636d731a12.src","preCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateBuilder serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\");\n\n    CertificateBuilder clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\");\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCause(\n            new SSLHandshakeException(\"java.security.cert.CertificateException: No name matching \"\n                + localhost.getHostName() + \" found\"));\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":140,"status":"M"},{"authorDate":"2018-10-19 05:17:13","commitOrder":3,"curCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateBuilder serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .sanDnsName(\"example.com\");\n\n    CertificateBuilder clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\");\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No subject alternative DNS name matching \"\n            + localhost.getHostName() + \" found.\");\n  }\n","date":"2018-10-19 05:17:13","endLine":171,"groupId":"19106","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateWrongHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/85/8a46954c65d6944fce87d0161ef6636d731a12.src","preCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateBuilder serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .sanDnsName(\"example.com\");\n\n    CertificateBuilder clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\");\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCause(new SSLHandshakeException(\n            \"java.security.cert.CertificateException: No subject alternative DNS name matching \"\n                + localhost.getHostName() + \" found.\"));\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":156,"status":"M"}],"commitId":"646ff599b691e940b05bcbd8ce86ffb267ead7f3","commitMessage":"@@@GEODE-5819: update the keystore used in ssl test to make it jdk11 compatible. (#2664)\n\n","date":"2018-10-19 05:17:13","modifiedFileCount":"2","status":"M","submitter":"jinmeiliao"},{"authorTime":"2019-08-19 21:35:05","codes":[{"authorDate":"2019-08-19 21:35:05","commitOrder":4,"curCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No name matching \" + localhost.getHostName() + \" found\");\n  }\n","date":"2019-08-19 21:35:05","endLine":171,"groupId":"19106","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateNoHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/f4/0a2910d7e1275389ef8fbfdf73c033533bd9ca.src","preCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateBuilder serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\");\n\n    CertificateBuilder clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\");\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No name matching \" + localhost.getHostName() + \" found\");\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":154,"status":"M"},{"authorDate":"2019-08-19 21:35:05","commitOrder":4,"curCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .sanDnsName(\"example.com\")\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No subject alternative DNS name matching \"\n            + localhost.getHostName() + \" found.\");\n  }\n","date":"2019-08-19 21:35:05","endLine":193,"groupId":"19106","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateWrongHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/f4/0a2910d7e1275389ef8fbfdf73c033533bd9ca.src","preCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateBuilder serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .sanDnsName(\"example.com\");\n\n    CertificateBuilder clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\");\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No subject alternative DNS name matching \"\n            + localhost.getHostName() + \" found.\");\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":174,"status":"M"}],"commitId":"87b31108a3cb9e2a7acca1a02643b71cd7b73d3f","commitMessage":"@@@GEODE-7071: Add CA to CertStores so that all certificates can be signed (#3905)\n\n- CAs need to be explicitly created and added as trusted.\n- Certificates need to be explicitly signed.\n- Introduce CertificateMaterial which includes the generated\n  X509Certificate.  the certificate's KeyPair and the issuer if relevant.\n- Future work should convert all other tests.  which utilize key/trust\n  stores to use the CertStores class.\n","date":"2019-08-19 21:35:05","modifiedFileCount":"7","status":"M","submitter":"Jens Deppe"},{"authorTime":"2019-11-01 05:03:17","codes":[{"authorDate":"2019-11-01 05:03:17","commitOrder":5,"curCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(IllegalStateException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No name matching \" + localhost.getHostName() + \" found\");\n  }\n","date":"2019-11-01 05:03:17","endLine":174,"groupId":"19106","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateNoHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/21/23995a99a66ee4454de266bdfcdcc31d223324.src","preCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No name matching \" + localhost.getHostName() + \" found\");\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":157,"status":"M"},{"authorDate":"2019-11-01 05:03:17","commitOrder":5,"curCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .sanDnsName(\"example.com\")\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(IllegalStateException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No subject alternative DNS name matching \"\n            + localhost.getHostName() + \" found.\");\n  }\n","date":"2019-11-01 05:03:17","endLine":196,"groupId":"19106","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateWrongHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/21/23995a99a66ee4454de266bdfcdcc31d223324.src","preCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .sanDnsName(\"example.com\")\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(LocatorCancelException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No subject alternative DNS name matching \"\n            + localhost.getHostName() + \" found.\");\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":177,"status":"M"}],"commitId":"93b1482551c2e2548c2b64c1dd5bab6ce848856a","commitMessage":"@@@GEODE-7379: Remove TcpServer dependencies on CancelException. (#4259)\n\n- CancelException has been removed.  using IllegalStateException instead.\n- The usage of CancelException had nothing to do with cancelling operations\n  and was deemed unneeded.\n\n","date":"2019-11-01 05:03:17","modifiedFileCount":"11","status":"M","submitter":"Ernie Burghardt"},{"authorTime":"2020-03-03 05:09:07","codes":[{"authorDate":"2020-03-03 05:09:07","commitOrder":6,"curCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(IllegalStateException.class)\n        .isThrownBy(() -> client.requestToServer(new HostAndPort(localhost.getHostName(), port),\n            Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No name matching \" + localhost.getHostName() + \" found\");\n  }\n","date":"2020-03-03 05:09:07","endLine":193,"groupId":"19106","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateNoHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/2e/a1eb76c3928c1ac1945de1ad7551fdc9424f2a.src","preCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(IllegalStateException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No name matching \" + localhost.getHostName() + \" found\");\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":175,"status":"M"},{"authorDate":"2020-03-03 05:09:07","commitOrder":6,"curCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .sanDnsName(\"example.com\")\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(IllegalStateException.class)\n        .isThrownBy(() -> client.requestToServer(new HostAndPort(localhost.getHostName(), port),\n            Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No subject alternative DNS name matching \"\n            + localhost.getHostName() + \" found.\");\n  }\n","date":"2020-03-03 05:09:07","endLine":216,"groupId":"19106","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateWrongHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/2e/a1eb76c3928c1ac1945de1ad7551fdc9424f2a.src","preCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .sanDnsName(\"example.com\")\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(IllegalStateException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No subject alternative DNS name matching \"\n            + localhost.getHostName() + \" found.\");\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":196,"status":"M"}],"commitId":"0af626462642c6352840cd6e81a5265c74045c7f","commitMessage":"@@@GEODE-7808: standardize on use of HostAndPort to form client-side connections (#4743)\n\n* Squashed merge of feature/GEODE-7808\n\nremoved HostAddress\nrenamed LocatorAddress to HostAndPort\nmodified TcpClient methods to take a HostAndPort argument instead of\nInetAddress\nmodified SocketCreator to take a HostAndPort argument instead of\nInetAddress\n\n* GEODE-7808 - standardize on use of HostAndPort for connection formation\n\nThis continues a previous PR that passed and was approved for merge.\nThis commit raises up several methods from SocketCreator into the\nTcpSocketCreator interface.  This is an intermediate commit.  A\nsubsequent commit will refactor TcpSocketCreator to separate the client\nand server methods for creating server-sockets and client connections to\nserver-sockets.\n\n* refactored socket-creators to separate concerns\n\nServerSocketCreator holds methods for non-client comms\nClientSocketCreator holds methods that clients should use for comms\nAdvancedSocketCreator holds methods for people who need to get around\nthe limitations of the other two interfaces\n\n* adding missing interface\n\n* move code out of inner-classes into first-class classes\n\n* renaming interfaces and methods to be less confusing\n","date":"2020-03-03 05:09:07","modifiedFileCount":"78","status":"M","submitter":"Bruce Schuchardt"},{"authorTime":"2020-03-04 03:17:00","codes":[{"authorDate":"2020-03-04 03:17:00","commitOrder":7,"curCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(IllegalStateException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No name matching \" + localhost.getHostName() + \" found\");\n  }\n","date":"2020-03-04 03:17:00","endLine":190,"groupId":"19106","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateNoHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/ef/05022a661cc9c6bc337de3286dc59369dde4b5.src","preCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(IllegalStateException.class)\n        .isThrownBy(() -> client.requestToServer(new HostAndPort(localhost.getHostName(), port),\n            Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No name matching \" + localhost.getHostName() + \" found\");\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":173,"status":"M"},{"authorDate":"2020-03-04 03:17:00","commitOrder":7,"curCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .sanDnsName(\"example.com\")\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(IllegalStateException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No subject alternative DNS name matching \"\n            + localhost.getHostName() + \" found.\");\n  }\n","date":"2020-03-04 03:17:00","endLine":212,"groupId":"19106","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateWrongHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/ef/05022a661cc9c6bc337de3286dc59369dde4b5.src","preCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .sanDnsName(\"example.com\")\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(IllegalStateException.class)\n        .isThrownBy(() -> client.requestToServer(new HostAndPort(localhost.getHostName(), port),\n            Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No subject alternative DNS name matching \"\n            + localhost.getHostName() + \" found.\");\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":193,"status":"M"}],"commitId":"4b06a7ae04e3eb3e32d8a6a96c7eb5e5d3269df0","commitMessage":"@@@Revert \"GEODE-7808: standardize on use of HostAndPort to form client-side connections (#4743)\" (#4761)\n\nThis reverts commit 0af626462642c6352840cd6e81a5265c74045c7f.\nThat commit seems to have caused a severe performance drop in several\nBenchmark tests:\n\norg.apache.geode.benchmark.tests.PartitionedGetBenchmark\n              average ops/second  Baseline:    981794.46  Test:     41239.82  Difference:  -95.8%\norg.apache.geode.benchmark.tests.ReplicatedGetBenchmark\n              average ops/second  Baseline:    972769.18  Test:     41299.96  Difference:  -95.8%\norg.apache.geode.benchmark.tests.PartitionedNonIndexedQueryBenchmark\n              average ops/second  Baseline:        90.05  Test:        70.52  Difference:  -21.7%","date":"2020-03-04 03:17:00","modifiedFileCount":"78","status":"M","submitter":"Bruce Schuchardt"},{"authorTime":"2020-03-05 05:06:54","codes":[{"authorDate":"2020-03-05 05:06:54","commitOrder":8,"curCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(IllegalStateException.class)\n        .isThrownBy(() -> client.requestToServer(new HostAndPort(localhost.getHostName(), port),\n            Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No name matching \" + localhost.getHostName() + \" found\");\n  }\n","date":"2020-03-05 05:06:54","endLine":193,"groupId":"104357","id":15,"instanceNumber":1,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateNoHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/2e/a1eb76c3928c1ac1945de1ad7551fdc9424f2a.src","preCode":"  public void clientFailsToConnectIfServerCertificateNoHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(IllegalStateException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No name matching \" + localhost.getHostName() + \" found\");\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":175,"status":"M"},{"authorDate":"2020-03-05 05:06:54","commitOrder":8,"curCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .sanDnsName(\"example.com\")\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(IllegalStateException.class)\n        .isThrownBy(() -> client.requestToServer(new HostAndPort(localhost.getHostName(), port),\n            Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No subject alternative DNS name matching \"\n            + localhost.getHostName() + \" found.\");\n  }\n","date":"2020-03-05 05:06:54","endLine":216,"groupId":"104357","id":16,"instanceNumber":2,"isCurCommit":0,"methodName":"clientFailsToConnectIfServerCertificateWrongHostname","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/2e/a1eb76c3928c1ac1945de1ad7551fdc9424f2a.src","preCode":"  public void clientFailsToConnectIfServerCertificateWrongHostname() throws Exception {\n    CertificateMaterial serverCertificate = new CertificateBuilder()\n        .commonName(\"tcp-server\")\n        .issuedBy(ca)\n        .sanDnsName(\"example.com\")\n        .generate();\n\n    CertificateMaterial clientCertificate = new CertificateBuilder()\n        .commonName(\"tcp-client\")\n        .issuedBy(ca)\n        .generate();\n\n    startServerAndClient(serverCertificate, clientCertificate, true);\n\n    assertThatExceptionOfType(IllegalStateException.class)\n        .isThrownBy(() -> client.requestToServer(localhost, port, Boolean.valueOf(false), 5 * 1000))\n        .withCauseInstanceOf(SSLHandshakeException.class)\n        .withStackTraceContaining(\"No subject alternative DNS name matching \"\n            + localhost.getHostName() + \" found.\");\n  }\n","realPath":"geode-core/src/integrationTest/java/org/apache/geode/distributed/internal/tcpserver/TCPClientSSLIntegrationTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":196,"status":"M"}],"commitId":"5c2b959e98a6330ecaeddb4d26e11ea29f7a2d7f","commitMessage":"@@@GEODE-7808: standardize on use of HostAndPort for creating connections (#4765)\n\n* Squashed merge of feature/GEODE-7808\n\nremoved HostAddress\nrenamed LocatorAddress to HostAndPort\nmodified TcpClient methods to take a HostAndPort argument instead of\nInetAddress\nmodified SocketCreator to take a HostAndPort argument instead of\nInetAddress\n\n* GEODE-7808 - standardize on use of HostAndPort for connection formation\n\nThis continues a previous PR that passed and was approved for merge.\nThis commit raises up several methods from SocketCreator into the\nTcpSocketCreator interface.  This is an intermediate commit.  A\nsubsequent commit will refactor TcpSocketCreator to separate the client\nand server methods for creating server-sockets and client connections to\nserver-sockets.\n\n* refactored socket-creators to separate concerns\n\nServerSocketCreator holds methods for non-client comms\nClientSocketCreator holds methods that clients should use for comms\nAdvancedSocketCreator holds methods for people who need to get around\nthe limitations of the other two interfaces\n\n* adding missing interface\n\n* move code out of inner-classes into first-class classes\n\n* renaming interfaces and methods to be less confusing\n\n* reinstate SocketCreator ip to hostname cache for performance\n\n* changes from review comments\n","date":"2020-03-05 05:06:54","modifiedFileCount":"80","status":"M","submitter":"Bruce Schuchardt"}]
