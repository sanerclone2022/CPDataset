[{"authorTime":"2016-09-15 02:08:18","codes":[{"authorDate":"2016-09-15 02:08:18","commitOrder":1,"curCode":"  public void doRefCountChangedNoOwnerWithTrackRefsTrueAndTrackFreesTrue() {\n    rchi = getTrueTrue();\n    Long address = (long) 0x1000;\n    boolean decRefCount = false;\n    int rc = 1;\n\n    rchi.freeRefCountInfo(address);  \r\n\n    Object owner = rchi.getReferenceCountOwner();\n    assertTrue(owner==null);\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    List<RefCountChangeInfo> list = rchi.peekRefCountInfo(address);\n    assertEquals(1, list.size());\n    RefCountChangeInfo rcci = list.get(0);\n    assertEquals(0, rcci.getUseCount());    \r\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(1, list.size());\n    rcci = list.get(0);\n    assertEquals(1, rcci.getUseCount());    \r\n\n    decRefCount = true;\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size());   \r\n    rcci = list.get(1);\n    assertEquals(0, rcci.getUseCount());    \r\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size());\n    rcci = list.get(1);\n    assertEquals(1, rcci.getUseCount());    \r\n\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size());   \r\n\n    List<RefCountChangeInfo> freeInfo = rchi.getFreeRefCountInfo(address);\n    assertEquals(null, freeInfo);   \r\n\n    rchi.freeRefCountInfo(address);  \r\n\n    List<RefCountChangeInfo> freeInfo2 = rchi.getFreeRefCountInfo(address);\n    assertEquals(2, freeInfo2.size());  \r\n\n    list = rchi.getRefCountInfo(address);\n    assertEquals(null, list);  \r\n  }\n","date":"2016-09-15 02:08:18","endLine":390,"groupId":"29247","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"doRefCountChangedNoOwnerWithTrackRefsTrueAndTrackFreesTrue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/dd/75a693c8357461206c231f7532dd2591b66696.src","preCode":"  public void doRefCountChangedNoOwnerWithTrackRefsTrueAndTrackFreesTrue() {\n    rchi = getTrueTrue();\n    Long address = (long) 0x1000;\n    boolean decRefCount = false;\n    int rc = 1;\n\n    rchi.freeRefCountInfo(address);  \r\n\n    Object owner = rchi.getReferenceCountOwner();\n    assertTrue(owner==null);\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    List<RefCountChangeInfo> list = rchi.peekRefCountInfo(address);\n    assertEquals(1, list.size());\n    RefCountChangeInfo rcci = list.get(0);\n    assertEquals(0, rcci.getUseCount());    \r\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(1, list.size());\n    rcci = list.get(0);\n    assertEquals(1, rcci.getUseCount());    \r\n\n    decRefCount = true;\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size());   \r\n    rcci = list.get(1);\n    assertEquals(0, rcci.getUseCount());    \r\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size());\n    rcci = list.get(1);\n    assertEquals(1, rcci.getUseCount());    \r\n\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size());   \r\n\n    List<RefCountChangeInfo> freeInfo = rchi.getFreeRefCountInfo(address);\n    assertEquals(null, freeInfo);   \r\n\n    rchi.freeRefCountInfo(address);  \r\n\n    List<RefCountChangeInfo> freeInfo2 = rchi.getFreeRefCountInfo(address);\n    assertEquals(2, freeInfo2.size());  \r\n\n    list = rchi.getRefCountInfo(address);\n    assertEquals(null, list);  \r\n  }\n","realPath":"geode-core/src/test/java/org/apache/geode/internal/offheap/ReferenceCountHelperImplTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":341,"status":"B"},{"authorDate":"2016-09-15 02:08:18","commitOrder":1,"curCode":"  public void doRefCountChangedNoOwnerWithTrackRefsTrueAndTrackFreesFalse() {\n    rchi = getTrueFalse();\n    Long address = (long) 0x1000;\n    boolean decRefCount = false;\n    int rc = 1;\n\n    Object owner = rchi.getReferenceCountOwner();\n    assertTrue(owner==null);\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    List<RefCountChangeInfo> list = rchi.peekRefCountInfo(address);\n    assertEquals(1, list.size());\n    RefCountChangeInfo rcci = list.get(0);\n    assertEquals(0, rcci.getUseCount());    \r\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(1, list.size());\n    rcci = list.get(0);\n    assertEquals(1, rcci.getUseCount());    \r\n\n    decRefCount = true;\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size());   \r\n    rcci = list.get(1);\n    assertEquals(0, rcci.getUseCount());    \r\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size());\n    rcci = list.get(1);\n    assertEquals(1, rcci.getUseCount());    \r\n\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size());   \r\n\n    List<RefCountChangeInfo> freeInfo = rchi.getFreeRefCountInfo(address);\n    assertEquals(null, freeInfo);   \r\n\n    rchi.freeRefCountInfo(address);  \r\n\n    List<RefCountChangeInfo> freeInfo2 = rchi.getFreeRefCountInfo(address);\n    assertEquals(null, freeInfo2);  \r\n\n    list = rchi.getRefCountInfo(address);\n    assertEquals(null, list);  \r\n  }\n","date":"2016-09-15 02:08:18","endLine":500,"groupId":"29247","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"doRefCountChangedNoOwnerWithTrackRefsTrueAndTrackFreesFalse","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/dd/75a693c8357461206c231f7532dd2591b66696.src","preCode":"  public void doRefCountChangedNoOwnerWithTrackRefsTrueAndTrackFreesFalse() {\n    rchi = getTrueFalse();\n    Long address = (long) 0x1000;\n    boolean decRefCount = false;\n    int rc = 1;\n\n    Object owner = rchi.getReferenceCountOwner();\n    assertTrue(owner==null);\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    List<RefCountChangeInfo> list = rchi.peekRefCountInfo(address);\n    assertEquals(1, list.size());\n    RefCountChangeInfo rcci = list.get(0);\n    assertEquals(0, rcci.getUseCount());    \r\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(1, list.size());\n    rcci = list.get(0);\n    assertEquals(1, rcci.getUseCount());    \r\n\n    decRefCount = true;\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size());   \r\n    rcci = list.get(1);\n    assertEquals(0, rcci.getUseCount());    \r\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size());\n    rcci = list.get(1);\n    assertEquals(1, rcci.getUseCount());    \r\n\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size());   \r\n\n    List<RefCountChangeInfo> freeInfo = rchi.getFreeRefCountInfo(address);\n    assertEquals(null, freeInfo);   \r\n\n    rchi.freeRefCountInfo(address);  \r\n\n    List<RefCountChangeInfo> freeInfo2 = rchi.getFreeRefCountInfo(address);\n    assertEquals(null, freeInfo2);  \r\n\n    list = rchi.getRefCountInfo(address);\n    assertEquals(null, list);  \r\n  }\n","realPath":"geode-core/src/test/java/org/apache/geode/internal/offheap/ReferenceCountHelperImplTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":453,"status":"B"}],"commitId":"8ea08da3d2baa64ca631641430b54d71ce3ff362","commitMessage":"@@@GEODE-37 Merge branch 'feature/GEODE-37_2' into develop\n\nConflicts:\n\tgeode-core/src/main/java/com/gemstone/gemfire/cache/query/internal/IndexTrackingQueryObserver.java\n","date":"2016-09-15 02:08:18","modifiedFileCount":"151","status":"B","submitter":"Hitesh Khamesra"},{"authorTime":"2021-03-30 01:18:33","codes":[{"authorDate":"2021-03-30 01:18:33","commitOrder":2,"curCode":"  public void doRefCountChangedNoOwnerWithTrackRefsTrueAndTrackFreesTrue() {\n    ReferenceCountHelperImpl referenceCountHelperImpl = newReferenceCountHelperImpl_TrueTrue();\n    Long address = (long) 0x1000;\n\n    \r\n    referenceCountHelperImpl.freeRefCountInfo(address);\n    Object owner = referenceCountHelperImpl.getReferenceCountOwner();\n    assertThat(owner).isNull();\n\n    referenceCountHelperImpl.refCountChanged(address, false, 1);\n    List<RefCountChangeInfo> list = referenceCountHelperImpl.peekRefCountInfo(address);\n    assertThat(list).hasSize(1);\n\n    RefCountChangeInfo refCountChangeInfo = list.get(0);\n    \r\n    assertThat(refCountChangeInfo.getUseCount()).isZero();\n\n    referenceCountHelperImpl.refCountChanged(address, false, 1);\n    list = referenceCountHelperImpl.peekRefCountInfo(address);\n    assertThat(list).hasSize(1);\n\n    refCountChangeInfo = list.get(0);\n    \r\n    assertThat(refCountChangeInfo.getUseCount()).isOne();\n\n    referenceCountHelperImpl.refCountChanged(address, true, 1);\n    list = referenceCountHelperImpl.peekRefCountInfo(address);\n    \r\n    assertThat(list).hasSize(2);\n\n    refCountChangeInfo = list.get(1);\n    \r\n    assertThat(refCountChangeInfo.getUseCount()).isZero();\n\n    referenceCountHelperImpl.refCountChanged(address, true, 1);\n    list = referenceCountHelperImpl.peekRefCountInfo(address);\n    assertThat(list).hasSize(2);\n\n    refCountChangeInfo = list.get(1);\n    \r\n    assertThat(refCountChangeInfo.getUseCount()).isOne();\n\n    list = referenceCountHelperImpl.peekRefCountInfo(address);\n    \r\n    assertThat(list).hasSize(2);\n\n    List<RefCountChangeInfo> freeInfo = referenceCountHelperImpl.getFreeRefCountInfo(address);\n    \r\n    assertThat(freeInfo).isNull();\n\n    \r\n    referenceCountHelperImpl.freeRefCountInfo(address);\n    List<RefCountChangeInfo> freeInfo2 = referenceCountHelperImpl.getFreeRefCountInfo(address);\n    \r\n    assertThat(freeInfo2).hasSize(2);\n\n    list = referenceCountHelperImpl.getRefCountInfo(address);\n    \r\n    assertThat(list).isNull();\n  }\n","date":"2021-03-30 01:18:33","endLine":392,"groupId":"102366","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"doRefCountChangedNoOwnerWithTrackRefsTrueAndTrackFreesTrue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/28/d07325a5bd75b2cc9a1b3fb5f659b8ed20821d.src","preCode":"  public void doRefCountChangedNoOwnerWithTrackRefsTrueAndTrackFreesTrue() {\n    rchi = getTrueTrue();\n    Long address = (long) 0x1000;\n    boolean decRefCount = false;\n    int rc = 1;\n\n    rchi.freeRefCountInfo(address); \r\n\n    Object owner = rchi.getReferenceCountOwner();\n    assertTrue(owner == null);\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    List<RefCountChangeInfo> list = rchi.peekRefCountInfo(address);\n    assertEquals(1, list.size());\n    RefCountChangeInfo rcci = list.get(0);\n    assertEquals(0, rcci.getUseCount()); \r\n                                         \r\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(1, list.size());\n    rcci = list.get(0);\n    assertEquals(1, rcci.getUseCount()); \r\n                                         \r\n\n    decRefCount = true;\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size()); \r\n    rcci = list.get(1);\n    assertEquals(0, rcci.getUseCount()); \r\n                                         \r\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size());\n    rcci = list.get(1);\n    assertEquals(1, rcci.getUseCount()); \r\n                                         \r\n\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size()); \r\n\n    List<RefCountChangeInfo> freeInfo = rchi.getFreeRefCountInfo(address);\n    assertEquals(null, freeInfo); \r\n\n    rchi.freeRefCountInfo(address); \r\n\n    List<RefCountChangeInfo> freeInfo2 = rchi.getFreeRefCountInfo(address);\n    assertEquals(2, freeInfo2.size()); \r\n\n    list = rchi.getRefCountInfo(address);\n    assertEquals(null, list); \r\n  }\n","realPath":"geode-core/src/test/java/org/apache/geode/internal/offheap/ReferenceCountHelperImplTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":333,"status":"M"},{"authorDate":"2021-03-30 01:18:33","commitOrder":2,"curCode":"  public void doRefCountChangedNoOwnerWithTrackRefsTrueAndTrackFreesFalse() {\n    ReferenceCountHelperImpl referenceCountHelperImpl = newReferenceCountHelperImpl_TrueFalse();\n    Long address = (long) 0x1000;\n\n    Object owner = referenceCountHelperImpl.getReferenceCountOwner();\n    assertThat(owner).isNull();\n\n    referenceCountHelperImpl.refCountChanged(address, false, 1);\n    List<RefCountChangeInfo> list = referenceCountHelperImpl.peekRefCountInfo(address);\n    assertThat(list).hasSize(1);\n    RefCountChangeInfo refCountChangeInfo = list.get(0);\n    \r\n    assertThat(refCountChangeInfo.getUseCount()).isZero();\n\n    referenceCountHelperImpl.refCountChanged(address, false, 1);\n    list = referenceCountHelperImpl.peekRefCountInfo(address);\n    assertThat(list).hasSize(1);\n    refCountChangeInfo = list.get(0);\n    \r\n    assertThat(refCountChangeInfo.getUseCount()).isOne();\n\n    referenceCountHelperImpl.refCountChanged(address, true, 1);\n    list = referenceCountHelperImpl.peekRefCountInfo(address);\n    \r\n    assertThat(list).hasSize(2);\n    refCountChangeInfo = list.get(1);\n    \r\n    assertThat(refCountChangeInfo.getUseCount()).isZero();\n\n    referenceCountHelperImpl.refCountChanged(address, true, 1);\n    list = referenceCountHelperImpl.peekRefCountInfo(address);\n    assertThat(list).hasSize(2);\n    refCountChangeInfo = list.get(1);\n    \r\n    assertThat(refCountChangeInfo.getUseCount()).isOne();\n\n    list = referenceCountHelperImpl.peekRefCountInfo(address);\n    \r\n    assertThat(list).hasSize(2);\n\n    List<RefCountChangeInfo> freeInfo = referenceCountHelperImpl.getFreeRefCountInfo(address);\n    \r\n    assertThat(freeInfo).isNull();\n\n    \r\n    referenceCountHelperImpl.freeRefCountInfo(address);\n\n    List<RefCountChangeInfo> freeInfo2 = referenceCountHelperImpl.getFreeRefCountInfo(address);\n    \r\n    assertThat(freeInfo2).isNull();\n\n    list = referenceCountHelperImpl.getRefCountInfo(address);\n    \r\n    assertThat(list).isNull();\n  }\n","date":"2021-03-30 01:18:33","endLine":503,"groupId":"102366","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"doRefCountChangedNoOwnerWithTrackRefsTrueAndTrackFreesFalse","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/28/d07325a5bd75b2cc9a1b3fb5f659b8ed20821d.src","preCode":"  public void doRefCountChangedNoOwnerWithTrackRefsTrueAndTrackFreesFalse() {\n    rchi = getTrueFalse();\n    Long address = (long) 0x1000;\n    boolean decRefCount = false;\n    int rc = 1;\n\n    Object owner = rchi.getReferenceCountOwner();\n    assertTrue(owner == null);\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    List<RefCountChangeInfo> list = rchi.peekRefCountInfo(address);\n    assertEquals(1, list.size());\n    RefCountChangeInfo rcci = list.get(0);\n    assertEquals(0, rcci.getUseCount()); \r\n                                         \r\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(1, list.size());\n    rcci = list.get(0);\n    assertEquals(1, rcci.getUseCount()); \r\n                                         \r\n\n    decRefCount = true;\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size()); \r\n    rcci = list.get(1);\n    assertEquals(0, rcci.getUseCount()); \r\n                                         \r\n\n    rchi.refCountChanged(address, decRefCount, rc);\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size());\n    rcci = list.get(1);\n    assertEquals(1, rcci.getUseCount()); \r\n                                         \r\n\n    list = rchi.peekRefCountInfo(address);\n    assertEquals(2, list.size()); \r\n\n    List<RefCountChangeInfo> freeInfo = rchi.getFreeRefCountInfo(address);\n    assertEquals(null, freeInfo); \r\n\n    rchi.freeRefCountInfo(address); \r\n\n    List<RefCountChangeInfo> freeInfo2 = rchi.getFreeRefCountInfo(address);\n    assertEquals(null, freeInfo2); \r\n\n    list = rchi.getRefCountInfo(address);\n    assertEquals(null, list); \r\n  }\n","realPath":"geode-core/src/test/java/org/apache/geode/internal/offheap/ReferenceCountHelperImplTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":449,"status":"M"}],"commitId":"47c3b96f46cd36a23724e47a13a7f352574dd773","commitMessage":"@@@GEODE-6143: Remove PowerMock from offheap tests (#6179)\n\n* Clean-up offheap code and tests\n* Extract OffHeapClearRequired from OffHeapStoredObject\n* Extract ReferenceCounter from OffHeapStoredObject\n* Move remaining static methods to bottom of OffHeapStoredObject\n* Extract non-static delegate OffHeapRegionEntryHelperInstance from\n  OffHeapRegionEntryHelper\n* Extract non-static delegate ReferenceCounterInstance from\n  ReferenceCounter\n* Remove PowerMock from offheap tests\n* Remove PowerMock from Geode build files\n* Rename OffHeapRegionEntryHelperInstanceTest\n* Rename ReferenceCountHelperImplTest","date":"2021-03-30 01:18:33","modifiedFileCount":"13","status":"M","submitter":"Kirk Lund"}]
