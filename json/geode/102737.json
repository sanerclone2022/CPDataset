[{"authorTime":"2019-03-14 05:16:34","codes":[{"authorDate":"2019-03-14 05:16:34","commitOrder":1,"curCode":"  public void delegatesCreateIntCounterToStatisticsManager() {\n    StatisticDescriptor descriptorReturnedByManager = mock(StatisticDescriptor.class);\n    when(statisticsManager.createIntCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS))\n        .thenReturn(descriptorReturnedByManager);\n\n    StatisticDescriptor result = internalDistributedSystem\n        .createIntCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS);\n\n    assertThat(result)\n        .isSameAs(descriptorReturnedByManager);\n  }\n","date":"2019-03-14 05:16:34","endLine":145,"groupId":"28786","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"delegatesCreateIntCounterToStatisticsManager","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/71/f18488c6cd27380c8895d32161bff7f464c273.src","preCode":"  public void delegatesCreateIntCounterToStatisticsManager() {\n    StatisticDescriptor descriptorReturnedByManager = mock(StatisticDescriptor.class);\n    when(statisticsManager.createIntCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS))\n        .thenReturn(descriptorReturnedByManager);\n\n    StatisticDescriptor result = internalDistributedSystem\n        .createIntCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS);\n\n    assertThat(result)\n        .isSameAs(descriptorReturnedByManager);\n  }\n","realPath":"geode-core/src/test/java/org/apache/geode/distributed/internal/InternalDistributedSystemStatisticsManagerTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":135,"status":"B"},{"authorDate":"2019-03-14 05:16:34","commitOrder":1,"curCode":"  public void delegatesCreateLongCounterToStatisticsManager() {\n    StatisticDescriptor descriptorReturnedByManager = mock(StatisticDescriptor.class);\n    when(statisticsManager\n        .createLongCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS))\n            .thenReturn(descriptorReturnedByManager);\n\n    StatisticDescriptor result = internalDistributedSystem\n        .createLongCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS);\n\n    assertThat(result)\n        .isSameAs(descriptorReturnedByManager);\n  }\n","date":"2019-03-14 05:16:34","endLine":159,"groupId":"28786","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"delegatesCreateLongCounterToStatisticsManager","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/71/f18488c6cd27380c8895d32161bff7f464c273.src","preCode":"  public void delegatesCreateLongCounterToStatisticsManager() {\n    StatisticDescriptor descriptorReturnedByManager = mock(StatisticDescriptor.class);\n    when(statisticsManager\n        .createLongCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS))\n            .thenReturn(descriptorReturnedByManager);\n\n    StatisticDescriptor result = internalDistributedSystem\n        .createLongCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS);\n\n    assertThat(result)\n        .isSameAs(descriptorReturnedByManager);\n  }\n","realPath":"geode-core/src/test/java/org/apache/geode/distributed/internal/InternalDistributedSystemStatisticsManagerTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":148,"status":"B"}],"commitId":"8ee587c0d2e301775dae6a1eecba4f9a9a258ca6","commitMessage":"@@@GEODE-6295: Add Micrometer-based metrics system (#3277)\n\n- Add MetricsSession interface that represents the lifecycle of a meter\n  registry.  and allows connecting \"downstream\" registries.\n- Add MetricsPublishingService interface that defines a service that\n  can be implemented to interact with MetricsSessions by connecting\n  \"downstream\" registries to publish metrics to external monitoring\n  systems.\n- Add CompositeMeterRegistryFactory whichs handles creating the\n  composite meter registry for the cache and defining its common tags.\n- Add CacheLifecycleMetricsSession class that loads implementations of\n  MetricsPublishingService and manages the cache meter registry based\n  on the cache lifecycle.\n- InternalCacheBuilder uses CompositeMeterRegistryFactory to create the\n  cache meter registry and starts a CacheLifecycleMetricsSession. The\n  cache meter registry is passed to GemFireCacheImpl and exposed to\n  internal Geode code by InternalCache.getMeterRegistry().\n\nCo-Authored-By: Dale Emery <demery@pivotal.io>\nCo-Authored-By: Michael Oleske <moleske@pivotal.io>\nCo-Authored-By: Mark Hanson <mhanson@pivotal.io>\nCo-Authored-By: Kirk Lund <klund@apache.org>","date":"2019-03-14 05:16:34","modifiedFileCount":"9","status":"B","submitter":"Kirk Lund"},{"authorTime":"2019-03-14 05:16:34","codes":[{"authorDate":"2019-06-20 02:33:45","commitOrder":2,"curCode":"  public void delegatesCreateIntCounterToStatisticsManager() {\n    StatisticDescriptor descriptorReturnedByManager = mock(StatisticDescriptor.class);\n    when(\n        statisticsManager.createLongCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS))\n            .thenReturn(descriptorReturnedByManager);\n\n    StatisticDescriptor result = internalDistributedSystem\n        .createIntCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS);\n\n    assertThat(result)\n        .isSameAs(descriptorReturnedByManager);\n  }\n","date":"2019-06-20 02:33:45","endLine":151,"groupId":"102737","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"delegatesCreateIntCounterToStatisticsManager","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/50/c119e3c46930676bd5b4c23bcfb7b651ff9680.src","preCode":"  public void delegatesCreateIntCounterToStatisticsManager() {\n    StatisticDescriptor descriptorReturnedByManager = mock(StatisticDescriptor.class);\n    when(statisticsManager.createIntCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS))\n        .thenReturn(descriptorReturnedByManager);\n\n    StatisticDescriptor result = internalDistributedSystem\n        .createIntCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS);\n\n    assertThat(result)\n        .isSameAs(descriptorReturnedByManager);\n  }\n","realPath":"geode-core/src/test/java/org/apache/geode/distributed/internal/InternalDistributedSystemStatisticsManagerTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":140,"status":"M"},{"authorDate":"2019-03-14 05:16:34","commitOrder":2,"curCode":"  public void delegatesCreateLongCounterToStatisticsManager() {\n    StatisticDescriptor descriptorReturnedByManager = mock(StatisticDescriptor.class);\n    when(statisticsManager\n        .createLongCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS))\n            .thenReturn(descriptorReturnedByManager);\n\n    StatisticDescriptor result = internalDistributedSystem\n        .createLongCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS);\n\n    assertThat(result)\n        .isSameAs(descriptorReturnedByManager);\n  }\n","date":"2019-03-14 05:16:34","endLine":159,"groupId":"102737","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"delegatesCreateLongCounterToStatisticsManager","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/71/f18488c6cd27380c8895d32161bff7f464c273.src","preCode":"  public void delegatesCreateLongCounterToStatisticsManager() {\n    StatisticDescriptor descriptorReturnedByManager = mock(StatisticDescriptor.class);\n    when(statisticsManager\n        .createLongCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS))\n            .thenReturn(descriptorReturnedByManager);\n\n    StatisticDescriptor result = internalDistributedSystem\n        .createLongCounter(STATISTIC_NAME, STATISTIC_DESCRIPTION, STATISTIC_UNITS);\n\n    assertThat(result)\n        .isSameAs(descriptorReturnedByManager);\n  }\n","realPath":"geode-core/src/test/java/org/apache/geode/distributed/internal/InternalDistributedSystemStatisticsManagerTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":148,"status":"N"}],"commitId":"e377ed7d3d76a244a1494025231851fac8b37350","commitMessage":"@@@GEODE-6850: change int stats to long (#3713)\n\nThe \"Int\" methods on the statistics interfaces have been deprecated in favor of the corresponding \"Long\" methods.\nThe implementation of these deprecated \"Int\" methods now use the \"Long\" methods.\nThe only place this could be visible to a user is if they call Statistics.get(String) or Statistics.get(StatisticDescriptor). Both of these methods return a \"Number\" instance.\nThese methods continue to do this and existing code will work fine if it does not try to downcast the Number to a subclass. But for \"Int\" stats.  these methods used to return an \"Integer\" instance and now return a \"Long\" instance. If code used to cast to an \"Integer\" it will now be broken.\nMany places in the product now use these deprecated \"Int\" methods and as of this checkin all those places are now creating a \"Long\" statistic.","date":"2019-06-20 02:33:45","modifiedFileCount":"28","status":"M","submitter":"Darrel Schneider"}]
