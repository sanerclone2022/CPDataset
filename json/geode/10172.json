[{"authorTime":"2018-07-18 03:54:18","codes":[{"authorDate":"2018-07-18 03:54:18","commitOrder":1,"curCode":"  public void testCloseDurableClients() {\n    setupCqs();\n    closeDurableClient();\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString = csb.toString();\n\n    Awaitility.waitAtMost(20, TimeUnit.SECONDS).until(() -> {\n      gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n    });\n\n    String errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","date":"2018-07-18 03:54:18","endLine":136,"groupId":"29264","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testCloseDurableClients","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/e4/9c80269932a676ae7513b0c7f95b6ea9f1f809.src","preCode":"  public void testCloseDurableClients() {\n    setupCqs();\n    closeDurableClient();\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString = csb.toString();\n\n    Awaitility.waitAtMost(20, TimeUnit.SECONDS).until(() -> {\n      gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n    });\n\n    String errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","realPath":"geode-cq/src/distributedTest/java/org/apache/geode/management/internal/cli/commands/DurableClientCommandsDUnitTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":122,"status":"B"},{"authorDate":"2018-07-18 03:54:18","commitOrder":1,"curCode":"  public void testCountSubscriptionQueueSize() {\n    setupCqs();\n\n    doPuts(REGION_NAME, Host.getHost(0).getVM(1));\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    String commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess().containsOutput(\"4\");\n\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ3);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeCq(CQ1);\n    closeCq(CQ2);\n    closeCq(CQ3);\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ1);\n    commandString = csb.toString();\n\n    String errorMessage = CliStrings\n        .format(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE_CQ_NOT_FOUND, CLIENT_NAME, CQ1);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeDurableClient();\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString1 = csb.toString();\n\n    Awaitility.waitAtMost(20, TimeUnit.SECONDS).until(() -> {\n      gfsh.executeAndAssertThat(commandString1).statusIsSuccess();\n    });\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","date":"2018-07-18 03:54:18","endLine":218,"groupId":"29268","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testCountSubscriptionQueueSize","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/e4/9c80269932a676ae7513b0c7f95b6ea9f1f809.src","preCode":"  public void testCountSubscriptionQueueSize() {\n    setupCqs();\n\n    doPuts(REGION_NAME, Host.getHost(0).getVM(1));\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    String commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess().containsOutput(\"4\");\n\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ3);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeCq(CQ1);\n    closeCq(CQ2);\n    closeCq(CQ3);\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ1);\n    commandString = csb.toString();\n\n    String errorMessage = CliStrings\n        .format(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE_CQ_NOT_FOUND, CLIENT_NAME, CQ1);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeDurableClient();\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString1 = csb.toString();\n\n    Awaitility.waitAtMost(20, TimeUnit.SECONDS).until(() -> {\n      gfsh.executeAndAssertThat(commandString1).statusIsSuccess();\n    });\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","realPath":"geode-cq/src/distributedTest/java/org/apache/geode/management/internal/cli/commands/DurableClientCommandsDUnitTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":159,"status":"B"}],"commitId":"cb202f25b93e0a56f4776813da0bf6dcbba231cd","commitMessage":"@@@GEODE-5363: Moves all non-unit tests into specific isolated source sets. (#2126)\n\n* Creates integrationTest source set.\n* Creates distributedTest source set.\n* Creates acceptanceTest source set.\n* Creates uiTest source set.\n* Removes old categories.","date":"2018-07-18 03:54:18","modifiedFileCount":"697","status":"B","submitter":"Jacob Barrett"},{"authorTime":"2018-08-17 08:13:57","codes":[{"authorDate":"2018-08-17 08:13:57","commitOrder":2,"curCode":"  public void testCloseDurableClients() {\n    setupCqs();\n    closeDurableClient();\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString = csb.toString();\n\n    Awaitility.waitAtMost(20, TimeUnit.SECONDS).untilAsserted(() -> {\n      gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n    });\n\n    String errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","date":"2018-08-18 01:08:42","endLine":136,"groupId":"29264","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testCloseDurableClients","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/62/28f92e9b34d6292812cd406394d378aa4d5dea.src","preCode":"  public void testCloseDurableClients() {\n    setupCqs();\n    closeDurableClient();\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString = csb.toString();\n\n    Awaitility.waitAtMost(20, TimeUnit.SECONDS).until(() -> {\n      gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n    });\n\n    String errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","realPath":"geode-cq/src/distributedTest/java/org/apache/geode/management/internal/cli/commands/DurableClientCommandsDUnitTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":122,"status":"M"},{"authorDate":"2018-08-17 08:13:57","commitOrder":2,"curCode":"  public void testCountSubscriptionQueueSize() {\n    setupCqs();\n\n    doPuts(REGION_NAME, Host.getHost(0).getVM(1));\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    String commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess().containsOutput(\"4\");\n\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ3);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeCq(CQ1);\n    closeCq(CQ2);\n    closeCq(CQ3);\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ1);\n    commandString = csb.toString();\n\n    String errorMessage = CliStrings\n        .format(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE_CQ_NOT_FOUND, CLIENT_NAME, CQ1);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeDurableClient();\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString1 = csb.toString();\n\n    Awaitility.waitAtMost(20, TimeUnit.SECONDS).untilAsserted(() -> {\n      gfsh.executeAndAssertThat(commandString1).statusIsSuccess();\n    });\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","date":"2018-08-18 01:08:42","endLine":218,"groupId":"29268","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testCountSubscriptionQueueSize","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/62/28f92e9b34d6292812cd406394d378aa4d5dea.src","preCode":"  public void testCountSubscriptionQueueSize() {\n    setupCqs();\n\n    doPuts(REGION_NAME, Host.getHost(0).getVM(1));\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    String commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess().containsOutput(\"4\");\n\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ3);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeCq(CQ1);\n    closeCq(CQ2);\n    closeCq(CQ3);\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ1);\n    commandString = csb.toString();\n\n    String errorMessage = CliStrings\n        .format(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE_CQ_NOT_FOUND, CLIENT_NAME, CQ1);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeDurableClient();\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString1 = csb.toString();\n\n    Awaitility.waitAtMost(20, TimeUnit.SECONDS).until(() -> {\n      gfsh.executeAndAssertThat(commandString1).statusIsSuccess();\n    });\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","realPath":"geode-cq/src/distributedTest/java/org/apache/geode/management/internal/cli/commands/DurableClientCommandsDUnitTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":159,"status":"M"}],"commitId":"f3f255a234eac78b63dc4932e1d725c20fe75706","commitMessage":"@@@GEODE-5593 Update test dependencies\n\nUpdated the following dependencies:\n\nassertj \t3.8.0 => 3.10.0\nawaitility \t2.0.0 => 3.1.1\nbcel\t\t6.0 => 6.2\ncglib\t\t3.2.4 => 3.2.7\nderby\t\t10.13.1.1 => 10.14.2.0\nhttpclient\t4.5.3 => 4.5.6\nbcel\t\t6.0 => 6.2\ncglib\t\t3.2.4 => 3.2.7\nderby\t\t10.13.1.1 => 10.14.2.0\nhttpclient\t4.5.3 => 4.5.6\nhttpcore\t4.4.6 => 4.4.10\njavax.mail\t1.4.6 => 1.6.1\njavax.persistence 2.1.1 => 2.2.0\njmock\t\t2.8.2 => 2.8.4\njson-path\t2.2.0 => 2.4.0\njunit-quickcheck 0.7 => 0.8.1\nmockito\t\t2.8.9 => 2.19.1\npowermock\t1.7.1 => 2.0.0-beta.5\nselenimum\t3.9.1 => 3.13.0\nsystem-rules\t1.17.1 => 1.18.0\nxerces\t\t2.11.0 => 2.12.0\n\nUpdated some tests due to API changes. Typically this meant\nconverting from until() to untilAsserted().  In other cases\nyou aren't allowed to throw undeclared check exceptions.\n\nUpdated and corrected powermock usage in a few places.\n\nDid not update junit-params since too many places in our\ntests use the test method name for region name (and the\ntest method name would not have been a legal region\nname).  This is an opportunity for future refactoring.\n","date":"2018-08-18 01:08:42","modifiedFileCount":"182","status":"M","submitter":"Anthony Baker"},{"authorTime":"2018-10-05 06:38:58","codes":[{"authorDate":"2018-10-05 06:38:58","commitOrder":3,"curCode":"  public void testCloseDurableClients() {\n    setupCqs();\n    closeDurableClient();\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString = csb.toString();\n\n    await().untilAsserted(() -> {\n      gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n    });\n\n    String errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","date":"2018-10-19 08:01:02","endLine":135,"groupId":"29264","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testCloseDurableClients","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/73/664a83b31875190fd450ed00fd84896d44dcdd.src","preCode":"  public void testCloseDurableClients() {\n    setupCqs();\n    closeDurableClient();\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString = csb.toString();\n\n    Awaitility.waitAtMost(20, TimeUnit.SECONDS).untilAsserted(() -> {\n      gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n    });\n\n    String errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","realPath":"geode-cq/src/distributedTest/java/org/apache/geode/management/internal/cli/commands/DurableClientCommandsDUnitTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":121,"status":"M"},{"authorDate":"2018-10-05 06:38:58","commitOrder":3,"curCode":"  public void testCountSubscriptionQueueSize() {\n    setupCqs();\n\n    doPuts(REGION_NAME, Host.getHost(0).getVM(1));\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    String commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess().containsOutput(\"4\");\n\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ3);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeCq(CQ1);\n    closeCq(CQ2);\n    closeCq(CQ3);\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ1);\n    commandString = csb.toString();\n\n    String errorMessage = CliStrings\n        .format(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE_CQ_NOT_FOUND, CLIENT_NAME, CQ1);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeDurableClient();\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString1 = csb.toString();\n\n    await().untilAsserted(() -> {\n      gfsh.executeAndAssertThat(commandString1).statusIsSuccess();\n    });\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","date":"2018-10-19 08:01:02","endLine":217,"groupId":"29268","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testCountSubscriptionQueueSize","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/73/664a83b31875190fd450ed00fd84896d44dcdd.src","preCode":"  public void testCountSubscriptionQueueSize() {\n    setupCqs();\n\n    doPuts(REGION_NAME, Host.getHost(0).getVM(1));\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    String commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess().containsOutput(\"4\");\n\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ3);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeCq(CQ1);\n    closeCq(CQ2);\n    closeCq(CQ3);\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ1);\n    commandString = csb.toString();\n\n    String errorMessage = CliStrings\n        .format(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE_CQ_NOT_FOUND, CLIENT_NAME, CQ1);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeDurableClient();\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString1 = csb.toString();\n\n    Awaitility.waitAtMost(20, TimeUnit.SECONDS).untilAsserted(() -> {\n      gfsh.executeAndAssertThat(commandString1).statusIsSuccess();\n    });\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","realPath":"geode-cq/src/distributedTest/java/org/apache/geode/management/internal/cli/commands/DurableClientCommandsDUnitTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":158,"status":"M"}],"commitId":"239c532f8338c9d8e9bb8062fab9fadd3376ec73","commitMessage":"@@@GEODE-5424: Changing all awaitility calls to use consistent timings\n\nWe have a lot of Awaitility calls in our tests. Each test was picking\nits own timeout. That lead to some tests picking too small of a timeout\nand failing spuriously.\n\nWith this change.  all tests will use a new factory. \nGeodeAwaility.await().  rather than Awaitility.await(). This new factory\nsets a default timeout of 5 minutes. It also sets a sensible pollDelay\nand pollInterval.\n\nThe custom timeouts used in all tests have been removed.  in favor of\nthis new factory.  except for a couple of tests that had waits greater\nthan 5 minutes.\n","date":"2018-10-19 08:01:02","modifiedFileCount":"334","status":"M","submitter":"Dan Smith"},{"authorTime":"2018-11-16 22:06:12","codes":[{"authorDate":"2018-11-16 22:06:12","commitOrder":4,"curCode":"  public void testCloseDurableClients() {\n    setupCqs();\n    closeDurableClient();\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.GROUP, CQ_GROUP);\n    String commandString = csb.toString();\n\n    await().untilAsserted(() -> {\n      gfsh.executeAndAssertThat(commandString).statusIsSuccess()\n          .hasTableSection()\n          .hasColumn(\"Message\")\n          .containsExactlyInAnyOrder(\"Closed the durable client : \\\"dc1\\\".\");\n    });\n\n    String errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","date":"2018-11-16 22:06:12","endLine":183,"groupId":"10172","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testCloseDurableClients","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/a0/6c97aced66c33792609e86e57be4824ad9bb4a.src","preCode":"  public void testCloseDurableClients() {\n    setupCqs();\n    closeDurableClient();\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString = csb.toString();\n\n    await().untilAsserted(() -> {\n      gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n    });\n\n    String errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","realPath":"geode-cq/src/distributedTest/java/org/apache/geode/management/internal/cli/commands/DurableClientCommandsDUnitTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":165,"status":"M"},{"authorDate":"2018-11-16 22:06:12","commitOrder":4,"curCode":"  public void testCountSubscriptionQueueSize() {\n    setupCqs();\n\n    doPuts(STOCKS_REGION, Host.getHost(0).getVM(1));\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.GROUP, CQ_GROUP);\n    String commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess()\n        .hasTableSection()\n        .hasColumn(\"Queue Size\")\n        .containsExactlyInAnyOrder(\"4\");\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ3);\n    csb.addOption(CliStrings.GROUP, CQ_GROUP);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess()\n        .hasTableSection()\n        .hasColumn(\"Queue Size\")\n        .containsExactlyInAnyOrder(\"0\");\n\n    \r\n    closeCq(CQ1);\n    closeCq(CQ2);\n    closeCq(CQ3);\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ1);\n    commandString = csb.toString();\n\n    String errorMessage = CliStrings\n        .format(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE_CQ_NOT_FOUND, CLIENT_NAME, CQ1);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeDurableClient();\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString1 = csb.toString();\n\n    await().untilAsserted(() -> {\n      gfsh.executeAndAssertThat(commandString1).statusIsSuccess();\n    });\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","date":"2018-11-16 22:06:12","endLine":272,"groupId":"10172","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testCountSubscriptionQueueSize","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-geode-10-0.7/blobInfo/CC_OUT/blobs/a0/6c97aced66c33792609e86e57be4824ad9bb4a.src","preCode":"  public void testCountSubscriptionQueueSize() {\n    setupCqs();\n\n    doPuts(REGION_NAME, Host.getHost(0).getVM(1));\n\n    CommandStringBuilder csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    String commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess().containsOutput(\"4\");\n\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ3);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeCq(CQ1);\n    closeCq(CQ2);\n    closeCq(CQ3);\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CQ__NAME, CQ1);\n    commandString = csb.toString();\n\n    String errorMessage = CliStrings\n        .format(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE_CQ_NOT_FOUND, CLIENT_NAME, CQ1);\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    gfsh.executeAndAssertThat(commandString).statusIsSuccess();\n\n    \r\n    closeDurableClient();\n\n    \r\n    csb = new CommandStringBuilder(CliStrings.CLOSE_DURABLE_CLIENTS);\n    csb.addOption(CliStrings.CLOSE_DURABLE_CLIENTS__CLIENT__ID, CLIENT_NAME);\n    String commandString1 = csb.toString();\n\n    await().untilAsserted(() -> {\n      gfsh.executeAndAssertThat(commandString1).statusIsSuccess();\n    });\n\n    csb = new CommandStringBuilder(CliStrings.COUNT_DURABLE_CQ_EVENTS);\n    csb.addOption(CliStrings.COUNT_DURABLE_CQ_EVENTS__DURABLE__CLIENT__ID, CLIENT_NAME);\n    commandString = csb.toString();\n\n    errorMessage = CliStrings.format(CliStrings.NO_CLIENT_FOUND_WITH_CLIENT_ID, CLIENT_NAME);\n\n    gfsh.executeAndAssertThat(commandString).statusIsError().containsOutput(errorMessage);\n  }\n","realPath":"geode-cq/src/distributedTest/java/org/apache/geode/management/internal/cli/commands/DurableClientCommandsDUnitTest.java","repoName":"geode","snippetEndLine":0,"snippetStartLine":0,"startLine":206,"status":"M"}],"commitId":"63714964f354024591dba4c77623d4e8eeef2c8e","commitMessage":"@@@GEODE-5971: Refactor durable client commands to extend GfshCommand (#2858)\n\n","date":"2018-11-16 22:06:12","modifiedFileCount":"10","status":"M","submitter":"Jens Deppe"}]
