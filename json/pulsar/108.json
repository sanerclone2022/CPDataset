[{"authorTime":"2019-09-24 23:40:37","codes":[{"authorDate":"2020-12-12 13:15:49","commitOrder":2,"curCode":"    public ByteBuf getMessage(String producerName, long seqId) {\n        PulsarApi.MessageMetadata messageMetadata = PulsarApi.MessageMetadata.newBuilder()\n                .setProducerName(producerName).setSequenceId(seqId)\n                .setPublishTime(System.currentTimeMillis()).build();\n\n        return serializeMetadataAndPayload(\n                Commands.ChecksumType.Crc32c, messageMetadata, io.netty.buffer.Unpooled.copiedBuffer(new byte[0]));\n    }\n","date":"2020-12-12 13:15:49","endLine":213,"groupId":"8532","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"getMessage","params":"(StringproducerName@longseqId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/df/5bf76d7525bc52fec02942e3b12df481988e5b.src","preCode":"    public ByteBuf getMessage(String producerName, long seqId) {\n        PulsarApi.MessageMetadata messageMetadata = PulsarApi.MessageMetadata.newBuilder()\n                .setProducerName(producerName).setSequenceId(seqId)\n                .setPublishTime(System.currentTimeMillis()).build();\n\n        return serializeMetadataAndPayload(\n                Commands.ChecksumType.Crc32c, messageMetadata, io.netty.buffer.Unpooled.copiedBuffer(new byte[0]));\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/protocol/CommandUtilsTests.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":206,"status":"B"},{"authorDate":"2019-09-24 23:40:37","commitOrder":2,"curCode":"    public ByteBuf getMessage(String producerName, long seqId) {\n        PulsarApi.MessageMetadata messageMetadata = PulsarApi.MessageMetadata.newBuilder()\n                .setProducerName(producerName).setSequenceId(seqId)\n                .setPublishTime(System.currentTimeMillis()).build();\n\n        ByteBuf byteBuf = serializeMetadataAndPayload(\n                Commands.ChecksumType.Crc32c, messageMetadata, io.netty.buffer.Unpooled.copiedBuffer(new byte[0]));\n\n        return byteBuf;\n    }\n","date":"2019-09-24 23:40:37","endLine":127,"groupId":"11929","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"getMessage","params":"(StringproducerName@longseqId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/aa/6e9d439917de81b5c2d89a8230f11f4a1eac11.src","preCode":"    public ByteBuf getMessage(String producerName, long seqId) {\n        PulsarApi.MessageMetadata messageMetadata = PulsarApi.MessageMetadata.newBuilder()\n                .setProducerName(producerName).setSequenceId(seqId)\n                .setPublishTime(System.currentTimeMillis()).build();\n\n        ByteBuf byteBuf = serializeMetadataAndPayload(\n                Commands.ChecksumType.Crc32c, messageMetadata, io.netty.buffer.Unpooled.copiedBuffer(new byte[0]));\n\n        return byteBuf;\n    }\n","realPath":"pulsar-broker/src/test/java/org/apache/pulsar/broker/service/persistent/MessageDuplicationTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":118,"status":"NB"}],"commitId":"6275297499874e980b4656694f5b90aa5cc23c18","commitMessage":"@@@[PIP 70][Issue 8617] Introduce lightweight broker entry metadata (#8618)\n\nFixes #8617\n\n## Motivation\nIntroduce lightweight raw Message metadata.  details can be found PIP-70\n\n## Modifications\nwire protocol add RawMessageMetadata and supports_raw_message_meta for FeatureFlags\nchange how produced message is saved in bookkeeper: add raw metadata for message\nchange how message is seek-by-time\nchange how message send back to Consumer: skip metadata if consumer not supprot raw metadata\nVerifying this change\nAdded tests for parse/skip raw message metadata\nAdded test for how message seek-by broker timestamp for message","date":"2020-12-12 13:15:49","modifiedFileCount":"18","status":"M","submitter":"Aloys"},{"authorTime":"2021-01-06 08:42:31","codes":[{"authorDate":"2021-01-06 08:42:31","commitOrder":3,"curCode":"    public ByteBuf getMessage(String producerName, long seqId) {\n        MessageMetadata messageMetadata = new MessageMetadata()\n                .setProducerName(producerName).setSequenceId(seqId)\n                .setPublishTime(System.currentTimeMillis());\n\n        return serializeMetadataAndPayload(\n                Commands.ChecksumType.Crc32c, messageMetadata, io.netty.buffer.Unpooled.copiedBuffer(new byte[0]));\n    }\n","date":"2021-01-06 08:42:31","endLine":238,"groupId":"11929","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"getMessage","params":"(StringproducerName@longseqId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/f3/393e621917d3ad1b505502661510424ae9a5cc.src","preCode":"    public ByteBuf getMessage(String producerName, long seqId) {\n        PulsarApi.MessageMetadata messageMetadata = PulsarApi.MessageMetadata.newBuilder()\n                .setProducerName(producerName).setSequenceId(seqId)\n                .setPublishTime(System.currentTimeMillis()).build();\n\n        return serializeMetadataAndPayload(\n                Commands.ChecksumType.Crc32c, messageMetadata, io.netty.buffer.Unpooled.copiedBuffer(new byte[0]));\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/protocol/CommandUtilsTests.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":231,"status":"M"},{"authorDate":"2021-01-06 08:42:31","commitOrder":3,"curCode":"    public ByteBuf getMessage(String producerName, long seqId) {\n        MessageMetadata messageMetadata = new MessageMetadata()\n                .setProducerName(producerName)\n                .setSequenceId(seqId)\n                .setPublishTime(System.currentTimeMillis());\n\n        ByteBuf byteBuf = serializeMetadataAndPayload(\n                Commands.ChecksumType.Crc32c, messageMetadata, io.netty.buffer.Unpooled.copiedBuffer(new byte[0]));\n\n        return byteBuf;\n    }\n","date":"2021-01-06 08:42:31","endLine":323,"groupId":"9076","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"getMessage","params":"(StringproducerName@longseqId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/0d/44b8954b31e97f93cf4d6db988b053747f4c36.src","preCode":"    public ByteBuf getMessage(String producerName, long seqId) {\n        PulsarApi.MessageMetadata messageMetadata = PulsarApi.MessageMetadata.newBuilder()\n                .setProducerName(producerName).setSequenceId(seqId)\n                .setPublishTime(System.currentTimeMillis()).build();\n\n        ByteBuf byteBuf = serializeMetadataAndPayload(\n                Commands.ChecksumType.Crc32c, messageMetadata, io.netty.buffer.Unpooled.copiedBuffer(new byte[0]));\n\n        return byteBuf;\n    }\n","realPath":"pulsar-broker/src/test/java/org/apache/pulsar/broker/service/persistent/MessageDuplicationTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":313,"status":"M"}],"commitId":"c12765a0530bcefca8e840d2f8f43383d7478778","commitMessage":"@@@PIP-75: Perform serialization/deserialization with LightProto (#9046)\n\n","date":"2021-01-06 08:42:31","modifiedFileCount":"185","status":"M","submitter":"Matteo Merli"},{"authorTime":"2021-03-18 08:08:59","codes":[{"authorDate":"2021-01-06 08:42:31","commitOrder":4,"curCode":"    public ByteBuf getMessage(String producerName, long seqId) {\n        MessageMetadata messageMetadata = new MessageMetadata()\n                .setProducerName(producerName).setSequenceId(seqId)\n                .setPublishTime(System.currentTimeMillis());\n\n        return serializeMetadataAndPayload(\n                Commands.ChecksumType.Crc32c, messageMetadata, io.netty.buffer.Unpooled.copiedBuffer(new byte[0]));\n    }\n","date":"2021-01-06 08:42:31","endLine":238,"groupId":"108","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"getMessage","params":"(StringproducerName@longseqId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/f3/393e621917d3ad1b505502661510424ae9a5cc.src","preCode":"    public ByteBuf getMessage(String producerName, long seqId) {\n        MessageMetadata messageMetadata = new MessageMetadata()\n                .setProducerName(producerName).setSequenceId(seqId)\n                .setPublishTime(System.currentTimeMillis());\n\n        return serializeMetadataAndPayload(\n                Commands.ChecksumType.Crc32c, messageMetadata, io.netty.buffer.Unpooled.copiedBuffer(new byte[0]));\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/protocol/CommandUtilsTests.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":231,"status":"N"},{"authorDate":"2021-03-18 08:08:59","commitOrder":4,"curCode":"    public ByteBuf getMessage(String producerName, long seqId) {\n        MessageMetadata messageMetadata = new MessageMetadata()\n                .setProducerName(producerName)\n                .setSequenceId(seqId)\n                .setPublishTime(System.currentTimeMillis());\n\n        return serializeMetadataAndPayload(\n                Commands.ChecksumType.Crc32c, messageMetadata, io.netty.buffer.Unpooled.copiedBuffer(new byte[0]));\n    }\n","date":"2021-03-18 08:08:59","endLine":322,"groupId":"108","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"getMessage","params":"(StringproducerName@longseqId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/46/b7292d92da264ce5892a2635fac575e7167544.src","preCode":"    public ByteBuf getMessage(String producerName, long seqId) {\n        MessageMetadata messageMetadata = new MessageMetadata()\n                .setProducerName(producerName)\n                .setSequenceId(seqId)\n                .setPublishTime(System.currentTimeMillis());\n\n        ByteBuf byteBuf = serializeMetadataAndPayload(\n                Commands.ChecksumType.Crc32c, messageMetadata, io.netty.buffer.Unpooled.copiedBuffer(new byte[0]));\n\n        return byteBuf;\n    }\n","realPath":"pulsar-broker/src/test/java/org/apache/pulsar/broker/service/persistent/MessageDuplicationTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":314,"status":"M"}],"commitId":"c4aaf4105345534927ca3dfb8af197b4bd7b016d","commitMessage":"@@@Add TestNG groups to pulsar-broker (#9712)\n\n* Replace package filter mechanism with testng groups.\n* Isolate flaky tests for pulsar-broker\n* Cleanup unused code and exceptions\n* Make certain methods private to prevent surefire from reporting them.\n\nCo-authored-by: Ali Ahmed <alia@splunk.com>","date":"2021-03-18 08:08:59","modifiedFileCount":"179","status":"M","submitter":"Ali Ahmed"}]
