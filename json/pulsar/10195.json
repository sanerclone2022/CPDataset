[{"authorTime":"2018-03-29 11:53:44","codes":[{"authorDate":"2018-12-11 03:09:12","commitOrder":3,"curCode":"    public static boolean verifyChecksum(TopicName topic, ByteBuf headersAndPayload, long ledgerId, long entryId) {\n        if (hasChecksum(headersAndPayload)) {\n            int checksum = readChecksum(headersAndPayload);\n            int computedChecksum = computeChecksum(headersAndPayload);\n            if (checksum != computedChecksum) {\n                log.error(\n                        \"[{}] Checksum mismatch for message at {}:{}. Received checksum: 0x{}, Computed checksum: 0x{}\",\n                        topic, ledgerId, entryId, Long.toHexString(checksum), Integer.toHexString(computedChecksum));\n                return false;\n            }\n        }\n\n        return true;\n    }\n","date":"2018-12-11 03:09:12","endLine":113,"groupId":"11084","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"verifyChecksum","params":"(TopicNametopic@ByteBufheadersAndPayload@longledgerId@longentryId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/12/808373141e89e7333b03812c24d71e1bf12446.src","preCode":"    public static boolean verifyChecksum(TopicName topic, ByteBuf headersAndPayload, long ledgerId, long entryId) {\n        if (hasChecksum(headersAndPayload)) {\n            int checksum = readChecksum(headersAndPayload);\n            int computedChecksum = computeChecksum(headersAndPayload);\n            if (checksum != computedChecksum) {\n                log.error(\n                        \"[{}] Checksum mismatch for message at {}:{}. Received checksum: 0x{}, Computed checksum: 0x{}\",\n                        topic, ledgerId, entryId, Long.toHexString(checksum), Integer.toHexString(computedChecksum));\n                return false;\n            }\n        }\n\n        return true;\n    }\n","realPath":"pulsar-common/src/main/java/org/apache/pulsar/common/api/raw/MessageParser.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":100,"status":"B"},{"authorDate":"2018-03-29 11:53:44","commitOrder":3,"curCode":"    private boolean verifyChecksum(ByteBuf headersAndPayload, MessageIdData messageId) {\n\n        if (hasChecksum(headersAndPayload)) {\n            int checksum = readChecksum(headersAndPayload);\n            int computedChecksum = computeChecksum(headersAndPayload);\n            if (checksum != computedChecksum) {\n                log.error(\n                        \"[{}][{}] Checksum mismatch for message at {}:{}. Received checksum: 0x{}, Computed checksum: 0x{}\",\n                        topic, subscription, messageId.getLedgerId(), messageId.getEntryId(),\n                        Long.toHexString(checksum), Integer.toHexString(computedChecksum));\n                return false;\n            }\n        }\n\n        return true;\n    }\n","date":"2018-03-29 11:53:44","endLine":1041,"groupId":"9600","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"verifyChecksum","params":"(ByteBufheadersAndPayload@MessageIdDatamessageId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/bc/62d3a54503b182a1173384c805e3ab7bd36544.src","preCode":"    private boolean verifyChecksum(ByteBuf headersAndPayload, MessageIdData messageId) {\n\n        if (hasChecksum(headersAndPayload)) {\n            int checksum = readChecksum(headersAndPayload);\n            int computedChecksum = computeChecksum(headersAndPayload);\n            if (checksum != computedChecksum) {\n                log.error(\n                        \"[{}][{}] Checksum mismatch for message at {}:{}. Received checksum: 0x{}, Computed checksum: 0x{}\",\n                        topic, subscription, messageId.getLedgerId(), messageId.getEntryId(),\n                        Long.toHexString(checksum), Integer.toHexString(computedChecksum));\n                return false;\n            }\n        }\n\n        return true;\n    }\n","realPath":"pulsar-client/src/main/java/org/apache/pulsar/client/impl/ConsumerImpl.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":1026,"status":"NB"}],"commitId":"bddfa2a5a233f17b93cb756b289b40d587321e4c","commitMessage":"@@@Use raw message when manually parsing messages from topic storage (#3146)\n\n* Use raw message when manually parsing messages from topic storage\n\n* Added missing headers\n\n* Fixed copy to byte[]\n","date":"2018-12-11 03:09:12","modifiedFileCount":"7","status":"M","submitter":"Matteo Merli"},{"authorTime":"2021-01-06 08:42:31","codes":[{"authorDate":"2018-12-11 03:09:12","commitOrder":4,"curCode":"    public static boolean verifyChecksum(TopicName topic, ByteBuf headersAndPayload, long ledgerId, long entryId) {\n        if (hasChecksum(headersAndPayload)) {\n            int checksum = readChecksum(headersAndPayload);\n            int computedChecksum = computeChecksum(headersAndPayload);\n            if (checksum != computedChecksum) {\n                log.error(\n                        \"[{}] Checksum mismatch for message at {}:{}. Received checksum: 0x{}, Computed checksum: 0x{}\",\n                        topic, ledgerId, entryId, Long.toHexString(checksum), Integer.toHexString(computedChecksum));\n                return false;\n            }\n        }\n\n        return true;\n    }\n","date":"2018-12-11 03:09:12","endLine":113,"groupId":"10195","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"verifyChecksum","params":"(TopicNametopic@ByteBufheadersAndPayload@longledgerId@longentryId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/12/808373141e89e7333b03812c24d71e1bf12446.src","preCode":"    public static boolean verifyChecksum(TopicName topic, ByteBuf headersAndPayload, long ledgerId, long entryId) {\n        if (hasChecksum(headersAndPayload)) {\n            int checksum = readChecksum(headersAndPayload);\n            int computedChecksum = computeChecksum(headersAndPayload);\n            if (checksum != computedChecksum) {\n                log.error(\n                        \"[{}] Checksum mismatch for message at {}:{}. Received checksum: 0x{}, Computed checksum: 0x{}\",\n                        topic, ledgerId, entryId, Long.toHexString(checksum), Integer.toHexString(computedChecksum));\n                return false;\n            }\n        }\n\n        return true;\n    }\n","realPath":"pulsar-common/src/main/java/org/apache/pulsar/common/api/raw/MessageParser.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":100,"status":"N"},{"authorDate":"2021-01-06 08:42:31","commitOrder":4,"curCode":"    private boolean verifyChecksum(ByteBuf headersAndPayload, MessageIdData messageId) {\n\n        if (hasChecksum(headersAndPayload)) {\n            int checksum = Commands.readChecksum(headersAndPayload);\n            int computedChecksum = Crc32cIntChecksum.computeChecksum(headersAndPayload);\n            if (checksum != computedChecksum) {\n                log.error(\n                        \"[{}][{}] Checksum mismatch for message at {}:{}. Received checksum: 0x{}, Computed checksum: 0x{}\",\n                        topic, subscription, messageId.getLedgerId(), messageId.getEntryId(),\n                        Long.toHexString(checksum), Integer.toHexString(computedChecksum));\n                return false;\n            }\n        }\n\n        return true;\n    }\n","date":"2021-01-06 08:42:31","endLine":1671,"groupId":"10195","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"verifyChecksum","params":"(ByteBufheadersAndPayload@MessageIdDatamessageId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/74/c8eea9f5a34e727891cb3e2dd0f4516ca0073a.src","preCode":"    private boolean verifyChecksum(ByteBuf headersAndPayload, MessageIdData messageId) {\n\n        if (hasChecksum(headersAndPayload)) {\n            int checksum = readChecksum(headersAndPayload);\n            int computedChecksum = computeChecksum(headersAndPayload);\n            if (checksum != computedChecksum) {\n                log.error(\n                        \"[{}][{}] Checksum mismatch for message at {}:{}. Received checksum: 0x{}, Computed checksum: 0x{}\",\n                        topic, subscription, messageId.getLedgerId(), messageId.getEntryId(),\n                        Long.toHexString(checksum), Integer.toHexString(computedChecksum));\n                return false;\n            }\n        }\n\n        return true;\n    }\n","realPath":"pulsar-client/src/main/java/org/apache/pulsar/client/impl/ConsumerImpl.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":1656,"status":"M"}],"commitId":"c12765a0530bcefca8e840d2f8f43383d7478778","commitMessage":"@@@PIP-75: Perform serialization/deserialization with LightProto (#9046)\n\n","date":"2021-01-06 08:42:31","modifiedFileCount":"185","status":"M","submitter":"Matteo Merli"}]
