[{"authorTime":"2018-10-20 01:00:25","codes":[{"authorDate":"2018-10-20 01:00:25","commitOrder":1,"curCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    admin.sink().restartSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                admin.sink().restartSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Restarted successfully\");\n        }\n","date":"2018-10-20 01:00:25","endLine":638,"groupId":"3568","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"runCmd","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/37/d2d9bcdb634729294b08c12888321a9cee9f72.src","preCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    admin.sink().restartSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                admin.sink().restartSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Restarted successfully\");\n        }\n","realPath":"pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdSinks.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":627,"status":"B"},{"authorDate":"2018-10-20 01:00:25","commitOrder":1,"curCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    admin.sink().stopSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                admin.sink().stopSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Restarted successfully\");\n        }\n","date":"2018-10-20 01:00:25","endLine":659,"groupId":"3568","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"runCmd","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/37/d2d9bcdb634729294b08c12888321a9cee9f72.src","preCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    admin.sink().stopSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                admin.sink().stopSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Restarted successfully\");\n        }\n","realPath":"pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdSinks.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":648,"status":"B"}],"commitId":"f3a027b45f8244d19ac24709edc7f762abb5ce6f","commitMessage":"@@@Added stop/restart functionality in sources/sinks (#2810)\n\n* Added Get and List source/sink functionality\n\n* Fixed compile\n\n* Removed test that doesnt make sense any more\n\n* Fixed build\n\n* Fixed logic\n\n* Return error response\n\n* Return response on error\n\n* Fix unittest\n\n* Fixed unittest\n\n* Fixed unittest\n\n* Fixed unittest\n\n* Added get/list sinks tests\n\n* Added get/list tests\n\n* Add more unittests\n\n* Added more unittests\n\n* Added TODO\n\n* Took feedback\n\n* Fix unittest\n\n* Fix unittest\n\n* Fix unittest\n\n* Fixed integration tests\n\n* Fixed integration test\n\n* Added restart/stop functionality to the sources/sinks\n\n* Added getstatus method to sources/sink\n\n* Fix integration tests\n","date":"2018-10-20 01:00:25","modifiedFileCount":"10","status":"B","submitter":"Sanjeev Kulkarni"},{"authorTime":"2019-02-01 08:47:39","codes":[{"authorDate":"2018-10-20 01:00:25","commitOrder":2,"curCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    admin.sink().restartSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                admin.sink().restartSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Restarted successfully\");\n        }\n","date":"2018-10-20 01:00:25","endLine":638,"groupId":"3568","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"runCmd","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/37/d2d9bcdb634729294b08c12888321a9cee9f72.src","preCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    admin.sink().restartSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                admin.sink().restartSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Restarted successfully\");\n        }\n","realPath":"pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdSinks.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":627,"status":"N"},{"authorDate":"2019-02-01 08:47:39","commitOrder":2,"curCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    admin.sink().stopSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                admin.sink().stopSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Stopped successfully\");\n        }\n","date":"2019-02-01 08:47:39","endLine":599,"groupId":"3568","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"runCmd","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/00/cd26fade1ab03ff2070ab9b125cec453260af9.src","preCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    admin.sink().stopSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                admin.sink().stopSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Restarted successfully\");\n        }\n","realPath":"pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdSinks.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":588,"status":"M"}],"commitId":"020a1d57e122582a5ad8bd043f278e4a92d4ffc1","commitMessage":"@@@Fixed the behavior of Function start/stop (#3477)\n\n* Added a state in the function metadata about what the state of the instances should be\n\n* Have start api for sources/sinks\n\n* Add missing pieces\n\n* more checks while handling request\n\n* Fixed bugs\n\n* Added unittests\n\n* Added unittest\n\n* Fix the all instances side logic\n","date":"2019-02-01 08:47:39","modifiedFileCount":"21","status":"M","submitter":"Sanjeev Kulkarni"},{"authorTime":"2019-05-27 12:48:16","codes":[{"authorDate":"2019-05-27 12:48:16","commitOrder":3,"curCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    admin.sinks().restartSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                admin.sinks().restartSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Restarted successfully\");\n        }\n","date":"2019-05-27 12:48:16","endLine":597,"groupId":"6188","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"runCmd","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/b6/029a998b397ecde970419eedeb08e374fb27cf.src","preCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    admin.sink().restartSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                admin.sink().restartSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Restarted successfully\");\n        }\n","realPath":"pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdSinks.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":586,"status":"M"},{"authorDate":"2019-05-27 12:48:16","commitOrder":3,"curCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    admin.sinks().stopSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                admin.sinks().stopSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Stopped successfully\");\n        }\n","date":"2019-05-27 12:48:16","endLine":618,"groupId":"6188","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"runCmd","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/b6/029a998b397ecde970419eedeb08e374fb27cf.src","preCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    admin.sink().stopSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                admin.sink().stopSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Stopped successfully\");\n        }\n","realPath":"pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdSinks.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":607,"status":"M"}],"commitId":"aa40ad6ddeb4208d439df2c9080fc73b1e6ffa3b","commitMessage":"@@@ renaming sinks and sources api to be consistent with the rest of Pulsar (#4363)\n\n* Rename sources and sinks CLI to be consistent with rest of Pulsar\n\n* renaming sinks and sources api to be consistent with the rest of Pulsar\n\n* use new interfaces in cmd\n","date":"2019-05-27 12:48:16","modifiedFileCount":"17","status":"M","submitter":"Boyang Jerry Peng"},{"authorTime":"2021-01-29 03:06:36","codes":[{"authorDate":"2021-01-29 03:06:36","commitOrder":4,"curCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    getAdmin().sinks().restartSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                getAdmin().sinks().restartSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Restarted successfully\");\n        }\n","date":"2021-01-29 03:06:36","endLine":639,"groupId":"11455","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"runCmd","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/bb/4d4b206896e7e4617c47b4b92f23725c740cac.src","preCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    admin.sinks().restartSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                admin.sinks().restartSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Restarted successfully\");\n        }\n","realPath":"pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdSinks.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":628,"status":"M"},{"authorDate":"2021-01-29 03:06:36","commitOrder":4,"curCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    getAdmin().sinks().stopSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                getAdmin().sinks().stopSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Stopped successfully\");\n        }\n","date":"2021-01-29 03:06:36","endLine":660,"groupId":"11455","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"runCmd","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/bb/4d4b206896e7e4617c47b4b92f23725c740cac.src","preCode":"        void runCmd() throws Exception {\n            if (isNotBlank(instanceId)) {\n                try {\n                    admin.sinks().stopSink(tenant, namespace, sinkName, Integer.parseInt(instanceId));\n                } catch (NumberFormatException e) {\n                    System.err.println(\"instance-id must be a number\");\n                }\n            } else {\n                admin.sinks().stopSink(tenant, namespace, sinkName);\n            }\n            System.out.println(\"Stopped successfully\");\n        }\n","realPath":"pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdSinks.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":649,"status":"M"}],"commitId":"232b32439687995dd3102d8c281cf50b7b91e0bf","commitMessage":"@@@Lazily init PulsarAdmin in PulsarAdminTool (#9312)\n\n\n Motivation\npulsar-admin (PulsarAdminTool) initialises eagerly the PulsarAdmin object and some of the the underlying REST API intefaces.\nThis initialisation process triggers lot of resource loading (like SSL/RESTAPI classes....) that slows down the JVM even for stuff that is not needed.\nAlso there are shutdown hooks that are useless by they are executed while existing from the command.\n\nRemoving initialisation of useless stuff helps in having a better bootstrap time.  especially in case that you are not performing API calls.  like when you are learning the tool and you make lots of syntax errors. \n\n\n Modifications\n- Initialise as lazily as possible PulsarAdmin \n- Make PulsarAdminTool#main \"testable\" by allowing it to not call System.exit\n- Use halt instead of exit in order to not trigger shutdown hooks\n\n\n Verifying this change\nThis change is a trivial rework / code cleanup.  but I have added tests for parts that have been touched and had not unit tests.\n","date":"2021-01-29 03:06:36","modifiedFileCount":"27","status":"M","submitter":"Enrico Olivelli"}]
