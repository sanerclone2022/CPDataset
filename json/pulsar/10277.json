[{"authorTime":"2018-03-06 05:49:50","codes":[{"authorDate":"2018-03-06 05:49:50","commitOrder":1,"curCode":"    public void test5() {\n        try {\n            String data = \"j\";\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            System.setOut(new PrintStream(baos));\n            System.setIn(new ByteArrayInputStream(data.getBytes()));\n            ExecutorService executor = Executors.newSingleThreadExecutor();\n            @SuppressWarnings(\"unchecked\")\n            Future<Void> future = (Future<Void>) executor.submit(() -> {\n                try {\n                    IOUtils.confirmPrompt(\"When will this week end?\");\n                } catch (IOException e) {\n                    \r\n                    e.printStackTrace();\n                }\n            });\n            future.get(1, TimeUnit.SECONDS);\n            Assert.fail();\n        } catch (Exception ex) {\n            \r\n        }\n    }\n","date":"2018-03-06 05:49:50","endLine":120,"groupId":"5258","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"test5","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/b3/4d1f154d75d73401e1d4d3db6918d0b099633f.src","preCode":"    public void test5() {\n        try {\n            String data = \"j\";\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            System.setOut(new PrintStream(baos));\n            System.setIn(new ByteArrayInputStream(data.getBytes()));\n            ExecutorService executor = Executors.newSingleThreadExecutor();\n            @SuppressWarnings(\"unchecked\")\n            Future<Void> future = (Future<Void>) executor.submit(() -> {\n                try {\n                    IOUtils.confirmPrompt(\"When will this week end?\");\n                } catch (IOException e) {\n                    \r\n                    e.printStackTrace();\n                }\n            });\n            future.get(1, TimeUnit.SECONDS);\n            Assert.fail();\n        } catch (Exception ex) {\n            \r\n        }\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/utils/IOUtilsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":99,"status":"B"},{"authorDate":"2018-03-06 05:49:50","commitOrder":1,"curCode":"    public void test6() {\n        try {\n            String data = \"\\n\";\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            System.setOut(new PrintStream(baos));\n            System.setIn(new ByteArrayInputStream(data.getBytes(\"UTF-8\")));\n            ExecutorService executor = Executors.newSingleThreadExecutor();\n            @SuppressWarnings(\"unchecked\")\n            Future<Void> future = (Future<Void>) executor.submit(() -> {\n                try {\n                    IOUtils.confirmPrompt(\"Is you name Pulsar?\");\n                } catch (IOException e) {\n                    \r\n                    e.printStackTrace();\n                }\n            });\n            future.get(1, TimeUnit.SECONDS);\n            Assert.fail();\n        } catch (Exception ex) {\n            \r\n        }\n    }\n","date":"2018-03-06 05:49:50","endLine":146,"groupId":"5259","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"test6","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/b3/4d1f154d75d73401e1d4d3db6918d0b099633f.src","preCode":"    public void test6() {\n        try {\n            String data = \"\\n\";\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            System.setOut(new PrintStream(baos));\n            System.setIn(new ByteArrayInputStream(data.getBytes(\"UTF-8\")));\n            ExecutorService executor = Executors.newSingleThreadExecutor();\n            @SuppressWarnings(\"unchecked\")\n            Future<Void> future = (Future<Void>) executor.submit(() -> {\n                try {\n                    IOUtils.confirmPrompt(\"Is you name Pulsar?\");\n                } catch (IOException e) {\n                    \r\n                    e.printStackTrace();\n                }\n            });\n            future.get(1, TimeUnit.SECONDS);\n            Assert.fail();\n        } catch (Exception ex) {\n            \r\n        }\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/utils/IOUtilsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":125,"status":"B"}],"commitId":"b7019252d832c42fb244c07fc92ce4f59801c952","commitMessage":"@@@Support running function worker along with broker (#1329)\n\n* Move pulsar functions dependency version to root pom and remove duplicated license headers\n\nThis addresses some comments in pulsar functions PR #1314\n\n* shade worker\n\n* Fix broken master\n\n* Upgrade the bookkeeper storage client dependency to the official bookkeeper version\n\nThis removes the temp dependency in `pulsar-functions-instance`\n\n* set `protobuf2.version` in pulsar-common\n\n* provide a shaded worker\n\n* include worker dependency at broker\n\n* Embeded function worker at broker\n\n* rename 'function worker' to 'functions worker'\n\n* add \"--no-functions-worker\" for pulsar-client-cpp tests\n","date":"2018-03-06 05:49:50","modifiedFileCount":"11","status":"B","submitter":"Sijie Guo"},{"authorTime":"2019-11-06 20:33:28","codes":[{"authorDate":"2018-03-06 05:49:50","commitOrder":2,"curCode":"    public void test5() {\n        try {\n            String data = \"j\";\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            System.setOut(new PrintStream(baos));\n            System.setIn(new ByteArrayInputStream(data.getBytes()));\n            ExecutorService executor = Executors.newSingleThreadExecutor();\n            @SuppressWarnings(\"unchecked\")\n            Future<Void> future = (Future<Void>) executor.submit(() -> {\n                try {\n                    IOUtils.confirmPrompt(\"When will this week end?\");\n                } catch (IOException e) {\n                    \r\n                    e.printStackTrace();\n                }\n            });\n            future.get(1, TimeUnit.SECONDS);\n            Assert.fail();\n        } catch (Exception ex) {\n            \r\n        }\n    }\n","date":"2018-03-06 05:49:50","endLine":120,"groupId":"5258","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"test5","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/b3/4d1f154d75d73401e1d4d3db6918d0b099633f.src","preCode":"    public void test5() {\n        try {\n            String data = \"j\";\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            System.setOut(new PrintStream(baos));\n            System.setIn(new ByteArrayInputStream(data.getBytes()));\n            ExecutorService executor = Executors.newSingleThreadExecutor();\n            @SuppressWarnings(\"unchecked\")\n            Future<Void> future = (Future<Void>) executor.submit(() -> {\n                try {\n                    IOUtils.confirmPrompt(\"When will this week end?\");\n                } catch (IOException e) {\n                    \r\n                    e.printStackTrace();\n                }\n            });\n            future.get(1, TimeUnit.SECONDS);\n            Assert.fail();\n        } catch (Exception ex) {\n            \r\n        }\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/utils/IOUtilsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":99,"status":"N"},{"authorDate":"2019-11-06 20:33:28","commitOrder":2,"curCode":"    public void test6() {\n        try {\n            String data = \"\\n\";\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            System.setOut(new PrintStream(baos));\n            System.setIn(new ByteArrayInputStream(data.getBytes(StandardCharsets.UTF_8)));\n            ExecutorService executor = Executors.newSingleThreadExecutor();\n            @SuppressWarnings(\"unchecked\")\n            Future<Void> future = (Future<Void>) executor.submit(() -> {\n                try {\n                    IOUtils.confirmPrompt(\"Is you name Pulsar?\");\n                } catch (IOException e) {\n                    \r\n                    e.printStackTrace();\n                }\n            });\n            future.get(1, TimeUnit.SECONDS);\n            Assert.fail();\n        } catch (Exception ex) {\n            \r\n        }\n    }\n","date":"2019-11-06 20:33:28","endLine":147,"groupId":"1741","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"test6","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/93/4b94182f5dc9fc78d0ae425a74d6281fc1a4d4.src","preCode":"    public void test6() {\n        try {\n            String data = \"\\n\";\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            System.setOut(new PrintStream(baos));\n            System.setIn(new ByteArrayInputStream(data.getBytes(\"UTF-8\")));\n            ExecutorService executor = Executors.newSingleThreadExecutor();\n            @SuppressWarnings(\"unchecked\")\n            Future<Void> future = (Future<Void>) executor.submit(() -> {\n                try {\n                    IOUtils.confirmPrompt(\"Is you name Pulsar?\");\n                } catch (IOException e) {\n                    \r\n                    e.printStackTrace();\n                }\n            });\n            future.get(1, TimeUnit.SECONDS);\n            Assert.fail();\n        } catch (Exception ex) {\n            \r\n        }\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/utils/IOUtilsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":126,"status":"M"}],"commitId":"0053dbc6a52700c87f44067c9fa9006918877afe","commitMessage":"@@@Use StandardCharsets.UTF_8 for converting String to bytes (#5372)\n\nUse StandardCharsets.UTF_8 for converting String to bytes to avoid potential encoding error.","date":"2019-11-06 20:33:28","modifiedFileCount":"12","status":"M","submitter":"Like"},{"authorTime":"2021-04-15 01:04:21","codes":[{"authorDate":"2021-04-15 01:04:21","commitOrder":3,"curCode":"    public void test5() {\n        try {\n            String data = \"j\";\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            System.setOut(new PrintStream(baos));\n            System.setIn(new ByteArrayInputStream(data.getBytes()));\n            @Cleanup(\"shutdownNow\")\n            ExecutorService executor = Executors.newSingleThreadExecutor();\n            @SuppressWarnings(\"unchecked\")\n            Future<Void> future = (Future<Void>) executor.submit(() -> {\n                try {\n                    IOUtils.confirmPrompt(\"When will this week end?\");\n                } catch (IOException e) {\n                    \r\n                    e.printStackTrace();\n                }\n            });\n            future.get(1, TimeUnit.SECONDS);\n            Assert.fail();\n        } catch (Exception ex) {\n            \r\n        }\n    }\n","date":"2021-04-15 01:04:21","endLine":122,"groupId":"10277","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"test5","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/00/7c1c883b28d0a0647aa859436a854bd3cf91c2.src","preCode":"    public void test5() {\n        try {\n            String data = \"j\";\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            System.setOut(new PrintStream(baos));\n            System.setIn(new ByteArrayInputStream(data.getBytes()));\n            ExecutorService executor = Executors.newSingleThreadExecutor();\n            @SuppressWarnings(\"unchecked\")\n            Future<Void> future = (Future<Void>) executor.submit(() -> {\n                try {\n                    IOUtils.confirmPrompt(\"When will this week end?\");\n                } catch (IOException e) {\n                    \r\n                    e.printStackTrace();\n                }\n            });\n            future.get(1, TimeUnit.SECONDS);\n            Assert.fail();\n        } catch (Exception ex) {\n            \r\n        }\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/utils/IOUtilsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":100,"status":"M"},{"authorDate":"2021-04-15 01:04:21","commitOrder":3,"curCode":"    public void test6() {\n        try {\n            String data = \"\\n\";\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            System.setOut(new PrintStream(baos));\n            System.setIn(new ByteArrayInputStream(data.getBytes(StandardCharsets.UTF_8)));\n            @Cleanup(\"shutdownNow\")\n            ExecutorService executor = Executors.newSingleThreadExecutor();\n            @SuppressWarnings(\"unchecked\")\n            Future<Void> future = (Future<Void>) executor.submit(() -> {\n                try {\n                    IOUtils.confirmPrompt(\"Is you name Pulsar?\");\n                } catch (IOException e) {\n                    \r\n                    e.printStackTrace();\n                }\n            });\n            future.get(1, TimeUnit.SECONDS);\n            Assert.fail();\n        } catch (Exception ex) {\n            \r\n        }\n    }\n","date":"2021-04-15 01:04:21","endLine":149,"groupId":"10277","id":6,"instanceNumber":2,"isCurCommit":1,"methodName":"test6","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/00/7c1c883b28d0a0647aa859436a854bd3cf91c2.src","preCode":"    public void test6() {\n        try {\n            String data = \"\\n\";\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            System.setOut(new PrintStream(baos));\n            System.setIn(new ByteArrayInputStream(data.getBytes(StandardCharsets.UTF_8)));\n            ExecutorService executor = Executors.newSingleThreadExecutor();\n            @SuppressWarnings(\"unchecked\")\n            Future<Void> future = (Future<Void>) executor.submit(() -> {\n                try {\n                    IOUtils.confirmPrompt(\"Is you name Pulsar?\");\n                } catch (IOException e) {\n                    \r\n                    e.printStackTrace();\n                }\n            });\n            future.get(1, TimeUnit.SECONDS);\n            Assert.fail();\n        } catch (Exception ex) {\n            \r\n        }\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/utils/IOUtilsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":127,"status":"M"}],"commitId":"41814a7bc82392865a54e01a2908fd5ee7f8f403","commitMessage":"@@@Fix some ExecutorService leaks and use @Cleanup(\"shutdownNow\") for cleanup (#10198)\n\n- use ExecutorService.shutdownNow() instead of ExecutorService.shutdown() in tests","date":"2021-04-15 01:04:21","modifiedFileCount":"62","status":"M","submitter":"Lari Hotari"}]
