[{"authorTime":"2018-08-07 01:29:26","codes":[{"authorDate":"2018-08-07 01:29:26","commitOrder":1,"curCode":"    public void testGetTableMetadataWrongSchema() {\n\n        PulsarTableHandle pulsarTableHandle = new PulsarTableHandle(\n                pulsarConnectorId.toString(),\n                \"wrong-tenant/wrong-ns\",\n                TOPIC_1.getLocalName(),\n                TOPIC_1.getLocalName()\n        );\n\n        try {\n            ConnectorTableMetadata tableMetadata = this.pulsarMetadata.getTableMetadata(mock(ConnectorSession.class),\n                    pulsarTableHandle);\n            Assert.fail(\"Invalid schema should have generated an exception\");\n        } catch (PrestoException e) {\n            Assert.assertEquals(e.getErrorCode(), NOT_FOUND.toErrorCode());\n            Assert.assertEquals(e.getMessage(), \"Schema wrong-tenant/wrong-ns does not exist\");\n        }\n    }\n","date":"2018-08-07 01:29:26","endLine":162,"groupId":"4839","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testGetTableMetadataWrongSchema","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/77/26763104c126787d29016bfe43f5a0f6c24d7b.src","preCode":"    public void testGetTableMetadataWrongSchema() {\n\n        PulsarTableHandle pulsarTableHandle = new PulsarTableHandle(\n                pulsarConnectorId.toString(),\n                \"wrong-tenant/wrong-ns\",\n                TOPIC_1.getLocalName(),\n                TOPIC_1.getLocalName()\n        );\n\n        try {\n            ConnectorTableMetadata tableMetadata = this.pulsarMetadata.getTableMetadata(mock(ConnectorSession.class),\n                    pulsarTableHandle);\n            Assert.fail(\"Invalid schema should have generated an exception\");\n        } catch (PrestoException e) {\n            Assert.assertEquals(e.getErrorCode(), NOT_FOUND.toErrorCode());\n            Assert.assertEquals(e.getMessage(), \"Schema wrong-tenant/wrong-ns does not exist\");\n        }\n    }\n","realPath":"pulsar-sql/presto-pulsar/src/test/java/org/apache/pulsar/sql/presto/TestPulsarMetadata.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":145,"status":"B"},{"authorDate":"2018-08-07 01:29:26","commitOrder":1,"curCode":"    public void testGetTableMetadataWrongTable() {\n\n        PulsarTableHandle pulsarTableHandle = new PulsarTableHandle(\n                pulsarConnectorId.toString(),\n                TOPIC_1.getNamespace(),\n                \"wrong-topic\",\n                \"wrong-topic\"\n        );\n\n        try {\n            ConnectorTableMetadata tableMetadata = this.pulsarMetadata.getTableMetadata(mock(ConnectorSession.class),\n                    pulsarTableHandle);\n            Assert.fail(\"Invalid table should have generated an exception\");\n        } catch (TableNotFoundException e) {\n            Assert.assertEquals(e.getErrorCode(), NOT_FOUND.toErrorCode());\n            Assert.assertEquals(e.getMessage(), \"Table 'tenant-1/ns-1.wrong-topic' not found\");\n        }\n    }\n","date":"2018-08-07 01:29:26","endLine":182,"groupId":"4839","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testGetTableMetadataWrongTable","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/77/26763104c126787d29016bfe43f5a0f6c24d7b.src","preCode":"    public void testGetTableMetadataWrongTable() {\n\n        PulsarTableHandle pulsarTableHandle = new PulsarTableHandle(\n                pulsarConnectorId.toString(),\n                TOPIC_1.getNamespace(),\n                \"wrong-topic\",\n                \"wrong-topic\"\n        );\n\n        try {\n            ConnectorTableMetadata tableMetadata = this.pulsarMetadata.getTableMetadata(mock(ConnectorSession.class),\n                    pulsarTableHandle);\n            Assert.fail(\"Invalid table should have generated an exception\");\n        } catch (TableNotFoundException e) {\n            Assert.assertEquals(e.getErrorCode(), NOT_FOUND.toErrorCode());\n            Assert.assertEquals(e.getMessage(), \"Table 'tenant-1/ns-1.wrong-topic' not found\");\n        }\n    }\n","realPath":"pulsar-sql/presto-pulsar/src/test/java/org/apache/pulsar/sql/presto/TestPulsarMetadata.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":165,"status":"B"}],"commitId":"461647a2b7943787883760a810f7cecda88128ec","commitMessage":"@@@PIP-19: Initial implementation of Pulsar SQL (#2265)\n\n* adding module for Pulsar SQL\n\n* renaming presto pulsar package\n\n* fixing pom and configs\n\n* fixing pom\n\n* using project version variable in pom\n\n* adding comments\n","date":"2018-08-07 01:29:26","modifiedFileCount":"0","status":"B","submitter":"Boyang Jerry Peng"},{"authorTime":"2019-07-09 00:16:05","codes":[{"authorDate":"2019-07-09 00:16:05","commitOrder":2,"curCode":"    public void testGetTableMetadataWrongSchema() {\n\n        PulsarTableHandle pulsarTableHandle = new PulsarTableHandle(\n                pulsarConnectorId.toString(),\n                \"wrong-tenant/wrong-ns\",\n                TOPIC_1.getLocalName(),\n                TOPIC_1.getLocalName()\n        );\n\n        try {\n            ConnectorTableMetadata tableMetadata = this.pulsarMetadata.getTableMetadata(mock(ConnectorSession.class),\n                    pulsarTableHandle);\n            fail(\"Invalid schema should have generated an exception\");\n        } catch (PrestoException e) {\n            assertEquals(e.getErrorCode(), NOT_FOUND.toErrorCode());\n            assertEquals(e.getMessage(), \"Schema wrong-tenant/wrong-ns does not exist\");\n        }\n    }\n","date":"2019-07-09 00:16:05","endLine":152,"groupId":"4839","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testGetTableMetadataWrongSchema","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/a7/04be6484766c4211edb1e213755e007097e305.src","preCode":"    public void testGetTableMetadataWrongSchema() {\n\n        PulsarTableHandle pulsarTableHandle = new PulsarTableHandle(\n                pulsarConnectorId.toString(),\n                \"wrong-tenant/wrong-ns\",\n                TOPIC_1.getLocalName(),\n                TOPIC_1.getLocalName()\n        );\n\n        try {\n            ConnectorTableMetadata tableMetadata = this.pulsarMetadata.getTableMetadata(mock(ConnectorSession.class),\n                    pulsarTableHandle);\n            Assert.fail(\"Invalid schema should have generated an exception\");\n        } catch (PrestoException e) {\n            Assert.assertEquals(e.getErrorCode(), NOT_FOUND.toErrorCode());\n            Assert.assertEquals(e.getMessage(), \"Schema wrong-tenant/wrong-ns does not exist\");\n        }\n    }\n","realPath":"pulsar-sql/presto-pulsar/src/test/java/org/apache/pulsar/sql/presto/TestPulsarMetadata.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":135,"status":"M"},{"authorDate":"2019-07-09 00:16:05","commitOrder":2,"curCode":"    public void testGetTableMetadataWrongTable() {\n\n        PulsarTableHandle pulsarTableHandle = new PulsarTableHandle(\n                pulsarConnectorId.toString(),\n                TOPIC_1.getNamespace(),\n                \"wrong-topic\",\n                \"wrong-topic\"\n        );\n\n        try {\n            ConnectorTableMetadata tableMetadata = this.pulsarMetadata.getTableMetadata(mock(ConnectorSession.class),\n                    pulsarTableHandle);\n            fail(\"Invalid table should have generated an exception\");\n        } catch (TableNotFoundException e) {\n            assertEquals(e.getErrorCode(), NOT_FOUND.toErrorCode());\n            assertEquals(e.getMessage(), \"Table 'tenant-1/ns-1.wrong-topic' not found\");\n        }\n    }\n","date":"2019-07-09 00:16:05","endLine":172,"groupId":"13944","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testGetTableMetadataWrongTable","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/a7/04be6484766c4211edb1e213755e007097e305.src","preCode":"    public void testGetTableMetadataWrongTable() {\n\n        PulsarTableHandle pulsarTableHandle = new PulsarTableHandle(\n                pulsarConnectorId.toString(),\n                TOPIC_1.getNamespace(),\n                \"wrong-topic\",\n                \"wrong-topic\"\n        );\n\n        try {\n            ConnectorTableMetadata tableMetadata = this.pulsarMetadata.getTableMetadata(mock(ConnectorSession.class),\n                    pulsarTableHandle);\n            Assert.fail(\"Invalid table should have generated an exception\");\n        } catch (TableNotFoundException e) {\n            Assert.assertEquals(e.getErrorCode(), NOT_FOUND.toErrorCode());\n            Assert.assertEquals(e.getMessage(), \"Table 'tenant-1/ns-1.wrong-topic' not found\");\n        }\n    }\n","realPath":"pulsar-sql/presto-pulsar/src/test/java/org/apache/pulsar/sql/presto/TestPulsarMetadata.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":155,"status":"M"}],"commitId":"c421ca6e5b0c99f7728c8651ad9a81005bfd176e","commitMessage":"@@@Cleanup tests in the presto module (#4683)\n\n* Add static import statements for Assert to simplify the test in the presto module\n\n* Use the preferred way of the schema's creation. The predicates and functions were converted to lambda\n","date":"2019-07-09 00:16:05","modifiedFileCount":"4","status":"M","submitter":"vzhikserg"},{"authorTime":"2019-07-22 22:59:43","codes":[{"authorDate":"2019-07-22 22:59:43","commitOrder":3,"curCode":"    public void testGetTableMetadataWrongSchema(String delimiter) {\n        updateRewriteNamespaceDelimiterIfNeeded(delimiter);\n        PulsarTableHandle pulsarTableHandle = new PulsarTableHandle(\n                pulsarConnectorId.toString(),\n                \"wrong-tenant/wrong-ns\",\n                TOPIC_1.getLocalName(),\n                TOPIC_1.getLocalName()\n        );\n\n        try {\n            ConnectorTableMetadata tableMetadata = this.pulsarMetadata.getTableMetadata(mock(ConnectorSession.class),\n                    pulsarTableHandle);\n            fail(\"Invalid schema should have generated an exception\");\n        } catch (PrestoException e) {\n            assertEquals(e.getErrorCode(), NOT_FOUND.toErrorCode());\n            assertEquals(e.getMessage(), \"Schema wrong-tenant/wrong-ns does not exist\");\n        }\n    }\n","date":"2019-07-22 22:59:43","endLine":163,"groupId":"10507","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testGetTableMetadataWrongSchema","params":"(Stringdelimiter)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/40/bf57c7164563292a330ccef9f66bcdac8bd287.src","preCode":"    public void testGetTableMetadataWrongSchema() {\n\n        PulsarTableHandle pulsarTableHandle = new PulsarTableHandle(\n                pulsarConnectorId.toString(),\n                \"wrong-tenant/wrong-ns\",\n                TOPIC_1.getLocalName(),\n                TOPIC_1.getLocalName()\n        );\n\n        try {\n            ConnectorTableMetadata tableMetadata = this.pulsarMetadata.getTableMetadata(mock(ConnectorSession.class),\n                    pulsarTableHandle);\n            fail(\"Invalid schema should have generated an exception\");\n        } catch (PrestoException e) {\n            assertEquals(e.getErrorCode(), NOT_FOUND.toErrorCode());\n            assertEquals(e.getMessage(), \"Schema wrong-tenant/wrong-ns does not exist\");\n        }\n    }\n","realPath":"pulsar-sql/presto-pulsar/src/test/java/org/apache/pulsar/sql/presto/TestPulsarMetadata.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":146,"status":"M"},{"authorDate":"2019-07-22 22:59:43","commitOrder":3,"curCode":"    public void testGetTableMetadataWrongTable(String delimiter) {\n        updateRewriteNamespaceDelimiterIfNeeded(delimiter);\n        PulsarTableHandle pulsarTableHandle = new PulsarTableHandle(\n                pulsarConnectorId.toString(),\n                TOPIC_1.getNamespace(),\n                \"wrong-topic\",\n                \"wrong-topic\"\n        );\n\n        try {\n            ConnectorTableMetadata tableMetadata = this.pulsarMetadata.getTableMetadata(mock(ConnectorSession.class),\n                    pulsarTableHandle);\n            fail(\"Invalid table should have generated an exception\");\n        } catch (TableNotFoundException e) {\n            assertEquals(e.getErrorCode(), NOT_FOUND.toErrorCode());\n            assertEquals(e.getMessage(), \"Table 'tenant-1/ns-1.wrong-topic' not found\");\n        }\n    }\n","date":"2019-07-22 22:59:43","endLine":183,"groupId":"10507","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testGetTableMetadataWrongTable","params":"(Stringdelimiter)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/40/bf57c7164563292a330ccef9f66bcdac8bd287.src","preCode":"    public void testGetTableMetadataWrongTable() {\n\n        PulsarTableHandle pulsarTableHandle = new PulsarTableHandle(\n                pulsarConnectorId.toString(),\n                TOPIC_1.getNamespace(),\n                \"wrong-topic\",\n                \"wrong-topic\"\n        );\n\n        try {\n            ConnectorTableMetadata tableMetadata = this.pulsarMetadata.getTableMetadata(mock(ConnectorSession.class),\n                    pulsarTableHandle);\n            fail(\"Invalid table should have generated an exception\");\n        } catch (TableNotFoundException e) {\n            assertEquals(e.getErrorCode(), NOT_FOUND.toErrorCode());\n            assertEquals(e.getMessage(), \"Table 'tenant-1/ns-1.wrong-topic' not found\");\n        }\n    }\n","realPath":"pulsar-sql/presto-pulsar/src/test/java/org/apache/pulsar/sql/presto/TestPulsarMetadata.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":166,"status":"M"}],"commitId":"6ddd51ff45999bd7daa238073e9bcfd87d1df16a","commitMessage":"@@@Add options to rewrite namespace delimiter for pulsar sql. (#4749)\n\n\n Motivation\n\nFix #4732 \n\n\n Modifications\n\nAdd options to rewrite the namespace delimiter.  disable by default\n\nEnable rewrite namespace delimiter can work well with superset:\n<img width=\"1279\" alt=\"superset\" src=\"https://user-images.githubusercontent.com/12592133/61385412-f0f35700-a8e4-11e9-87b2-a31b62128b58.png\">\n\n\n\n Does this pull request potentially affect one of the following parts:\n\n*If `yes` was chosen.  please highlight the changes*\n\n  - Dependencies (does it add or upgrade a dependency): (no)\n  - The public API: (no)\n  - The schema: (no)\n  - The default values of configurations: (no)\n  - The wire protocol: (no)\n  - The rest endpoints: (no)\n  - The admin cli options: (no)\n  - Anything that affects deployment: (no)\n\n\n Documentation\n\n  - Does this pull request introduce a new feature? (no)\n","date":"2019-07-22 22:59:43","modifiedFileCount":"9","status":"M","submitter":"lipenghui"}]
