[{"authorTime":"2020-05-30 13:24:29","codes":[{"authorDate":"2020-05-30 13:24:29","commitOrder":1,"curCode":"    public static boolean classExistsInJar(java.io.File jar, String fqcn) {\n        try {\n            java.net.URLClassLoader loader = (URLClassLoader) ClassLoaderUtils.loadJar(jar);\n            Class.forName(fqcn, false, loader);\n            loader.close();\n            return true;\n        } catch (ClassNotFoundException | NoClassDefFoundError | IOException e) {\n            return false;\n        }\n    }\n","date":"2020-05-30 13:24:29","endLine":190,"groupId":"9112","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"classExistsInJar","params":"(java.io.Filejar@Stringfqcn)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/e1/713ba243c670444e8bfab3bbbc0891ecd645c0.src","preCode":"    public static boolean classExistsInJar(java.io.File jar, String fqcn) {\n        try {\n            java.net.URLClassLoader loader = (URLClassLoader) ClassLoaderUtils.loadJar(jar);\n            Class.forName(fqcn, false, loader);\n            loader.close();\n            return true;\n        } catch (ClassNotFoundException | NoClassDefFoundError | IOException e) {\n            return false;\n        }\n    }\n","realPath":"pulsar-common/src/main/java/org/apache/pulsar/common/util/Reflections.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":181,"status":"B"},{"authorDate":"2020-05-30 13:24:29","commitOrder":1,"curCode":"    public static boolean classInJarImplementsIface(java.io.File jar, String fqcn, Class xface) {\n        boolean ret = false;\n        try {\n            java.net.URLClassLoader loader = (URLClassLoader) ClassLoaderUtils.loadJar(jar);\n            if (xface.isAssignableFrom(Class.forName(fqcn, false, loader))){\n                ret = true;\n            }\n            loader.close();\n        } catch (ClassNotFoundException | NoClassDefFoundError | IOException e) {\n            throw new RuntimeException(e);\n        }\n        return ret;\n    }\n","date":"2020-05-30 13:24:29","endLine":226,"groupId":"13462","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"classInJarImplementsIface","params":"(java.io.Filejar@Stringfqcn@Classxface)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/e1/713ba243c670444e8bfab3bbbc0891ecd645c0.src","preCode":"    public static boolean classInJarImplementsIface(java.io.File jar, String fqcn, Class xface) {\n        boolean ret = false;\n        try {\n            java.net.URLClassLoader loader = (URLClassLoader) ClassLoaderUtils.loadJar(jar);\n            if (xface.isAssignableFrom(Class.forName(fqcn, false, loader))){\n                ret = true;\n            }\n            loader.close();\n        } catch (ClassNotFoundException | NoClassDefFoundError | IOException e) {\n            throw new RuntimeException(e);\n        }\n        return ret;\n    }\n","realPath":"pulsar-common/src/main/java/org/apache/pulsar/common/util/Reflections.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":214,"status":"B"}],"commitId":"e451be300e5a0e718c444dd3a5b3a80a16734974","commitMessage":"@@@Moved ClassLoading and Reflections Helper functions to common (#7103)\n\n* Moved ClassLoading and Reflections Helper functions to common\n\n* Fix tests\n\n* Fix test\n\nCo-authored-by: Sanjeev Kulkarni <sanjeevk@splunk.com>","date":"2020-05-30 13:24:29","modifiedFileCount":"27","status":"B","submitter":"Sanjeev Kulkarni"},{"authorTime":"2021-03-27 01:12:32","codes":[{"authorDate":"2021-03-27 01:12:32","commitOrder":2,"curCode":"    public static boolean classExistsInJar(java.io.File jar, String fqcn) {\n        java.net.URLClassLoader loader = null;\n        try {\n            loader = (URLClassLoader) ClassLoaderUtils.loadJar(jar);\n            Class.forName(fqcn, false, loader);\n            return true;\n        } catch (ClassNotFoundException | NoClassDefFoundError | IOException e) {\n            return false;\n        } finally {\n            if (loader != null) {\n                try {\n                    loader.close();\n                } catch (IOException e) {\n                    throw new UncheckedIOException(e);\n                }\n            }\n        }\n    }\n","date":"2021-03-27 01:12:32","endLine":203,"groupId":"10211","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"classExistsInJar","params":"(java.io.Filejar@Stringfqcn)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/5a/e16982191efdf4d349652c388125fc4d9ad1ef.src","preCode":"    public static boolean classExistsInJar(java.io.File jar, String fqcn) {\n        try {\n            java.net.URLClassLoader loader = (URLClassLoader) ClassLoaderUtils.loadJar(jar);\n            Class.forName(fqcn, false, loader);\n            loader.close();\n            return true;\n        } catch (ClassNotFoundException | NoClassDefFoundError | IOException e) {\n            return false;\n        }\n    }\n","realPath":"pulsar-common/src/main/java/org/apache/pulsar/common/util/Reflections.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":186,"status":"M"},{"authorDate":"2021-03-27 01:12:32","commitOrder":2,"curCode":"    public static boolean classInJarImplementsIface(java.io.File jar, String fqcn, Class xface) {\n        boolean ret = false;\n        java.net.URLClassLoader loader = null;\n        try {\n            loader = (URLClassLoader) ClassLoaderUtils.loadJar(jar);\n            if (xface.isAssignableFrom(Class.forName(fqcn, false, loader))){\n                ret = true;\n            }\n        } catch (ClassNotFoundException | NoClassDefFoundError | IOException e) {\n            throw new RuntimeException(e);\n        } finally {\n            if (loader != null) {\n                try {\n                    loader.close();\n                } catch (IOException e) {\n                    throw new UncheckedIOException(e);\n                }\n            }\n        }\n        return ret;\n    }\n","date":"2021-03-27 01:12:32","endLine":247,"groupId":"10211","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"classInJarImplementsIface","params":"(java.io.Filejar@Stringfqcn@Classxface)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/5a/e16982191efdf4d349652c388125fc4d9ad1ef.src","preCode":"    public static boolean classInJarImplementsIface(java.io.File jar, String fqcn, Class xface) {\n        boolean ret = false;\n        try {\n            java.net.URLClassLoader loader = (URLClassLoader) ClassLoaderUtils.loadJar(jar);\n            if (xface.isAssignableFrom(Class.forName(fqcn, false, loader))){\n                ret = true;\n            }\n            loader.close();\n        } catch (ClassNotFoundException | NoClassDefFoundError | IOException e) {\n            throw new RuntimeException(e);\n        }\n        return ret;\n    }\n","realPath":"pulsar-common/src/main/java/org/apache/pulsar/common/util/Reflections.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":227,"status":"M"}],"commitId":"31816890fa46add354dc1f383dbd6c233bb13dca","commitMessage":"@@@[Testing] Improve Functions unit tests by using unique nar extraction directory (#10032)\n\n- Use unique temporary nar extraction directory for each test\n  - This fixes possible issues caused by running tests with testForkCount > 1 setting (current status in master branch)\n  - Delete directory consistently in AfterMethod\n\n- Add feature LocalRunner to create a unique temp directory for extracting\n  nar files. Delete directory on close\n\n- Fix some ClassLoader resource cleanup issues that came up while working on the changes","date":"2021-03-27 01:12:32","modifiedFileCount":"21","status":"M","submitter":"Lari Hotari"}]
