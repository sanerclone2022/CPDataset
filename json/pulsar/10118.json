[{"authorTime":"2017-06-24 02:22:49","codes":[{"authorDate":"2017-06-24 02:22:49","commitOrder":1,"curCode":"    public void testHashConflictWithDeletion() {\n        final int Buckets = 16;\n        ConcurrentLongHashMap<String> map = new ConcurrentLongHashMap<>(Buckets, 1);\n\n        \r\n        long key1 = 1;\n        long key2 = 27;\n\n        int bucket1 = ConcurrentLongHashMap.signSafeMod(ConcurrentLongHashMap.hash(key1), Buckets);\n        int bucket2 = ConcurrentLongHashMap.signSafeMod(ConcurrentLongHashMap.hash(key2), Buckets);\n        assertEquals(bucket1, bucket2);\n\n        assertEquals(map.put(key1, \"value-1\"), null);\n        assertEquals(map.put(key2, \"value-2\"), null);\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1\");\n        assertEquals(map.size(), 1);\n\n        assertEquals(map.put(key1, \"value-1-overwrite\"), null);\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1-overwrite\");\n        assertEquals(map.size(), 1);\n\n        assertEquals(map.put(key2, \"value-2-overwrite\"), \"value-2\");\n        assertEquals(map.get(key2), \"value-2-overwrite\");\n\n        assertEquals(map.size(), 1);\n        assertEquals(map.remove(key2), \"value-2-overwrite\");\n        assertTrue(map.isEmpty());\n    }\n","date":"2017-06-24 04:41:32","endLine":312,"groupId":"2989","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testHashConflictWithDeletion","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/c4/215f3408a20565416b4ab4611d3230eae2f077.src","preCode":"    public void testHashConflictWithDeletion() {\n        final int Buckets = 16;\n        ConcurrentLongHashMap<String> map = new ConcurrentLongHashMap<>(Buckets, 1);\n\n        \r\n        long key1 = 1;\n        long key2 = 27;\n\n        int bucket1 = ConcurrentLongHashMap.signSafeMod(ConcurrentLongHashMap.hash(key1), Buckets);\n        int bucket2 = ConcurrentLongHashMap.signSafeMod(ConcurrentLongHashMap.hash(key2), Buckets);\n        assertEquals(bucket1, bucket2);\n\n        assertEquals(map.put(key1, \"value-1\"), null);\n        assertEquals(map.put(key2, \"value-2\"), null);\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1\");\n        assertEquals(map.size(), 1);\n\n        assertEquals(map.put(key1, \"value-1-overwrite\"), null);\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1-overwrite\");\n        assertEquals(map.size(), 1);\n\n        assertEquals(map.put(key2, \"value-2-overwrite\"), \"value-2\");\n        assertEquals(map.get(key2), \"value-2-overwrite\");\n\n        assertEquals(map.size(), 1);\n        assertEquals(map.remove(key2), \"value-2-overwrite\");\n        assertTrue(map.isEmpty());\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/util/collections/ConcurrentLongHashMapTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":281,"status":"B"},{"authorDate":"2017-06-24 02:22:49","commitOrder":1,"curCode":"    public void testHashConflictWithDeletion() {\n        final int Buckets = 16;\n        ConcurrentOpenHashMap<Long, String> map = new ConcurrentOpenHashMap<>(Buckets, 1);\n\n        \r\n        long key1 = 1;\n        long key2 = 27;\n\n        int bucket1 = ConcurrentOpenHashMap.signSafeMod(ConcurrentOpenHashMap.hash(key1), Buckets);\n        int bucket2 = ConcurrentOpenHashMap.signSafeMod(ConcurrentOpenHashMap.hash(key2), Buckets);\n        assertEquals(bucket1, bucket2);\n\n        assertEquals(map.put(key1, \"value-1\"), null);\n        assertEquals(map.put(key2, \"value-2\"), null);\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1\");\n        assertEquals(map.size(), 1);\n\n        assertEquals(map.put(key1, \"value-1-overwrite\"), null);\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1-overwrite\");\n        assertEquals(map.size(), 1);\n\n        assertEquals(map.put(key2, \"value-2-overwrite\"), \"value-2\");\n        assertEquals(map.get(key2), \"value-2-overwrite\");\n\n        assertEquals(map.size(), 1);\n        assertEquals(map.remove(key2), \"value-2-overwrite\");\n        assertTrue(map.isEmpty());\n    }\n","date":"2017-06-24 04:41:32","endLine":298,"groupId":"2989","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testHashConflictWithDeletion","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/3c/a8e9e1af1ef734c07b30d84066d5bd1279a213.src","preCode":"    public void testHashConflictWithDeletion() {\n        final int Buckets = 16;\n        ConcurrentOpenHashMap<Long, String> map = new ConcurrentOpenHashMap<>(Buckets, 1);\n\n        \r\n        long key1 = 1;\n        long key2 = 27;\n\n        int bucket1 = ConcurrentOpenHashMap.signSafeMod(ConcurrentOpenHashMap.hash(key1), Buckets);\n        int bucket2 = ConcurrentOpenHashMap.signSafeMod(ConcurrentOpenHashMap.hash(key2), Buckets);\n        assertEquals(bucket1, bucket2);\n\n        assertEquals(map.put(key1, \"value-1\"), null);\n        assertEquals(map.put(key2, \"value-2\"), null);\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1\");\n        assertEquals(map.size(), 1);\n\n        assertEquals(map.put(key1, \"value-1-overwrite\"), null);\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1-overwrite\");\n        assertEquals(map.size(), 1);\n\n        assertEquals(map.put(key2, \"value-2-overwrite\"), \"value-2\");\n        assertEquals(map.get(key2), \"value-2-overwrite\");\n\n        assertEquals(map.size(), 1);\n        assertEquals(map.remove(key2), \"value-2-overwrite\");\n        assertTrue(map.isEmpty());\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/util/collections/ConcurrentOpenHashMapTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":267,"status":"B"}],"commitId":"70da31b082ea0ff7466cdf740fc0d6b443d21861","commitMessage":"@@@Renamed Java packages from com.yahoo.pulsar to org.apache.pulsar (#524)\n","date":"2017-06-24 04:41:32","modifiedFileCount":"5","status":"B","submitter":"Matteo Merli"},{"authorTime":"2019-07-26 00:14:02","codes":[{"authorDate":"2019-07-26 00:14:02","commitOrder":2,"curCode":"    public void testHashConflictWithDeletion() {\n        final int Buckets = 16;\n        ConcurrentLongHashMap<String> map = new ConcurrentLongHashMap<>(Buckets, 1);\n\n        \r\n        long key1 = 1;\n        long key2 = 27;\n\n        int bucket1 = ConcurrentLongHashMap.signSafeMod(ConcurrentLongHashMap.hash(key1), Buckets);\n        int bucket2 = ConcurrentLongHashMap.signSafeMod(ConcurrentLongHashMap.hash(key2), Buckets);\n        assertEquals(bucket1, bucket2);\n\n        assertNull(map.put(key1, \"value-1\"));\n        assertNull(map.put(key2, \"value-2\"));\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1\");\n        assertEquals(map.size(), 1);\n\n        assertNull(map.put(key1, \"value-1-overwrite\"));\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1-overwrite\");\n        assertEquals(map.size(), 1);\n\n        assertEquals(map.put(key2, \"value-2-overwrite\"), \"value-2\");\n        assertEquals(map.get(key2), \"value-2-overwrite\");\n\n        assertEquals(map.size(), 1);\n        assertEquals(map.remove(key2), \"value-2-overwrite\");\n        assertTrue(map.isEmpty());\n    }\n","date":"2019-07-26 00:14:02","endLine":363,"groupId":"10118","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testHashConflictWithDeletion","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/ca/c262607d844d894e1842cb08a2bb5931e2c80f.src","preCode":"    public void testHashConflictWithDeletion() {\n        final int Buckets = 16;\n        ConcurrentLongHashMap<String> map = new ConcurrentLongHashMap<>(Buckets, 1);\n\n        \r\n        long key1 = 1;\n        long key2 = 27;\n\n        int bucket1 = ConcurrentLongHashMap.signSafeMod(ConcurrentLongHashMap.hash(key1), Buckets);\n        int bucket2 = ConcurrentLongHashMap.signSafeMod(ConcurrentLongHashMap.hash(key2), Buckets);\n        assertEquals(bucket1, bucket2);\n\n        assertEquals(map.put(key1, \"value-1\"), null);\n        assertEquals(map.put(key2, \"value-2\"), null);\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1\");\n        assertEquals(map.size(), 1);\n\n        assertEquals(map.put(key1, \"value-1-overwrite\"), null);\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1-overwrite\");\n        assertEquals(map.size(), 1);\n\n        assertEquals(map.put(key2, \"value-2-overwrite\"), \"value-2\");\n        assertEquals(map.get(key2), \"value-2-overwrite\");\n\n        assertEquals(map.size(), 1);\n        assertEquals(map.remove(key2), \"value-2-overwrite\");\n        assertTrue(map.isEmpty());\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/util/collections/ConcurrentLongHashMapTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":332,"status":"M"},{"authorDate":"2019-07-26 00:14:02","commitOrder":2,"curCode":"    public void testHashConflictWithDeletion() {\n        final int Buckets = 16;\n        ConcurrentOpenHashMap<Long, String> map = new ConcurrentOpenHashMap<>(Buckets, 1);\n\n        \r\n        long key1 = 1;\n        long key2 = 27;\n\n        int bucket1 = ConcurrentOpenHashMap.signSafeMod(ConcurrentOpenHashMap.hash(key1), Buckets);\n        int bucket2 = ConcurrentOpenHashMap.signSafeMod(ConcurrentOpenHashMap.hash(key2), Buckets);\n        assertEquals(bucket1, bucket2);\n\n        assertNull(map.put(key1, \"value-1\"));\n        assertNull(map.put(key2, \"value-2\"));\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1\");\n        assertEquals(map.size(), 1);\n\n        assertNull(map.put(key1, \"value-1-overwrite\"));\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1-overwrite\");\n        assertEquals(map.size(), 1);\n\n        assertEquals(map.put(key2, \"value-2-overwrite\"), \"value-2\");\n        assertEquals(map.get(key2), \"value-2-overwrite\");\n\n        assertEquals(map.size(), 1);\n        assertEquals(map.remove(key2), \"value-2-overwrite\");\n        assertTrue(map.isEmpty());\n    }\n","date":"2019-07-26 00:14:02","endLine":298,"groupId":"10118","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testHashConflictWithDeletion","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/4b/ac2dbeb5b38d88b2b8e96df35d0b4a462547f4.src","preCode":"    public void testHashConflictWithDeletion() {\n        final int Buckets = 16;\n        ConcurrentOpenHashMap<Long, String> map = new ConcurrentOpenHashMap<>(Buckets, 1);\n\n        \r\n        long key1 = 1;\n        long key2 = 27;\n\n        int bucket1 = ConcurrentOpenHashMap.signSafeMod(ConcurrentOpenHashMap.hash(key1), Buckets);\n        int bucket2 = ConcurrentOpenHashMap.signSafeMod(ConcurrentOpenHashMap.hash(key2), Buckets);\n        assertEquals(bucket1, bucket2);\n\n        assertEquals(map.put(key1, \"value-1\"), null);\n        assertEquals(map.put(key2, \"value-2\"), null);\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1\");\n        assertEquals(map.size(), 1);\n\n        assertEquals(map.put(key1, \"value-1-overwrite\"), null);\n        assertEquals(map.size(), 2);\n\n        assertEquals(map.remove(key1), \"value-1-overwrite\");\n        assertEquals(map.size(), 1);\n\n        assertEquals(map.put(key2, \"value-2-overwrite\"), \"value-2\");\n        assertEquals(map.get(key2), \"value-2-overwrite\");\n\n        assertEquals(map.size(), 1);\n        assertEquals(map.remove(key2), \"value-2-overwrite\");\n        assertTrue(map.isEmpty());\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/util/collections/ConcurrentOpenHashMapTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":267,"status":"M"}],"commitId":"fb6895db195f08aa82f75dad93b1b9c0b1b15a88","commitMessage":"@@@Test cleanup and simplification (#4799)\n\n* Simplified assert statements in the tests. Switch to usage of static imports in tests. (Part 1)\n\n* Simplify assert statements in the tests and use the appropriate assert statements. Switch to usage of static imports in tests. Remove unused imports (Part 2)\n","date":"2019-07-26 00:14:02","modifiedFileCount":"134","status":"M","submitter":"vzhikserg"}]
