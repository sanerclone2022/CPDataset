[{"authorTime":"2018-03-06 10:46:30","codes":[{"authorDate":"2018-03-06 10:46:30","commitOrder":1,"curCode":"    public void testGetFunction() throws Exception {\n        String tenant = TEST_NAME + \"-tenant\";\n        String namespace = TEST_NAME + \"-namespace\";\n        String fnName = TEST_NAME + \"-function\";\n\n        cmd.run(new String[] {\n            \"get\",\n            \"--name\", fnName,\n            \"--tenant\", tenant,\n            \"--namespace\", namespace\n        });\n\n        GetFunction getter = cmd.getGetter();\n        assertEquals(fnName, getter.getFunctionName());\n        assertEquals(tenant, getter.getTenant());\n        assertEquals(namespace, getter.getNamespace());\n\n        verify(functions, times(1)).getFunction(eq(tenant), eq(namespace), eq(fnName));\n    }\n","date":"2018-03-06 10:46:30","endLine":290,"groupId":"14209","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testGetFunction","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/e5/7aa84440735ac5309112ce8da82d06380fd242.src","preCode":"    public void testGetFunction() throws Exception {\n        String tenant = TEST_NAME + \"-tenant\";\n        String namespace = TEST_NAME + \"-namespace\";\n        String fnName = TEST_NAME + \"-function\";\n\n        cmd.run(new String[] {\n            \"get\",\n            \"--name\", fnName,\n            \"--tenant\", tenant,\n            \"--namespace\", namespace\n        });\n\n        GetFunction getter = cmd.getGetter();\n        assertEquals(fnName, getter.getFunctionName());\n        assertEquals(tenant, getter.getTenant());\n        assertEquals(namespace, getter.getNamespace());\n\n        verify(functions, times(1)).getFunction(eq(tenant), eq(namespace), eq(fnName));\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":272,"status":"B"},{"authorDate":"2018-03-06 10:46:30","commitOrder":1,"curCode":"    public void testDeleteFunction() throws Exception {\n        String tenant = TEST_NAME + \"-tenant\";\n        String namespace = TEST_NAME + \"-namespace\";\n        String fnName = TEST_NAME + \"-function\";\n\n        cmd.run(new String[] {\n            \"delete\",\n            \"--name\", fnName,\n            \"--tenant\", tenant,\n            \"--namespace\", namespace\n        });\n\n        DeleteFunction deleter = cmd.getDeleter();\n        assertEquals(fnName, deleter.getFunctionName());\n        assertEquals(tenant, deleter.getTenant());\n        assertEquals(namespace, deleter.getNamespace());\n\n        verify(functions, times(1)).deleteFunction(eq(tenant), eq(namespace), eq(fnName));\n    }\n","date":"2018-03-06 10:46:30","endLine":311,"groupId":"14209","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testDeleteFunction","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/e5/7aa84440735ac5309112ce8da82d06380fd242.src","preCode":"    public void testDeleteFunction() throws Exception {\n        String tenant = TEST_NAME + \"-tenant\";\n        String namespace = TEST_NAME + \"-namespace\";\n        String fnName = TEST_NAME + \"-function\";\n\n        cmd.run(new String[] {\n            \"delete\",\n            \"--name\", fnName,\n            \"--tenant\", tenant,\n            \"--namespace\", namespace\n        });\n\n        DeleteFunction deleter = cmd.getDeleter();\n        assertEquals(fnName, deleter.getFunctionName());\n        assertEquals(tenant, deleter.getTenant());\n        assertEquals(namespace, deleter.getNamespace());\n\n        verify(functions, times(1)).deleteFunction(eq(tenant), eq(namespace), eq(fnName));\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":293,"status":"B"}],"commitId":"6230ab4542c733f3390bd7ae7d4d6b0d5a661fb1","commitMessage":"@@@ Integrate function cli into pulsar-admin cli (#1331)\n\n* Move pulsar functions dependency version to root pom and remove duplicated license headers\n\nThis addresses some comments in pulsar functions PR #1314\n\n* shade worker\n\n* Fix broken master\n\n* Upgrade the bookkeeper storage client dependency to the official bookkeeper version\n\nThis removes the temp dependency in `pulsar-functions-instance`\n\n* set `protobuf2.version` in pulsar-common\n\n* provide a shaded worker\n\n* include worker dependency at broker\n\n* Embeded function worker at broker\n\n* rename 'function worker' to 'functions worker'\n\n* add \"--no-functions-worker\" for pulsar-client-cpp tests\n\n* Integrate function cli into pulsar-admin cli\n\n- rename `pulsar-client-tools-shaded` to `pulsar-client-admin-shaded-for-functions`.  because this module is used by functions only to avoid protobuf conflicts\n- move protobuf3 references to Utils.  so it won't be referenced out side of pulsar-functions\n- integrate function cli into pulsar-admin cli\n\n* Fix license header issues\n\n* Fixed ZK cache test exectutor configuration.\n\nFixes #1338\n","date":"2018-03-06 10:46:30","modifiedFileCount":"9","status":"B","submitter":"Sijie Guo"},{"authorTime":"2020-03-07 04:50:55","codes":[{"authorDate":"2020-03-07 04:50:55","commitOrder":2,"curCode":"    public void testGetFunction() throws Exception {\n        cmd.run(new String[] {\n            \"get\",\n            \"--name\", FN_NAME,\n            \"--tenant\", TENANT,\n            \"--namespace\", NAMESPACE\n        });\n\n        GetFunction getter = cmd.getGetter();\n        assertEquals(FN_NAME, getter.getFunctionName());\n        assertEquals(TENANT, getter.getTenant());\n        assertEquals(NAMESPACE, getter.getNamespace());\n\n        verify(functions, times(1)).getFunction(eq(TENANT), eq(NAMESPACE), eq(FN_NAME));\n    }\n","date":"2020-03-07 04:50:55","endLine":442,"groupId":"10324","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testGetFunction","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/c1/62c4b3f345a7ea314132b5719b0d52c74cbc1a.src","preCode":"    public void testGetFunction() throws Exception {\n        String tenant = TEST_NAME + \"-tenant\";\n        String namespace = TEST_NAME + \"-namespace\";\n        String fnName = TEST_NAME + \"-function\";\n\n        cmd.run(new String[] {\n            \"get\",\n            \"--name\", fnName,\n            \"--tenant\", tenant,\n            \"--namespace\", namespace\n        });\n\n        GetFunction getter = cmd.getGetter();\n        assertEquals(fnName, getter.getFunctionName());\n        assertEquals(tenant, getter.getTenant());\n        assertEquals(namespace, getter.getNamespace());\n\n        verify(functions, times(1)).getFunction(eq(tenant), eq(namespace), eq(fnName));\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":428,"status":"M"},{"authorDate":"2020-03-07 04:50:55","commitOrder":2,"curCode":"    public void testDeleteFunction() throws Exception {\n        cmd.run(new String[] {\n            \"delete\",\n            \"--name\", FN_NAME,\n            \"--tenant\", TENANT,\n            \"--namespace\", NAMESPACE\n        });\n\n        DeleteFunction deleter = cmd.getDeleter();\n        assertEquals(FN_NAME, deleter.getFunctionName());\n        assertEquals(TENANT, deleter.getTenant());\n        assertEquals(NAMESPACE, deleter.getNamespace());\n\n        verify(functions, times(1)).deleteFunction(eq(TENANT), eq(NAMESPACE), eq(FN_NAME));\n    }\n","date":"2020-03-07 04:50:55","endLine":459,"groupId":"10324","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testDeleteFunction","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/c1/62c4b3f345a7ea314132b5719b0d52c74cbc1a.src","preCode":"    public void testDeleteFunction() throws Exception {\n        String tenant = TEST_NAME + \"-tenant\";\n        String namespace = TEST_NAME + \"-namespace\";\n        String fnName = TEST_NAME + \"-function\";\n\n        cmd.run(new String[] {\n            \"delete\",\n            \"--name\", fnName,\n            \"--tenant\", tenant,\n            \"--namespace\", namespace\n        });\n\n        DeleteFunction deleter = cmd.getDeleter();\n        assertEquals(fnName, deleter.getFunctionName());\n        assertEquals(tenant, deleter.getTenant());\n        assertEquals(namespace, deleter.getNamespace());\n\n        verify(functions, times(1)).deleteFunction(eq(tenant), eq(namespace), eq(fnName));\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":445,"status":"M"}],"commitId":"73e8beb62f9a9bfc13a347611859f1b2af0fd33c","commitMessage":"@@@Refactor tests in pulsar client tools test (#6472)\n\n\n Modifications\n\nThe main modification was the reduction of repeated initialization of the variables in the tests.","date":"2020-03-07 04:50:55","modifiedFileCount":"3","status":"M","submitter":"Sergii Zhevzhyk"}]
