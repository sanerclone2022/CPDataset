[{"authorTime":"2018-04-12 17:40:10","codes":[{"authorDate":"2018-06-07 13:00:01","commitOrder":4,"curCode":"    public void testCreateFunctionWithTopicPatterns() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String topicPatterns = \"persistent://tenant/ns/topicPattern*\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n        cmd.run(new String[] {\n            \"create\",\n            \"--name\", fnName,\n            \"--topicsPattern\", topicPatterns,\n            \"--output\", outputTopicName,\n            \"--jar\", \"SomeJar.jar\",\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        CreateFunction creater = cmd.getCreater();\n        assertEquals(fnName, creater.getFunctionName());\n        assertEquals(topicPatterns, creater.getTopicsPattern());\n        assertEquals(outputTopicName, creater.getOutput());\n\n        verify(functions, times(1)).createFunction(any(FunctionDetails.class), anyString());\n\n    }\n","date":"2018-06-07 13:00:01","endLine":231,"groupId":"12943","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testCreateFunctionWithTopicPatterns","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/58/61e22fa04bd3224cec84c5e1d62f3775ba7abd.src","preCode":"    public void testCreateFunctionWithTopicPatterns() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String topicPatterns = \"persistent://tenant/ns/topicPattern*\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n        cmd.run(new String[] {\n            \"create\",\n            \"--name\", fnName,\n            \"--topicsPattern\", topicPatterns,\n            \"--output\", outputTopicName,\n            \"--jar\", \"SomeJar.jar\",\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        CreateFunction creater = cmd.getCreater();\n        assertEquals(fnName, creater.getFunctionName());\n        assertEquals(topicPatterns, creater.getTopicsPattern());\n        assertEquals(outputTopicName, creater.getOutput());\n\n        verify(functions, times(1)).createFunction(any(FunctionDetails.class), anyString());\n\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":209,"status":"B"},{"authorDate":"2018-04-12 17:40:10","commitOrder":4,"curCode":"    public void testUpdateFunction() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String inputTopicName = TEST_NAME + \"-input-topic\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n\n\n\n        cmd.run(new String[] {\n            \"update\",\n            \"--name\", fnName,\n            \"--inputs\", inputTopicName,\n            \"--output\", outputTopicName,\n            \"--jar\", \"SomeJar.jar\",\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        UpdateFunction updater = cmd.getUpdater();\n        assertEquals(fnName, updater.getFunctionName());\n        assertEquals(inputTopicName, updater.getInputs());\n        assertEquals(outputTopicName, updater.getOutput());\n\n        verify(functions, times(1)).updateFunction(any(FunctionDetails.class), anyString());\n    }\n","date":"2018-04-12 17:40:10","endLine":363,"groupId":"781","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testUpdateFunction","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/83/220d027053ab74c3749be5739c88d3903793b5.src","preCode":"    public void testUpdateFunction() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String inputTopicName = TEST_NAME + \"-input-topic\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n\n\n\n        cmd.run(new String[] {\n            \"update\",\n            \"--name\", fnName,\n            \"--inputs\", inputTopicName,\n            \"--output\", outputTopicName,\n            \"--jar\", \"SomeJar.jar\",\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        UpdateFunction updater = cmd.getUpdater();\n        assertEquals(fnName, updater.getFunctionName());\n        assertEquals(inputTopicName, updater.getInputs());\n        assertEquals(outputTopicName, updater.getOutput());\n\n        verify(functions, times(1)).updateFunction(any(FunctionDetails.class), anyString());\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":339,"status":"NB"}],"commitId":"57f463d11604533e3d3215baaf43e874a73da03d","commitMessage":"@@@Support pulsar source to start consumer with topic patterns (#1903)\n\nPass sourceConfig.topicPattern from cmdSink\n\nadd test for topic-patterns\n\nadd topic-pattern to ProcessRunTime\n\ndocument topicsPattern usage for java-func only\n\nadd python instance validaiton for topicPatterns args\n\ngetSequenceId for topicMessage","date":"2018-06-07 13:00:01","modifiedFileCount":"15","status":"M","submitter":"Rajan Dhabalia"},{"authorTime":"2018-10-18 02:41:33","codes":[{"authorDate":"2018-10-18 02:41:33","commitOrder":5,"curCode":"    public void testCreateFunctionWithTopicPatterns() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String topicPatterns = \"persistent://tenant/ns/topicPattern*\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n        cmd.run(new String[] {\n            \"create\",\n            \"--name\", fnName,\n            \"--topicsPattern\", topicPatterns,\n            \"--output\", outputTopicName,\n            \"--jar\", \"SomeJar.jar\",\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        CreateFunction creater = cmd.getCreater();\n        assertEquals(fnName, creater.getFunctionName());\n        assertEquals(topicPatterns, creater.getTopicsPattern());\n        assertEquals(outputTopicName, creater.getOutput());\n\n        verify(functions, times(1)).createFunction(any(FunctionConfig.class), anyString());\n\n    }\n","date":"2018-10-18 02:41:33","endLine":426,"groupId":"12943","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testCreateFunctionWithTopicPatterns","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/0c/512b82a58cd424b8bbd7bb210bbf956d8798dc.src","preCode":"    public void testCreateFunctionWithTopicPatterns() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String topicPatterns = \"persistent://tenant/ns/topicPattern*\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n        cmd.run(new String[] {\n            \"create\",\n            \"--name\", fnName,\n            \"--topicsPattern\", topicPatterns,\n            \"--output\", outputTopicName,\n            \"--jar\", \"SomeJar.jar\",\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        CreateFunction creater = cmd.getCreater();\n        assertEquals(fnName, creater.getFunctionName());\n        assertEquals(topicPatterns, creater.getTopicsPattern());\n        assertEquals(outputTopicName, creater.getOutput());\n\n        verify(functions, times(1)).createFunction(any(FunctionDetails.class), anyString());\n\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":404,"status":"M"},{"authorDate":"2018-10-18 02:41:33","commitOrder":5,"curCode":"    public void testUpdateFunction() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String inputTopicName = TEST_NAME + \"-input-topic\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n\n        cmd.run(new String[] {\n            \"update\",\n            \"--name\", fnName,\n            \"--inputs\", inputTopicName,\n            \"--output\", outputTopicName,\n            \"--jar\", \"SomeJar.jar\",\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        UpdateFunction updater = cmd.getUpdater();\n        assertEquals(fnName, updater.getFunctionName());\n        assertEquals(inputTopicName, updater.getInputs());\n        assertEquals(outputTopicName, updater.getOutput());\n\n        verify(functions, times(1)).updateFunction(any(FunctionConfig.class), anyString());\n    }\n","date":"2018-10-18 02:41:33","endLine":618,"groupId":"781","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testUpdateFunction","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/0c/512b82a58cd424b8bbd7bb210bbf956d8798dc.src","preCode":"    public void testUpdateFunction() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String inputTopicName = TEST_NAME + \"-input-topic\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n\n        cmd.run(new String[] {\n            \"update\",\n            \"--name\", fnName,\n            \"--inputs\", inputTopicName,\n            \"--output\", outputTopicName,\n            \"--jar\", \"SomeJar.jar\",\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        UpdateFunction updater = cmd.getUpdater();\n        assertEquals(fnName, updater.getFunctionName());\n        assertEquals(inputTopicName, updater.getInputs());\n        assertEquals(outputTopicName, updater.getOutput());\n\n        verify(functions, times(1)).updateFunction(any(FunctionDetails.class), anyString());\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":596,"status":"M"}],"commitId":"a7310ee7e62f9d70d41ebc21bd196cbba259eeb0","commitMessage":"@@@Function Serverside validation Part 2 (#2752)\n\n* First cut of adding new endpoints for source/sink\n\n* More better check\n\n* Plugged in source/sink\n\n* Made pulsar admin to use Source/Sink endpoints\n\n* Switched cli to use functionConfig instead of function details\n\n* Fix unittests\n\n* Fixed unittest\n\n* Logic correction\n\n* Fix bugs after mergin\n\n* More compile fixes\n\n* Fixed path for sink\n\n* Added source unittests\n\n* Added sink tests\n\n* Fixed unittest\n\n* Have default value for maxRetries\n\n* Fixed unittest\n\n* Added example jar\n\n* Fixed unittest\n\n* Fixed unittest\n\n* Fixed unittest\n\n* Fixed unittest\n\n* Updated license\n\n* Correct the links for sources/sinks\n\n* Strip the builtin://\n\n* Removed unused imports\n\n* Disabling presto integration test for now until we figure out the whole refactor\n\n* Revert accidental yaml file change\n\n* Dont expose to v1 endpoints\n","date":"2018-10-18 02:41:33","modifiedFileCount":"25","status":"M","submitter":"Sanjeev Kulkarni"},{"authorTime":"2018-10-23 02:12:40","codes":[{"authorDate":"2018-10-23 02:12:40","commitOrder":6,"curCode":"    public void testCreateFunctionWithTopicPatterns() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String topicPatterns = \"persistent://tenant/ns/topicPattern*\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n        cmd.run(new String[] {\n            \"create\",\n            \"--name\", fnName,\n            \"--topicsPattern\", topicPatterns,\n            \"--output\", outputTopicName,\n            \"--jar\", JAR_NAME,\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        CreateFunction creater = cmd.getCreater();\n        assertEquals(fnName, creater.getFunctionName());\n        assertEquals(topicPatterns, creater.getTopicsPattern());\n        assertEquals(outputTopicName, creater.getOutput());\n\n        verify(functions, times(1)).createFunction(any(FunctionConfig.class), anyString());\n\n    }\n","date":"2018-10-23 02:12:40","endLine":429,"groupId":"5128","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testCreateFunctionWithTopicPatterns","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/bf/4af8ab7299f5372a53082c99e14e9ef5159a0c.src","preCode":"    public void testCreateFunctionWithTopicPatterns() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String topicPatterns = \"persistent://tenant/ns/topicPattern*\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n        cmd.run(new String[] {\n            \"create\",\n            \"--name\", fnName,\n            \"--topicsPattern\", topicPatterns,\n            \"--output\", outputTopicName,\n            \"--jar\", \"SomeJar.jar\",\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        CreateFunction creater = cmd.getCreater();\n        assertEquals(fnName, creater.getFunctionName());\n        assertEquals(topicPatterns, creater.getTopicsPattern());\n        assertEquals(outputTopicName, creater.getOutput());\n\n        verify(functions, times(1)).createFunction(any(FunctionConfig.class), anyString());\n\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":407,"status":"M"},{"authorDate":"2018-10-23 02:12:40","commitOrder":6,"curCode":"    public void testUpdateFunction() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String inputTopicName = TEST_NAME + \"-input-topic\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n\n        cmd.run(new String[] {\n            \"update\",\n            \"--name\", fnName,\n            \"--inputs\", inputTopicName,\n            \"--output\", outputTopicName,\n            \"--jar\", JAR_NAME,\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        UpdateFunction updater = cmd.getUpdater();\n        assertEquals(fnName, updater.getFunctionName());\n        assertEquals(inputTopicName, updater.getInputs());\n        assertEquals(outputTopicName, updater.getOutput());\n\n        verify(functions, times(1)).updateFunction(any(FunctionConfig.class), anyString());\n    }\n","date":"2018-10-23 02:12:40","endLine":621,"groupId":"781","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testUpdateFunction","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/bf/4af8ab7299f5372a53082c99e14e9ef5159a0c.src","preCode":"    public void testUpdateFunction() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String inputTopicName = TEST_NAME + \"-input-topic\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n\n        cmd.run(new String[] {\n            \"update\",\n            \"--name\", fnName,\n            \"--inputs\", inputTopicName,\n            \"--output\", outputTopicName,\n            \"--jar\", \"SomeJar.jar\",\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        UpdateFunction updater = cmd.getUpdater();\n        assertEquals(fnName, updater.getFunctionName());\n        assertEquals(inputTopicName, updater.getInputs());\n        assertEquals(outputTopicName, updater.getOutput());\n\n        verify(functions, times(1)).updateFunction(any(FunctionConfig.class), anyString());\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":599,"status":"M"}],"commitId":"32d1dafdb4f77bf241c8786d067734a4bebdd4cf","commitMessage":"@@@Removed Validation Annotations and do manual Validation (#2813)\n\n* Added Get and List source/sink functionality\n\n* Fixed compile\n\n* Removed test that doesnt make sense any more\n\n* Fixed build\n\n* Fixed logic\n\n* Return error response\n\n* Return response on error\n\n* Fix unittest\n\n* Fixed unittest\n\n* Fixed unittest\n\n* Fixed unittest\n\n* Added get/list sinks tests\n\n* Added get/list tests\n\n* Add more unittests\n\n* Added more unittests\n\n* Added TODO\n\n* Took feedback\n\n* Fix unittest\n\n* Fix unittest\n\n* Fix unittest\n\n* Fixed integration tests\n\n* Fixed integration test\n\n* Added restart/stop functionality to the sources/sinks\n\n* Added getstatus method to sources/sink\n\n* Fix integration tests\n\n* Do Explicit Validation of Configs instead of annotations\n\n* Remove all annotations from config files\n\n* Removed validator related classes\n\n* Removed unused imports\n\n* Fix check logic\n\n* fix compilation\n\n* Fix unittest\n\n* Fixed unittest\n\n* Fixed unittest\n\n* Validator tests should be done elsewhere\n\n* Added unittest\n\n* Fixed unittest\n","date":"2018-10-23 02:12:40","modifiedFileCount":"23","status":"M","submitter":"Sanjeev Kulkarni"},{"authorTime":"2019-05-07 01:24:09","codes":[{"authorDate":"2018-10-23 02:12:40","commitOrder":7,"curCode":"    public void testCreateFunctionWithTopicPatterns() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String topicPatterns = \"persistent://tenant/ns/topicPattern*\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n        cmd.run(new String[] {\n            \"create\",\n            \"--name\", fnName,\n            \"--topicsPattern\", topicPatterns,\n            \"--output\", outputTopicName,\n            \"--jar\", JAR_NAME,\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        CreateFunction creater = cmd.getCreater();\n        assertEquals(fnName, creater.getFunctionName());\n        assertEquals(topicPatterns, creater.getTopicsPattern());\n        assertEquals(outputTopicName, creater.getOutput());\n\n        verify(functions, times(1)).createFunction(any(FunctionConfig.class), anyString());\n\n    }\n","date":"2018-10-23 02:12:40","endLine":429,"groupId":"5128","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testCreateFunctionWithTopicPatterns","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/bf/4af8ab7299f5372a53082c99e14e9ef5159a0c.src","preCode":"    public void testCreateFunctionWithTopicPatterns() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String topicPatterns = \"persistent://tenant/ns/topicPattern*\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n        cmd.run(new String[] {\n            \"create\",\n            \"--name\", fnName,\n            \"--topicsPattern\", topicPatterns,\n            \"--output\", outputTopicName,\n            \"--jar\", JAR_NAME,\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        CreateFunction creater = cmd.getCreater();\n        assertEquals(fnName, creater.getFunctionName());\n        assertEquals(topicPatterns, creater.getTopicsPattern());\n        assertEquals(outputTopicName, creater.getOutput());\n\n        verify(functions, times(1)).createFunction(any(FunctionConfig.class), anyString());\n\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":407,"status":"N"},{"authorDate":"2019-05-07 01:24:09","commitOrder":7,"curCode":"    public void testUpdateFunction() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String inputTopicName = TEST_NAME + \"-input-topic\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n\n        cmd.run(new String[] {\n            \"update\",\n            \"--name\", fnName,\n            \"--inputs\", inputTopicName,\n            \"--output\", outputTopicName,\n            \"--jar\", JAR_NAME,\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        UpdateFunction updater = cmd.getUpdater();\n        assertEquals(fnName, updater.getFunctionName());\n        assertEquals(inputTopicName, updater.getInputs());\n        assertEquals(outputTopicName, updater.getOutput());\n\n        verify(functions, times(1)).updateFunction(any(FunctionConfig.class), anyString(), eq(new UpdateOptions()));\n    }\n","date":"2019-05-07 01:24:09","endLine":509,"groupId":"781","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testUpdateFunction","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/c1/e40fbe67720a4137471ddc791c17ff5a338bf9.src","preCode":"    public void testUpdateFunction() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String inputTopicName = TEST_NAME + \"-input-topic\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n\n        cmd.run(new String[] {\n            \"update\",\n            \"--name\", fnName,\n            \"--inputs\", inputTopicName,\n            \"--output\", outputTopicName,\n            \"--jar\", JAR_NAME,\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        UpdateFunction updater = cmd.getUpdater();\n        assertEquals(fnName, updater.getFunctionName());\n        assertEquals(inputTopicName, updater.getInputs());\n        assertEquals(outputTopicName, updater.getOutput());\n\n        verify(functions, times(1)).updateFunction(any(FunctionConfig.class), anyString());\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":487,"status":"M"}],"commitId":"08fcc215e833594f6c96df4de34ce7d96d92286d","commitMessage":"@@@Allow users to update auth data during function update (#4198)\n\n* allow users to update auth data during function update\n","date":"2019-05-07 01:24:09","modifiedFileCount":"35","status":"M","submitter":"Boyang Jerry Peng"},{"authorTime":"2020-03-07 04:50:55","codes":[{"authorDate":"2020-03-07 04:50:55","commitOrder":8,"curCode":"    public void testCreateFunctionWithTopicPatterns() throws Exception {\n        String topicPatterns = \"persistent://tenant/ns/topicPattern*\";\n        cmd.run(new String[] {\n            \"create\",\n            \"--name\", FN_NAME,\n            \"--topicsPattern\", topicPatterns,\n            \"--output\", OUTPUT_TOPIC_NAME,\n            \"--jar\", JAR_NAME,\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        CreateFunction creater = cmd.getCreater();\n        assertEquals(FN_NAME, creater.getFunctionName());\n        assertEquals(topicPatterns, creater.getTopicsPattern());\n        assertEquals(OUTPUT_TOPIC_NAME, creater.getOutput());\n\n        verify(functions, times(1)).createFunction(any(FunctionConfig.class), anyString());\n\n    }\n","date":"2020-03-07 04:50:55","endLine":363,"groupId":"5128","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"testCreateFunctionWithTopicPatterns","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/c1/62c4b3f345a7ea314132b5719b0d52c74cbc1a.src","preCode":"    public void testCreateFunctionWithTopicPatterns() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String topicPatterns = \"persistent://tenant/ns/topicPattern*\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n        cmd.run(new String[] {\n            \"create\",\n            \"--name\", fnName,\n            \"--topicsPattern\", topicPatterns,\n            \"--output\", outputTopicName,\n            \"--jar\", JAR_NAME,\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        CreateFunction creater = cmd.getCreater();\n        assertEquals(fnName, creater.getFunctionName());\n        assertEquals(topicPatterns, creater.getTopicsPattern());\n        assertEquals(outputTopicName, creater.getOutput());\n\n        verify(functions, times(1)).createFunction(any(FunctionConfig.class), anyString());\n\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":343,"status":"M"},{"authorDate":"2020-03-07 04:50:55","commitOrder":8,"curCode":"    public void testUpdateFunction() throws Exception {\n        cmd.run(new String[] {\n            \"update\",\n            \"--name\", FN_NAME,\n            \"--inputs\", INPUT_TOPIC_NAME,\n            \"--output\", OUTPUT_TOPIC_NAME,\n            \"--jar\", JAR_NAME,\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        UpdateFunction updater = cmd.getUpdater();\n        assertEquals(FN_NAME, updater.getFunctionName());\n        assertEquals(INPUT_TOPIC_NAME, updater.getInputs());\n        assertEquals(OUTPUT_TOPIC_NAME, updater.getOutput());\n\n        verify(functions, times(1)).updateFunction(any(FunctionConfig.class), anyString(), eq(new UpdateOptions()));\n    }\n","date":"2020-03-07 04:50:55","endLine":480,"groupId":"781","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"testUpdateFunction","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/c1/62c4b3f345a7ea314132b5719b0d52c74cbc1a.src","preCode":"    public void testUpdateFunction() throws Exception {\n        String fnName = TEST_NAME + \"-function\";\n        String inputTopicName = TEST_NAME + \"-input-topic\";\n        String outputTopicName = TEST_NAME + \"-output-topic\";\n\n        cmd.run(new String[] {\n            \"update\",\n            \"--name\", fnName,\n            \"--inputs\", inputTopicName,\n            \"--output\", outputTopicName,\n            \"--jar\", JAR_NAME,\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        UpdateFunction updater = cmd.getUpdater();\n        assertEquals(fnName, updater.getFunctionName());\n        assertEquals(inputTopicName, updater.getInputs());\n        assertEquals(outputTopicName, updater.getOutput());\n\n        verify(functions, times(1)).updateFunction(any(FunctionConfig.class), anyString(), eq(new UpdateOptions()));\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":462,"status":"M"}],"commitId":"73e8beb62f9a9bfc13a347611859f1b2af0fd33c","commitMessage":"@@@Refactor tests in pulsar client tools test (#6472)\n\n\n Modifications\n\nThe main modification was the reduction of repeated initialization of the variables in the tests.","date":"2020-03-07 04:50:55","modifiedFileCount":"3","status":"M","submitter":"Sergii Zhevzhyk"},{"authorTime":"2021-06-03 05:17:04","codes":[{"authorDate":"2020-03-07 04:50:55","commitOrder":9,"curCode":"    public void testCreateFunctionWithTopicPatterns() throws Exception {\n        String topicPatterns = \"persistent://tenant/ns/topicPattern*\";\n        cmd.run(new String[] {\n            \"create\",\n            \"--name\", FN_NAME,\n            \"--topicsPattern\", topicPatterns,\n            \"--output\", OUTPUT_TOPIC_NAME,\n            \"--jar\", JAR_NAME,\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        CreateFunction creater = cmd.getCreater();\n        assertEquals(FN_NAME, creater.getFunctionName());\n        assertEquals(topicPatterns, creater.getTopicsPattern());\n        assertEquals(OUTPUT_TOPIC_NAME, creater.getOutput());\n\n        verify(functions, times(1)).createFunction(any(FunctionConfig.class), anyString());\n\n    }\n","date":"2020-03-07 04:50:55","endLine":363,"groupId":"10320","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"testCreateFunctionWithTopicPatterns","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/c1/62c4b3f345a7ea314132b5719b0d52c74cbc1a.src","preCode":"    public void testCreateFunctionWithTopicPatterns() throws Exception {\n        String topicPatterns = \"persistent://tenant/ns/topicPattern*\";\n        cmd.run(new String[] {\n            \"create\",\n            \"--name\", FN_NAME,\n            \"--topicsPattern\", topicPatterns,\n            \"--output\", OUTPUT_TOPIC_NAME,\n            \"--jar\", JAR_NAME,\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        CreateFunction creater = cmd.getCreater();\n        assertEquals(FN_NAME, creater.getFunctionName());\n        assertEquals(topicPatterns, creater.getTopicsPattern());\n        assertEquals(OUTPUT_TOPIC_NAME, creater.getOutput());\n\n        verify(functions, times(1)).createFunction(any(FunctionConfig.class), anyString());\n\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":343,"status":"N"},{"authorDate":"2021-06-03 05:17:04","commitOrder":9,"curCode":"    public void testUpdateFunction() throws Exception {\n        cmd.run(new String[] {\n            \"update\",\n            \"--name\", FN_NAME,\n            \"--inputs\", INPUT_TOPIC_NAME,\n            \"--output\", OUTPUT_TOPIC_NAME,\n            \"--jar\", JAR_NAME,\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        UpdateFunction updater = cmd.getUpdater();\n        assertEquals(FN_NAME, updater.getFunctionName());\n        assertEquals(INPUT_TOPIC_NAME, updater.getInputs());\n        assertEquals(OUTPUT_TOPIC_NAME, updater.getOutput());\n\n        verify(functions, times(1)).updateFunction(any(FunctionConfig.class), anyString(), eq(new UpdateOptionsImpl()));\n    }\n","date":"2021-06-03 05:17:04","endLine":523,"groupId":"10320","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"testUpdateFunction","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/d7/f68a4b790f0e1d6e0fea285afe725fd28f0df0.src","preCode":"    public void testUpdateFunction() throws Exception {\n        cmd.run(new String[] {\n            \"update\",\n            \"--name\", FN_NAME,\n            \"--inputs\", INPUT_TOPIC_NAME,\n            \"--output\", OUTPUT_TOPIC_NAME,\n            \"--jar\", JAR_NAME,\n            \"--tenant\", \"sample\",\n            \"--namespace\", \"ns1\",\n            \"--className\", DummyFunction.class.getName(),\n        });\n\n        UpdateFunction updater = cmd.getUpdater();\n        assertEquals(FN_NAME, updater.getFunctionName());\n        assertEquals(INPUT_TOPIC_NAME, updater.getInputs());\n        assertEquals(OUTPUT_TOPIC_NAME, updater.getOutput());\n\n        verify(functions, times(1)).updateFunction(any(FunctionConfig.class), anyString(), eq(new UpdateOptions()));\n    }\n","realPath":"pulsar-client-tools-test/src/test/java/org/apache/pulsar/admin/cli/CmdFunctionsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":505,"status":"M"}],"commitId":"301a76435ce918520f1b70b95b7ebed9bf1b08b5","commitMessage":"@@@Remove pulsar-client-admin-api dependency : pulsar-common (#10774)\n\n* remove gson from admin api Topics.java\n\n* Bookies.java\n\n* Brokers.java\n\n* BrokerStats.java\n\n* fix PulsarAdminException\n\n* Clusters.java\n\n* Tenants.java\n\n* minor fix on ResourceGroups\n\n* Namespaces.java & OffloadPolicies\n\n* temp remove JsonProperty in OffloadPolicies\n\n* Topics & NonPersistentTopics\n\n* ResourceQuotas with MixIn class\n\n* Functions\n\n* Sources.java\n\n* Sinks.java\n\n* Schemas.java\n\n* resolve checkstyle\n\n* minor fix\n\n* Transactions.java\n\n* fix stylecheck\n\n* set ObjectMapper module\n\n* fix ci\n\n* fix PulsarAdminException\n\n* remove gson\n\n* remove swagger\n\n* merge master\n\n* remove swagger\n\n* remove io.swagger\n\n* remove commons-lang3\n\n* use Objects.requireNonNull\n\n* remove commons-lang3\n\n* fix interface mapping\n\n* fix ci\n\n* extract OffloadPoliciesInterface\n\n* extract FunctionStats interfaces\n\n* fix unit test\n\n* fix shaded class\n\n* add object mapper mixin tests\n\n* fix ci\n\n* fix admin exception ci error\n\n* UpdateOptions\n\n* AutoFailoverPolicyData\n\n* BrokerNamespaceIsolationData\n\n* ClusterData\n\n* FailureDomain\n\n* FunctionInstanceStats\n\n* NamespaceIsolationData\n\n* OffloadPolicies\n\n* TenantInfo\n\n* FunctionStats\n\n* fix stylecheck\n\n* Fixed interface\n\n* Fixed ClusterData equals method\n\n* Fixed merge issue\n\n* Fixed another merge issue\n\n* Fixed test issue after merge\n\nCo-authored-by: Rui Fu <freelz@gmail.com>","date":"2021-06-03 05:17:04","modifiedFileCount":"266","status":"M","submitter":"Matteo Merli"}]
