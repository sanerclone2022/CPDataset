[{"authorTime":"2018-04-05 05:08:37","codes":[{"authorDate":"2018-04-05 05:08:37","commitOrder":1,"curCode":"    public void testConsumerStats() {\n        ConsumerStats stats = new ConsumerStats();\n        Assert.assertNull(stats.getAddress());\n        Assert.assertNull(stats.getClientVersion());\n        Assert.assertNull(stats.getConnectedSince());\n        \n        stats.setAddress(\"address\");\n        Assert.assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        Assert.assertEquals(stats.getConnectedSince(), \"connected\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        Assert.assertEquals(stats.getAddress(), null);\n        \n        stats.setConnectedSince(\"\");\n        Assert.assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        Assert.assertEquals(stats.getClientVersion(), \"version2\");\n        \n        Assert.assertEquals(stats.getAddress(), null);\n        \n        Assert.assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        Assert.assertNull(stats.getConnectedSince());\n        Assert.assertNull(stats.getClientVersion());\n    }\n","date":"2018-04-05 05:08:37","endLine":64,"groupId":"814","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testConsumerStats","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/73/1f52e75e96ff88383ac5b7f5d75c96b5dfc5f4.src","preCode":"    public void testConsumerStats() {\n        ConsumerStats stats = new ConsumerStats();\n        Assert.assertNull(stats.getAddress());\n        Assert.assertNull(stats.getClientVersion());\n        Assert.assertNull(stats.getConnectedSince());\n        \n        stats.setAddress(\"address\");\n        Assert.assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        Assert.assertEquals(stats.getConnectedSince(), \"connected\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        Assert.assertEquals(stats.getAddress(), null);\n        \n        stats.setConnectedSince(\"\");\n        Assert.assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        Assert.assertEquals(stats.getClientVersion(), \"version2\");\n        \n        Assert.assertEquals(stats.getAddress(), null);\n        \n        Assert.assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        Assert.assertNull(stats.getConnectedSince());\n        Assert.assertNull(stats.getClientVersion());\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/policies/data/ConsumerStatsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":27,"status":"B"},{"authorDate":"2018-04-05 05:08:37","commitOrder":1,"curCode":"    public void testPublisherStats() {\n        PublisherStats stats = new PublisherStats();\n        Assert.assertNull(stats.getAddress());\n        Assert.assertNull(stats.getClientVersion());\n        Assert.assertNull(stats.getConnectedSince());\n        Assert.assertNull(stats.getProducerName());\n        \n        stats.setAddress(\"address\");\n        Assert.assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        Assert.assertEquals(stats.getConnectedSince(), \"connected\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setProducerName(\"producer\");\n        Assert.assertEquals(stats.getProducerName(), \"producer\");\n        Assert.assertEquals(stats.getConnectedSince(), \"connected\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        Assert.assertEquals(stats.getAddress(), null);\n        \n        stats.setConnectedSince(\"\");\n        Assert.assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        Assert.assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setProducerName(null);\n        Assert.assertEquals(stats.getProducerName(), null);\n        \n        Assert.assertEquals(stats.getAddress(), null);\n        \n        Assert.assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        Assert.assertNull(stats.getConnectedSince());\n        Assert.assertNull(stats.getClientVersion());\n    }\n","date":"2018-04-05 05:08:37","endLine":74,"groupId":"814","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testPublisherStats","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/7b/305914f118dad638bf082bd1f90dcd3a4fb661.src","preCode":"    public void testPublisherStats() {\n        PublisherStats stats = new PublisherStats();\n        Assert.assertNull(stats.getAddress());\n        Assert.assertNull(stats.getClientVersion());\n        Assert.assertNull(stats.getConnectedSince());\n        Assert.assertNull(stats.getProducerName());\n        \n        stats.setAddress(\"address\");\n        Assert.assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        Assert.assertEquals(stats.getConnectedSince(), \"connected\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setProducerName(\"producer\");\n        Assert.assertEquals(stats.getProducerName(), \"producer\");\n        Assert.assertEquals(stats.getConnectedSince(), \"connected\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        Assert.assertEquals(stats.getAddress(), null);\n        \n        stats.setConnectedSince(\"\");\n        Assert.assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        Assert.assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setProducerName(null);\n        Assert.assertEquals(stats.getProducerName(), null);\n        \n        Assert.assertEquals(stats.getAddress(), null);\n        \n        Assert.assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        Assert.assertNull(stats.getConnectedSince());\n        Assert.assertNull(stats.getClientVersion());\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/policies/data/PublisherStatsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":27,"status":"B"}],"commitId":"ea8c47738007674657db89e1be1eb1efe3077658","commitMessage":"@@@GC improvement: Reduce string objects from Publisher and Consumer stats (#1480)\n\n","date":"2018-04-05 05:08:37","modifiedFileCount":"9","status":"B","submitter":"Rajan Dhabalia"},{"authorTime":"2019-07-26 00:14:02","codes":[{"authorDate":"2019-07-26 00:14:02","commitOrder":2,"curCode":"    public void testConsumerStats() {\n        ConsumerStats stats = new ConsumerStats();\n        assertNull(stats.getAddress());\n        assertNull(stats.getClientVersion());\n        assertNull(stats.getConnectedSince());\n        \n        stats.setAddress(\"address\");\n        assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        assertNull(stats.getAddress());\n        \n        stats.setConnectedSince(\"\");\n        assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        assertEquals(stats.getClientVersion(), \"version2\");\n\n        assertNull(stats.getAddress());\n        \n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getClientVersion());\n    }\n","date":"2019-07-26 00:14:02","endLine":66,"groupId":"3307","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testConsumerStats","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/85/3597d21247d1b04f2c0e3d8c788b3de80f73e6.src","preCode":"    public void testConsumerStats() {\n        ConsumerStats stats = new ConsumerStats();\n        Assert.assertNull(stats.getAddress());\n        Assert.assertNull(stats.getClientVersion());\n        Assert.assertNull(stats.getConnectedSince());\n        \n        stats.setAddress(\"address\");\n        Assert.assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        Assert.assertEquals(stats.getConnectedSince(), \"connected\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        Assert.assertEquals(stats.getAddress(), null);\n        \n        stats.setConnectedSince(\"\");\n        Assert.assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        Assert.assertEquals(stats.getClientVersion(), \"version2\");\n        \n        Assert.assertEquals(stats.getAddress(), null);\n        \n        Assert.assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        Assert.assertNull(stats.getConnectedSince());\n        Assert.assertNull(stats.getClientVersion());\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/policies/data/ConsumerStatsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":29,"status":"M"},{"authorDate":"2019-07-26 00:14:02","commitOrder":2,"curCode":"    public void testPublisherStats() {\n        PublisherStats stats = new PublisherStats();\n        assertNull(stats.getAddress());\n        assertNull(stats.getClientVersion());\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getProducerName());\n        \n        stats.setAddress(\"address\");\n        assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setProducerName(\"producer\");\n        assertEquals(stats.getProducerName(), \"producer\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        assertNull(stats.getAddress());\n        \n        stats.setConnectedSince(\"\");\n        assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setProducerName(null);\n        assertNull(stats.getProducerName());\n\n        assertNull(stats.getAddress());\n        \n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getClientVersion());\n    }\n","date":"2019-07-26 00:14:02","endLine":76,"groupId":"7963","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testPublisherStats","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/2b/c4dd75ca4fd0613f410b510c813a3ff16e3850.src","preCode":"    public void testPublisherStats() {\n        PublisherStats stats = new PublisherStats();\n        Assert.assertNull(stats.getAddress());\n        Assert.assertNull(stats.getClientVersion());\n        Assert.assertNull(stats.getConnectedSince());\n        Assert.assertNull(stats.getProducerName());\n        \n        stats.setAddress(\"address\");\n        Assert.assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        Assert.assertEquals(stats.getConnectedSince(), \"connected\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setProducerName(\"producer\");\n        Assert.assertEquals(stats.getProducerName(), \"producer\");\n        Assert.assertEquals(stats.getConnectedSince(), \"connected\");\n        Assert.assertEquals(stats.getAddress(), \"address1\");\n        Assert.assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        Assert.assertEquals(stats.getAddress(), null);\n        \n        stats.setConnectedSince(\"\");\n        Assert.assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        Assert.assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setProducerName(null);\n        Assert.assertEquals(stats.getProducerName(), null);\n        \n        Assert.assertEquals(stats.getAddress(), null);\n        \n        Assert.assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        Assert.assertNull(stats.getConnectedSince());\n        Assert.assertNull(stats.getClientVersion());\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/policies/data/PublisherStatsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":29,"status":"M"}],"commitId":"fb6895db195f08aa82f75dad93b1b9c0b1b15a88","commitMessage":"@@@Test cleanup and simplification (#4799)\n\n* Simplified assert statements in the tests. Switch to usage of static imports in tests. (Part 1)\n\n* Simplify assert statements in the tests and use the appropriate assert statements. Switch to usage of static imports in tests. Remove unused imports (Part 2)\n","date":"2019-07-26 00:14:02","modifiedFileCount":"134","status":"M","submitter":"vzhikserg"},{"authorTime":"2021-06-06 12:37:53","codes":[{"authorDate":"2021-06-06 12:37:53","commitOrder":3,"curCode":"    public void testConsumerStats() {\n        ConsumerStatsImpl stats = new ConsumerStatsImpl();\n        assertNull(stats.getAddress());\n        assertNull(stats.getClientVersion());\n        assertNull(stats.getConnectedSince());\n        \n        stats.setAddress(\"address\");\n        assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        assertNull(stats.getAddress());\n        \n        stats.setConnectedSince(\"\");\n        assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        assertEquals(stats.getClientVersion(), \"version2\");\n\n        assertNull(stats.getAddress());\n        \n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getClientVersion());\n    }\n","date":"2021-06-06 12:37:53","endLine":67,"groupId":"3307","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"testConsumerStats","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/b4/b27d8a6f89d251318db69196c516c167b7c6cd.src","preCode":"    public void testConsumerStats() {\n        ConsumerStats stats = new ConsumerStats();\n        assertNull(stats.getAddress());\n        assertNull(stats.getClientVersion());\n        assertNull(stats.getConnectedSince());\n        \n        stats.setAddress(\"address\");\n        assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        assertNull(stats.getAddress());\n        \n        stats.setConnectedSince(\"\");\n        assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        assertEquals(stats.getClientVersion(), \"version2\");\n\n        assertNull(stats.getAddress());\n        \n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getClientVersion());\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/policies/data/ConsumerStatsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":30,"status":"M"},{"authorDate":"2021-06-06 12:37:53","commitOrder":3,"curCode":"    public void testPublisherStats() {\n        PublisherStatsImpl stats = new PublisherStatsImpl();\n        assertNull(stats.getAddress());\n        assertNull(stats.getClientVersion());\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getProducerName());\n        \n        stats.setAddress(\"address\");\n        assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setProducerName(\"producer\");\n        assertEquals(stats.getProducerName(), \"producer\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        assertNull(stats.getAddress());\n        \n        stats.setConnectedSince(\"\");\n        assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setProducerName(null);\n        assertNull(stats.getProducerName());\n\n        assertNull(stats.getAddress());\n        \n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getClientVersion());\n    }\n","date":"2021-06-06 12:37:53","endLine":77,"groupId":"7963","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testPublisherStats","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/6b/c8771127bb90fd6f16ae1cf5e90fd7f000cb6d.src","preCode":"    public void testPublisherStats() {\n        PublisherStats stats = new PublisherStats();\n        assertNull(stats.getAddress());\n        assertNull(stats.getClientVersion());\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getProducerName());\n        \n        stats.setAddress(\"address\");\n        assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setProducerName(\"producer\");\n        assertEquals(stats.getProducerName(), \"producer\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        assertNull(stats.getAddress());\n        \n        stats.setConnectedSince(\"\");\n        assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setProducerName(null);\n        assertNull(stats.getProducerName());\n\n        assertNull(stats.getAddress());\n        \n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getClientVersion());\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/policies/data/PublisherStatsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":30,"status":"M"}],"commitId":"da71ec2b2a6682ffbab60843756f638bedbd4460","commitMessage":"@@@Make client-admin-api to use interfaces with builders instead of POJOs (#10818)\n\n\n Motivation\n\nInstead of using POJOs types in the Java client-admin API.  use interfaces \n\n\n Modifications\n * Converted more POJOs into interfaces\n * Added builders to construct instances of the interfaces without directly using the implementation classes\n\nNote: for easier reviewing.  there are 2 commits in this PR: \n * https://github.com/apache/pulsar/commit/f14ce733f69633143bd3bf4b4f3ae99a2ea93551 includes the changes to production code\n * https://github.com/apache/pulsar/commit/23b6f74c608cefc5da14ce1d2b29f34efde6870f changes to the unit tests\n","date":"2021-06-06 12:37:53","modifiedFileCount":"275","status":"M","submitter":"Matteo Merli"},{"authorTime":"2021-07-28 15:38:17","codes":[{"authorDate":"2021-06-06 12:37:53","commitOrder":4,"curCode":"    public void testConsumerStats() {\n        ConsumerStatsImpl stats = new ConsumerStatsImpl();\n        assertNull(stats.getAddress());\n        assertNull(stats.getClientVersion());\n        assertNull(stats.getConnectedSince());\n        \n        stats.setAddress(\"address\");\n        assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        assertNull(stats.getAddress());\n        \n        stats.setConnectedSince(\"\");\n        assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        assertEquals(stats.getClientVersion(), \"version2\");\n\n        assertNull(stats.getAddress());\n        \n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getClientVersion());\n    }\n","date":"2021-06-06 12:37:53","endLine":67,"groupId":"109","id":7,"instanceNumber":1,"isCurCommit":1,"methodName":"testConsumerStats","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/b4/b27d8a6f89d251318db69196c516c167b7c6cd.src","preCode":"    public void testConsumerStats() {\n        ConsumerStatsImpl stats = new ConsumerStatsImpl();\n        assertNull(stats.getAddress());\n        assertNull(stats.getClientVersion());\n        assertNull(stats.getConnectedSince());\n        \n        stats.setAddress(\"address\");\n        assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        assertNull(stats.getAddress());\n        \n        stats.setConnectedSince(\"\");\n        assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        assertEquals(stats.getClientVersion(), \"version2\");\n\n        assertNull(stats.getAddress());\n        \n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getClientVersion());\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/policies/data/ConsumerStatsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":30,"status":"N"},{"authorDate":"2021-07-28 15:38:17","commitOrder":4,"curCode":"    public void testPublisherStats() throws Exception {\n        Set<String> allowedFields = Sets.newHashSet(\n            \"accessMode\",\n            \"msgRateIn\",\n            \"msgThroughputIn\",\n            \"averageMsgSize\",\n            \"chunkedMessageRate\",\n            \"producerId\",\n            \"metadata\",\n            \"address\",\n            \"connectedSince\",\n            \"clientVersion\",\n            \"producerName\"\n        );\n\n        PublisherStatsImpl stats = new PublisherStatsImpl();\n        assertNull(stats.getAddress());\n        assertNull(stats.getClientVersion());\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getProducerName());\n        \n        stats.setAddress(\"address\");\n        assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setProducerName(\"producer\");\n        assertEquals(stats.getProducerName(), \"producer\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n\n        \r\n        ObjectMapper mapper = ObjectMapperFactory.create();\n        JsonNode node = mapper.readTree(mapper.writer().writeValueAsString(stats));\n        Iterator<String> itr = node.fieldNames();\n        while (itr.hasNext()) {\n            String field = itr.next();\n            assertTrue(allowedFields.contains(field), field + \" should not be exposed\");\n        }\n        \n        stats.setAddress(null);\n        assertNull(stats.getAddress());\n        \n        stats.setConnectedSince(\"\");\n        assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setProducerName(null);\n        assertNull(stats.getProducerName());\n\n        assertNull(stats.getAddress());\n        \n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getClientVersion());\n    }\n","date":"2021-07-28 15:38:17","endLine":107,"groupId":"109","id":8,"instanceNumber":2,"isCurCommit":1,"methodName":"testPublisherStats","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/9f/34a9128e48f1ec87962ce00565617fd6ed53bb.src","preCode":"    public void testPublisherStats() {\n        PublisherStatsImpl stats = new PublisherStatsImpl();\n        assertNull(stats.getAddress());\n        assertNull(stats.getClientVersion());\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getProducerName());\n        \n        stats.setAddress(\"address\");\n        assertEquals(stats.getAddress(), \"address\");\n        stats.setAddress(\"address1\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setClientVersion(\"version\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        assertEquals(stats.getAddress(), \"address1\");\n        \n        stats.setConnectedSince(\"connected\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setProducerName(\"producer\");\n        assertEquals(stats.getProducerName(), \"producer\");\n        assertEquals(stats.getConnectedSince(), \"connected\");\n        assertEquals(stats.getAddress(), \"address1\");\n        assertEquals(stats.getClientVersion(), \"version\");\n        \n        stats.setAddress(null);\n        assertNull(stats.getAddress());\n        \n        stats.setConnectedSince(\"\");\n        assertEquals(stats.getConnectedSince(), \"\");\n        \n        stats.setClientVersion(\"version2\");\n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setProducerName(null);\n        assertNull(stats.getProducerName());\n\n        assertNull(stats.getAddress());\n        \n        assertEquals(stats.getClientVersion(), \"version2\");\n        \n        stats.setConnectedSince(null);\n        stats.setClientVersion(null);\n        assertNull(stats.getConnectedSince());\n        assertNull(stats.getClientVersion());\n    }\n","realPath":"pulsar-common/src/test/java/org/apache/pulsar/common/policies/data/PublisherStatsTest.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":37,"status":"M"}],"commitId":"d3c44ba8d1b0fad7518077708f6211dd10925878","commitMessage":"@@@[stats] Do not expose meaningless stats for publisher (#11454)\n\n\n Motivation\n\nCurrently.  publisher stats includes some fields that are meaningless for users.\n```\ncount\nproducerNameOffset\nproducerNameLength\naddressOffset\naddressLength\nconnectedSinceOffset\nconnectedSinceLength\nclientVersionOffset\nclientVersionLength\nstringBuffer\n```\nThese cause the size of the json data to grow and should not be exposed. \n\n\n Modifications\n\nAdd the `@JsonIgnore` annotation to the above fields. This is a modification similar to https://github.com/apache/pulsar/pull/11005.","date":"2021-07-28 15:38:17","modifiedFileCount":"4","status":"M","submitter":"Masahiro Sakamoto"}]
