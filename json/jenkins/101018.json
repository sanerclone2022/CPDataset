[{"authorTime":"2010-09-08 13:36:29","codes":[{"authorDate":"2009-10-30 05:27:46","commitOrder":6,"curCode":"    public void doUpgrade(StaplerResponse rsp) throws IOException, ServletException {\n        requirePOST();\n        Hudson.getInstance().checkPermission(Hudson.ADMINISTER);\n        HudsonUpgradeJob job = new HudsonUpgradeJob(getCoreSource(), Hudson.getAuthentication());\n        if(!Lifecycle.get().canRewriteHudsonWar()) {\n            sendError(\"Hudson upgrade not supported in this running mode\");\n            return;\n        }\n\n        LOGGER.info(\"Scheduling the core upgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","date":"2009-10-30 05:27:46","endLine":240,"groupId":"9306","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"doUpgrade","params":"(StaplerResponsersp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/11/962f43c8c180d5e4cf6ef5cb49976fbcd11a0e.src","preCode":"    public void doUpgrade(StaplerResponse rsp) throws IOException, ServletException {\n        requirePOST();\n        Hudson.getInstance().checkPermission(Hudson.ADMINISTER);\n        HudsonUpgradeJob job = new HudsonUpgradeJob(getCoreSource(), Hudson.getAuthentication());\n        if(!Lifecycle.get().canRewriteHudsonWar()) {\n            sendError(\"Hudson upgrade not supported in this running mode\");\n            return;\n        }\n\n        LOGGER.info(\"Scheduling the core upgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","realPath":"core/src/main/java/hudson/model/UpdateCenter.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":228,"status":"NB"},{"authorDate":"2010-09-08 13:36:29","commitOrder":6,"curCode":"    public void doDowngrade(StaplerResponse rsp) throws IOException, ServletException {\n        requirePOST();\n        Hudson.getInstance().checkPermission(Hudson.ADMINISTER);\n        if(!isDowngradable()) {\n            sendError(\"Hudson downgrade is not possible, probably backup does not exist\");\n            return;\n        }\n\n        HudsonDowngradeJob job = new HudsonDowngradeJob(getCoreSource(), Hudson.getAuthentication());\n        LOGGER.info(\"Scheduling the core downgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","date":"2010-09-08 13:36:29","endLine":309,"groupId":"5569","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"doDowngrade","params":"(StaplerResponsersp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/b9/7ef60589d5ecf67723fa033b6218cc3fea34b1.src","preCode":"    public void doDowngrade(StaplerResponse rsp) throws IOException, ServletException {\n        requirePOST();\n        Hudson.getInstance().checkPermission(Hudson.ADMINISTER);\n        if(!isDowngradable()) {\n            sendError(\"Hudson downgrade is not possible, probably backup does not exist\");\n            return;\n        }\n\n        HudsonDowngradeJob job = new HudsonDowngradeJob(getCoreSource(), Hudson.getAuthentication());\n        LOGGER.info(\"Scheduling the core downgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","realPath":"core/src/main/java/hudson/model/UpdateCenter.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":297,"status":"B"}],"commitId":"8ec3054c301ec3374ed563248076ce3e154883fe","commitMessage":"@@@Added downgrade support for the core and plugins.\n\n--------\nMerged revisions 32975. 33588. 33697. 34342 via svnmerge from \nhttps://www.dev.java.net/svn/hudson/branches/downgrade\n\n........\n  r32975 | kohsuke | 2010-07-16 21:27:59 +0200 (Fri.  16 Jul 2010) | 1 line\n  \n  committed my partially modified version\n........\n  r33588 | dienomight | 2010-08-05 09:42:36 +0200 (Thu.  05 Aug 2010) | 13 lines\n  \n  Added getBackupVersion (UpdateCenter)\n  downgrade button now shows version of backup war file\n  \n  Added HudsonDowngradeJob (UpdateCenter)\n  downgrading process is works now as HudsonUpgradeJob\n  \n  Changed rewriteHudsonWar (Lifecycle) \n  backup file is deleted when downgrading\n  \n  hudson/model/Hudson/downgrade_success.jelly is no longer necessary\n  \n  Changed rewriteHudsonWar(WindowsServiceLifecycle)\n  hudson run as windows service creates backup during upgrading\n........\n  r33697 | dienomight | 2010-08-11 17:09:48 +0200 (Wed.  11 Aug 2010) | 8 lines\n  \n  committed changes:\n  \"plugins downgrade functionality\"\n  added: \n  * PluginDowngradeJob in UpdateCenter\n  * getCanDowngrade & getBackupPath & getBackupVersion in PluginWrapper\n  * additional \"previous version\" column in installed.jelly (PluginManager) with downgrade button (when it's possible to downgrade)\n  * doDowngrade in PluginManager\n  * deployBackup in UpdateSite\n........\n  r34342 | dienomight | 2010-09-03 09:52:13 +0200 (Fri.  03 Sep 2010) | 12 lines\n  \n  Code improvements: \n  jelly files:\n  *I put text inside ${%} so it would be available for translation.\n  UpdateCenter: \n  *changed getCanDowngrade to isDowngradable\n  *getBackupVersion use JarFile class to get version of .war backup\n  PluginWrapper:\n  *changed getBackupPath to getBackupFile\n  *getBackupVersion use JarFile class to get version of plugin backup\n  PluginManager:\n  *changed condition in doDowngrade method\n........\n\n\ngit-svn-id: https://hudson.dev.java.net/svn/hudson/trunk/hudson/main@34543 71c3de6d-444a-0410-be80-ed276b4c234a\n","date":"2010-09-08 13:36:29","modifiedFileCount":"6","status":"M","submitter":"kohsuke"},{"authorTime":"2011-02-04 01:47:50","codes":[{"authorDate":"2011-02-04 01:47:50","commitOrder":7,"curCode":"    public void doUpgrade(StaplerResponse rsp) throws IOException, ServletException {\n        requirePOST();\n        Hudson.getInstance().checkPermission(Hudson.ADMINISTER);\n        HudsonUpgradeJob job = new HudsonUpgradeJob(getCoreSource(), Hudson.getAuthentication());\n        if(!Lifecycle.get().canRewriteHudsonWar()) {\n            sendError(\"Jenkins upgrade not supported in this running mode\");\n            return;\n        }\n\n        LOGGER.info(\"Scheduling the core upgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","date":"2011-02-04 01:47:50","endLine":285,"groupId":"9306","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"doUpgrade","params":"(StaplerResponsersp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/00/b3fe70d584e706219b91dea692091d1c8304d1.src","preCode":"    public void doUpgrade(StaplerResponse rsp) throws IOException, ServletException {\n        requirePOST();\n        Hudson.getInstance().checkPermission(Hudson.ADMINISTER);\n        HudsonUpgradeJob job = new HudsonUpgradeJob(getCoreSource(), Hudson.getAuthentication());\n        if(!Lifecycle.get().canRewriteHudsonWar()) {\n            sendError(\"Hudson upgrade not supported in this running mode\");\n            return;\n        }\n\n        LOGGER.info(\"Scheduling the core upgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","realPath":"core/src/main/java/hudson/model/UpdateCenter.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":273,"status":"M"},{"authorDate":"2011-02-04 01:47:50","commitOrder":7,"curCode":"    public void doDowngrade(StaplerResponse rsp) throws IOException, ServletException {\n        requirePOST();\n        Hudson.getInstance().checkPermission(Hudson.ADMINISTER);\n        if(!isDowngradable()) {\n            sendError(\"Jenkins downgrade is not possible, probably backup does not exist\");\n            return;\n        }\n\n        HudsonDowngradeJob job = new HudsonDowngradeJob(getCoreSource(), Hudson.getAuthentication());\n        LOGGER.info(\"Scheduling the core downgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","date":"2011-02-04 01:47:50","endLine":309,"groupId":"5569","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"doDowngrade","params":"(StaplerResponsersp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/00/b3fe70d584e706219b91dea692091d1c8304d1.src","preCode":"    public void doDowngrade(StaplerResponse rsp) throws IOException, ServletException {\n        requirePOST();\n        Hudson.getInstance().checkPermission(Hudson.ADMINISTER);\n        if(!isDowngradable()) {\n            sendError(\"Hudson downgrade is not possible, probably backup does not exist\");\n            return;\n        }\n\n        HudsonDowngradeJob job = new HudsonDowngradeJob(getCoreSource(), Hudson.getAuthentication());\n        LOGGER.info(\"Scheduling the core downgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","realPath":"core/src/main/java/hudson/model/UpdateCenter.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":297,"status":"M"}],"commitId":"3ba54b53ae532b68cead61d585f87969f95532a0","commitMessage":"@@@hudson.war/jenkins.war changes.. made getBackupVersion use getHudsonWar()+\".bak\"\nto match 2 other methods in this file (instead of hardcoded hudson.war.bak)\n","date":"2011-02-04 01:47:50","modifiedFileCount":"1","status":"M","submitter":"alanharder"},{"authorTime":"2011-06-08 01:44:49","codes":[{"authorDate":"2011-06-08 01:44:49","commitOrder":8,"curCode":"    public void doUpgrade(StaplerResponse rsp) throws IOException, ServletException {\n        requirePOST();\n        Jenkins.getInstance().checkPermission(Jenkins.ADMINISTER);\n        HudsonUpgradeJob job = new HudsonUpgradeJob(getCoreSource(), Jenkins.getAuthentication());\n        if(!Lifecycle.get().canRewriteHudsonWar()) {\n            sendError(\"Jenkins upgrade not supported in this running mode\");\n            return;\n        }\n\n        LOGGER.info(\"Scheduling the core upgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","date":"2011-06-08 01:44:49","endLine":289,"groupId":"9306","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"doUpgrade","params":"(StaplerResponsersp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/da/30684d2eeae7d4482758dd547a1dd1cf0bfd42.src","preCode":"    public void doUpgrade(StaplerResponse rsp) throws IOException, ServletException {\n        requirePOST();\n        Hudson.getInstance().checkPermission(Hudson.ADMINISTER);\n        HudsonUpgradeJob job = new HudsonUpgradeJob(getCoreSource(), Hudson.getAuthentication());\n        if(!Lifecycle.get().canRewriteHudsonWar()) {\n            sendError(\"Jenkins upgrade not supported in this running mode\");\n            return;\n        }\n\n        LOGGER.info(\"Scheduling the core upgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","realPath":"core/src/main/java/hudson/model/UpdateCenter.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":277,"status":"M"},{"authorDate":"2011-06-08 01:44:49","commitOrder":8,"curCode":"    public void doDowngrade(StaplerResponse rsp) throws IOException, ServletException {\n        requirePOST();\n        Jenkins.getInstance().checkPermission(Jenkins.ADMINISTER);\n        if(!isDowngradable()) {\n            sendError(\"Jenkins downgrade is not possible, probably backup does not exist\");\n            return;\n        }\n\n        HudsonDowngradeJob job = new HudsonDowngradeJob(getCoreSource(), Jenkins.getAuthentication());\n        LOGGER.info(\"Scheduling the core downgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","date":"2011-06-08 01:44:49","endLine":323,"groupId":"5569","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"doDowngrade","params":"(StaplerResponsersp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/da/30684d2eeae7d4482758dd547a1dd1cf0bfd42.src","preCode":"    public void doDowngrade(StaplerResponse rsp) throws IOException, ServletException {\n        requirePOST();\n        Hudson.getInstance().checkPermission(Hudson.ADMINISTER);\n        if(!isDowngradable()) {\n            sendError(\"Jenkins downgrade is not possible, probably backup does not exist\");\n            return;\n        }\n\n        HudsonDowngradeJob job = new HudsonDowngradeJob(getCoreSource(), Hudson.getAuthentication());\n        LOGGER.info(\"Scheduling the core downgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","realPath":"core/src/main/java/hudson/model/UpdateCenter.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":311,"status":"M"}],"commitId":"d5c24703706b5afc6f62664251d1bfb1b0e0668f","commitMessage":"@@@Merge branch 'pull-152'\n\nConflicts:\n\tcore/src/main/java/hudson/model/DependencyGraph.java\n","date":"2011-06-08 01:44:49","modifiedFileCount":"310","status":"M","submitter":"Kohsuke Kawaguchi"},{"authorTime":"2012-03-04 02:28:40","codes":[{"authorDate":"2012-03-04 02:28:40","commitOrder":9,"curCode":"    public void doUpgrade(StaplerResponse rsp) throws IOException, ServletException {\n        Jenkins.getInstance().checkPermission(Jenkins.ADMINISTER);\n        HudsonUpgradeJob job = new HudsonUpgradeJob(getCoreSource(), Jenkins.getAuthentication());\n        if(!Lifecycle.get().canRewriteHudsonWar()) {\n            sendError(\"Jenkins upgrade not supported in this running mode\");\n            return;\n        }\n\n        LOGGER.info(\"Scheduling the core upgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","date":"2012-03-04 02:28:40","endLine":297,"groupId":"9306","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"doUpgrade","params":"(StaplerResponsersp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/03/e95315fc160ebefe33a6a2c7dc9121d9697942.src","preCode":"    public void doUpgrade(StaplerResponse rsp) throws IOException, ServletException {\n        requirePOST();\n        Jenkins.getInstance().checkPermission(Jenkins.ADMINISTER);\n        HudsonUpgradeJob job = new HudsonUpgradeJob(getCoreSource(), Jenkins.getAuthentication());\n        if(!Lifecycle.get().canRewriteHudsonWar()) {\n            sendError(\"Jenkins upgrade not supported in this running mode\");\n            return;\n        }\n\n        LOGGER.info(\"Scheduling the core upgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","realPath":"core/src/main/java/hudson/model/UpdateCenter.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":286,"status":"M"},{"authorDate":"2012-03-04 02:28:40","commitOrder":9,"curCode":"    public void doDowngrade(StaplerResponse rsp) throws IOException, ServletException {\n        Jenkins.getInstance().checkPermission(Jenkins.ADMINISTER);\n        if(!isDowngradable()) {\n            sendError(\"Jenkins downgrade is not possible, probably backup does not exist\");\n            return;\n        }\n\n        HudsonDowngradeJob job = new HudsonDowngradeJob(getCoreSource(), Jenkins.getAuthentication());\n        LOGGER.info(\"Scheduling the core downgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","date":"2012-03-04 02:28:40","endLine":383,"groupId":"5569","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"doDowngrade","params":"(StaplerResponsersp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/03/e95315fc160ebefe33a6a2c7dc9121d9697942.src","preCode":"    public void doDowngrade(StaplerResponse rsp) throws IOException, ServletException {\n        requirePOST();\n        Jenkins.getInstance().checkPermission(Jenkins.ADMINISTER);\n        if(!isDowngradable()) {\n            sendError(\"Jenkins downgrade is not possible, probably backup does not exist\");\n            return;\n        }\n\n        HudsonDowngradeJob job = new HudsonDowngradeJob(getCoreSource(), Jenkins.getAuthentication());\n        LOGGER.info(\"Scheduling the core downgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","realPath":"core/src/main/java/hudson/model/UpdateCenter.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":372,"status":"M"}],"commitId":"0be15c9bdc33427910fa4d090a98562a2bf5c703","commitMessage":"@@@Updated to use @RequirePOST annotation\n","date":"2012-03-04 02:28:40","modifiedFileCount":"15","status":"M","submitter":"Kohsuke Kawaguchi"},{"authorTime":"2018-08-02 08:28:34","codes":[{"authorDate":"2018-08-02 08:28:34","commitOrder":10,"curCode":"    public void doUpgrade(StaplerResponse rsp) throws IOException, ServletException {\n        HudsonUpgradeJob job = new HudsonUpgradeJob(getCoreSource(), Jenkins.getAuthentication());\n        if(!Lifecycle.get().canRewriteHudsonWar()) {\n            sendError(\"Jenkins upgrade not supported in this running mode\");\n            return;\n        }\n\n        LOGGER.info(\"Scheduling the core upgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","date":"2018-08-02 08:28:34","endLine":630,"groupId":"9306","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"doUpgrade","params":"(StaplerResponsersp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/18/8c8d7e7e0a56e52f654d1de637ce3eec62d936.src","preCode":"    public void doUpgrade(StaplerResponse rsp) throws IOException, ServletException {\n        Jenkins.getInstance().checkPermission(Jenkins.ADMINISTER);\n        HudsonUpgradeJob job = new HudsonUpgradeJob(getCoreSource(), Jenkins.getAuthentication());\n        if(!Lifecycle.get().canRewriteHudsonWar()) {\n            sendError(\"Jenkins upgrade not supported in this running mode\");\n            return;\n        }\n\n        LOGGER.info(\"Scheduling the core upgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","realPath":"core/src/main/java/hudson/model/UpdateCenter.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":620,"status":"M"},{"authorDate":"2018-08-02 08:28:34","commitOrder":10,"curCode":"    public void doDowngrade(StaplerResponse rsp) throws IOException, ServletException {\n        if(!isDowngradable()) {\n            sendError(\"Jenkins downgrade is not possible, probably backup does not exist\");\n            return;\n        }\n\n        HudsonDowngradeJob job = new HudsonDowngradeJob(getCoreSource(), Jenkins.getAuthentication());\n        LOGGER.info(\"Scheduling the core downgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","date":"2018-08-02 08:28:34","endLine":733,"groupId":"5569","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"doDowngrade","params":"(StaplerResponsersp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/18/8c8d7e7e0a56e52f654d1de637ce3eec62d936.src","preCode":"    public void doDowngrade(StaplerResponse rsp) throws IOException, ServletException {\n        Jenkins.getInstance().checkPermission(Jenkins.ADMINISTER);\n        if(!isDowngradable()) {\n            sendError(\"Jenkins downgrade is not possible, probably backup does not exist\");\n            return;\n        }\n\n        HudsonDowngradeJob job = new HudsonDowngradeJob(getCoreSource(), Jenkins.getAuthentication());\n        LOGGER.info(\"Scheduling the core downgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","realPath":"core/src/main/java/hudson/model/UpdateCenter.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":723,"status":"M"}],"commitId":"87c61f527d63acd78f0a0569086bfd786f9c35b0","commitMessage":"@@@Merge branch 'security-stable-2.121' into security-master\n","date":"2018-08-02 08:28:34","modifiedFileCount":"11","status":"M","submitter":"Daniel Beck"},{"authorTime":"2020-04-10 05:36:46","codes":[{"authorDate":"2020-04-10 05:36:46","commitOrder":11,"curCode":"    public void doUpgrade(StaplerResponse rsp) throws IOException, ServletException {\n        Jenkins.get().checkPermission(Jenkins.ADMINISTER);\n        HudsonUpgradeJob job = new HudsonUpgradeJob(getCoreSource(), Jenkins.getAuthentication());\n        if(!Lifecycle.get().canRewriteHudsonWar()) {\n            sendError(\"Jenkins upgrade not supported in this running mode\");\n            return;\n        }\n\n        LOGGER.info(\"Scheduling the core upgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","date":"2020-04-10 05:36:46","endLine":713,"groupId":"9306","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"doUpgrade","params":"(StaplerResponsersp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/51/90b47b3c6332e2985c42e702a7a79484d4a7ad.src","preCode":"    public void doUpgrade(StaplerResponse rsp) throws IOException, ServletException {\n        HudsonUpgradeJob job = new HudsonUpgradeJob(getCoreSource(), Jenkins.getAuthentication());\n        if(!Lifecycle.get().canRewriteHudsonWar()) {\n            sendError(\"Jenkins upgrade not supported in this running mode\");\n            return;\n        }\n\n        LOGGER.info(\"Scheduling the core upgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","realPath":"core/src/main/java/hudson/model/UpdateCenter.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":702,"status":"M"},{"authorDate":"2020-04-10 05:36:46","commitOrder":11,"curCode":"    public void doDowngrade(StaplerResponse rsp) throws IOException, ServletException {\n        Jenkins.get().checkPermission(Jenkins.ADMINISTER);\n        if(!isDowngradable()) {\n            sendError(\"Jenkins downgrade is not possible, probably backup does not exist\");\n            return;\n        }\n\n        HudsonDowngradeJob job = new HudsonDowngradeJob(getCoreSource(), Jenkins.getAuthentication());\n        LOGGER.info(\"Scheduling the core downgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","date":"2020-04-10 05:36:46","endLine":819,"groupId":"5569","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"doDowngrade","params":"(StaplerResponsersp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/51/90b47b3c6332e2985c42e702a7a79484d4a7ad.src","preCode":"    public void doDowngrade(StaplerResponse rsp) throws IOException, ServletException {\n        if(!isDowngradable()) {\n            sendError(\"Jenkins downgrade is not possible, probably backup does not exist\");\n            return;\n        }\n\n        HudsonDowngradeJob job = new HudsonDowngradeJob(getCoreSource(), Jenkins.getAuthentication());\n        LOGGER.info(\"Scheduling the core downgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","realPath":"core/src/main/java/hudson/model/UpdateCenter.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":808,"status":"M"}],"commitId":"9b4a62c7160092231589be04b466c24a9f89ce56","commitMessage":"@@@JENKINS-61203 System read - Plugin Manager (#4518)\n\nCo-authored-by: Daniel Beck <1831569+daniel-beck@users.noreply.github.com>","date":"2020-04-10 05:36:46","modifiedFileCount":"3","status":"M","submitter":"Tim Jacomb"},{"authorTime":"2020-11-07 02:30:25","codes":[{"authorDate":"2020-11-07 02:30:25","commitOrder":12,"curCode":"    public void doUpgrade(StaplerResponse rsp) throws IOException, ServletException {\n        Jenkins.get().checkPermission(Jenkins.ADMINISTER);\n        HudsonUpgradeJob job = new HudsonUpgradeJob(getCoreSource(), Jenkins.getAuthentication2());\n        if(!Lifecycle.get().canRewriteHudsonWar()) {\n            sendError(\"Jenkins upgrade not supported in this running mode\");\n            return;\n        }\n\n        LOGGER.info(\"Scheduling the core upgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","date":"2020-11-07 02:30:25","endLine":714,"groupId":"101018","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"doUpgrade","params":"(StaplerResponsersp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/a2/96ae91575c979155d32539435e7b08b1563123.src","preCode":"    public void doUpgrade(StaplerResponse rsp) throws IOException, ServletException {\n        Jenkins.get().checkPermission(Jenkins.ADMINISTER);\n        HudsonUpgradeJob job = new HudsonUpgradeJob(getCoreSource(), Jenkins.getAuthentication());\n        if(!Lifecycle.get().canRewriteHudsonWar()) {\n            sendError(\"Jenkins upgrade not supported in this running mode\");\n            return;\n        }\n\n        LOGGER.info(\"Scheduling the core upgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","realPath":"core/src/main/java/hudson/model/UpdateCenter.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":703,"status":"M"},{"authorDate":"2020-11-07 02:30:25","commitOrder":12,"curCode":"    public void doDowngrade(StaplerResponse rsp) throws IOException, ServletException {\n        Jenkins.get().checkPermission(Jenkins.ADMINISTER);\n        if(!isDowngradable()) {\n            sendError(\"Jenkins downgrade is not possible, probably backup does not exist\");\n            return;\n        }\n\n        HudsonDowngradeJob job = new HudsonDowngradeJob(getCoreSource(), Jenkins.getAuthentication2());\n        LOGGER.info(\"Scheduling the core downgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","date":"2020-11-07 02:30:25","endLine":820,"groupId":"101018","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"doDowngrade","params":"(StaplerResponsersp)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/a2/96ae91575c979155d32539435e7b08b1563123.src","preCode":"    public void doDowngrade(StaplerResponse rsp) throws IOException, ServletException {\n        Jenkins.get().checkPermission(Jenkins.ADMINISTER);\n        if(!isDowngradable()) {\n            sendError(\"Jenkins downgrade is not possible, probably backup does not exist\");\n            return;\n        }\n\n        HudsonDowngradeJob job = new HudsonDowngradeJob(getCoreSource(), Jenkins.getAuthentication());\n        LOGGER.info(\"Scheduling the core downgrade\");\n        addJob(job);\n        rsp.sendRedirect2(\".\");\n    }\n","realPath":"core/src/main/java/hudson/model/UpdateCenter.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":809,"status":"M"}],"commitId":"a9ca5ef3d4c97937636bf3c585f4232514279b14","commitMessage":"@@@[JEP-227] Replace Acegi Security with Spring Security & upgrade Spring Framework (#4848)\n\nReplacing Acegi Security with Spring Security\n\nCo-authored-by: Tim Jacomb <timjacomb1+github@gmail.com>\nCo-authored-by: James Nord <jtnord@users.noreply.github.com>","date":"2020-11-07 02:30:25","modifiedFileCount":"149","status":"M","submitter":"Jesse Glick"}]
