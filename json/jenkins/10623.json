[{"authorTime":"2019-11-01 06:23:39","codes":[{"authorDate":"2019-10-11 15:41:32","commitOrder":2,"curCode":"    public void secondDomainBasics() throws Exception {\n        JenkinsRule.WebClient webClient = j.createWebClient();\n\n        { \r\n            Page page = webClient.goTo(\"userContent\");\n            Assert.assertEquals(\"successful request\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertTrue(\"still on the original URL\", page.getUrl().toString().contains(\"/userContent\"));\n            Assert.assertTrue(\"web page\", page.isHtmlPage());\n            Assert.assertTrue(\"complex web page\", page.getWebResponse().getContentAsString().contains(\"javascript\"));\n        }\n\n        String resourceResponseUrl;\n        { \r\n            webClient.setRedirectEnabled(true);\n            Page page = webClient.goTo(\"userContent/readme.txt\", \"text/plain\");\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n            Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n        }\n\n        { \r\n            Page page = webClient.getPage(resourceResponseUrl);\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n            Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n        }\n\n        { \r\n            webClient.setRedirectEnabled(false);\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceResponseUrl.replace(\"readme.txt\", \"\"));\n            Assert.assertEquals(\"directory listing response\", 200, page.getWebResponse().getStatusCode());\n            String responseContent = page.getWebResponse().getContentAsString();\n            Assert.assertTrue(\"directory listing shown\", responseContent.contains(\"readme.txt\"));\n            Assert.assertTrue(\"is HTML\", responseContent.contains(\"href=\"));\n        }\n\n        String resourceRootUrl = ResourceDomainConfiguration.get().getUrl();\n        {\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceRootUrl);\n            Assert.assertEquals(\"resource root URL response is 404\", 404, page.getWebResponse().getStatusCode());\n        }\n\n        {\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceRootUrl + \"/static-files\");\n            Assert.assertEquals(\"resource action index page response is 404\", 404, page.getWebResponse().getStatusCode());\n        }\n\n        { \r\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            String uuid = UUID.randomUUID().toString();\n            Page page = webClient.getPage(resourceRootUrl + \"static-files/\" + uuid);\n            Assert.assertEquals(\"resource response is 404\", 404, page.getWebResponse().getStatusCode());\n            Assert.assertTrue(\"response URL is still the same\", page.getUrl().toString().contains(uuid));\n        }\n\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        MockAuthorizationStrategy a = new MockAuthorizationStrategy();\n        j.jenkins.setAuthorizationStrategy(a);\n\n        { \r\n            webClient.withRedirectEnabled(false).withThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceResponseUrl);\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response failed\", 403, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n        }\n\n        a.grant(Jenkins.READ).onRoot().to(\"anonymous\");\n\n        { \r\n            Page page = webClient.getPage(resourceResponseUrl);\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n            Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n        }\n    }\n","date":"2019-10-11 15:41:32","endLine":130,"groupId":"8280","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"secondDomainBasics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/86/333d23d75f71c49fae8a5f777a6cfbc1e21585.src","preCode":"    public void secondDomainBasics() throws Exception {\n        JenkinsRule.WebClient webClient = j.createWebClient();\n\n        { \r\n            Page page = webClient.goTo(\"userContent\");\n            Assert.assertEquals(\"successful request\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertTrue(\"still on the original URL\", page.getUrl().toString().contains(\"/userContent\"));\n            Assert.assertTrue(\"web page\", page.isHtmlPage());\n            Assert.assertTrue(\"complex web page\", page.getWebResponse().getContentAsString().contains(\"javascript\"));\n        }\n\n        String resourceResponseUrl;\n        { \r\n            webClient.setRedirectEnabled(true);\n            Page page = webClient.goTo(\"userContent/readme.txt\", \"text/plain\");\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n            Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n        }\n\n        { \r\n            Page page = webClient.getPage(resourceResponseUrl);\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n            Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n        }\n\n        { \r\n            webClient.setRedirectEnabled(false);\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceResponseUrl.replace(\"readme.txt\", \"\"));\n            Assert.assertEquals(\"directory listing response\", 200, page.getWebResponse().getStatusCode());\n            String responseContent = page.getWebResponse().getContentAsString();\n            Assert.assertTrue(\"directory listing shown\", responseContent.contains(\"readme.txt\"));\n            Assert.assertTrue(\"is HTML\", responseContent.contains(\"href=\"));\n        }\n\n        String resourceRootUrl = ResourceDomainConfiguration.get().getUrl();\n        {\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceRootUrl);\n            Assert.assertEquals(\"resource root URL response is 404\", 404, page.getWebResponse().getStatusCode());\n        }\n\n        {\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceRootUrl + \"/static-files\");\n            Assert.assertEquals(\"resource action index page response is 404\", 404, page.getWebResponse().getStatusCode());\n        }\n\n        { \r\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            String uuid = UUID.randomUUID().toString();\n            Page page = webClient.getPage(resourceRootUrl + \"static-files/\" + uuid);\n            Assert.assertEquals(\"resource response is 404\", 404, page.getWebResponse().getStatusCode());\n            Assert.assertTrue(\"response URL is still the same\", page.getUrl().toString().contains(uuid));\n        }\n\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        MockAuthorizationStrategy a = new MockAuthorizationStrategy();\n        j.jenkins.setAuthorizationStrategy(a);\n\n        { \r\n            webClient.withRedirectEnabled(false).withThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceResponseUrl);\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response failed\", 403, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n        }\n\n        a.grant(Jenkins.READ).onRoot().to(\"anonymous\");\n\n        { \r\n            Page page = webClient.getPage(resourceResponseUrl);\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n            Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n        }\n    }\n","realPath":"test/src/test/java/jenkins/security/ResourceDomainTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":45,"status":"NB"},{"authorDate":"2019-11-01 06:23:39","commitOrder":2,"curCode":"    public void testColonUserName() throws Exception {\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        MockAuthorizationStrategy a = new MockAuthorizationStrategy();\n        a.grant(Jenkins.READ).everywhere().toEveryone();\n        j.jenkins.setAuthorizationStrategy(a);\n\n        JenkinsRule.WebClient webClient = j.createWebClient();\n        webClient.setRedirectEnabled(true);\n        webClient.login(\"foo:bar\");\n\n        Page page = webClient.goTo(\"userContent/readme.txt\", \"text/plain\");\n        String resourceResponseUrl = page.getUrl().toString();\n        Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n        Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n        Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n        Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n    }\n","date":"2019-11-01 06:23:39","endLine":306,"groupId":"56","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testColonUserName","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/4a/ca157e6db019d163194c5bbb6e5c1a035c29db.src","preCode":"    public void testColonUserName() throws Exception {\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        MockAuthorizationStrategy a = new MockAuthorizationStrategy();\n        a.grant(Jenkins.READ).everywhere().toEveryone();\n        j.jenkins.setAuthorizationStrategy(a);\n\n        JenkinsRule.WebClient webClient = j.createWebClient();\n        webClient.setRedirectEnabled(true);\n        webClient.login(\"foo:bar\");\n\n        Page page = webClient.goTo(\"userContent/readme.txt\", \"text/plain\");\n        String resourceResponseUrl = page.getUrl().toString();\n        Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n        Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n        Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n        Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n    }\n","realPath":"test/src/test/java/jenkins/security/ResourceDomainTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":290,"status":"B"}],"commitId":"eb1698c673fa69d2ca08b78511209f0caa13b055","commitMessage":"@@@[JENKINS-59859] Make resource root URL tokens work with user names containing : (#4307)\n\n* Make resource root URL tokens work with user names containing :\n\n* Fix null handling\n","date":"2019-11-01 06:23:39","modifiedFileCount":"2","status":"M","submitter":"Daniel Beck"},{"authorTime":"2019-11-01 06:23:39","codes":[{"authorDate":"2020-01-20 21:55:10","commitOrder":3,"curCode":"    public void secondDomainBasics() throws Exception {\n        JenkinsRule.WebClient webClient = j.createWebClient();\n\n        { \r\n            Page page = webClient.goTo(\"userContent\");\n            Assert.assertEquals(\"successful request\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertTrue(\"still on the original URL\", page.getUrl().toString().contains(\"/userContent\"));\n            Assert.assertTrue(\"web page\", page.isHtmlPage());\n            Assert.assertTrue(\"complex web page\", page.getWebResponse().getContentAsString().contains(\"javascript\"));\n        }\n\n        String resourceResponseUrl;\n        { \r\n            webClient.setRedirectEnabled(true);\n            Page page = webClient.goTo(\"userContent/readme.txt\", \"text/plain\");\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n            Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n        }\n\n        { \r\n            Page page = webClient.getPage(resourceResponseUrl);\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n            Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n        }\n\n        { \r\n            webClient.setRedirectEnabled(false);\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceResponseUrl.replace(\"readme.txt\", \"\"));\n            Assert.assertEquals(\"directory listing response\", 200, page.getWebResponse().getStatusCode());\n            String responseContent = page.getWebResponse().getContentAsString();\n            Assert.assertTrue(\"directory listing shown\", responseContent.contains(\"readme.txt\"));\n            Assert.assertTrue(\"is HTML\", responseContent.contains(\"href=\"));\n        }\n\n        String resourceRootUrl = ResourceDomainConfiguration.get().getUrl();\n        {\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceRootUrl);\n            Assert.assertEquals(\"resource root URL response is 404\", 404, page.getWebResponse().getStatusCode());\n        }\n\n        {\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceRootUrl + \"/static-files/\");\n            Assert.assertEquals(\"resource action index page response is 404\", 404, page.getWebResponse().getStatusCode());\n        }\n\n        { \r\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            String uuid = UUID.randomUUID().toString();\n            Page page = webClient.getPage(resourceRootUrl + \"static-files/\" + uuid);\n            Assert.assertEquals(\"resource response is 404\", 404, page.getWebResponse().getStatusCode());\n            Assert.assertTrue(\"response URL is still the same\", page.getUrl().toString().contains(uuid));\n        }\n\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        MockAuthorizationStrategy a = new MockAuthorizationStrategy();\n        j.jenkins.setAuthorizationStrategy(a);\n\n        { \r\n            webClient.withRedirectEnabled(false).withThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceResponseUrl);\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response failed\", 403, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n        }\n\n        a.grant(Jenkins.READ).onRoot().to(\"anonymous\");\n\n        { \r\n            Page page = webClient.getPage(resourceResponseUrl);\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n            Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n        }\n    }\n","date":"2020-01-20 21:55:10","endLine":137,"groupId":"10623","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"secondDomainBasics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/5c/5c335eb2296ccb4dede335bb47cb5f589ccd22.src","preCode":"    public void secondDomainBasics() throws Exception {\n        JenkinsRule.WebClient webClient = j.createWebClient();\n\n        { \r\n            Page page = webClient.goTo(\"userContent\");\n            Assert.assertEquals(\"successful request\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertTrue(\"still on the original URL\", page.getUrl().toString().contains(\"/userContent\"));\n            Assert.assertTrue(\"web page\", page.isHtmlPage());\n            Assert.assertTrue(\"complex web page\", page.getWebResponse().getContentAsString().contains(\"javascript\"));\n        }\n\n        String resourceResponseUrl;\n        { \r\n            webClient.setRedirectEnabled(true);\n            Page page = webClient.goTo(\"userContent/readme.txt\", \"text/plain\");\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n            Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n        }\n\n        { \r\n            Page page = webClient.getPage(resourceResponseUrl);\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n            Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n        }\n\n        { \r\n            webClient.setRedirectEnabled(false);\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceResponseUrl.replace(\"readme.txt\", \"\"));\n            Assert.assertEquals(\"directory listing response\", 200, page.getWebResponse().getStatusCode());\n            String responseContent = page.getWebResponse().getContentAsString();\n            Assert.assertTrue(\"directory listing shown\", responseContent.contains(\"readme.txt\"));\n            Assert.assertTrue(\"is HTML\", responseContent.contains(\"href=\"));\n        }\n\n        String resourceRootUrl = ResourceDomainConfiguration.get().getUrl();\n        {\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceRootUrl);\n            Assert.assertEquals(\"resource root URL response is 404\", 404, page.getWebResponse().getStatusCode());\n        }\n\n        {\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceRootUrl + \"/static-files\");\n            Assert.assertEquals(\"resource action index page response is 404\", 404, page.getWebResponse().getStatusCode());\n        }\n\n        { \r\n            webClient.setThrowExceptionOnFailingStatusCode(false);\n            String uuid = UUID.randomUUID().toString();\n            Page page = webClient.getPage(resourceRootUrl + \"static-files/\" + uuid);\n            Assert.assertEquals(\"resource response is 404\", 404, page.getWebResponse().getStatusCode());\n            Assert.assertTrue(\"response URL is still the same\", page.getUrl().toString().contains(uuid));\n        }\n\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        MockAuthorizationStrategy a = new MockAuthorizationStrategy();\n        j.jenkins.setAuthorizationStrategy(a);\n\n        { \r\n            webClient.withRedirectEnabled(false).withThrowExceptionOnFailingStatusCode(false);\n            Page page = webClient.getPage(resourceResponseUrl);\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response failed\", 403, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n        }\n\n        a.grant(Jenkins.READ).onRoot().to(\"anonymous\");\n\n        { \r\n            Page page = webClient.getPage(resourceResponseUrl);\n            resourceResponseUrl = page.getUrl().toString();\n            Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n            Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n            Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n            Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n        }\n    }\n","realPath":"test/src/test/java/jenkins/security/ResourceDomainTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":52,"status":"M"},{"authorDate":"2019-11-01 06:23:39","commitOrder":3,"curCode":"    public void testColonUserName() throws Exception {\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        MockAuthorizationStrategy a = new MockAuthorizationStrategy();\n        a.grant(Jenkins.READ).everywhere().toEveryone();\n        j.jenkins.setAuthorizationStrategy(a);\n\n        JenkinsRule.WebClient webClient = j.createWebClient();\n        webClient.setRedirectEnabled(true);\n        webClient.login(\"foo:bar\");\n\n        Page page = webClient.goTo(\"userContent/readme.txt\", \"text/plain\");\n        String resourceResponseUrl = page.getUrl().toString();\n        Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n        Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n        Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n        Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n    }\n","date":"2019-11-01 06:23:39","endLine":306,"groupId":"10623","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testColonUserName","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/4a/ca157e6db019d163194c5bbb6e5c1a035c29db.src","preCode":"    public void testColonUserName() throws Exception {\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        MockAuthorizationStrategy a = new MockAuthorizationStrategy();\n        a.grant(Jenkins.READ).everywhere().toEveryone();\n        j.jenkins.setAuthorizationStrategy(a);\n\n        JenkinsRule.WebClient webClient = j.createWebClient();\n        webClient.setRedirectEnabled(true);\n        webClient.login(\"foo:bar\");\n\n        Page page = webClient.goTo(\"userContent/readme.txt\", \"text/plain\");\n        String resourceResponseUrl = page.getUrl().toString();\n        Assert.assertEquals(\"resource response success\", 200, page.getWebResponse().getStatusCode());\n        Assert.assertNull(\"no CSP headers\", page.getWebResponse().getResponseHeaderValue(\"Content-Security-Policy\"));\n        Assert.assertTrue(\"Served from resource domain\", resourceResponseUrl.contains(RESOURCE_DOMAIN));\n        Assert.assertTrue(\"Served from resource action\", resourceResponseUrl.contains(\"static-files\"));\n    }\n","realPath":"test/src/test/java/jenkins/security/ResourceDomainTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":290,"status":"N"}],"commitId":"574ec6e5bdf2e4ac9394e290fefff5ac1c9a5c96","commitMessage":"@@@Merge branch 'master' into security-master\n","date":"2020-01-20 21:55:10","modifiedFileCount":"193","status":"M","submitter":"Wadeck Follonier"}]
