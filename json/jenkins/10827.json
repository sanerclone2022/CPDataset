[{"authorTime":"2018-11-23 07:19:45","codes":[{"authorDate":"2018-11-23 07:19:45","commitOrder":1,"curCode":"    public void performedAtThirdAttemptTest() throws Exception {\n        final int SUCCESSFUL_ATTEMPT = 3;\n        final String ACTION = \"print\";\n\n        RingBufferLogHandler handler = new RingBufferLogHandler(20);\n        Logger.getLogger(Retrier.class.getName()).addHandler(handler);\n\n        Retrier<Boolean> r = new Retrier.Builder<>\n                \r\n                (\n                        \r\n                        () -> {\n                            LOG.info(\"action performed\");\n                            return true;\n                        },\n                        \r\n                        (currentAttempt, result) -> currentAttempt == SUCCESSFUL_ATTEMPT,\n                        \r\n                        ACTION\n                )\n\n                \r\n                .withAttempts(SUCCESSFUL_ATTEMPT + 1)\n                .withDelay(100)\n\n                \r\n                .build();\n\n        \r\n        Boolean finalResult = r.start();\n        Assert.assertTrue(finalResult == null ? false : finalResult);\n\n        String text = Messages.Retrier_Success(ACTION, SUCCESSFUL_ATTEMPT);\n        assertTrue(String.format(\"The log should contain '%s'\", text), handler.getView().stream().anyMatch(m -> m.getMessage().contains(text)));\n    }\n","date":"2018-11-23 07:19:45","endLine":54,"groupId":"2449","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"performedAtThirdAttemptTest","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/c1/66a54e0b0e8dfb4cb827c8f1d67553976b57be.src","preCode":"    public void performedAtThirdAttemptTest() throws Exception {\n        final int SUCCESSFUL_ATTEMPT = 3;\n        final String ACTION = \"print\";\n\n        RingBufferLogHandler handler = new RingBufferLogHandler(20);\n        Logger.getLogger(Retrier.class.getName()).addHandler(handler);\n\n        Retrier<Boolean> r = new Retrier.Builder<>\n                \r\n                (\n                        \r\n                        () -> {\n                            LOG.info(\"action performed\");\n                            return true;\n                        },\n                        \r\n                        (currentAttempt, result) -> currentAttempt == SUCCESSFUL_ATTEMPT,\n                        \r\n                        ACTION\n                )\n\n                \r\n                .withAttempts(SUCCESSFUL_ATTEMPT + 1)\n                .withDelay(100)\n\n                \r\n                .build();\n\n        \r\n        Boolean finalResult = r.start();\n        Assert.assertTrue(finalResult == null ? false : finalResult);\n\n        String text = Messages.Retrier_Success(ACTION, SUCCESSFUL_ATTEMPT);\n        assertTrue(String.format(\"The log should contain '%s'\", text), handler.getView().stream().anyMatch(m -> m.getMessage().contains(text)));\n    }\n","realPath":"core/src/test/java/hudson/util/RetrierTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":20,"status":"B"},{"authorDate":"2018-11-23 07:19:45","commitOrder":1,"curCode":"    public void failedActionAfterThreeAttemptsTest() throws Exception {\n        final int ATTEMPTS = 3;\n        final String ACTION = \"print\";\n\n        RingBufferLogHandler handler = new RingBufferLogHandler(20);\n        Logger.getLogger(Retrier.class.getName()).addHandler(handler);\n\n        Retrier<Boolean> r = new Retrier.Builder<>\n                \r\n                (\n                        \r\n                        () -> {\n                            LOG.info(\"action performed\");\n                            return false;\n                        },\n                        \r\n                        (currentAttempt, result) -> result,\n                        \r\n                        ACTION\n                )\n\n                \r\n                .withAttempts(ATTEMPTS)\n                .withDelay(100)\n\n                \r\n                .build();\n\n        \r\n        Boolean finalResult = r.start();\n\n        Assert.assertFalse(finalResult == null ? false : finalResult);\n\n        String text = Messages.Retrier_NoSuccess(ACTION, ATTEMPTS);\n        assertTrue(String.format(\"The log should contain '%s'\", text), handler.getView().stream().anyMatch(m -> m.getMessage().contains(text)));\n\n    }\n","date":"2018-11-23 07:19:45","endLine":150,"groupId":"2449","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"failedActionAfterThreeAttemptsTest","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/c1/66a54e0b0e8dfb4cb827c8f1d67553976b57be.src","preCode":"    public void failedActionAfterThreeAttemptsTest() throws Exception {\n        final int ATTEMPTS = 3;\n        final String ACTION = \"print\";\n\n        RingBufferLogHandler handler = new RingBufferLogHandler(20);\n        Logger.getLogger(Retrier.class.getName()).addHandler(handler);\n\n        Retrier<Boolean> r = new Retrier.Builder<>\n                \r\n                (\n                        \r\n                        () -> {\n                            LOG.info(\"action performed\");\n                            return false;\n                        },\n                        \r\n                        (currentAttempt, result) -> result,\n                        \r\n                        ACTION\n                )\n\n                \r\n                .withAttempts(ATTEMPTS)\n                .withDelay(100)\n\n                \r\n                .build();\n\n        \r\n        Boolean finalResult = r.start();\n\n        Assert.assertFalse(finalResult == null ? false : finalResult);\n\n        String text = Messages.Retrier_NoSuccess(ACTION, ATTEMPTS);\n        assertTrue(String.format(\"The log should contain '%s'\", text), handler.getView().stream().anyMatch(m -> m.getMessage().contains(text)));\n\n    }\n","realPath":"core/src/test/java/hudson/util/RetrierTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":114,"status":"B"}],"commitId":"896356a03893c300361dd8a3acc3b83f926301b7","commitMessage":"@@@Merge commit '8d429ff13b2013ff0b390d59f9c8a7674e6d24a1' into security-master\n","date":"2018-11-23 07:19:45","modifiedFileCount":"5","status":"B","submitter":"Daniel Beck"},{"authorTime":"2021-05-07 16:35:52","codes":[{"authorDate":"2021-05-07 16:35:52","commitOrder":2,"curCode":"    public void performedAtThirdAttemptTest() throws Exception {\n        final int SUCCESSFUL_ATTEMPT = 3;\n        final String ACTION = \"print\";\n\n        RingBufferLogHandler handler = new RingBufferLogHandler(20);\n        Logger.getLogger(Retrier.class.getName()).addHandler(handler);\n\n        Retrier<Boolean> r = new Retrier.Builder<>\n                \r\n                (\n                        \r\n                        () -> {\n                            LOG.info(\"action performed\");\n                            return true;\n                        },\n                        \r\n                        (currentAttempt, result) -> currentAttempt == SUCCESSFUL_ATTEMPT,\n                        \r\n                        ACTION\n                )\n\n                \r\n                .withAttempts(SUCCESSFUL_ATTEMPT + 1)\n                .withDelay(100)\n\n                \r\n                .build();\n\n        \r\n        Boolean finalResult = r.start();\n        Assert.assertTrue(finalResult != null && finalResult);\n\n        String text = Messages.Retrier_Success(ACTION, SUCCESSFUL_ATTEMPT);\n        assertTrue(String.format(\"The log should contain '%s'\", text), handler.getView().stream().anyMatch(m -> m.getMessage().contains(text)));\n    }\n","date":"2021-05-07 16:35:52","endLine":54,"groupId":"10827","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"performedAtThirdAttemptTest","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/a1/3519e1e710b51cc1cd5cae6a4beb07bdc693ee.src","preCode":"    public void performedAtThirdAttemptTest() throws Exception {\n        final int SUCCESSFUL_ATTEMPT = 3;\n        final String ACTION = \"print\";\n\n        RingBufferLogHandler handler = new RingBufferLogHandler(20);\n        Logger.getLogger(Retrier.class.getName()).addHandler(handler);\n\n        Retrier<Boolean> r = new Retrier.Builder<>\n                \r\n                (\n                        \r\n                        () -> {\n                            LOG.info(\"action performed\");\n                            return true;\n                        },\n                        \r\n                        (currentAttempt, result) -> currentAttempt == SUCCESSFUL_ATTEMPT,\n                        \r\n                        ACTION\n                )\n\n                \r\n                .withAttempts(SUCCESSFUL_ATTEMPT + 1)\n                .withDelay(100)\n\n                \r\n                .build();\n\n        \r\n        Boolean finalResult = r.start();\n        Assert.assertTrue(finalResult == null ? false : finalResult);\n\n        String text = Messages.Retrier_Success(ACTION, SUCCESSFUL_ATTEMPT);\n        assertTrue(String.format(\"The log should contain '%s'\", text), handler.getView().stream().anyMatch(m -> m.getMessage().contains(text)));\n    }\n","realPath":"core/src/test/java/hudson/util/RetrierTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":20,"status":"M"},{"authorDate":"2021-05-07 16:35:52","commitOrder":2,"curCode":"    public void failedActionAfterThreeAttemptsTest() throws Exception {\n        final int ATTEMPTS = 3;\n        final String ACTION = \"print\";\n\n        RingBufferLogHandler handler = new RingBufferLogHandler(20);\n        Logger.getLogger(Retrier.class.getName()).addHandler(handler);\n\n        Retrier<Boolean> r = new Retrier.Builder<>\n                \r\n                (\n                        \r\n                        () -> {\n                            LOG.info(\"action performed\");\n                            return false;\n                        },\n                        \r\n                        (currentAttempt, result) -> result,\n                        \r\n                        ACTION\n                )\n\n                \r\n                .withAttempts(ATTEMPTS)\n                .withDelay(100)\n\n                \r\n                .build();\n\n        \r\n        Boolean finalResult = r.start();\n\n        Assert.assertFalse(finalResult != null && finalResult);\n\n        String text = Messages.Retrier_NoSuccess(ACTION, ATTEMPTS);\n        assertTrue(String.format(\"The log should contain '%s'\", text), handler.getView().stream().anyMatch(m -> m.getMessage().contains(text)));\n\n    }\n","date":"2021-05-07 16:35:52","endLine":150,"groupId":"10827","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"failedActionAfterThreeAttemptsTest","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/a1/3519e1e710b51cc1cd5cae6a4beb07bdc693ee.src","preCode":"    public void failedActionAfterThreeAttemptsTest() throws Exception {\n        final int ATTEMPTS = 3;\n        final String ACTION = \"print\";\n\n        RingBufferLogHandler handler = new RingBufferLogHandler(20);\n        Logger.getLogger(Retrier.class.getName()).addHandler(handler);\n\n        Retrier<Boolean> r = new Retrier.Builder<>\n                \r\n                (\n                        \r\n                        () -> {\n                            LOG.info(\"action performed\");\n                            return false;\n                        },\n                        \r\n                        (currentAttempt, result) -> result,\n                        \r\n                        ACTION\n                )\n\n                \r\n                .withAttempts(ATTEMPTS)\n                .withDelay(100)\n\n                \r\n                .build();\n\n        \r\n        Boolean finalResult = r.start();\n\n        Assert.assertFalse(finalResult == null ? false : finalResult);\n\n        String text = Messages.Retrier_NoSuccess(ACTION, ATTEMPTS);\n        assertTrue(String.format(\"The log should contain '%s'\", text), handler.getView().stream().anyMatch(m -> m.getMessage().contains(text)));\n\n    }\n","realPath":"core/src/test/java/hudson/util/RetrierTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":114,"status":"M"}],"commitId":"deb3a82d01d8440934a563c492483bbd155fe4ba","commitMessage":"@@@Merge pull request #5458 from StefanSpieker/unneeded_throws\n\n","date":"2021-05-07 16:35:52","modifiedFileCount":"23","status":"M","submitter":"Tim Jacomb"}]
