[{"authorTime":"2016-05-22 13:15:11","codes":[{"authorDate":"2016-07-25 17:42:40","commitOrder":2,"curCode":"    public void waitNodeOfflineShouldSucceedOnDisconnectedNode() throws Exception {\n        DumbSlave slave = j.createSlave(\"aNode\", \"\", null);\n        slave.toComputer().disconnect();\n        while (true) {\n            if(slave.toComputer().isOffline())\n                break;\n            Thread.sleep(100);\n        }\n\n        final CLICommandInvoker.Result result = command\n                .authorizedTo(Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOffline(), equalTo(true));\n    }\n","date":"2016-07-25 17:42:40","endLine":117,"groupId":"59","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"waitNodeOfflineShouldSucceedOnDisconnectedNode","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/19/fb107320696896d8924327d9e17977576ceb04.src","preCode":"    public void waitNodeOfflineShouldSucceedOnDisconnectedNode() throws Exception {\n        DumbSlave slave = j.createSlave(\"aNode\", \"\", null);\n        slave.toComputer().disconnect();\n        while (true) {\n            if(slave.toComputer().isOffline())\n                break;\n            Thread.sleep(100);\n        }\n\n        final CLICommandInvoker.Result result = command\n                .authorizedTo(Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOffline(), equalTo(true));\n    }\n","realPath":"test/src/test/java/hudson/cli/WaitNodeOfflineCommandTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":103,"status":"B"},{"authorDate":"2016-05-22 13:15:11","commitOrder":2,"curCode":"    @Test public void connectNodeShouldSucceed() throws Exception {\n        DumbSlave slave = j.createSlave(\"aNode\", \"\", null);\n\n        CLICommandInvoker.Result result = command\n                .authorizedTo(Computer.CONNECT, Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOnline(), equalTo(true));\n\n        result = command\n                .authorizedTo(Computer.CONNECT, Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOnline(), equalTo(true));\n\n        slave.toComputer().disconnect();\n        slave.toComputer().waitUntilOffline();\n        assertThat(slave.toComputer().isOnline(), equalTo(false));\n        assertThat(slave.toComputer().isOffline(), equalTo(true));\n\n        result = command\n                .authorizedTo(Computer.CONNECT, Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOnline(), equalTo(true));\n    }\n","date":"2016-05-22 13:15:11","endLine":105,"groupId":"3704","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"connectNodeShouldSucceed","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/d3/5aef81c25a3e8cba5e332f392cf31255314564.src","preCode":"    @Test public void connectNodeShouldSucceed() throws Exception {\n        DumbSlave slave = j.createSlave(\"aNode\", \"\", null);\n\n        CLICommandInvoker.Result result = command\n                .authorizedTo(Computer.CONNECT, Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOnline(), equalTo(true));\n\n        result = command\n                .authorizedTo(Computer.CONNECT, Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOnline(), equalTo(true));\n\n        slave.toComputer().disconnect();\n        slave.toComputer().waitUntilOffline();\n        assertThat(slave.toComputer().isOnline(), equalTo(false));\n        assertThat(slave.toComputer().isOffline(), equalTo(true));\n\n        result = command\n                .authorizedTo(Computer.CONNECT, Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOnline(), equalTo(true));\n    }\n","realPath":"test/src/test/java/hudson/cli/ConnectNodeCommandTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":80,"status":"NB"}],"commitId":"321cd04dc2ae7c859957c2fc06bfd6befb0950c9","commitMessage":"@@@Merge pull request #2396 from pjanouse/JENKINS-34915\n\n[JENKINS-34915] CLI commands wait-node-online/wait-node-offline extracted from core to CLI","date":"2016-07-25 17:42:40","modifiedFileCount":"1","status":"M","submitter":"Daniel Beck"},{"authorTime":"2016-05-22 13:15:11","codes":[{"authorDate":"2021-01-03 01:20:57","commitOrder":3,"curCode":"    public void waitNodeOfflineShouldSucceedOnDisconnectedNode() throws Exception {\n        DumbSlave slave = j.createSlave(\"aNode\", \"\", null);\n        slave.toComputer().disconnect();\n        while (!slave.toComputer().isOffline()) {\n            Thread.sleep(100);\n        }\n\n        final CLICommandInvoker.Result result = command\n                .authorizedTo(Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOffline(), equalTo(true));\n    }\n","date":"2021-01-03 01:20:57","endLine":112,"groupId":"10271","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"waitNodeOfflineShouldSucceedOnDisconnectedNode","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/a5/5f89fe6937e29b5f75163c08ec8cc20e4d597a.src","preCode":"    public void waitNodeOfflineShouldSucceedOnDisconnectedNode() throws Exception {\n        DumbSlave slave = j.createSlave(\"aNode\", \"\", null);\n        slave.toComputer().disconnect();\n        while (true) {\n            if(slave.toComputer().isOffline())\n                break;\n            Thread.sleep(100);\n        }\n\n        final CLICommandInvoker.Result result = command\n                .authorizedTo(Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOffline(), equalTo(true));\n    }\n","realPath":"test/src/test/java/hudson/cli/WaitNodeOfflineCommandTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":100,"status":"M"},{"authorDate":"2016-05-22 13:15:11","commitOrder":3,"curCode":"    @Test public void connectNodeShouldSucceed() throws Exception {\n        DumbSlave slave = j.createSlave(\"aNode\", \"\", null);\n\n        CLICommandInvoker.Result result = command\n                .authorizedTo(Computer.CONNECT, Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOnline(), equalTo(true));\n\n        result = command\n                .authorizedTo(Computer.CONNECT, Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOnline(), equalTo(true));\n\n        slave.toComputer().disconnect();\n        slave.toComputer().waitUntilOffline();\n        assertThat(slave.toComputer().isOnline(), equalTo(false));\n        assertThat(slave.toComputer().isOffline(), equalTo(true));\n\n        result = command\n                .authorizedTo(Computer.CONNECT, Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOnline(), equalTo(true));\n    }\n","date":"2016-05-22 13:15:11","endLine":105,"groupId":"10271","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"connectNodeShouldSucceed","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/d3/5aef81c25a3e8cba5e332f392cf31255314564.src","preCode":"    @Test public void connectNodeShouldSucceed() throws Exception {\n        DumbSlave slave = j.createSlave(\"aNode\", \"\", null);\n\n        CLICommandInvoker.Result result = command\n                .authorizedTo(Computer.CONNECT, Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOnline(), equalTo(true));\n\n        result = command\n                .authorizedTo(Computer.CONNECT, Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOnline(), equalTo(true));\n\n        slave.toComputer().disconnect();\n        slave.toComputer().waitUntilOffline();\n        assertThat(slave.toComputer().isOnline(), equalTo(false));\n        assertThat(slave.toComputer().isOffline(), equalTo(true));\n\n        result = command\n                .authorizedTo(Computer.CONNECT, Jenkins.READ)\n                .invokeWithArgs(\"aNode\");\n        assertThat(result, succeededSilently());\n        assertThat(slave.toComputer().isOnline(), equalTo(true));\n    }\n","realPath":"test/src/test/java/hudson/cli/ConnectNodeCommandTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":80,"status":"N"}],"commitId":"a9ee90e7fc931445956616ffae4ea3c5ababe41d","commitMessage":"@@@Merge pull request #5134 from basil/improvements\n\nCode cleanup","date":"2021-01-03 01:20:57","modifiedFileCount":"88","status":"M","submitter":"Oleg Nenashev"}]
