[{"authorTime":"2019-05-09 18:56:19","codes":[{"authorDate":"2019-05-09 18:56:19","commitOrder":1,"curCode":"    public void shouldReportBuildStopError() throws Exception {\n        final FreeStyleProject project = createLongRunningProject(TEST_JOB_NAME);\n\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        j.jenkins.setAuthorizationStrategy(new MockAuthorizationStrategy().\n                grant(Jenkins.READ).everywhere().toEveryone().\n                grant(Item.READ).onItems(project).toEveryone().\n                grant(Item.CANCEL).onItems(project).toAuthenticated());\n        project.scheduleBuild2(0).waitForStart();\n\n        final String stdout = runWith(Collections.singletonList(TEST_JOB_NAME)).stdout();\n\n        assertThat(stdout,\n                equalTo(\"Exception occurred while trying to stop build '#1' for job 'jobName'. \" +\n                        \"Exception class: AccessDeniedException2, message: anonymous is missing the Job/Cancel permission\" + LN +\n                        \"No builds stopped\" + LN));\n    }\n","date":"2019-05-09 18:56:19","endLine":145,"groupId":"739","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"shouldReportBuildStopError","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/a0/9fa1a33769e5b917957d70cf5f85d128ef65fb.src","preCode":"    public void shouldReportBuildStopError() throws Exception {\n        final FreeStyleProject project = createLongRunningProject(TEST_JOB_NAME);\n\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        j.jenkins.setAuthorizationStrategy(new MockAuthorizationStrategy().\n                grant(Jenkins.READ).everywhere().toEveryone().\n                grant(Item.READ).onItems(project).toEveryone().\n                grant(Item.CANCEL).onItems(project).toAuthenticated());\n        project.scheduleBuild2(0).waitForStart();\n\n        final String stdout = runWith(Collections.singletonList(TEST_JOB_NAME)).stdout();\n\n        assertThat(stdout,\n                equalTo(\"Exception occurred while trying to stop build '#1' for job 'jobName'. \" +\n                        \"Exception class: AccessDeniedException2, message: anonymous is missing the Job/Cancel permission\" + LN +\n                        \"No builds stopped\" + LN));\n    }\n","realPath":"test/src/test/java/jenkins/cli/StopBuildsCommandTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":129,"status":"B"},{"authorDate":"2019-05-09 18:56:19","commitOrder":1,"curCode":"    public void shouldStopSecondJobEvenIfFirstStopFailed() throws Exception {\n        final FreeStyleProject project = createLongRunningProject(TEST_JOB_NAME_2);\n\n        final FreeStyleProject restrictedProject = createLongRunningProject(TEST_JOB_NAME);\n\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        j.jenkins.setAuthorizationStrategy(new MockAuthorizationStrategy().\n                grant(Jenkins.READ).everywhere().toEveryone().\n                grant(Item.READ).onItems(restrictedProject, project).toEveryone().\n                grant(Item.CANCEL).onItems(restrictedProject).toAuthenticated().\n                grant(Item.CANCEL).onItems(project).toEveryone());\n\n        restrictedProject.scheduleBuild2(0).waitForStart();\n        project.scheduleBuild2(0).waitForStart();\n\n        final String stdout = runWith(asList(TEST_JOB_NAME, TEST_JOB_NAME_2)).stdout();\n\n        assertThat(stdout,\n                equalTo(\"Exception occurred while trying to stop build '#1' for job 'jobName'. \" +\n                        \"Exception class: AccessDeniedException2, message: anonymous is missing the Job/Cancel permission\" + LN +\n                        \"Build '#1' stopped for job 'jobName2'\" + LN));\n    }\n","date":"2019-05-09 18:56:19","endLine":169,"groupId":"3687","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"shouldStopSecondJobEvenIfFirstStopFailed","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/a0/9fa1a33769e5b917957d70cf5f85d128ef65fb.src","preCode":"    public void shouldStopSecondJobEvenIfFirstStopFailed() throws Exception {\n        final FreeStyleProject project = createLongRunningProject(TEST_JOB_NAME_2);\n\n        final FreeStyleProject restrictedProject = createLongRunningProject(TEST_JOB_NAME);\n\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        j.jenkins.setAuthorizationStrategy(new MockAuthorizationStrategy().\n                grant(Jenkins.READ).everywhere().toEveryone().\n                grant(Item.READ).onItems(restrictedProject, project).toEveryone().\n                grant(Item.CANCEL).onItems(restrictedProject).toAuthenticated().\n                grant(Item.CANCEL).onItems(project).toEveryone());\n\n        restrictedProject.scheduleBuild2(0).waitForStart();\n        project.scheduleBuild2(0).waitForStart();\n\n        final String stdout = runWith(asList(TEST_JOB_NAME, TEST_JOB_NAME_2)).stdout();\n\n        assertThat(stdout,\n                equalTo(\"Exception occurred while trying to stop build '#1' for job 'jobName'. \" +\n                        \"Exception class: AccessDeniedException2, message: anonymous is missing the Job/Cancel permission\" + LN +\n                        \"Build '#1' stopped for job 'jobName2'\" + LN));\n    }\n","realPath":"test/src/test/java/jenkins/cli/StopBuildsCommandTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":148,"status":"B"}],"commitId":"86ea7b0028c232f298172bf1a7f2e1f03e6ab7a7","commitMessage":"@@@Merge commit '79171d0cb173717f2a03bf7aec4cd7f658c7d685' of git://github.com/jenkinsci/jenkins\n","date":"2019-05-09 18:56:19","modifiedFileCount":"30","status":"B","submitter":"Daniel Beck"},{"authorTime":"2020-11-07 02:30:25","codes":[{"authorDate":"2020-11-07 02:30:25","commitOrder":2,"curCode":"    public void shouldReportBuildStopError() throws Exception {\n        final FreeStyleProject project = createLongRunningProject(TEST_JOB_NAME);\n\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        j.jenkins.setAuthorizationStrategy(new MockAuthorizationStrategy().\n                grant(Jenkins.READ).everywhere().toEveryone().\n                grant(Item.READ).onItems(project).toEveryone().\n                grant(Item.CANCEL).onItems(project).toAuthenticated());\n        project.scheduleBuild2(0).waitForStart();\n\n        final String stdout = runWith(Collections.singletonList(TEST_JOB_NAME)).stdout();\n\n        assertThat(stdout,\n                equalTo(\"Exception occurred while trying to stop build '#1' for job 'jobName'. \" +\n                        \"Exception class: AccessDeniedException3, message: anonymous is missing the Job/Cancel permission\" + LN +\n                        \"No builds stopped\" + LN));\n    }\n","date":"2020-11-07 02:30:25","endLine":141,"groupId":"10586","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"shouldReportBuildStopError","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/0b/3df34f2b1dfac9b2d943db9173d86d1470bc05.src","preCode":"    public void shouldReportBuildStopError() throws Exception {\n        final FreeStyleProject project = createLongRunningProject(TEST_JOB_NAME);\n\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        j.jenkins.setAuthorizationStrategy(new MockAuthorizationStrategy().\n                grant(Jenkins.READ).everywhere().toEveryone().\n                grant(Item.READ).onItems(project).toEveryone().\n                grant(Item.CANCEL).onItems(project).toAuthenticated());\n        project.scheduleBuild2(0).waitForStart();\n\n        final String stdout = runWith(Collections.singletonList(TEST_JOB_NAME)).stdout();\n\n        assertThat(stdout,\n                equalTo(\"Exception occurred while trying to stop build '#1' for job 'jobName'. \" +\n                        \"Exception class: AccessDeniedException2, message: anonymous is missing the Job/Cancel permission\" + LN +\n                        \"No builds stopped\" + LN));\n    }\n","realPath":"test/src/test/java/jenkins/cli/StopBuildsCommandTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":125,"status":"M"},{"authorDate":"2020-11-07 02:30:25","commitOrder":2,"curCode":"    public void shouldStopSecondJobEvenIfFirstStopFailed() throws Exception {\n        final FreeStyleProject project = createLongRunningProject(TEST_JOB_NAME_2);\n\n        final FreeStyleProject restrictedProject = createLongRunningProject(TEST_JOB_NAME);\n\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        j.jenkins.setAuthorizationStrategy(new MockAuthorizationStrategy().\n                grant(Jenkins.READ).everywhere().toEveryone().\n                grant(Item.READ).onItems(restrictedProject, project).toEveryone().\n                grant(Item.CANCEL).onItems(restrictedProject).toAuthenticated().\n                grant(Item.CANCEL).onItems(project).toEveryone());\n\n        restrictedProject.scheduleBuild2(0).waitForStart();\n        project.scheduleBuild2(0).waitForStart();\n\n        final String stdout = runWith(asList(TEST_JOB_NAME, TEST_JOB_NAME_2)).stdout();\n\n        assertThat(stdout,\n                equalTo(\"Exception occurred while trying to stop build '#1' for job 'jobName'. \" +\n                        \"Exception class: AccessDeniedException3, message: anonymous is missing the Job/Cancel permission\" + LN +\n                        \"Build '#1' stopped for job 'jobName2'\" + LN));\n    }\n","date":"2020-11-07 02:30:25","endLine":165,"groupId":"10586","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"shouldStopSecondJobEvenIfFirstStopFailed","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/0b/3df34f2b1dfac9b2d943db9173d86d1470bc05.src","preCode":"    public void shouldStopSecondJobEvenIfFirstStopFailed() throws Exception {\n        final FreeStyleProject project = createLongRunningProject(TEST_JOB_NAME_2);\n\n        final FreeStyleProject restrictedProject = createLongRunningProject(TEST_JOB_NAME);\n\n        j.jenkins.setSecurityRealm(j.createDummySecurityRealm());\n        j.jenkins.setAuthorizationStrategy(new MockAuthorizationStrategy().\n                grant(Jenkins.READ).everywhere().toEveryone().\n                grant(Item.READ).onItems(restrictedProject, project).toEveryone().\n                grant(Item.CANCEL).onItems(restrictedProject).toAuthenticated().\n                grant(Item.CANCEL).onItems(project).toEveryone());\n\n        restrictedProject.scheduleBuild2(0).waitForStart();\n        project.scheduleBuild2(0).waitForStart();\n\n        final String stdout = runWith(asList(TEST_JOB_NAME, TEST_JOB_NAME_2)).stdout();\n\n        assertThat(stdout,\n                equalTo(\"Exception occurred while trying to stop build '#1' for job 'jobName'. \" +\n                        \"Exception class: AccessDeniedException2, message: anonymous is missing the Job/Cancel permission\" + LN +\n                        \"Build '#1' stopped for job 'jobName2'\" + LN));\n    }\n","realPath":"test/src/test/java/jenkins/cli/StopBuildsCommandTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":144,"status":"M"}],"commitId":"a9ca5ef3d4c97937636bf3c585f4232514279b14","commitMessage":"@@@[JEP-227] Replace Acegi Security with Spring Security & upgrade Spring Framework (#4848)\n\nReplacing Acegi Security with Spring Security\n\nCo-authored-by: Tim Jacomb <timjacomb1+github@gmail.com>\nCo-authored-by: James Nord <jtnord@users.noreply.github.com>","date":"2020-11-07 02:30:25","modifiedFileCount":"149","status":"M","submitter":"Jesse Glick"}]
