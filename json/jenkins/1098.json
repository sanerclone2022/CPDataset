[{"authorTime":"2015-04-05 03:12:09","codes":[{"authorDate":"2015-04-05 03:12:09","commitOrder":2,"curCode":"    public void downstreamProjectShouldObserveCompletedParent() throws Exception {\n        j.jenkins.setNumExecutors(2);\n\n        final FreeStyleProject us = j.createFreeStyleProject();\n        us.getPublishersList().add(new BuildTrigger(\"downstream\", true));\n        us.getPublishersList().add(new TestNotifier() {\n            @Override\n            public boolean perform(AbstractBuild<?, ?> build, Launcher launcher, BuildListener listener) throws InterruptedException, IOException {\n                Thread.sleep(5000); \r\n                return true;\n            }\n        });\n\n        FreeStyleProject ds = createDownstreamProject();\n        ds.getBuildersList().add(new AssertTriggerBuildCompleted(us, j.createWebClient()));\n\n        j.jenkins.rebuildDependencyGraph();\n\n        j.buildAndAssertSuccess(us);\n\n        final FreeStyleBuild dsb = ds.getBuildByNumber(1);\n        j.waitForCompletion(dsb);\n        j.assertBuildStatusSuccess(dsb);\n    }\n","date":"2015-04-05 03:12:09","endLine":329,"groupId":"936","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"downstreamProjectShouldObserveCompletedParent","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/ef/d9e474cc21a2d8046643653ac0cc9eb235381e.src","preCode":"    public void downstreamProjectShouldObserveCompletedParent() throws Exception {\n        j.jenkins.setNumExecutors(2);\n\n        final FreeStyleProject us = j.createFreeStyleProject();\n        us.getPublishersList().add(new BuildTrigger(\"downstream\", true));\n        us.getPublishersList().add(new TestNotifier() {\n            @Override\n            public boolean perform(AbstractBuild<?, ?> build, Launcher launcher, BuildListener listener) throws InterruptedException, IOException {\n                Thread.sleep(5000); \r\n                return true;\n            }\n        });\n\n        FreeStyleProject ds = createDownstreamProject();\n        ds.getBuildersList().add(new AssertTriggerBuildCompleted(us, j.createWebClient()));\n\n        j.jenkins.rebuildDependencyGraph();\n\n        j.buildAndAssertSuccess(us);\n\n        final FreeStyleBuild dsb = ds.getBuildByNumber(1);\n        j.waitForCompletion(dsb);\n        j.assertBuildStatusSuccess(dsb);\n    }\n","realPath":"test/src/test/java/hudson/tasks/BuildTriggerTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":306,"status":"MB"},{"authorDate":"2015-04-05 03:12:09","commitOrder":2,"curCode":"    public void allDownstreamProjectsShouldObserveCompletedParent() throws Exception {\n        j.jenkins.setNumExecutors(3);\n\n        final FreeStyleProject us = j.createFreeStyleProject();\n        us.getPublishersList().add(new SlowTrigger(\"downstream,downstream2\"));\n\n        FreeStyleProject ds = createDownstreamProject();\n        ds.getBuildersList().add(new AssertTriggerBuildCompleted(us, j.createWebClient()));\n        FreeStyleProject ds2 = j.createFreeStyleProject(\"downstream2\");\n        ds2.setQuietPeriod(0);\n        ds2.getBuildersList().add(new AssertTriggerBuildCompleted(us, j.createWebClient()));\n\n        j.jenkins.rebuildDependencyGraph();\n\n        FreeStyleBuild upstream = j.buildAndAssertSuccess(us);\n\n        FreeStyleBuild dsb = assertDownstreamBuild(ds, upstream);\n        j.waitForCompletion(dsb);\n        j.assertBuildStatusSuccess(dsb);\n\n        dsb = assertDownstreamBuild(ds2, upstream);\n        j.waitForCompletion(dsb);\n        j.assertBuildStatusSuccess(dsb);\n    }\n","date":"2015-04-05 03:12:09","endLine":355,"groupId":"9072","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"allDownstreamProjectsShouldObserveCompletedParent","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/ef/d9e474cc21a2d8046643653ac0cc9eb235381e.src","preCode":"    public void allDownstreamProjectsShouldObserveCompletedParent() throws Exception {\n        j.jenkins.setNumExecutors(3);\n\n        final FreeStyleProject us = j.createFreeStyleProject();\n        us.getPublishersList().add(new SlowTrigger(\"downstream,downstream2\"));\n\n        FreeStyleProject ds = createDownstreamProject();\n        ds.getBuildersList().add(new AssertTriggerBuildCompleted(us, j.createWebClient()));\n        FreeStyleProject ds2 = j.createFreeStyleProject(\"downstream2\");\n        ds2.setQuietPeriod(0);\n        ds2.getBuildersList().add(new AssertTriggerBuildCompleted(us, j.createWebClient()));\n\n        j.jenkins.rebuildDependencyGraph();\n\n        FreeStyleBuild upstream = j.buildAndAssertSuccess(us);\n\n        FreeStyleBuild dsb = assertDownstreamBuild(ds, upstream);\n        j.waitForCompletion(dsb);\n        j.assertBuildStatusSuccess(dsb);\n\n        dsb = assertDownstreamBuild(ds2, upstream);\n        j.waitForCompletion(dsb);\n        j.assertBuildStatusSuccess(dsb);\n    }\n","realPath":"test/src/test/java/hudson/tasks/BuildTriggerTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":332,"status":"B"}],"commitId":"ad56599e5c54d9a5f850f365ca0ff969d7c7f87d","commitMessage":"@@@Merge pull request #1628 from olivergondza/JENKINS-27635\n\n[JENKINS-20989] PeepholePermalink RunListenerImpl oncompleted should be triggered before downstream builds are triggered\n","date":"2015-04-05 03:12:09","modifiedFileCount":"2","status":"M","submitter":"Oliver Gond?a"},{"authorTime":"2015-04-05 03:12:09","codes":[{"authorDate":"2016-01-20 15:37:10","commitOrder":3,"curCode":"    public void downstreamProjectShouldObserveCompletedParent() throws Exception {\n        j.jenkins.setNumExecutors(2);\n\n        final FreeStyleProject us = j.createFreeStyleProject();\n        us.getPublishersList().add(new BuildTrigger(\"downstream\", true));\n\n        FreeStyleProject ds = createDownstreamProject();\n        ds.getBuildersList().add(new AssertTriggerBuildCompleted(us, j.createWebClient()));\n\n        j.jenkins.rebuildDependencyGraph();\n\n        j.buildAndAssertSuccess(us);\n\n        j.waitUntilNoActivity();\n        final FreeStyleBuild dsb = ds.getBuildByNumber(1);\n        assertNotNull(dsb);\n        j.waitForCompletion(dsb);\n        j.assertBuildStatusSuccess(dsb);\n    }\n","date":"2016-01-20 15:37:10","endLine":326,"groupId":"1098","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"downstreamProjectShouldObserveCompletedParent","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/77/90179f7db634e225f5b8b276b7b12ae230c5d4.src","preCode":"    public void downstreamProjectShouldObserveCompletedParent() throws Exception {\n        j.jenkins.setNumExecutors(2);\n\n        final FreeStyleProject us = j.createFreeStyleProject();\n        us.getPublishersList().add(new BuildTrigger(\"downstream\", true));\n        us.getPublishersList().add(new TestNotifier() {\n            @Override\n            public boolean perform(AbstractBuild<?, ?> build, Launcher launcher, BuildListener listener) throws InterruptedException, IOException {\n                Thread.sleep(5000); \r\n                return true;\n            }\n        });\n\n        FreeStyleProject ds = createDownstreamProject();\n        ds.getBuildersList().add(new AssertTriggerBuildCompleted(us, j.createWebClient()));\n\n        j.jenkins.rebuildDependencyGraph();\n\n        j.buildAndAssertSuccess(us);\n\n        final FreeStyleBuild dsb = ds.getBuildByNumber(1);\n        j.waitForCompletion(dsb);\n        j.assertBuildStatusSuccess(dsb);\n    }\n","realPath":"test/src/test/java/hudson/tasks/BuildTriggerTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":308,"status":"M"},{"authorDate":"2015-04-05 03:12:09","commitOrder":3,"curCode":"    public void allDownstreamProjectsShouldObserveCompletedParent() throws Exception {\n        j.jenkins.setNumExecutors(3);\n\n        final FreeStyleProject us = j.createFreeStyleProject();\n        us.getPublishersList().add(new SlowTrigger(\"downstream,downstream2\"));\n\n        FreeStyleProject ds = createDownstreamProject();\n        ds.getBuildersList().add(new AssertTriggerBuildCompleted(us, j.createWebClient()));\n        FreeStyleProject ds2 = j.createFreeStyleProject(\"downstream2\");\n        ds2.setQuietPeriod(0);\n        ds2.getBuildersList().add(new AssertTriggerBuildCompleted(us, j.createWebClient()));\n\n        j.jenkins.rebuildDependencyGraph();\n\n        FreeStyleBuild upstream = j.buildAndAssertSuccess(us);\n\n        FreeStyleBuild dsb = assertDownstreamBuild(ds, upstream);\n        j.waitForCompletion(dsb);\n        j.assertBuildStatusSuccess(dsb);\n\n        dsb = assertDownstreamBuild(ds2, upstream);\n        j.waitForCompletion(dsb);\n        j.assertBuildStatusSuccess(dsb);\n    }\n","date":"2015-04-05 03:12:09","endLine":355,"groupId":"1098","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"allDownstreamProjectsShouldObserveCompletedParent","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/ef/d9e474cc21a2d8046643653ac0cc9eb235381e.src","preCode":"    public void allDownstreamProjectsShouldObserveCompletedParent() throws Exception {\n        j.jenkins.setNumExecutors(3);\n\n        final FreeStyleProject us = j.createFreeStyleProject();\n        us.getPublishersList().add(new SlowTrigger(\"downstream,downstream2\"));\n\n        FreeStyleProject ds = createDownstreamProject();\n        ds.getBuildersList().add(new AssertTriggerBuildCompleted(us, j.createWebClient()));\n        FreeStyleProject ds2 = j.createFreeStyleProject(\"downstream2\");\n        ds2.setQuietPeriod(0);\n        ds2.getBuildersList().add(new AssertTriggerBuildCompleted(us, j.createWebClient()));\n\n        j.jenkins.rebuildDependencyGraph();\n\n        FreeStyleBuild upstream = j.buildAndAssertSuccess(us);\n\n        FreeStyleBuild dsb = assertDownstreamBuild(ds, upstream);\n        j.waitForCompletion(dsb);\n        j.assertBuildStatusSuccess(dsb);\n\n        dsb = assertDownstreamBuild(ds2, upstream);\n        j.waitForCompletion(dsb);\n        j.assertBuildStatusSuccess(dsb);\n    }\n","realPath":"test/src/test/java/hudson/tasks/BuildTriggerTest.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":332,"status":"N"}],"commitId":"1f89b5a9096f8d4946c1797e79ca5e2f494175ee","commitMessage":"@@@Merge pull request #1992 from jglick/BuildTriggerTest.downstreamProjectShouldObserveCompletedParent\n\nBuildTriggerTest.downstreamProjectShouldObserveCompletedParent failure","date":"2016-01-20 15:37:10","modifiedFileCount":"1","status":"M","submitter":"Oliver Gond?a"}]
