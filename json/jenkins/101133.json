[{"authorTime":"2018-06-24 05:20:44","codes":[{"authorDate":"2018-06-24 05:20:44","commitOrder":1,"curCode":"    public boolean hasFreshToken(@Nonnull User user, @Nullable ApiTokenProperty.TokenInfoAndStats legacyStats) {\n        if(legacyStats == null){\n            return false;\n        }\n        \n        ApiTokenProperty apiTokenProperty = user.getProperty(ApiTokenProperty.class);\n        \n        return apiTokenProperty.getTokenList().stream()\n                .filter(token -> !token.isLegacy)\n                .anyMatch(token -> {\n                    Date creationDate = token.creationDate;\n                    Date lastUseDate = legacyStats.lastUseDate;\n                    if (lastUseDate == null) {\n                        lastUseDate = legacyStats.creationDate;\n                    }\n                    return creationDate != null && lastUseDate != null && creationDate.after(lastUseDate);\n                });\n    }\n","date":"2018-06-24 05:20:44","endLine":135,"groupId":"4511","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"hasFreshToken","params":"(@NonnullUseruser@@NullableApiTokenProperty.TokenInfoAndStatslegacyStats)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/7c/2a2ce1b0671cc692cfae92c6572b240b30743e.src","preCode":"    public boolean hasFreshToken(@Nonnull User user, @Nullable ApiTokenProperty.TokenInfoAndStats legacyStats) {\n        if(legacyStats == null){\n            return false;\n        }\n        \n        ApiTokenProperty apiTokenProperty = user.getProperty(ApiTokenProperty.class);\n        \n        return apiTokenProperty.getTokenList().stream()\n                .filter(token -> !token.isLegacy)\n                .anyMatch(token -> {\n                    Date creationDate = token.creationDate;\n                    Date lastUseDate = legacyStats.lastUseDate;\n                    if (lastUseDate == null) {\n                        lastUseDate = legacyStats.creationDate;\n                    }\n                    return creationDate != null && lastUseDate != null && creationDate.after(lastUseDate);\n                });\n    }\n","realPath":"core/src/main/java/jenkins/security/apitoken/LegacyApiTokenAdministrativeMonitor.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":118,"status":"B"},{"authorDate":"2018-06-24 05:20:44","commitOrder":1,"curCode":"    public boolean hasMoreRecentlyUsedToken(@Nonnull User user, @Nullable ApiTokenProperty.TokenInfoAndStats legacyStats) {\n        if(legacyStats == null){\n            return false;\n        }\n        \n        ApiTokenProperty apiTokenProperty = user.getProperty(ApiTokenProperty.class);\n    \n        return apiTokenProperty.getTokenList().stream()\n                .filter(token -> !token.isLegacy)\n                .anyMatch(token -> {\n                    Date currentLastUseDate = token.lastUseDate;\n                    Date legacyLastUseDate = legacyStats.lastUseDate;\n                    if (legacyLastUseDate == null) {\n                        legacyLastUseDate = legacyStats.creationDate;\n                    }\n                    return currentLastUseDate != null && legacyLastUseDate != null && currentLastUseDate.after(legacyLastUseDate);\n                });\n    }\n","date":"2018-06-24 05:20:44","endLine":159,"groupId":"4511","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"hasMoreRecentlyUsedToken","params":"(@NonnullUseruser@@NullableApiTokenProperty.TokenInfoAndStatslegacyStats)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/7c/2a2ce1b0671cc692cfae92c6572b240b30743e.src","preCode":"    public boolean hasMoreRecentlyUsedToken(@Nonnull User user, @Nullable ApiTokenProperty.TokenInfoAndStats legacyStats) {\n        if(legacyStats == null){\n            return false;\n        }\n        \n        ApiTokenProperty apiTokenProperty = user.getProperty(ApiTokenProperty.class);\n    \n        return apiTokenProperty.getTokenList().stream()\n                .filter(token -> !token.isLegacy)\n                .anyMatch(token -> {\n                    Date currentLastUseDate = token.lastUseDate;\n                    Date legacyLastUseDate = legacyStats.lastUseDate;\n                    if (legacyLastUseDate == null) {\n                        legacyLastUseDate = legacyStats.creationDate;\n                    }\n                    return currentLastUseDate != null && legacyLastUseDate != null && currentLastUseDate.after(legacyLastUseDate);\n                });\n    }\n","realPath":"core/src/main/java/jenkins/security/apitoken/LegacyApiTokenAdministrativeMonitor.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":142,"status":"B"}],"commitId":"fd1ec1d125b28f0c069e050ac1abd1a20e09feef","commitMessage":"@@@Merge pull request #3271 from Wadeck/JENKINS-32442-32776_HASHED_TOKEN\n\n[JENKINS-32442][JENKINS-32776] New API Token system","date":"2018-06-24 05:20:44","modifiedFileCount":"19","status":"B","submitter":"Daniel Beck"},{"authorTime":"2019-07-03 02:02:48","codes":[{"authorDate":"2019-07-03 02:02:48","commitOrder":2,"curCode":"    public boolean hasFreshToken(@Nonnull User user, ApiTokenProperty.TokenInfoAndStats legacyStats) {\n        if (legacyStats == null) {\n            return false;\n        }\n        \n        ApiTokenProperty apiTokenProperty = user.getProperty(ApiTokenProperty.class);\n        \n        return apiTokenProperty.getTokenList().stream()\n                .filter(token -> !token.isLegacy)\n                .anyMatch(token -> {\n                    Date creationDate = token.creationDate;\n                    Date lastUseDate = legacyStats.lastUseDate;\n                    if (lastUseDate == null) {\n                        lastUseDate = legacyStats.creationDate;\n                    }\n                    return creationDate != null && lastUseDate != null && creationDate.after(lastUseDate);\n                });\n    }\n","date":"2019-07-03 02:02:48","endLine":132,"groupId":"4511","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"hasFreshToken","params":"(@NonnullUseruser@ApiTokenProperty.TokenInfoAndStatslegacyStats)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/dd/64894006d7cb04b8961371a6e91c7b4fff92b6.src","preCode":"    public boolean hasFreshToken(@Nonnull User user, @Nullable ApiTokenProperty.TokenInfoAndStats legacyStats) {\n        if (legacyStats == null) {\n            return false;\n        }\n        \n        ApiTokenProperty apiTokenProperty = user.getProperty(ApiTokenProperty.class);\n        \n        return apiTokenProperty.getTokenList().stream()\n                .filter(token -> !token.isLegacy)\n                .anyMatch(token -> {\n                    Date creationDate = token.creationDate;\n                    Date lastUseDate = legacyStats.lastUseDate;\n                    if (lastUseDate == null) {\n                        lastUseDate = legacyStats.creationDate;\n                    }\n                    return creationDate != null && lastUseDate != null && creationDate.after(lastUseDate);\n                });\n    }\n","realPath":"core/src/main/java/jenkins/security/apitoken/LegacyApiTokenAdministrativeMonitor.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":115,"status":"M"},{"authorDate":"2019-07-03 02:02:48","commitOrder":2,"curCode":"    public boolean hasMoreRecentlyUsedToken(@Nonnull User user, ApiTokenProperty.TokenInfoAndStats legacyStats) {\n        if (legacyStats == null) {\n            return false;\n        }\n        \n        ApiTokenProperty apiTokenProperty = user.getProperty(ApiTokenProperty.class);\n        \n        return apiTokenProperty.getTokenList().stream()\n                .filter(token -> !token.isLegacy)\n                .anyMatch(token -> {\n                    Date currentLastUseDate = token.lastUseDate;\n                    Date legacyLastUseDate = legacyStats.lastUseDate;\n                    if (legacyLastUseDate == null) {\n                        legacyLastUseDate = legacyStats.creationDate;\n                    }\n                    return currentLastUseDate != null && legacyLastUseDate != null && currentLastUseDate.after(legacyLastUseDate);\n                });\n    }\n","date":"2019-07-03 02:02:48","endLine":156,"groupId":"4511","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"hasMoreRecentlyUsedToken","params":"(@NonnullUseruser@ApiTokenProperty.TokenInfoAndStatslegacyStats)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/dd/64894006d7cb04b8961371a6e91c7b4fff92b6.src","preCode":"    public boolean hasMoreRecentlyUsedToken(@Nonnull User user, @Nullable ApiTokenProperty.TokenInfoAndStats legacyStats) {\n        if (legacyStats == null) {\n            return false;\n        }\n        \n        ApiTokenProperty apiTokenProperty = user.getProperty(ApiTokenProperty.class);\n        \n        return apiTokenProperty.getTokenList().stream()\n                .filter(token -> !token.isLegacy)\n                .anyMatch(token -> {\n                    Date currentLastUseDate = token.lastUseDate;\n                    Date legacyLastUseDate = legacyStats.lastUseDate;\n                    if (legacyLastUseDate == null) {\n                        legacyLastUseDate = legacyStats.creationDate;\n                    }\n                    return currentLastUseDate != null && legacyLastUseDate != null && currentLastUseDate.after(legacyLastUseDate);\n                });\n    }\n","realPath":"core/src/main/java/jenkins/security/apitoken/LegacyApiTokenAdministrativeMonitor.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":139,"status":"M"}],"commitId":"494119294fa2f095b4a28db0dd32c0d2092d9fa1","commitMessage":"@@@Merge commit '4404c6e662befe16e8daa1ea7a412df73b370086' of github.com:jenkinsci/jenkins\n","date":"2019-07-03 02:02:48","modifiedFileCount":"292","status":"M","submitter":"Jeff Thompson"},{"authorTime":"2020-04-06 17:32:41","codes":[{"authorDate":"2020-04-06 17:32:41","commitOrder":3,"curCode":"    public boolean hasFreshToken(@NonNull User user, ApiTokenProperty.TokenInfoAndStats legacyStats) {\n        if (legacyStats == null) {\n            return false;\n        }\n        \n        ApiTokenProperty apiTokenProperty = user.getProperty(ApiTokenProperty.class);\n        \n        return apiTokenProperty.getTokenList().stream()\n                .filter(token -> !token.isLegacy)\n                .anyMatch(token -> {\n                    Date creationDate = token.creationDate;\n                    Date lastUseDate = legacyStats.lastUseDate;\n                    if (lastUseDate == null) {\n                        lastUseDate = legacyStats.creationDate;\n                    }\n                    return creationDate != null && lastUseDate != null && creationDate.after(lastUseDate);\n                });\n    }\n","date":"2020-04-06 17:32:41","endLine":132,"groupId":"101133","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"hasFreshToken","params":"(@NonNullUseruser@ApiTokenProperty.TokenInfoAndStatslegacyStats)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/33/20ccb6efa5f53dd8ca2a9e983acfc7423efaea.src","preCode":"    public boolean hasFreshToken(@Nonnull User user, ApiTokenProperty.TokenInfoAndStats legacyStats) {\n        if (legacyStats == null) {\n            return false;\n        }\n        \n        ApiTokenProperty apiTokenProperty = user.getProperty(ApiTokenProperty.class);\n        \n        return apiTokenProperty.getTokenList().stream()\n                .filter(token -> !token.isLegacy)\n                .anyMatch(token -> {\n                    Date creationDate = token.creationDate;\n                    Date lastUseDate = legacyStats.lastUseDate;\n                    if (lastUseDate == null) {\n                        lastUseDate = legacyStats.creationDate;\n                    }\n                    return creationDate != null && lastUseDate != null && creationDate.after(lastUseDate);\n                });\n    }\n","realPath":"core/src/main/java/jenkins/security/apitoken/LegacyApiTokenAdministrativeMonitor.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":115,"status":"M"},{"authorDate":"2020-04-06 17:32:41","commitOrder":3,"curCode":"    public boolean hasMoreRecentlyUsedToken(@NonNull User user, ApiTokenProperty.TokenInfoAndStats legacyStats) {\n        if (legacyStats == null) {\n            return false;\n        }\n        \n        ApiTokenProperty apiTokenProperty = user.getProperty(ApiTokenProperty.class);\n        \n        return apiTokenProperty.getTokenList().stream()\n                .filter(token -> !token.isLegacy)\n                .anyMatch(token -> {\n                    Date currentLastUseDate = token.lastUseDate;\n                    Date legacyLastUseDate = legacyStats.lastUseDate;\n                    if (legacyLastUseDate == null) {\n                        legacyLastUseDate = legacyStats.creationDate;\n                    }\n                    return currentLastUseDate != null && legacyLastUseDate != null && currentLastUseDate.after(legacyLastUseDate);\n                });\n    }\n","date":"2020-04-06 17:32:41","endLine":156,"groupId":"101133","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"hasMoreRecentlyUsedToken","params":"(@NonNullUseruser@ApiTokenProperty.TokenInfoAndStatslegacyStats)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jenkins-10-0.7/blobInfo/CC_OUT/blobs/33/20ccb6efa5f53dd8ca2a9e983acfc7423efaea.src","preCode":"    public boolean hasMoreRecentlyUsedToken(@Nonnull User user, ApiTokenProperty.TokenInfoAndStats legacyStats) {\n        if (legacyStats == null) {\n            return false;\n        }\n        \n        ApiTokenProperty apiTokenProperty = user.getProperty(ApiTokenProperty.class);\n        \n        return apiTokenProperty.getTokenList().stream()\n                .filter(token -> !token.isLegacy)\n                .anyMatch(token -> {\n                    Date currentLastUseDate = token.lastUseDate;\n                    Date legacyLastUseDate = legacyStats.lastUseDate;\n                    if (legacyLastUseDate == null) {\n                        legacyLastUseDate = legacyStats.creationDate;\n                    }\n                    return currentLastUseDate != null && legacyLastUseDate != null && currentLastUseDate.after(legacyLastUseDate);\n                });\n    }\n","realPath":"core/src/main/java/jenkins/security/apitoken/LegacyApiTokenAdministrativeMonitor.java","repoName":"jenkins","snippetEndLine":0,"snippetStartLine":0,"startLine":139,"status":"M"}],"commitId":"449c5aced523a6e66fe3d6a804e5dbfd5c5c67c6","commitMessage":"@@@Merge pull request #4604 from jtnord/kill-jsr-305\n\nKill jsr-305","date":"2020-04-06 17:32:41","modifiedFileCount":"352","status":"M","submitter":"Tim Jacomb"}]
