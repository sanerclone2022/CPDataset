[{"authorTime":"2019-10-31 04:59:45","codes":[{"authorDate":"2019-03-21 07:25:05","commitOrder":2,"curCode":"  public void testBasicProjection() throws Exception {\n    Schema writeSchema = new Schema(\n        Types.NestedField.required(0, \"id\", Types.LongType.get()),\n        Types.NestedField.optional(1, \"data\", Types.StringType.get())\n    );\n\n    Record record = new Record(AvroSchemaUtil.convert(writeSchema, \"table\"));\n    record.put(\"id\", 34L);\n    record.put(\"data\", \"test\");\n\n    Schema idOnly = new Schema(\n        Types.NestedField.required(0, \"id\", Types.LongType.get())\n    );\n\n    Record projected = writeAndRead(\"basic_projection_id\", writeSchema, idOnly, record);\n    Assert.assertNull(\"Should not project data\", projected.get(\"data\"));\n    Assert.assertEquals(\"Should contain the correct id value\", 34L, (long) projected.get(\"id\"));\n\n    Schema dataOnly = new Schema(\n        Types.NestedField.optional(1, \"data\", Types.StringType.get())\n    );\n\n    projected = writeAndRead(\"basic_projection_data\", writeSchema, dataOnly, record);\n\n    Assert.assertNull(\"Should not project id\", projected.get(\"id\"));\n    int cmp = Comparators.charSequences()\n        .compare(\"test\", (CharSequence) projected.get(\"data\"));\n    Assert.assertTrue(\"Should contain the correct data value\", cmp == 0);\n  }\n","date":"2019-03-21 07:25:05","endLine":164,"groupId":"2588","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testBasicProjection","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/b0/d18d0ce9108879420cd44e6c3ec52aa1390fe6.src","preCode":"  public void testBasicProjection() throws Exception {\n    Schema writeSchema = new Schema(\n        Types.NestedField.required(0, \"id\", Types.LongType.get()),\n        Types.NestedField.optional(1, \"data\", Types.StringType.get())\n    );\n\n    Record record = new Record(AvroSchemaUtil.convert(writeSchema, \"table\"));\n    record.put(\"id\", 34L);\n    record.put(\"data\", \"test\");\n\n    Schema idOnly = new Schema(\n        Types.NestedField.required(0, \"id\", Types.LongType.get())\n    );\n\n    Record projected = writeAndRead(\"basic_projection_id\", writeSchema, idOnly, record);\n    Assert.assertNull(\"Should not project data\", projected.get(\"data\"));\n    Assert.assertEquals(\"Should contain the correct id value\", 34L, (long) projected.get(\"id\"));\n\n    Schema dataOnly = new Schema(\n        Types.NestedField.optional(1, \"data\", Types.StringType.get())\n    );\n\n    projected = writeAndRead(\"basic_projection_data\", writeSchema, dataOnly, record);\n\n    Assert.assertNull(\"Should not project id\", projected.get(\"id\"));\n    int cmp = Comparators.charSequences()\n        .compare(\"test\", (CharSequence) projected.get(\"data\"));\n    Assert.assertTrue(\"Should contain the correct data value\", cmp == 0);\n  }\n","realPath":"parquet/src/test/java/org/apache/iceberg/avro/TestReadProjection.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":136,"status":"NB"},{"authorDate":"2019-10-31 04:59:45","commitOrder":2,"curCode":"  public void testInferredMapping() throws IOException {\n    Schema writeSchema = new Schema(\n        Types.NestedField.required(0, \"id\", Types.LongType.get()),\n        Types.NestedField.optional(1, \"data\", Types.StringType.get()));\n\n    Record record = new Record(AvroSchemaUtil.convert(writeSchema, \"table\"));\n    record.put(\"id\", 34L);\n    record.put(\"data\", \"data\");\n\n    Schema readSchema = writeSchema;\n    \r\n    Record projected = writeAndRead(writeSchema, readSchema, record, null);\n    Assert.assertEquals(record, projected);\n  }\n","date":"2019-10-31 04:59:45","endLine":217,"groupId":"2588","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testInferredMapping","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/46/82a1f048c6ae77f13195f5d95ede4641e3bc14.src","preCode":"  public void testInferredMapping() throws IOException {\n    Schema writeSchema = new Schema(\n        Types.NestedField.required(0, \"id\", Types.LongType.get()),\n        Types.NestedField.optional(1, \"data\", Types.StringType.get()));\n\n    Record record = new Record(AvroSchemaUtil.convert(writeSchema, \"table\"));\n    record.put(\"id\", 34L);\n    record.put(\"data\", \"data\");\n\n    Schema readSchema = writeSchema;\n    \r\n    Record projected = writeAndRead(writeSchema, readSchema, record, null);\n    Assert.assertEquals(record, projected);\n  }\n","realPath":"core/src/test/java/org/apache/iceberg/avro/TestAvroNameMapping.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":204,"status":"B"}],"commitId":"c3449349cbb60d16a26ee1c10f527ba87f71f3a7","commitMessage":"@@@Avro: Infer a name mapping when Avro has no IDs (#580)\n\nFixes #528","date":"2019-10-31 04:59:45","modifiedFileCount":"4","status":"M","submitter":"Ratandeep Ratti"},{"authorTime":"2019-10-31 04:59:45","codes":[{"authorDate":"2021-07-13 23:59:22","commitOrder":3,"curCode":"  public void testBasicProjection() throws Exception {\n    Schema writeSchema = new Schema(\n        Types.NestedField.required(0, \"id\", Types.LongType.get()),\n        Types.NestedField.optional(1, \"data\", Types.StringType.get())\n    );\n\n    Record record = new Record(AvroSchemaUtil.convert(writeSchema, \"table\"));\n    record.put(\"id\", 34L);\n    record.put(\"data\", \"test\");\n\n    Schema idOnly = new Schema(\n        Types.NestedField.required(0, \"id\", Types.LongType.get())\n    );\n\n    Record projected = writeAndRead(\"basic_projection_id\", writeSchema, idOnly, record);\n    TestHelpers.assertEmptyAvroField(projected, \"data\");\n    Assert.assertEquals(\"Should contain the correct id value\", 34L, (long) projected.get(\"id\"));\n\n    Schema dataOnly = new Schema(\n        Types.NestedField.optional(1, \"data\", Types.StringType.get())\n    );\n\n    projected = writeAndRead(\"basic_projection_data\", writeSchema, dataOnly, record);\n\n    TestHelpers.assertEmptyAvroField(projected, \"id\");\n    int cmp = Comparators.charSequences()\n        .compare(\"test\", (CharSequence) projected.get(\"data\"));\n    Assert.assertEquals(\"Should contain the correct data value\", 0, cmp);\n  }\n","date":"2021-07-13 23:59:22","endLine":165,"groupId":"1074","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"testBasicProjection","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/68/5d4ee88f195a823aa551f19ac18900355fe9bc.src","preCode":"  public void testBasicProjection() throws Exception {\n    Schema writeSchema = new Schema(\n        Types.NestedField.required(0, \"id\", Types.LongType.get()),\n        Types.NestedField.optional(1, \"data\", Types.StringType.get())\n    );\n\n    Record record = new Record(AvroSchemaUtil.convert(writeSchema, \"table\"));\n    record.put(\"id\", 34L);\n    record.put(\"data\", \"test\");\n\n    Schema idOnly = new Schema(\n        Types.NestedField.required(0, \"id\", Types.LongType.get())\n    );\n\n    Record projected = writeAndRead(\"basic_projection_id\", writeSchema, idOnly, record);\n    Assert.assertNull(\"Should not project data\", projected.get(\"data\"));\n    Assert.assertEquals(\"Should contain the correct id value\", 34L, (long) projected.get(\"id\"));\n\n    Schema dataOnly = new Schema(\n        Types.NestedField.optional(1, \"data\", Types.StringType.get())\n    );\n\n    projected = writeAndRead(\"basic_projection_data\", writeSchema, dataOnly, record);\n\n    Assert.assertNull(\"Should not project id\", projected.get(\"id\"));\n    int cmp = Comparators.charSequences()\n        .compare(\"test\", (CharSequence) projected.get(\"data\"));\n    Assert.assertTrue(\"Should contain the correct data value\", cmp == 0);\n  }\n","realPath":"parquet/src/test/java/org/apache/iceberg/avro/TestReadProjection.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":137,"status":"M"},{"authorDate":"2019-10-31 04:59:45","commitOrder":3,"curCode":"  public void testInferredMapping() throws IOException {\n    Schema writeSchema = new Schema(\n        Types.NestedField.required(0, \"id\", Types.LongType.get()),\n        Types.NestedField.optional(1, \"data\", Types.StringType.get()));\n\n    Record record = new Record(AvroSchemaUtil.convert(writeSchema, \"table\"));\n    record.put(\"id\", 34L);\n    record.put(\"data\", \"data\");\n\n    Schema readSchema = writeSchema;\n    \r\n    Record projected = writeAndRead(writeSchema, readSchema, record, null);\n    Assert.assertEquals(record, projected);\n  }\n","date":"2019-10-31 04:59:45","endLine":217,"groupId":"1074","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testInferredMapping","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/46/82a1f048c6ae77f13195f5d95ede4641e3bc14.src","preCode":"  public void testInferredMapping() throws IOException {\n    Schema writeSchema = new Schema(\n        Types.NestedField.required(0, \"id\", Types.LongType.get()),\n        Types.NestedField.optional(1, \"data\", Types.StringType.get()));\n\n    Record record = new Record(AvroSchemaUtil.convert(writeSchema, \"table\"));\n    record.put(\"id\", 34L);\n    record.put(\"data\", \"data\");\n\n    Schema readSchema = writeSchema;\n    \r\n    Record projected = writeAndRead(writeSchema, readSchema, record, null);\n    Assert.assertEquals(record, projected);\n  }\n","realPath":"core/src/test/java/org/apache/iceberg/avro/TestAvroNameMapping.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":204,"status":"N"}],"commitId":"b3fb81a19e9632608b2bd4cdede4bbfcbd26bc8e","commitMessage":"@@@Core: Use Avro 1.10.1 (#1648)\n\nCo-authored-by: Fokko Driesprong <fdriesprong@ebay.com>","date":"2021-07-13 23:59:22","modifiedFileCount":"6","status":"M","submitter":"Fokko Driesprong"}]
