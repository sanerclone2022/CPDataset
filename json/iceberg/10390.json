[{"authorTime":"2021-03-26 02:36:51","codes":[{"authorDate":"2021-03-31 01:56:52","commitOrder":2,"curCode":"  public void testJavaSerialization() throws Exception {\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n    try (ObjectOutputStream out = new ObjectOutputStream(bytes)) {\n      out.writeObject(DATA_FILE);\n      out.writeObject(DATA_FILE.copy());\n\n      out.writeObject(POS_DELETE_FILE);\n      out.writeObject(POS_DELETE_FILE.copy());\n\n      out.writeObject(EQ_DELETE_FILE);\n      out.writeObject(EQ_DELETE_FILE.copy());\n    }\n\n    try (ObjectInputStream in = new ObjectInputStream(new ByteArrayInputStream(bytes.toByteArray()))) {\n      for (int i = 0; i < 2; i += 1) {\n        Object obj = in.readObject();\n        Assert.assertTrue(\"Should be a DataFile\", obj instanceof DataFile);\n        TestHelpers.assertEquals(DATA_FILE, (DataFile) obj);\n      }\n\n      for (int i = 0; i < 2; i += 1) {\n        Object obj = in.readObject();\n        Assert.assertTrue(\"Should be a position DeleteFile\", obj instanceof DeleteFile);\n        TestHelpers.assertEquals(POS_DELETE_FILE, (DeleteFile) obj);\n      }\n\n      for (int i = 0; i < 2; i += 1) {\n        Object obj = in.readObject();\n        Assert.assertTrue(\"Should be a equality DeleteFile\", obj instanceof DeleteFile);\n        TestHelpers.assertEquals(EQ_DELETE_FILE, (DeleteFile) obj);\n      }\n    }\n  }\n","date":"2021-03-31 01:56:52","endLine":152,"groupId":"4635","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testJavaSerialization","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/ad/67b181f30216b027a15b63f5aa6a6e21ad612d.src","preCode":"  public void testJavaSerialization() throws Exception {\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n    try (ObjectOutputStream out = new ObjectOutputStream(bytes)) {\n      out.writeObject(DATA_FILE);\n      out.writeObject(DATA_FILE.copy());\n\n      out.writeObject(POS_DELETE_FILE);\n      out.writeObject(POS_DELETE_FILE.copy());\n\n      out.writeObject(EQ_DELETE_FILE);\n      out.writeObject(EQ_DELETE_FILE.copy());\n    }\n\n    try (ObjectInputStream in = new ObjectInputStream(new ByteArrayInputStream(bytes.toByteArray()))) {\n      for (int i = 0; i < 2; i += 1) {\n        Object obj = in.readObject();\n        Assert.assertTrue(\"Should be a DataFile\", obj instanceof DataFile);\n        TestHelpers.assertEquals(DATA_FILE, (DataFile) obj);\n      }\n\n      for (int i = 0; i < 2; i += 1) {\n        Object obj = in.readObject();\n        Assert.assertTrue(\"Should be a position DeleteFile\", obj instanceof DeleteFile);\n        TestHelpers.assertEquals(POS_DELETE_FILE, (DeleteFile) obj);\n      }\n\n      for (int i = 0; i < 2; i += 1) {\n        Object obj = in.readObject();\n        Assert.assertTrue(\"Should be a equality DeleteFile\", obj instanceof DeleteFile);\n        TestHelpers.assertEquals(EQ_DELETE_FILE, (DeleteFile) obj);\n      }\n    }\n  }\n","realPath":"flink/src/test/java/org/apache/iceberg/flink/TestDataFileSerialization.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":120,"status":"B"},{"authorDate":"2021-03-26 02:36:51","commitOrder":2,"curCode":"  public void testJavaSerialization() throws Exception {\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n\n    ManifestFile manifest = writeManifest(FILE_A, FILE_B);\n\n    try (ObjectOutputStream out = new ObjectOutputStream(bytes)) {\n      out.writeObject(manifest);\n      out.writeObject(manifest.copy());\n      out.writeObject(GenericManifestFile.copyOf(manifest).build());\n    }\n\n    try (ObjectInputStream in = new ObjectInputStream(new ByteArrayInputStream(bytes.toByteArray()))) {\n      for (int i = 0; i < 3; i += 1) {\n        Object obj = in.readObject();\n        Assert.assertTrue(\"Should be a ManifestFile\", obj instanceof ManifestFile);\n        TestHelpers.assertEquals(manifest, (ManifestFile) obj);\n      }\n    }\n  }\n","date":"2021-03-26 02:36:51","endLine":147,"groupId":"4635","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testJavaSerialization","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/80/d579b0ad4dcfe49856fd3267ae17a2b6c8b4b7.src","preCode":"  public void testJavaSerialization() throws Exception {\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n\n    ManifestFile manifest = writeManifest(FILE_A, FILE_B);\n\n    try (ObjectOutputStream out = new ObjectOutputStream(bytes)) {\n      out.writeObject(manifest);\n      out.writeObject(manifest.copy());\n      out.writeObject(GenericManifestFile.copyOf(manifest).build());\n    }\n\n    try (ObjectInputStream in = new ObjectInputStream(new ByteArrayInputStream(bytes.toByteArray()))) {\n      for (int i = 0; i < 3; i += 1) {\n        Object obj = in.readObject();\n        Assert.assertTrue(\"Should be a ManifestFile\", obj instanceof ManifestFile);\n        TestHelpers.assertEquals(manifest, (ManifestFile) obj);\n      }\n    }\n  }\n","realPath":"flink/src/test/java/org/apache/iceberg/flink/TestManifestFileSerialization.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":129,"status":"NB"}],"commitId":"19295fcdedd4dd2cab36e58183ee94c871e644d5","commitMessage":"@@@Core: Fix Kryo serialization for DataFile and DeleteFile (#2343)\n\n","date":"2021-03-31 01:56:52","modifiedFileCount":"2","status":"M","submitter":"openinx"},{"authorTime":"2021-07-19 18:57:09","codes":[{"authorDate":"2021-07-19 18:57:09","commitOrder":3,"curCode":"  public void testJavaSerialization() throws Exception {\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n    try (ObjectOutputStream out = new ObjectOutputStream(bytes)) {\n      out.writeObject(DATA_FILE);\n      out.writeObject(DATA_FILE.copy());\n\n      out.writeObject(POS_DELETE_FILE);\n      out.writeObject(POS_DELETE_FILE.copy());\n\n      out.writeObject(EQ_DELETE_FILE);\n      out.writeObject(EQ_DELETE_FILE.copy());\n    }\n\n    try (ObjectInputStream in = new ObjectInputStream(new ByteArrayInputStream(bytes.toByteArray()))) {\n      for (int i = 0; i < 2; i += 1) {\n        Object obj = in.readObject();\n        Assertions.assertThat(obj).as(\"Should be a DataFile\").isInstanceOf(DataFile.class);\n        TestHelpers.assertEquals(DATA_FILE, (DataFile) obj);\n      }\n\n      for (int i = 0; i < 2; i += 1) {\n        Object obj = in.readObject();\n        Assertions.assertThat(obj).as(\"Should be a position DeleteFile\").isInstanceOf(DeleteFile.class);\n        TestHelpers.assertEquals(POS_DELETE_FILE, (DeleteFile) obj);\n      }\n\n      for (int i = 0; i < 2; i += 1) {\n        Object obj = in.readObject();\n        Assertions.assertThat(obj).as(\"Should be a equality DeleteFile\").isInstanceOf(DeleteFile.class);\n        TestHelpers.assertEquals(EQ_DELETE_FILE, (DeleteFile) obj);\n      }\n    }\n  }\n","date":"2021-07-19 18:57:09","endLine":152,"groupId":"10390","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"testJavaSerialization","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/fe/9deb37684f365079412d6ab63b885530b8cf2c.src","preCode":"  public void testJavaSerialization() throws Exception {\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n    try (ObjectOutputStream out = new ObjectOutputStream(bytes)) {\n      out.writeObject(DATA_FILE);\n      out.writeObject(DATA_FILE.copy());\n\n      out.writeObject(POS_DELETE_FILE);\n      out.writeObject(POS_DELETE_FILE.copy());\n\n      out.writeObject(EQ_DELETE_FILE);\n      out.writeObject(EQ_DELETE_FILE.copy());\n    }\n\n    try (ObjectInputStream in = new ObjectInputStream(new ByteArrayInputStream(bytes.toByteArray()))) {\n      for (int i = 0; i < 2; i += 1) {\n        Object obj = in.readObject();\n        Assert.assertTrue(\"Should be a DataFile\", obj instanceof DataFile);\n        TestHelpers.assertEquals(DATA_FILE, (DataFile) obj);\n      }\n\n      for (int i = 0; i < 2; i += 1) {\n        Object obj = in.readObject();\n        Assert.assertTrue(\"Should be a position DeleteFile\", obj instanceof DeleteFile);\n        TestHelpers.assertEquals(POS_DELETE_FILE, (DeleteFile) obj);\n      }\n\n      for (int i = 0; i < 2; i += 1) {\n        Object obj = in.readObject();\n        Assert.assertTrue(\"Should be a equality DeleteFile\", obj instanceof DeleteFile);\n        TestHelpers.assertEquals(EQ_DELETE_FILE, (DeleteFile) obj);\n      }\n    }\n  }\n","realPath":"flink/src/test/java/org/apache/iceberg/flink/TestDataFileSerialization.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":120,"status":"M"},{"authorDate":"2021-07-19 18:57:09","commitOrder":3,"curCode":"  public void testJavaSerialization() throws Exception {\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n\n    ManifestFile manifest = writeManifest(FILE_A, FILE_B);\n\n    try (ObjectOutputStream out = new ObjectOutputStream(bytes)) {\n      out.writeObject(manifest);\n      out.writeObject(manifest.copy());\n      out.writeObject(GenericManifestFile.copyOf(manifest).build());\n    }\n\n    try (ObjectInputStream in = new ObjectInputStream(new ByteArrayInputStream(bytes.toByteArray()))) {\n      for (int i = 0; i < 3; i += 1) {\n        Object obj = in.readObject();\n        Assertions.assertThat(obj).as(\"Should be a ManifestFile\").isInstanceOf(ManifestFile.class);\n        TestHelpers.assertEquals(manifest, (ManifestFile) obj);\n      }\n    }\n  }\n","date":"2021-07-19 18:57:09","endLine":148,"groupId":"10390","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"testJavaSerialization","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/e9/0a9a469e47b5b1a18a75fc573f2d73fcec591a.src","preCode":"  public void testJavaSerialization() throws Exception {\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n\n    ManifestFile manifest = writeManifest(FILE_A, FILE_B);\n\n    try (ObjectOutputStream out = new ObjectOutputStream(bytes)) {\n      out.writeObject(manifest);\n      out.writeObject(manifest.copy());\n      out.writeObject(GenericManifestFile.copyOf(manifest).build());\n    }\n\n    try (ObjectInputStream in = new ObjectInputStream(new ByteArrayInputStream(bytes.toByteArray()))) {\n      for (int i = 0; i < 3; i += 1) {\n        Object obj = in.readObject();\n        Assert.assertTrue(\"Should be a ManifestFile\", obj instanceof ManifestFile);\n        TestHelpers.assertEquals(manifest, (ManifestFile) obj);\n      }\n    }\n  }\n","realPath":"flink/src/test/java/org/apache/iceberg/flink/TestManifestFileSerialization.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":130,"status":"M"}],"commitId":"0055e855ccabbd6a592b3b49e1f38131f62e0fdd","commitMessage":"@@@Move Assert.assertTrue(..) instance checks to AssertJ assertions (#2756)\n\n","date":"2021-07-19 18:57:09","modifiedFileCount":"25","status":"M","submitter":"Eduard Tudenh?fner"}]
