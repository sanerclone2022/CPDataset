[{"authorTime":"2019-03-21 07:25:05","codes":[{"authorDate":"2020-05-30 03:26:56","commitOrder":2,"curCode":"  BaseFile(Schema avroSchema) {\n    this.avroSchema = avroSchema;\n\n    Types.StructType schema = AvroSchemaUtil.convert(avroSchema).asNestedType().asStructType();\n\n    \r\n    Type partType = schema.fieldType(\"partition\");\n    if (partType != null) {\n      this.partitionType = partType.asNestedType().asStructType();\n    } else {\n      this.partitionType = EMPTY_STRUCT_TYPE;\n    }\n\n    List<Types.NestedField> fields = schema.fields();\n    List<Types.NestedField> allFields = DataFile.getType(partitionType).fields();\n    this.fromProjectionPos = new int[fields.size()];\n    for (int i = 0; i < fromProjectionPos.length; i += 1) {\n      boolean found = false;\n      for (int j = 0; j < allFields.size(); j += 1) {\n        if (fields.get(i).fieldId() == allFields.get(j).fieldId()) {\n          found = true;\n          fromProjectionPos[i] = j;\n        }\n      }\n\n      if (!found) {\n        throw new IllegalArgumentException(\"Cannot find projected field: \" + fields.get(i));\n      }\n    }\n\n    this.partitionData = new PartitionData(partitionType);\n  }\n","date":"2020-05-30 03:26:56","endLine":109,"groupId":"4452","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"BaseFile","params":"(SchemaavroSchema)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/7b/0341831a1004f21a78959fd26b3e592b2b9cfd.src","preCode":"  BaseFile(Schema avroSchema) {\n    this.avroSchema = avroSchema;\n\n    Types.StructType schema = AvroSchemaUtil.convert(avroSchema).asNestedType().asStructType();\n\n    \r\n    Type partType = schema.fieldType(\"partition\");\n    if (partType != null) {\n      this.partitionType = partType.asNestedType().asStructType();\n    } else {\n      this.partitionType = EMPTY_STRUCT_TYPE;\n    }\n\n    List<Types.NestedField> fields = schema.fields();\n    List<Types.NestedField> allFields = DataFile.getType(partitionType).fields();\n    this.fromProjectionPos = new int[fields.size()];\n    for (int i = 0; i < fromProjectionPos.length; i += 1) {\n      boolean found = false;\n      for (int j = 0; j < allFields.size(); j += 1) {\n        if (fields.get(i).fieldId() == allFields.get(j).fieldId()) {\n          found = true;\n          fromProjectionPos[i] = j;\n        }\n      }\n\n      if (!found) {\n        throw new IllegalArgumentException(\"Cannot find projected field: \" + fields.get(i));\n      }\n    }\n\n    this.partitionData = new PartitionData(partitionType);\n  }\n","realPath":"core/src/main/java/org/apache/iceberg/BaseFile.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"B"},{"authorDate":"2019-03-21 07:25:05","commitOrder":2,"curCode":"  public GenericPartitionFieldSummary(Schema avroSchema) {\n    this.avroSchema = avroSchema;\n\n    List<Types.NestedField> fields = AvroSchemaUtil.convert(avroSchema)\n        .asNestedType()\n        .asStructType()\n        .fields();\n    List<Types.NestedField> allFields = PartitionFieldSummary.getType().fields();\n\n    this.fromProjectionPos = new int[fields.size()];\n    for (int i = 0; i < fromProjectionPos.length; i += 1) {\n      boolean found = false;\n      for (int j = 0; j < allFields.size(); j += 1) {\n        if (fields.get(i).fieldId() == allFields.get(j).fieldId()) {\n          found = true;\n          fromProjectionPos[i] = j;\n        }\n      }\n\n      if (!found) {\n        throw new IllegalArgumentException(\"Cannot find projected field: \" + fields.get(i));\n      }\n    }\n  }\n","date":"2019-03-21 07:25:05","endLine":71,"groupId":"4452","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"GenericPartitionFieldSummary","params":"(SchemaavroSchema)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/d6/15abff4e035241fd4b2d9510fb481526f7b3fc.src","preCode":"  public GenericPartitionFieldSummary(Schema avroSchema) {\n    this.avroSchema = avroSchema;\n\n    List<Types.NestedField> fields = AvroSchemaUtil.convert(avroSchema)\n        .asNestedType()\n        .asStructType()\n        .fields();\n    List<Types.NestedField> allFields = PartitionFieldSummary.getType().fields();\n\n    this.fromProjectionPos = new int[fields.size()];\n    for (int i = 0; i < fromProjectionPos.length; i += 1) {\n      boolean found = false;\n      for (int j = 0; j < allFields.size(); j += 1) {\n        if (fields.get(i).fieldId() == allFields.get(j).fieldId()) {\n          found = true;\n          fromProjectionPos[i] = j;\n        }\n      }\n\n      if (!found) {\n        throw new IllegalArgumentException(\"Cannot find projected field: \" + fields.get(i));\n      }\n    }\n  }\n","realPath":"core/src/main/java/org/apache/iceberg/GenericPartitionFieldSummary.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":48,"status":"NB"}],"commitId":"527240b445b23cef1a655eccbb3b2c0eb7d178c1","commitMessage":"@@@Add DeleteFile and manifest reader and writer for deletes (#1064)\n\n","date":"2020-05-30 03:26:56","modifiedFileCount":"28","status":"M","submitter":"Ryan Blue"},{"authorTime":"2019-03-21 07:25:05","codes":[{"authorDate":"2020-11-11 05:36:13","commitOrder":3,"curCode":"  BaseFile(Schema avroSchema) {\n    this.avroSchema = avroSchema;\n\n    Types.StructType schema = AvroSchemaUtil.convert(avroSchema).asNestedType().asStructType();\n\n    \r\n    Type partType = schema.fieldType(\"partition\");\n    if (partType != null) {\n      this.partitionType = partType.asNestedType().asStructType();\n    } else {\n      this.partitionType = EMPTY_STRUCT_TYPE;\n    }\n\n    List<Types.NestedField> fields = schema.fields();\n    List<Types.NestedField> allFields = Lists.newArrayList();\n    allFields.addAll(DataFile.getType(partitionType).fields());\n    allFields.add(MetadataColumns.ROW_POSITION);\n\n    this.fromProjectionPos = new int[fields.size()];\n    for (int i = 0; i < fromProjectionPos.length; i += 1) {\n      boolean found = false;\n      for (int j = 0; j < allFields.size(); j += 1) {\n        if (fields.get(i).fieldId() == allFields.get(j).fieldId()) {\n          found = true;\n          fromProjectionPos[i] = j;\n        }\n      }\n\n      if (!found) {\n        throw new IllegalArgumentException(\"Cannot find projected field: \" + fields.get(i));\n      }\n    }\n\n    this.partitionData = new PartitionData(partitionType);\n  }\n","date":"2020-11-11 05:36:13","endLine":116,"groupId":"122102","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"BaseFile","params":"(SchemaavroSchema)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/9f/b79c807f0a1abbdb9b6ae2faf138a68b2bdf4e.src","preCode":"  BaseFile(Schema avroSchema) {\n    this.avroSchema = avroSchema;\n\n    Types.StructType schema = AvroSchemaUtil.convert(avroSchema).asNestedType().asStructType();\n\n    \r\n    Type partType = schema.fieldType(\"partition\");\n    if (partType != null) {\n      this.partitionType = partType.asNestedType().asStructType();\n    } else {\n      this.partitionType = EMPTY_STRUCT_TYPE;\n    }\n\n    List<Types.NestedField> fields = schema.fields();\n    List<Types.NestedField> allFields = DataFile.getType(partitionType).fields();\n    this.fromProjectionPos = new int[fields.size()];\n    for (int i = 0; i < fromProjectionPos.length; i += 1) {\n      boolean found = false;\n      for (int j = 0; j < allFields.size(); j += 1) {\n        if (fields.get(i).fieldId() == allFields.get(j).fieldId()) {\n          found = true;\n          fromProjectionPos[i] = j;\n        }\n      }\n\n      if (!found) {\n        throw new IllegalArgumentException(\"Cannot find projected field: \" + fields.get(i));\n      }\n    }\n\n    this.partitionData = new PartitionData(partitionType);\n  }\n","realPath":"core/src/main/java/org/apache/iceberg/BaseFile.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":82,"status":"M"},{"authorDate":"2019-03-21 07:25:05","commitOrder":3,"curCode":"  public GenericPartitionFieldSummary(Schema avroSchema) {\n    this.avroSchema = avroSchema;\n\n    List<Types.NestedField> fields = AvroSchemaUtil.convert(avroSchema)\n        .asNestedType()\n        .asStructType()\n        .fields();\n    List<Types.NestedField> allFields = PartitionFieldSummary.getType().fields();\n\n    this.fromProjectionPos = new int[fields.size()];\n    for (int i = 0; i < fromProjectionPos.length; i += 1) {\n      boolean found = false;\n      for (int j = 0; j < allFields.size(); j += 1) {\n        if (fields.get(i).fieldId() == allFields.get(j).fieldId()) {\n          found = true;\n          fromProjectionPos[i] = j;\n        }\n      }\n\n      if (!found) {\n        throw new IllegalArgumentException(\"Cannot find projected field: \" + fields.get(i));\n      }\n    }\n  }\n","date":"2019-03-21 07:25:05","endLine":71,"groupId":"122102","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"GenericPartitionFieldSummary","params":"(SchemaavroSchema)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/d6/15abff4e035241fd4b2d9510fb481526f7b3fc.src","preCode":"  public GenericPartitionFieldSummary(Schema avroSchema) {\n    this.avroSchema = avroSchema;\n\n    List<Types.NestedField> fields = AvroSchemaUtil.convert(avroSchema)\n        .asNestedType()\n        .asStructType()\n        .fields();\n    List<Types.NestedField> allFields = PartitionFieldSummary.getType().fields();\n\n    this.fromProjectionPos = new int[fields.size()];\n    for (int i = 0; i < fromProjectionPos.length; i += 1) {\n      boolean found = false;\n      for (int j = 0; j < allFields.size(); j += 1) {\n        if (fields.get(i).fieldId() == allFields.get(j).fieldId()) {\n          found = true;\n          fromProjectionPos[i] = j;\n        }\n      }\n\n      if (!found) {\n        throw new IllegalArgumentException(\"Cannot find projected field: \" + fields.get(i));\n      }\n    }\n  }\n","realPath":"core/src/main/java/org/apache/iceberg/GenericPartitionFieldSummary.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":48,"status":"N"}],"commitId":"7c3b0d750ecef76e0c9a33b66938d0d8602857b8","commitMessage":"@@@Core: Add position in manifest to DataFile and DeleteFile (#1723)\n\n","date":"2020-11-11 05:36:13","modifiedFileCount":"10","status":"M","submitter":"Ryan Blue"}]
