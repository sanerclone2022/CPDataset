[{"authorTime":"2020-07-04 00:13:54","codes":[{"authorDate":"2020-01-08 03:07:45","commitOrder":2,"curCode":"  public void testRenamedAddedField() throws Exception {\n    Schema schema = new Schema(\n        Types.NestedField.required(1, \"a\", Types.LongType.get()),\n        Types.NestedField.required(2, \"b\", Types.LongType.get()),\n        Types.NestedField.required(3, \"d\", Types.LongType.get())\n    );\n\n    Record record = GenericRecord.create(schema.asStruct());\n    record.setField(\"a\", 100L);\n    record.setField(\"b\", 200L);\n    record.setField(\"d\", 300L);\n\n    Schema renamedAdded = new Schema(\n        Types.NestedField.optional(1, \"a\", Types.LongType.get()),\n        Types.NestedField.optional(2, \"b\", Types.LongType.get()),\n        Types.NestedField.optional(3, \"c\", Types.LongType.get()),\n        Types.NestedField.optional(4, \"d\", Types.LongType.get())\n    );\n\n    Record projected = writeAndRead(\"rename_and_add_column_projection\", schema, renamedAdded, record);\n    Assert.assertEquals(\"Should contain the correct value in column 1\", projected.get(0), 100L);\n    Assert.assertEquals(\"Should contain the correct value in column a\", projected.getField(\"a\"), 100L);\n    Assert.assertEquals(\"Should contain the correct value in column 2\", projected.get(1), 200L);\n    Assert.assertEquals(\"Should contain the correct value in column b\", projected.getField(\"b\"), 200L);\n    Assert.assertEquals(\"Should contain the correct value in column 3\", projected.get(2), 300L);\n    Assert.assertEquals(\"Should contain the correct value in column c\", projected.getField(\"c\"), 300L);\n    Assert.assertNull(\"Should contain empty value on new column 4\", projected.get(3));\n    Assert.assertNull(\"Should contain the correct value in column d\", projected.getField(\"d\"));\n  }\n","date":"2020-01-08 03:07:45","endLine":167,"groupId":"4690","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testRenamedAddedField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/ad/a32703837a85e4fd49300cbfb4de7c908bacc8.src","preCode":"  public void testRenamedAddedField() throws Exception {\n    Schema schema = new Schema(\n        Types.NestedField.required(1, \"a\", Types.LongType.get()),\n        Types.NestedField.required(2, \"b\", Types.LongType.get()),\n        Types.NestedField.required(3, \"d\", Types.LongType.get())\n    );\n\n    Record record = GenericRecord.create(schema.asStruct());\n    record.setField(\"a\", 100L);\n    record.setField(\"b\", 200L);\n    record.setField(\"d\", 300L);\n\n    Schema renamedAdded = new Schema(\n        Types.NestedField.optional(1, \"a\", Types.LongType.get()),\n        Types.NestedField.optional(2, \"b\", Types.LongType.get()),\n        Types.NestedField.optional(3, \"c\", Types.LongType.get()),\n        Types.NestedField.optional(4, \"d\", Types.LongType.get())\n    );\n\n    Record projected = writeAndRead(\"rename_and_add_column_projection\", schema, renamedAdded, record);\n    Assert.assertEquals(\"Should contain the correct value in column 1\", projected.get(0), 100L);\n    Assert.assertEquals(\"Should contain the correct value in column a\", projected.getField(\"a\"), 100L);\n    Assert.assertEquals(\"Should contain the correct value in column 2\", projected.get(1), 200L);\n    Assert.assertEquals(\"Should contain the correct value in column b\", projected.getField(\"b\"), 200L);\n    Assert.assertEquals(\"Should contain the correct value in column 3\", projected.get(2), 300L);\n    Assert.assertEquals(\"Should contain the correct value in column c\", projected.getField(\"c\"), 300L);\n    Assert.assertNull(\"Should contain empty value on new column 4\", projected.get(3));\n    Assert.assertNull(\"Should contain the correct value in column d\", projected.getField(\"d\"));\n  }\n","realPath":"data/src/test/java/org/apache/iceberg/data/TestReadProjection.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":139,"status":"NB"},{"authorDate":"2020-07-04 00:13:54","commitOrder":2,"curCode":"  public void testRenamedAddedField() throws Exception {\n    Schema schema = new Schema(\n        Types.NestedField.required(1, \"a\", Types.LongType.get()),\n        Types.NestedField.required(2, \"b\", Types.LongType.get()),\n        Types.NestedField.required(3, \"d\", Types.LongType.get())\n    );\n\n    Row row = Row.of(100L, 200L, 300L);\n\n    Schema renamedAdded = new Schema(\n        Types.NestedField.optional(1, \"a\", Types.LongType.get()),\n        Types.NestedField.optional(2, \"b\", Types.LongType.get()),\n        Types.NestedField.optional(3, \"c\", Types.LongType.get()),\n        Types.NestedField.optional(4, \"d\", Types.LongType.get())\n    );\n\n    Row projected = writeAndRead(\"rename_and_add_column_projection\", schema, renamedAdded, row);\n    Assert.assertEquals(\"Should contain the correct value in column 1\", projected.getField(0), 100L);\n    Assert.assertEquals(\"Should contain the correct value in column 2\", projected.getField(1), 200L);\n    Assert.assertEquals(\"Should contain the correct value in column 3\", projected.getField(2), 300L);\n    Assert.assertNull(\"Should contain empty value on new column 4\", projected.getField(3));\n  }\n","date":"2020-07-04 00:13:54","endLine":173,"groupId":"528","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testRenamedAddedField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/23/b4373da61f2625b2187644d87190720863224a.src","preCode":"  public void testRenamedAddedField() throws Exception {\n    Schema schema = new Schema(\n        Types.NestedField.required(1, \"a\", Types.LongType.get()),\n        Types.NestedField.required(2, \"b\", Types.LongType.get()),\n        Types.NestedField.required(3, \"d\", Types.LongType.get())\n    );\n\n    Row row = Row.of(100L, 200L, 300L);\n\n    Schema renamedAdded = new Schema(\n        Types.NestedField.optional(1, \"a\", Types.LongType.get()),\n        Types.NestedField.optional(2, \"b\", Types.LongType.get()),\n        Types.NestedField.optional(3, \"c\", Types.LongType.get()),\n        Types.NestedField.optional(4, \"d\", Types.LongType.get())\n    );\n\n    Row projected = writeAndRead(\"rename_and_add_column_projection\", schema, renamedAdded, row);\n    Assert.assertEquals(\"Should contain the correct value in column 1\", projected.getField(0), 100L);\n    Assert.assertEquals(\"Should contain the correct value in column 2\", projected.getField(1), 200L);\n    Assert.assertEquals(\"Should contain the correct value in column 3\", projected.getField(2), 300L);\n    Assert.assertNull(\"Should contain empty value on new column 4\", projected.getField(3));\n  }\n","realPath":"flink/src/test/java/org/apache/iceberg/flink/data/TestRowProjection.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":152,"status":"B"}],"commitId":"bc7bd0e30839740d0d9d7430cac984c10659ca38","commitMessage":"@@@Flink: Add Avro value reader.  writer implementations (#1153)\n\n","date":"2020-07-04 00:13:54","modifiedFileCount":"4","status":"M","submitter":"openinx"},{"authorTime":"2020-08-06 04:46:32","codes":[{"authorDate":"2020-01-08 03:07:45","commitOrder":3,"curCode":"  public void testRenamedAddedField() throws Exception {\n    Schema schema = new Schema(\n        Types.NestedField.required(1, \"a\", Types.LongType.get()),\n        Types.NestedField.required(2, \"b\", Types.LongType.get()),\n        Types.NestedField.required(3, \"d\", Types.LongType.get())\n    );\n\n    Record record = GenericRecord.create(schema.asStruct());\n    record.setField(\"a\", 100L);\n    record.setField(\"b\", 200L);\n    record.setField(\"d\", 300L);\n\n    Schema renamedAdded = new Schema(\n        Types.NestedField.optional(1, \"a\", Types.LongType.get()),\n        Types.NestedField.optional(2, \"b\", Types.LongType.get()),\n        Types.NestedField.optional(3, \"c\", Types.LongType.get()),\n        Types.NestedField.optional(4, \"d\", Types.LongType.get())\n    );\n\n    Record projected = writeAndRead(\"rename_and_add_column_projection\", schema, renamedAdded, record);\n    Assert.assertEquals(\"Should contain the correct value in column 1\", projected.get(0), 100L);\n    Assert.assertEquals(\"Should contain the correct value in column a\", projected.getField(\"a\"), 100L);\n    Assert.assertEquals(\"Should contain the correct value in column 2\", projected.get(1), 200L);\n    Assert.assertEquals(\"Should contain the correct value in column b\", projected.getField(\"b\"), 200L);\n    Assert.assertEquals(\"Should contain the correct value in column 3\", projected.get(2), 300L);\n    Assert.assertEquals(\"Should contain the correct value in column c\", projected.getField(\"c\"), 300L);\n    Assert.assertNull(\"Should contain empty value on new column 4\", projected.get(3));\n    Assert.assertNull(\"Should contain the correct value in column d\", projected.getField(\"d\"));\n  }\n","date":"2020-01-08 03:07:45","endLine":167,"groupId":"10569","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testRenamedAddedField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/ad/a32703837a85e4fd49300cbfb4de7c908bacc8.src","preCode":"  public void testRenamedAddedField() throws Exception {\n    Schema schema = new Schema(\n        Types.NestedField.required(1, \"a\", Types.LongType.get()),\n        Types.NestedField.required(2, \"b\", Types.LongType.get()),\n        Types.NestedField.required(3, \"d\", Types.LongType.get())\n    );\n\n    Record record = GenericRecord.create(schema.asStruct());\n    record.setField(\"a\", 100L);\n    record.setField(\"b\", 200L);\n    record.setField(\"d\", 300L);\n\n    Schema renamedAdded = new Schema(\n        Types.NestedField.optional(1, \"a\", Types.LongType.get()),\n        Types.NestedField.optional(2, \"b\", Types.LongType.get()),\n        Types.NestedField.optional(3, \"c\", Types.LongType.get()),\n        Types.NestedField.optional(4, \"d\", Types.LongType.get())\n    );\n\n    Record projected = writeAndRead(\"rename_and_add_column_projection\", schema, renamedAdded, record);\n    Assert.assertEquals(\"Should contain the correct value in column 1\", projected.get(0), 100L);\n    Assert.assertEquals(\"Should contain the correct value in column a\", projected.getField(\"a\"), 100L);\n    Assert.assertEquals(\"Should contain the correct value in column 2\", projected.get(1), 200L);\n    Assert.assertEquals(\"Should contain the correct value in column b\", projected.getField(\"b\"), 200L);\n    Assert.assertEquals(\"Should contain the correct value in column 3\", projected.get(2), 300L);\n    Assert.assertEquals(\"Should contain the correct value in column c\", projected.getField(\"c\"), 300L);\n    Assert.assertNull(\"Should contain empty value on new column 4\", projected.get(3));\n    Assert.assertNull(\"Should contain the correct value in column d\", projected.getField(\"d\"));\n  }\n","realPath":"data/src/test/java/org/apache/iceberg/data/TestReadProjection.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":139,"status":"N"},{"authorDate":"2020-08-06 04:46:32","commitOrder":3,"curCode":"  public void testRenamedAddedField() throws Exception {\n    Schema schema = new Schema(\n        Types.NestedField.required(1, \"a\", Types.LongType.get()),\n        Types.NestedField.required(2, \"b\", Types.LongType.get()),\n        Types.NestedField.required(3, \"d\", Types.LongType.get())\n    );\n\n    RowData row = GenericRowData.of(100L, 200L, 300L);\n\n    Schema renamedAdded = new Schema(\n        Types.NestedField.optional(1, \"a\", Types.LongType.get()),\n        Types.NestedField.optional(2, \"b\", Types.LongType.get()),\n        Types.NestedField.optional(3, \"c\", Types.LongType.get()),\n        Types.NestedField.optional(4, \"d\", Types.LongType.get())\n    );\n\n    RowData projected = writeAndRead(\"rename_and_add_column_projection\", schema, renamedAdded, row);\n    Assert.assertEquals(\"Should contain the correct value in column 1\", projected.getLong(0), 100L);\n    Assert.assertEquals(\"Should contain the correct value in column 2\", projected.getLong(1), 200L);\n    Assert.assertEquals(\"Should contain the correct value in column 3\", projected.getLong(2), 300L);\n    Assert.assertTrue(\"Should contain empty value on new column 4\", projected.isNullAt(3));\n  }\n","date":"2020-08-06 04:46:32","endLine":176,"groupId":"10569","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"testRenamedAddedField","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/9c/cb1d56c0edadb81ed451f5aa427ac6bae152d3.src","preCode":"  public void testRenamedAddedField() throws Exception {\n    Schema schema = new Schema(\n        Types.NestedField.required(1, \"a\", Types.LongType.get()),\n        Types.NestedField.required(2, \"b\", Types.LongType.get()),\n        Types.NestedField.required(3, \"d\", Types.LongType.get())\n    );\n\n    Row row = Row.of(100L, 200L, 300L);\n\n    Schema renamedAdded = new Schema(\n        Types.NestedField.optional(1, \"a\", Types.LongType.get()),\n        Types.NestedField.optional(2, \"b\", Types.LongType.get()),\n        Types.NestedField.optional(3, \"c\", Types.LongType.get()),\n        Types.NestedField.optional(4, \"d\", Types.LongType.get())\n    );\n\n    Row projected = writeAndRead(\"rename_and_add_column_projection\", schema, renamedAdded, row);\n    Assert.assertEquals(\"Should contain the correct value in column 1\", projected.getField(0), 100L);\n    Assert.assertEquals(\"Should contain the correct value in column 2\", projected.getField(1), 200L);\n    Assert.assertEquals(\"Should contain the correct value in column 3\", projected.getField(2), 300L);\n    Assert.assertNull(\"Should contain empty value on new column 4\", projected.getField(3));\n  }\n","realPath":"flink/src/test/java/org/apache/iceberg/flink/data/TestRowProjection.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":155,"status":"M"}],"commitId":"fc5e3e5bbde66f0d5c66c4d980d47b9fd1f19f63","commitMessage":"@@@Flink: Update Avro reader and writer to use RowData (#1232)\n\n","date":"2020-08-06 04:46:32","modifiedFileCount":"8","status":"M","submitter":"Jingsong Lee"}]
