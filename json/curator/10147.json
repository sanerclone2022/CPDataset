[{"authorTime":"2015-08-18 01:01:21","codes":[{"authorDate":"2013-03-08 06:54:59","commitOrder":2,"curCode":"    private Stat pathInForeground(final String path, final byte[] data) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"SetDataBuilderImpl-Foreground\");\n        Stat        resultStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    return client.getZooKeeper().setData(path, data, version);\n                }\n            }\n        );\n        trace.commit();\n        return resultStat;\n    }\n","date":"2013-03-08 06:54:59","endLine":265,"groupId":"922","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"pathInForeground","params":"(finalStringpath@finalbyte[]data)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/52/747e3d1fffa0a4b497c5952c2730cf83cfa119.src","preCode":"    private Stat pathInForeground(final String path, final byte[] data) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"SetDataBuilderImpl-Foreground\");\n        Stat        resultStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    return client.getZooKeeper().setData(path, data, version);\n                }\n            }\n        );\n        trace.commit();\n        return resultStat;\n    }\n","realPath":"curator-framework/src/main/java/org/apache/curator/framework/imps/SetDataBuilderImpl.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":248,"status":"NB"},{"authorDate":"2015-08-18 01:01:21","commitOrder":2,"curCode":"    private Stat pathInForegroundStandard(final String path) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"ExistsBuilderImpl-Foreground\");\n        Stat        returnStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    Stat    returnStat;\n                    if ( watching.isWatched() )\n                    {\n                        returnStat = client.getZooKeeper().exists(path, true);\n                    }\n                    else\n                    {\n                        returnStat = client.getZooKeeper().exists(path, watching.getWatcher());\n                    }\n                    return returnStat;\n                }\n            }\n        );\n        trace.commit();\n        return returnStat;\n    }\n","date":"2015-08-18 01:01:21","endLine":234,"groupId":"1917","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"pathInForegroundStandard","params":"(finalStringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/34/5bcf5b1b2210b50b9e25033fb473fa823bf993.src","preCode":"    private Stat pathInForegroundStandard(final String path) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"ExistsBuilderImpl-Foreground\");\n        Stat        returnStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    Stat    returnStat;\n                    if ( watching.isWatched() )\n                    {\n                        returnStat = client.getZooKeeper().exists(path, true);\n                    }\n                    else\n                    {\n                        returnStat = client.getZooKeeper().exists(path, watching.getWatcher());\n                    }\n                    return returnStat;\n                }\n            }\n        );\n        trace.commit();\n        return returnStat;\n    }\n","realPath":"curator-framework/src/main/java/org/apache/curator/framework/imps/ExistsBuilderImpl.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":208,"status":"B"}],"commitId":"44ee8547ef3563823c89ac9d8570a0df1b33a0a8","commitMessage":"@@@Merge 'master' into CURATOR-3.0\n","date":"2015-08-18 01:01:21","modifiedFileCount":"51","status":"M","submitter":"Scott Blum"},{"authorTime":"2015-08-18 10:13:37","codes":[{"authorDate":"2013-03-08 06:54:59","commitOrder":3,"curCode":"    private Stat pathInForeground(final String path, final byte[] data) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"SetDataBuilderImpl-Foreground\");\n        Stat        resultStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    return client.getZooKeeper().setData(path, data, version);\n                }\n            }\n        );\n        trace.commit();\n        return resultStat;\n    }\n","date":"2013-03-08 06:54:59","endLine":265,"groupId":"922","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"pathInForeground","params":"(finalStringpath@finalbyte[]data)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/52/747e3d1fffa0a4b497c5952c2730cf83cfa119.src","preCode":"    private Stat pathInForeground(final String path, final byte[] data) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"SetDataBuilderImpl-Foreground\");\n        Stat        resultStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    return client.getZooKeeper().setData(path, data, version);\n                }\n            }\n        );\n        trace.commit();\n        return resultStat;\n    }\n","realPath":"curator-framework/src/main/java/org/apache/curator/framework/imps/SetDataBuilderImpl.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":248,"status":"N"},{"authorDate":"2015-08-18 10:13:37","commitOrder":3,"curCode":"    private Stat pathInForegroundStandard(final String path) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"ExistsBuilderImpl-Foreground\");\n        Stat        returnStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    Stat    returnStat;\n                    if ( watching.isWatched() )\n                    {\n                        returnStat = client.getZooKeeper().exists(path, true);\n                    }\n                    else\n                    {\n                        returnStat = client.getZooKeeper().exists(path, watching.getWatcher(client, path));\n                    }\n                    return returnStat;\n                }\n            }\n        );\n        trace.commit();\n        return returnStat;\n    }\n","date":"2015-08-18 10:13:37","endLine":234,"groupId":"1917","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"pathInForegroundStandard","params":"(finalStringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/a6/316ac86434484b77ce03659d5d6dfd6c029196.src","preCode":"    private Stat pathInForegroundStandard(final String path) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"ExistsBuilderImpl-Foreground\");\n        Stat        returnStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    Stat    returnStat;\n                    if ( watching.isWatched() )\n                    {\n                        returnStat = client.getZooKeeper().exists(path, true);\n                    }\n                    else\n                    {\n                        returnStat = client.getZooKeeper().exists(path, watching.getWatcher());\n                    }\n                    return returnStat;\n                }\n            }\n        );\n        trace.commit();\n        return returnStat;\n    }\n","realPath":"curator-framework/src/main/java/org/apache/curator/framework/imps/ExistsBuilderImpl.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":208,"status":"M"}],"commitId":"d5d12c88b075fd1fc51a29412b3c08918cceb983","commitMessage":"@@@Merge 'CURATOR-217' into CURATOR-3.0\n","date":"2015-08-18 10:13:37","modifiedFileCount":"40","status":"M","submitter":"Scott Blum"},{"authorTime":"2016-04-21 09:12:31","codes":[{"authorDate":"2013-03-08 06:54:59","commitOrder":4,"curCode":"    private Stat pathInForeground(final String path, final byte[] data) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"SetDataBuilderImpl-Foreground\");\n        Stat        resultStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    return client.getZooKeeper().setData(path, data, version);\n                }\n            }\n        );\n        trace.commit();\n        return resultStat;\n    }\n","date":"2013-03-08 06:54:59","endLine":265,"groupId":"922","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"pathInForeground","params":"(finalStringpath@finalbyte[]data)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/52/747e3d1fffa0a4b497c5952c2730cf83cfa119.src","preCode":"    private Stat pathInForeground(final String path, final byte[] data) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"SetDataBuilderImpl-Foreground\");\n        Stat        resultStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    return client.getZooKeeper().setData(path, data, version);\n                }\n            }\n        );\n        trace.commit();\n        return resultStat;\n    }\n","realPath":"curator-framework/src/main/java/org/apache/curator/framework/imps/SetDataBuilderImpl.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":248,"status":"N"},{"authorDate":"2016-04-21 09:12:31","commitOrder":4,"curCode":"    private Stat pathInForegroundStandard(final String path) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"ExistsBuilderImpl-Foreground\");\n        Stat        returnStat = watching.callWithRetry\n        (\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    Stat    returnStat;\n                    if ( watching.isWatched() )\n                    {\n                        returnStat = client.getZooKeeper().exists(path, true);\n                    }\n                    else\n                    {\n                        returnStat = client.getZooKeeper().exists(path, watching.getWatcher(path));\n                    }\n                    return returnStat;\n                }\n            }\n        );\n        trace.commit();\n        return returnStat;\n    }\n","date":"2016-04-21 09:12:31","endLine":241,"groupId":"298","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"pathInForegroundStandard","params":"(finalStringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/ce/ad1688daca4e73e37d67fe2dd22e1b10c76e48.src","preCode":"    private Stat pathInForegroundStandard(final String path) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"ExistsBuilderImpl-Foreground\");\n        Stat        returnStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    Stat    returnStat;\n                    if ( watching.isWatched() )\n                    {\n                        returnStat = client.getZooKeeper().exists(path, true);\n                    }\n                    else\n                    {\n                        returnStat = client.getZooKeeper().exists(path, watching.getWatcher(client, path));\n                    }\n                    return returnStat;\n                }\n            }\n        );\n        trace.commit();\n        return returnStat;\n    }\n","realPath":"curator-framework/src/main/java/org/apache/curator/framework/imps/ExistsBuilderImpl.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":216,"status":"M"}],"commitId":"b1d2198a75d6e01b48789635ba648bedc542c439","commitMessage":"@@@If there's an exeption.  retries exceeded.  etc..  the watcher was still being stored in WatcherRemovealManager thus causing it to be incorrectly removed. This fix removes the watch from the WatcherRemovalmanager on exceptions.  retries exceeded.  etc.\n","date":"2016-04-21 09:12:31","modifiedFileCount":"20","status":"M","submitter":"randgalt"},{"authorTime":"2016-05-27 05:59:08","codes":[{"authorDate":"2013-03-08 06:54:59","commitOrder":5,"curCode":"    private Stat pathInForeground(final String path, final byte[] data) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"SetDataBuilderImpl-Foreground\");\n        Stat        resultStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    return client.getZooKeeper().setData(path, data, version);\n                }\n            }\n        );\n        trace.commit();\n        return resultStat;\n    }\n","date":"2013-03-08 06:54:59","endLine":265,"groupId":"922","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"pathInForeground","params":"(finalStringpath@finalbyte[]data)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/52/747e3d1fffa0a4b497c5952c2730cf83cfa119.src","preCode":"    private Stat pathInForeground(final String path, final byte[] data) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"SetDataBuilderImpl-Foreground\");\n        Stat        resultStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    return client.getZooKeeper().setData(path, data, version);\n                }\n            }\n        );\n        trace.commit();\n        return resultStat;\n    }\n","realPath":"curator-framework/src/main/java/org/apache/curator/framework/imps/SetDataBuilderImpl.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":248,"status":"N"},{"authorDate":"2016-05-27 05:59:08","commitOrder":5,"curCode":"    private Stat pathInForegroundStandard(final String path) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"ExistsBuilderImpl-Foreground\");\n        Stat        returnStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    Stat    returnStat;\n                    if ( watching.isWatched() )\n                    {\n                        returnStat = client.getZooKeeper().exists(path, true);\n                    }\n                    else\n                    {\n                        returnStat = client.getZooKeeper().exists(path, watching.getWatcher(path));\n                        int rc = (returnStat != null) ? KeeperException.NoNodeException.Code.OK.intValue() : KeeperException.NoNodeException.Code.NONODE.intValue();\n                        watching.commitWatcher(rc, true);\n                    }\n                    return returnStat;\n                }\n            }\n        );\n        trace.commit();\n        return returnStat;\n    }\n","date":"2016-05-27 05:59:08","endLine":250,"groupId":"1917","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"pathInForegroundStandard","params":"(finalStringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/96/0b5778d7342415534351455f8e1ec69ae55fc7.src","preCode":"    private Stat pathInForegroundStandard(final String path) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"ExistsBuilderImpl-Foreground\");\n        Stat        returnStat = watching.callWithRetry\n        (\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    Stat    returnStat;\n                    if ( watching.isWatched() )\n                    {\n                        returnStat = client.getZooKeeper().exists(path, true);\n                    }\n                    else\n                    {\n                        returnStat = client.getZooKeeper().exists(path, watching.getWatcher(path));\n                    }\n                    return returnStat;\n                }\n            }\n        );\n        trace.commit();\n        return returnStat;\n    }\n","realPath":"curator-framework/src/main/java/org/apache/curator/framework/imps/ExistsBuilderImpl.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":222,"status":"M"}],"commitId":"f59f23c703815317d4ef1d39e2b815e402d1559b","commitMessage":"@@@Reworked WatcherRemovalManager. It now stores watchers only on successful operations. This is more like how ZK does it.\nAlso.  exists watcher must be stored when there is a NoNode result.\n","date":"2016-05-27 05:59:08","modifiedFileCount":"11","status":"M","submitter":"randgalt"},{"authorTime":"2016-10-28 23:05:52","codes":[{"authorDate":"2016-10-28 23:05:52","commitOrder":6,"curCode":"    private Stat pathInForeground(final String path, final byte[] data) throws Exception\n    {\n        OperationTrace   trace = client.getZookeeperClient().startAdvancedTracer(\"SetDataBuilderImpl-Foreground\");\n        Stat        resultStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    return client.getZooKeeper().setData(path, data, version);\n                }\n            }\n        );\n        trace.setRequestBytesLength(data).setPath(path).setStat(resultStat).commit();\n        return resultStat;\n    }\n","date":"2016-10-28 23:05:52","endLine":289,"groupId":"922","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"pathInForeground","params":"(finalStringpath@finalbyte[]data)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/32/31be54b029946290f6fbd04f2b7dacdc327f2d.src","preCode":"    private Stat pathInForeground(final String path, final byte[] data) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"SetDataBuilderImpl-Foreground\");\n        Stat        resultStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    return client.getZooKeeper().setData(path, data, version);\n                }\n            }\n        );\n        trace.commit();\n        return resultStat;\n    }\n","realPath":"curator-framework/src/main/java/org/apache/curator/framework/imps/SetDataBuilderImpl.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":272,"status":"M"},{"authorDate":"2016-10-28 23:05:52","commitOrder":6,"curCode":"    private Stat pathInForegroundStandard(final String path) throws Exception\n    {\n        OperationTrace   trace = client.getZookeeperClient().startAdvancedTracer(\"ExistsBuilderImpl-Foreground\");\n        Stat        returnStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    Stat    returnStat;\n                    if ( watching.isWatched() )\n                    {\n                        returnStat = client.getZooKeeper().exists(path, true);\n                    }\n                    else\n                    {\n                        returnStat = client.getZooKeeper().exists(path, watching.getWatcher(path));\n                        int rc = (returnStat != null) ? KeeperException.NoNodeException.Code.OK.intValue() : KeeperException.NoNodeException.Code.NONODE.intValue();\n                        watching.commitWatcher(rc, true);\n                    }\n                    return returnStat;\n                }\n            }\n        );\n        trace.setPath(path).setWithWatcher(watching.hasWatcher()).setStat(returnStat).commit();\n        return returnStat;\n    }\n","date":"2016-10-28 23:05:52","endLine":250,"groupId":"1917","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"pathInForegroundStandard","params":"(finalStringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/05/8ac5d09da3b26887a1b0ac62b62c7428d23f8a.src","preCode":"    private Stat pathInForegroundStandard(final String path) throws Exception\n    {\n        TimeTrace   trace = client.getZookeeperClient().startTracer(\"ExistsBuilderImpl-Foreground\");\n        Stat        returnStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    Stat    returnStat;\n                    if ( watching.isWatched() )\n                    {\n                        returnStat = client.getZooKeeper().exists(path, true);\n                    }\n                    else\n                    {\n                        returnStat = client.getZooKeeper().exists(path, watching.getWatcher(path));\n                        int rc = (returnStat != null) ? KeeperException.NoNodeException.Code.OK.intValue() : KeeperException.NoNodeException.Code.NONODE.intValue();\n                        watching.commitWatcher(rc, true);\n                    }\n                    return returnStat;\n                }\n            }\n        );\n        trace.commit();\n        return returnStat;\n    }\n","realPath":"curator-framework/src/main/java/org/apache/curator/framework/imps/ExistsBuilderImpl.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":222,"status":"M"}],"commitId":"786d69587d183250b4108a9e18898ad4b2e94659","commitMessage":"@@@Merge branch 'CURATOR-3.0' into CURATOR-351\n","date":"2016-10-28 23:05:52","modifiedFileCount":"22","status":"M","submitter":"randgalt"},{"authorTime":"2016-10-28 23:05:52","codes":[{"authorDate":"2020-12-15 08:26:12","commitOrder":7,"curCode":"    private Stat pathInForeground(final String path, final byte[] data) throws Exception\n    {\n        OperationTrace   trace = client.getZookeeperClient().startAdvancedTracer(\"SetDataBuilderImpl-Foreground\");\n        Stat        resultStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    if ( failBeforeNextSetForTesting )\n                    {\n                        failBeforeNextSetForTesting = false;\n                        throw new KeeperException.ConnectionLossException();\n                    }\n\n                    Stat localResultStat = null;\n                    try\n                    {\n                        localResultStat = client.getZooKeeper().setData(path, data, version);\n                    }\n                    catch ( KeeperException.BadVersionException e )\n                    {\n                        if ( !idempotent )\n                        {\n                            throw e;\n                        }\n\n                        Stat getStat = new Stat();\n\n                        \r\n                        if ( failNextIdempotentCheckForTesting )\n                        {\n                            failNextIdempotentCheckForTesting = false;\n                            throw new KeeperException.ConnectionLossException();\n                        }\n\n                        byte[] existingData = client.getZooKeeper().getData(path, false, getStat);\n                        if ( idempotentSetMatches(getStat.getVersion(), data, existingData) )\n                        {\n                            localResultStat = getStat;\n                        }\n                        else\n                        {\n                            throw e;\n                        }\n                    }\n\n                    if ( failNextSetForTesting )\n                    {\n                        failNextSetForTesting = false;\n                        throw new KeeperException.ConnectionLossException();\n                    }\n                    return localResultStat;\n                }\n            }\n        );\n        trace.setRequestBytesLength(data).setPath(path).setStat(resultStat).commit();\n        return resultStat;\n    }\n","date":"2021-02-18 23:20:15","endLine":438,"groupId":"10147","id":11,"instanceNumber":1,"isCurCommit":1,"methodName":"pathInForeground","params":"(finalStringpath@finalbyte[]data)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/ef/87f6ec4daa214b72dab4e99df0b30c049db9f1.src","preCode":"    private Stat pathInForeground(final String path, final byte[] data) throws Exception\n    {\n        OperationTrace   trace = client.getZookeeperClient().startAdvancedTracer(\"SetDataBuilderImpl-Foreground\");\n        Stat        resultStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    return client.getZooKeeper().setData(path, data, version);\n                }\n            }\n        );\n        trace.setRequestBytesLength(data).setPath(path).setStat(resultStat).commit();\n        return resultStat;\n    }\n","realPath":"curator-framework/src/main/java/org/apache/curator/framework/imps/SetDataBuilderImpl.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":378,"status":"M"},{"authorDate":"2016-10-28 23:05:52","commitOrder":7,"curCode":"    private Stat pathInForegroundStandard(final String path) throws Exception\n    {\n        OperationTrace   trace = client.getZookeeperClient().startAdvancedTracer(\"ExistsBuilderImpl-Foreground\");\n        Stat        returnStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    Stat    returnStat;\n                    if ( watching.isWatched() )\n                    {\n                        returnStat = client.getZooKeeper().exists(path, true);\n                    }\n                    else\n                    {\n                        returnStat = client.getZooKeeper().exists(path, watching.getWatcher(path));\n                        int rc = (returnStat != null) ? KeeperException.NoNodeException.Code.OK.intValue() : KeeperException.NoNodeException.Code.NONODE.intValue();\n                        watching.commitWatcher(rc, true);\n                    }\n                    return returnStat;\n                }\n            }\n        );\n        trace.setPath(path).setWithWatcher(watching.hasWatcher()).setStat(returnStat).commit();\n        return returnStat;\n    }\n","date":"2016-10-28 23:05:52","endLine":250,"groupId":"10147","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"pathInForegroundStandard","params":"(finalStringpath)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/05/8ac5d09da3b26887a1b0ac62b62c7428d23f8a.src","preCode":"    private Stat pathInForegroundStandard(final String path) throws Exception\n    {\n        OperationTrace   trace = client.getZookeeperClient().startAdvancedTracer(\"ExistsBuilderImpl-Foreground\");\n        Stat        returnStat = RetryLoop.callWithRetry\n        (\n            client.getZookeeperClient(),\n            new Callable<Stat>()\n            {\n                @Override\n                public Stat call() throws Exception\n                {\n                    Stat    returnStat;\n                    if ( watching.isWatched() )\n                    {\n                        returnStat = client.getZooKeeper().exists(path, true);\n                    }\n                    else\n                    {\n                        returnStat = client.getZooKeeper().exists(path, watching.getWatcher(path));\n                        int rc = (returnStat != null) ? KeeperException.NoNodeException.Code.OK.intValue() : KeeperException.NoNodeException.Code.NONODE.intValue();\n                        watching.commitWatcher(rc, true);\n                    }\n                    return returnStat;\n                }\n            }\n        );\n        trace.setPath(path).setWithWatcher(watching.hasWatcher()).setStat(returnStat).commit();\n        return returnStat;\n    }\n","realPath":"curator-framework/src/main/java/org/apache/curator/framework/imps/ExistsBuilderImpl.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":222,"status":"N"}],"commitId":"d5666ab9ca22f45b905d6ffbf2b33fa30b38e15e","commitMessage":"@@@CURATOR-584: Added fault tolerant idempotent Create.  SetData and Delete operations\n","date":"2021-02-18 23:20:15","modifiedFileCount":"10","status":"M","submitter":"Josh Slocum"}]
