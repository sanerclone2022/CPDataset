[{"authorTime":"2013-03-08 06:54:59","codes":[{"authorDate":"2013-03-08 06:54:59","commitOrder":1,"curCode":"    public Collection<Lease> acquire(int qty) throws Exception\n    {\n        Preconditions.checkArgument(qty > 0, \"qty cannot be 0\");\n\n        ImmutableList.Builder<Lease>    builder = ImmutableList.builder();\n        try\n        {\n            while ( qty-- > 0 )\n            {\n                String      path = internals.attemptLock(-1, null, null);\n                builder.add(makeLease(path));\n            }\n        }\n        catch ( Exception e )\n        {\n            returnAll(builder.build());\n            throw e;\n        }\n        return builder.build();\n    }\n","date":"2013-03-08 06:54:59","endLine":185,"groupId":"1967","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"acquire","params":"(intqty)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/c3/df47654b37032ecdeb0d204733e644669c73b3.src","preCode":"    public Collection<Lease> acquire(int qty) throws Exception\n    {\n        Preconditions.checkArgument(qty > 0, \"qty cannot be 0\");\n\n        ImmutableList.Builder<Lease>    builder = ImmutableList.builder();\n        try\n        {\n            while ( qty-- > 0 )\n            {\n                String      path = internals.attemptLock(-1, null, null);\n                builder.add(makeLease(path));\n            }\n        }\n        catch ( Exception e )\n        {\n            returnAll(builder.build());\n            throw e;\n        }\n        return builder.build();\n    }\n","realPath":"curator-recipes/src/main/java/org/apache/curator/framework/recipes/locks/InterProcessSemaphore.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":166,"status":"B"},{"authorDate":"2013-03-08 06:54:59","commitOrder":1,"curCode":"    public Collection<Lease> acquire(int qty, long time, TimeUnit unit) throws Exception\n    {\n        long                startMs = System.currentTimeMillis();\n        long                waitMs = TimeUnit.MILLISECONDS.convert(time, unit);\n\n        Preconditions.checkArgument(qty > 0, \"qty cannot be 0\");\n\n        ImmutableList.Builder<Lease>    builder = ImmutableList.builder();\n        try\n        {\n            while ( qty-- > 0 )\n            {\n                long        elapsedMs = System.currentTimeMillis() - startMs;\n                long        thisWaitMs = waitMs - elapsedMs;\n\n                String      path = (thisWaitMs > 0) ? internals.attemptLock(thisWaitMs, TimeUnit.MILLISECONDS, null) : null;\n                if ( path == null )\n                {\n                    returnAll(builder.build());\n                    return null;\n                }\n                builder.add(makeLease(path));\n            }\n        }\n        catch ( Exception e )\n        {\n            returnAll(builder.build());\n            throw e;\n        }\n\n        return builder.build();\n    }\n","date":"2013-03-08 06:54:59","endLine":253,"groupId":"86","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"acquire","params":"(intqty@longtime@TimeUnitunit)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/c3/df47654b37032ecdeb0d204733e644669c73b3.src","preCode":"    public Collection<Lease> acquire(int qty, long time, TimeUnit unit) throws Exception\n    {\n        long                startMs = System.currentTimeMillis();\n        long                waitMs = TimeUnit.MILLISECONDS.convert(time, unit);\n\n        Preconditions.checkArgument(qty > 0, \"qty cannot be 0\");\n\n        ImmutableList.Builder<Lease>    builder = ImmutableList.builder();\n        try\n        {\n            while ( qty-- > 0 )\n            {\n                long        elapsedMs = System.currentTimeMillis() - startMs;\n                long        thisWaitMs = waitMs - elapsedMs;\n\n                String      path = (thisWaitMs > 0) ? internals.attemptLock(thisWaitMs, TimeUnit.MILLISECONDS, null) : null;\n                if ( path == null )\n                {\n                    returnAll(builder.build());\n                    return null;\n                }\n                builder.add(makeLease(path));\n            }\n        }\n        catch ( Exception e )\n        {\n            returnAll(builder.build());\n            throw e;\n        }\n\n        return builder.build();\n    }\n","realPath":"curator-recipes/src/main/java/org/apache/curator/framework/recipes/locks/InterProcessSemaphore.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":222,"status":"B"}],"commitId":"8d32c4738afe4fb6fa5e6fd843b05821ddc2ce88","commitMessage":"@@@Beginning to move everything to Apache\n","date":"2013-03-08 06:54:59","modifiedFileCount":"10","status":"B","submitter":"Jordan Zimmerman"},{"authorTime":"2016-01-18 06:40:52","codes":[{"authorDate":"2016-01-18 06:40:52","commitOrder":2,"curCode":"    public Collection<Lease> acquire(int qty) throws Exception\n    {\n        Preconditions.checkArgument(qty > 0, \"qty cannot be 0\");\n\n        ImmutableList.Builder<Lease>    builder = ImmutableList.builder();\n        try\n        {\n            while ( qty-- > 0 )\n            {\n                String      path = internals.attemptLock(-1, null, null);\n                builder.add(makeLease(path));\n            }\n        }\n        catch ( Exception e )\n        {\n            ThreadUtils.checkInterrupted(e);\n            returnAll(builder.build());\n            throw e;\n        }\n        return builder.build();\n    }\n","date":"2016-01-18 06:40:52","endLine":192,"groupId":"11269","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"acquire","params":"(intqty)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/4d/1f064841389558dbec525590b99cc2a3f6b849.src","preCode":"    public Collection<Lease> acquire(int qty) throws Exception\n    {\n        Preconditions.checkArgument(qty > 0, \"qty cannot be 0\");\n\n        ImmutableList.Builder<Lease>    builder = ImmutableList.builder();\n        try\n        {\n            while ( qty-- > 0 )\n            {\n                String      path = internals.attemptLock(-1, null, null);\n                builder.add(makeLease(path));\n            }\n        }\n        catch ( Exception e )\n        {\n            returnAll(builder.build());\n            throw e;\n        }\n        return builder.build();\n    }\n","realPath":"curator-recipes/src/main/java/org/apache/curator/framework/recipes/locks/InterProcessSemaphore.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":172,"status":"M"},{"authorDate":"2016-01-18 06:40:52","commitOrder":2,"curCode":"    public Collection<Lease> acquire(int qty, long time, TimeUnit unit) throws Exception\n    {\n        long                startMs = System.currentTimeMillis();\n        long                waitMs = TimeUnit.MILLISECONDS.convert(time, unit);\n\n        Preconditions.checkArgument(qty > 0, \"qty cannot be 0\");\n\n        ImmutableList.Builder<Lease>    builder = ImmutableList.builder();\n        try\n        {\n            while ( qty-- > 0 )\n            {\n                long        elapsedMs = System.currentTimeMillis() - startMs;\n                long        thisWaitMs = waitMs - elapsedMs;\n\n                String      path = (thisWaitMs > 0) ? internals.attemptLock(thisWaitMs, TimeUnit.MILLISECONDS, null) : null;\n                if ( path == null )\n                {\n                    returnAll(builder.build());\n                    return null;\n                }\n                builder.add(makeLease(path));\n            }\n        }\n        catch ( Exception e )\n        {\n            ThreadUtils.checkInterrupted(e);\n            returnAll(builder.build());\n            throw e;\n        }\n\n        return builder.build();\n    }\n","date":"2016-01-18 06:40:52","endLine":261,"groupId":"11269","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"acquire","params":"(intqty@longtime@TimeUnitunit)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/4d/1f064841389558dbec525590b99cc2a3f6b849.src","preCode":"    public Collection<Lease> acquire(int qty, long time, TimeUnit unit) throws Exception\n    {\n        long                startMs = System.currentTimeMillis();\n        long                waitMs = TimeUnit.MILLISECONDS.convert(time, unit);\n\n        Preconditions.checkArgument(qty > 0, \"qty cannot be 0\");\n\n        ImmutableList.Builder<Lease>    builder = ImmutableList.builder();\n        try\n        {\n            while ( qty-- > 0 )\n            {\n                long        elapsedMs = System.currentTimeMillis() - startMs;\n                long        thisWaitMs = waitMs - elapsedMs;\n\n                String      path = (thisWaitMs > 0) ? internals.attemptLock(thisWaitMs, TimeUnit.MILLISECONDS, null) : null;\n                if ( path == null )\n                {\n                    returnAll(builder.build());\n                    return null;\n                }\n                builder.add(makeLease(path));\n            }\n        }\n        catch ( Exception e )\n        {\n            returnAll(builder.build());\n            throw e;\n        }\n\n        return builder.build();\n    }\n","realPath":"curator-recipes/src/main/java/org/apache/curator/framework/recipes/locks/InterProcessSemaphore.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":229,"status":"M"}],"commitId":"9a03ea93937af047e8ad13c2e3e3559520abfb0a","commitMessage":"@@@Merge branch 'master' into CURATOR-3.0\n\nConflicts:\n\tcurator-client/src/main/java/org/apache/curator/RetryLoop.java\n\tcurator-framework/src/main/java/org/apache/curator/framework/imps/FailedDeleteManager.java\n\tcurator-framework/src/main/java/org/apache/curator/framework/imps/OperationAndData.java\n\tcurator-framework/src/main/java/org/apache/curator/framework/state/ConnectionStateManager.java\n\tcurator-recipes/src/main/java/org/apache/curator/framework/recipes/locks/InterProcessSemaphoreV2.java\n\tcurator-recipes/src/test/java/org/apache/curator/framework/client/TestResetConnectionWithBackgroundFailure.java\n\tcurator-test/src/main/java/org/apache/curator/test/TestingZooKeeperMain.java\n","date":"2016-01-18 06:40:52","modifiedFileCount":"47","status":"M","submitter":"randgalt"}]
