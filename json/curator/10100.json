[{"authorTime":"2013-03-08 06:54:59","codes":[{"authorDate":"2013-03-08 06:54:59","commitOrder":1,"curCode":"    public void testCompressionProvider() throws Exception\n    {\n        final byte[]            data = \"here's a string\".getBytes();\n\n        final AtomicInteger     compressCounter = new AtomicInteger();\n        final AtomicInteger     decompressCounter = new AtomicInteger();\n        CompressionProvider     compressionProvider = new CompressionProvider()\n        {\n            @Override\n            public byte[] compress(String path, byte[] data) throws Exception\n            {\n                compressCounter.incrementAndGet();\n\n                byte[]      bytes = new byte[data.length * 2];\n                System.arraycopy(data, 0, bytes, 0, data.length);\n                System.arraycopy(data, 0, bytes, data.length, data.length);\n                return bytes;\n            }\n\n            @Override\n            public byte[] decompress(String path, byte[] compressedData) throws Exception\n            {\n                decompressCounter.incrementAndGet();\n\n                byte[]          bytes = new byte[compressedData.length / 2];\n                System.arraycopy(compressedData, 0, bytes, 0, bytes.length);\n                return bytes;\n            }\n        };\n\n        CuratorFramework        client = CuratorFrameworkFactory.builder().\n            compressionProvider(compressionProvider).\n            connectString(server.getConnectString()).\n            retryPolicy(new RetryOneTime(1)).\n            build();\n        try\n        {\n            client.start();\n\n            client.create().compressed().creatingParentsIfNeeded().forPath(\"/a/b/c\", data);\n\n            Assert.assertNotEquals(data, client.getData().forPath(\"/a/b/c\"));\n            Assert.assertEquals(data.length, client.getData().decompressed().forPath(\"/a/b/c\").length);\n        }\n        finally\n        {\n            Closeables.closeQuietly(client);\n        }\n\n        Assert.assertEquals(compressCounter.get(), 1);\n        Assert.assertEquals(decompressCounter.get(), 1);\n    }\n","date":"2013-03-08 06:54:59","endLine":82,"groupId":"672","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testCompressionProvider","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/4a/a926b99d771bc86e89d0bf6df2b1d41d897a4b.src","preCode":"    public void testCompressionProvider() throws Exception\n    {\n        final byte[]            data = \"here's a string\".getBytes();\n\n        final AtomicInteger     compressCounter = new AtomicInteger();\n        final AtomicInteger     decompressCounter = new AtomicInteger();\n        CompressionProvider     compressionProvider = new CompressionProvider()\n        {\n            @Override\n            public byte[] compress(String path, byte[] data) throws Exception\n            {\n                compressCounter.incrementAndGet();\n\n                byte[]      bytes = new byte[data.length * 2];\n                System.arraycopy(data, 0, bytes, 0, data.length);\n                System.arraycopy(data, 0, bytes, data.length, data.length);\n                return bytes;\n            }\n\n            @Override\n            public byte[] decompress(String path, byte[] compressedData) throws Exception\n            {\n                decompressCounter.incrementAndGet();\n\n                byte[]          bytes = new byte[compressedData.length / 2];\n                System.arraycopy(compressedData, 0, bytes, 0, bytes.length);\n                return bytes;\n            }\n        };\n\n        CuratorFramework        client = CuratorFrameworkFactory.builder().\n            compressionProvider(compressionProvider).\n            connectString(server.getConnectString()).\n            retryPolicy(new RetryOneTime(1)).\n            build();\n        try\n        {\n            client.start();\n\n            client.create().compressed().creatingParentsIfNeeded().forPath(\"/a/b/c\", data);\n\n            Assert.assertNotEquals(data, client.getData().forPath(\"/a/b/c\"));\n            Assert.assertEquals(data.length, client.getData().decompressed().forPath(\"/a/b/c\").length);\n        }\n        finally\n        {\n            Closeables.closeQuietly(client);\n        }\n\n        Assert.assertEquals(compressCounter.get(), 1);\n        Assert.assertEquals(decompressCounter.get(), 1);\n    }\n","realPath":"curator-framework/src/test/java/org/apache/curator/framework/imps/TestCompression.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":31,"status":"B"},{"authorDate":"2013-03-08 06:54:59","commitOrder":1,"curCode":"    public void testSetData() throws Exception\n    {\n        final byte[]            data = \"here's a string\".getBytes();\n\n        CuratorFramework        client = CuratorFrameworkFactory.newClient(server.getConnectString(), new RetryOneTime(1));\n        try\n        {\n            client.start();\n\n            client.create().creatingParentsIfNeeded().forPath(\"/a/b/c\", data);\n            Assert.assertEquals(data, client.getData().forPath(\"/a/b/c\"));\n\n            client.setData().compressed().forPath(\"/a/b/c\", data);\n            Assert.assertEquals(data.length, client.getData().decompressed().forPath(\"/a/b/c\").length);\n        }\n        finally\n        {\n            Closeables.closeQuietly(client);\n        }\n    }\n","date":"2013-03-08 06:54:59","endLine":104,"groupId":"1575","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testSetData","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/4a/a926b99d771bc86e89d0bf6df2b1d41d897a4b.src","preCode":"    public void testSetData() throws Exception\n    {\n        final byte[]            data = \"here's a string\".getBytes();\n\n        CuratorFramework        client = CuratorFrameworkFactory.newClient(server.getConnectString(), new RetryOneTime(1));\n        try\n        {\n            client.start();\n\n            client.create().creatingParentsIfNeeded().forPath(\"/a/b/c\", data);\n            Assert.assertEquals(data, client.getData().forPath(\"/a/b/c\"));\n\n            client.setData().compressed().forPath(\"/a/b/c\", data);\n            Assert.assertEquals(data.length, client.getData().decompressed().forPath(\"/a/b/c\").length);\n        }\n        finally\n        {\n            Closeables.closeQuietly(client);\n        }\n    }\n","realPath":"curator-framework/src/test/java/org/apache/curator/framework/imps/TestCompression.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":85,"status":"B"}],"commitId":"8d32c4738afe4fb6fa5e6fd843b05821ddc2ce88","commitMessage":"@@@Beginning to move everything to Apache\n","date":"2013-03-08 06:54:59","modifiedFileCount":"10","status":"B","submitter":"Jordan Zimmerman"},{"authorTime":"2014-02-04 02:55:50","codes":[{"authorDate":"2014-02-04 02:55:50","commitOrder":2,"curCode":"    public void testCompressionProvider() throws Exception\n    {\n        final byte[]            data = \"here's a string\".getBytes();\n\n        final AtomicInteger     compressCounter = new AtomicInteger();\n        final AtomicInteger     decompressCounter = new AtomicInteger();\n        CompressionProvider     compressionProvider = new CompressionProvider()\n        {\n            @Override\n            public byte[] compress(String path, byte[] data) throws Exception\n            {\n                compressCounter.incrementAndGet();\n\n                byte[]      bytes = new byte[data.length * 2];\n                System.arraycopy(data, 0, bytes, 0, data.length);\n                System.arraycopy(data, 0, bytes, data.length, data.length);\n                return bytes;\n            }\n\n            @Override\n            public byte[] decompress(String path, byte[] compressedData) throws Exception\n            {\n                decompressCounter.incrementAndGet();\n\n                byte[]          bytes = new byte[compressedData.length / 2];\n                System.arraycopy(compressedData, 0, bytes, 0, bytes.length);\n                return bytes;\n            }\n        };\n\n        CuratorFramework        client = CuratorFrameworkFactory.builder().\n            compressionProvider(compressionProvider).\n            connectString(server.getConnectString()).\n            retryPolicy(new RetryOneTime(1)).\n            build();\n        try\n        {\n            client.start();\n\n            client.create().compressed().creatingParentsIfNeeded().forPath(\"/a/b/c\", data);\n\n            Assert.assertNotEquals(data, client.getData().forPath(\"/a/b/c\"));\n            Assert.assertEquals(data.length, client.getData().decompressed().forPath(\"/a/b/c\").length);\n        }\n        finally\n        {\n            CloseableUtils.closeQuietly(client);\n        }\n\n        Assert.assertEquals(compressCounter.get(), 1);\n        Assert.assertEquals(decompressCounter.get(), 1);\n    }\n","date":"2014-02-04 02:55:50","endLine":84,"groupId":"672","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testCompressionProvider","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/2a/8ec7c53be762cd63a0dddbb3447566a6073895.src","preCode":"    public void testCompressionProvider() throws Exception\n    {\n        final byte[]            data = \"here's a string\".getBytes();\n\n        final AtomicInteger     compressCounter = new AtomicInteger();\n        final AtomicInteger     decompressCounter = new AtomicInteger();\n        CompressionProvider     compressionProvider = new CompressionProvider()\n        {\n            @Override\n            public byte[] compress(String path, byte[] data) throws Exception\n            {\n                compressCounter.incrementAndGet();\n\n                byte[]      bytes = new byte[data.length * 2];\n                System.arraycopy(data, 0, bytes, 0, data.length);\n                System.arraycopy(data, 0, bytes, data.length, data.length);\n                return bytes;\n            }\n\n            @Override\n            public byte[] decompress(String path, byte[] compressedData) throws Exception\n            {\n                decompressCounter.incrementAndGet();\n\n                byte[]          bytes = new byte[compressedData.length / 2];\n                System.arraycopy(compressedData, 0, bytes, 0, bytes.length);\n                return bytes;\n            }\n        };\n\n        CuratorFramework        client = CuratorFrameworkFactory.builder().\n            compressionProvider(compressionProvider).\n            connectString(server.getConnectString()).\n            retryPolicy(new RetryOneTime(1)).\n            build();\n        try\n        {\n            client.start();\n\n            client.create().compressed().creatingParentsIfNeeded().forPath(\"/a/b/c\", data);\n\n            Assert.assertNotEquals(data, client.getData().forPath(\"/a/b/c\"));\n            Assert.assertEquals(data.length, client.getData().decompressed().forPath(\"/a/b/c\").length);\n        }\n        finally\n        {\n            Closeables.closeQuietly(client);\n        }\n\n        Assert.assertEquals(compressCounter.get(), 1);\n        Assert.assertEquals(decompressCounter.get(), 1);\n    }\n","realPath":"curator-framework/src/test/java/org/apache/curator/framework/imps/TestCompression.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":33,"status":"M"},{"authorDate":"2014-02-04 02:55:50","commitOrder":2,"curCode":"    public void testSetData() throws Exception\n    {\n        final byte[]            data = \"here's a string\".getBytes();\n\n        CuratorFramework        client = CuratorFrameworkFactory.newClient(server.getConnectString(), new RetryOneTime(1));\n        try\n        {\n            client.start();\n\n            client.create().creatingParentsIfNeeded().forPath(\"/a/b/c\", data);\n            Assert.assertEquals(data, client.getData().forPath(\"/a/b/c\"));\n\n            client.setData().compressed().forPath(\"/a/b/c\", data);\n            Assert.assertEquals(data.length, client.getData().decompressed().forPath(\"/a/b/c\").length);\n        }\n        finally\n        {\n            CloseableUtils.closeQuietly(client);\n        }\n    }\n","date":"2014-02-04 02:55:50","endLine":106,"groupId":"1575","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testSetData","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/2a/8ec7c53be762cd63a0dddbb3447566a6073895.src","preCode":"    public void testSetData() throws Exception\n    {\n        final byte[]            data = \"here's a string\".getBytes();\n\n        CuratorFramework        client = CuratorFrameworkFactory.newClient(server.getConnectString(), new RetryOneTime(1));\n        try\n        {\n            client.start();\n\n            client.create().creatingParentsIfNeeded().forPath(\"/a/b/c\", data);\n            Assert.assertEquals(data, client.getData().forPath(\"/a/b/c\"));\n\n            client.setData().compressed().forPath(\"/a/b/c\", data);\n            Assert.assertEquals(data.length, client.getData().decompressed().forPath(\"/a/b/c\").length);\n        }\n        finally\n        {\n            Closeables.closeQuietly(client);\n        }\n    }\n","realPath":"curator-framework/src/test/java/org/apache/curator/framework/imps/TestCompression.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":87,"status":"M"}],"commitId":"863eaee2f11fe930601c3da3bce386263fb552c4","commitMessage":"@@@CURATOR-85 - Guava no longer has closeQuietly(). This change adds the implementation internally to Curator\n","date":"2014-02-04 02:55:50","modifiedFileCount":"61","status":"M","submitter":"randgalt"},{"authorTime":"2020-10-20 21:18:25","codes":[{"authorDate":"2020-10-20 21:18:25","commitOrder":3,"curCode":"    public void testCompressionProvider() throws Exception\n    {\n        final byte[]            data = \"here's a string\".getBytes();\n\n        final AtomicInteger     compressCounter = new AtomicInteger();\n        final AtomicInteger     decompressCounter = new AtomicInteger();\n        CompressionProvider     compressionProvider = new CompressionProvider()\n        {\n            @Override\n            public byte[] compress(String path, byte[] data) throws Exception\n            {\n                compressCounter.incrementAndGet();\n\n                byte[]      bytes = new byte[data.length * 2];\n                System.arraycopy(data, 0, bytes, 0, data.length);\n                System.arraycopy(data, 0, bytes, data.length, data.length);\n                return bytes;\n            }\n\n            @Override\n            public byte[] decompress(String path, byte[] compressedData) throws Exception\n            {\n                decompressCounter.incrementAndGet();\n\n                byte[]          bytes = new byte[compressedData.length / 2];\n                System.arraycopy(compressedData, 0, bytes, 0, bytes.length);\n                return bytes;\n            }\n        };\n\n        CuratorFramework        client = CuratorFrameworkFactory.builder().\n            compressionProvider(compressionProvider).\n            connectString(server.getConnectString()).\n            retryPolicy(new RetryOneTime(1)).\n            build();\n        try\n        {\n            client.start();\n\n            client.create().compressed().creatingParentsIfNeeded().forPath(\"/a/b/c\", data);\n\n            assertNotEquals(data, client.getData().forPath(\"/a/b/c\"));\n            assertEquals(data.length, client.getData().decompressed().forPath(\"/a/b/c\").length);\n        }\n        finally\n        {\n            CloseableUtils.closeQuietly(client);\n        }\n\n        assertEquals(compressCounter.get(), 1);\n        assertEquals(decompressCounter.get(), 1);\n    }\n","date":"2020-10-20 21:18:25","endLine":89,"groupId":"10100","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"testCompressionProvider","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/61/3ba9d5d6c2becce45096f051b553576a409aa3.src","preCode":"    public void testCompressionProvider() throws Exception\n    {\n        final byte[]            data = \"here's a string\".getBytes();\n\n        final AtomicInteger     compressCounter = new AtomicInteger();\n        final AtomicInteger     decompressCounter = new AtomicInteger();\n        CompressionProvider     compressionProvider = new CompressionProvider()\n        {\n            @Override\n            public byte[] compress(String path, byte[] data) throws Exception\n            {\n                compressCounter.incrementAndGet();\n\n                byte[]      bytes = new byte[data.length * 2];\n                System.arraycopy(data, 0, bytes, 0, data.length);\n                System.arraycopy(data, 0, bytes, data.length, data.length);\n                return bytes;\n            }\n\n            @Override\n            public byte[] decompress(String path, byte[] compressedData) throws Exception\n            {\n                decompressCounter.incrementAndGet();\n\n                byte[]          bytes = new byte[compressedData.length / 2];\n                System.arraycopy(compressedData, 0, bytes, 0, bytes.length);\n                return bytes;\n            }\n        };\n\n        CuratorFramework        client = CuratorFrameworkFactory.builder().\n            compressionProvider(compressionProvider).\n            connectString(server.getConnectString()).\n            retryPolicy(new RetryOneTime(1)).\n            build();\n        try\n        {\n            client.start();\n\n            client.create().compressed().creatingParentsIfNeeded().forPath(\"/a/b/c\", data);\n\n            Assert.assertNotEquals(data, client.getData().forPath(\"/a/b/c\"));\n            Assert.assertEquals(data.length, client.getData().decompressed().forPath(\"/a/b/c\").length);\n        }\n        finally\n        {\n            CloseableUtils.closeQuietly(client);\n        }\n\n        Assert.assertEquals(compressCounter.get(), 1);\n        Assert.assertEquals(decompressCounter.get(), 1);\n    }\n","realPath":"curator-framework/src/test/java/org/apache/curator/framework/imps/TestCompression.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":38,"status":"M"},{"authorDate":"2020-10-20 21:18:25","commitOrder":3,"curCode":"    public void testSetData() throws Exception\n    {\n        final byte[]            data = \"here's a string\".getBytes();\n\n        CuratorFramework        client = CuratorFrameworkFactory.newClient(server.getConnectString(), new RetryOneTime(1));\n        try\n        {\n            client.start();\n\n            client.create().creatingParentsIfNeeded().forPath(\"/a/b/c\", data);\n            assertArrayEquals(data, client.getData().forPath(\"/a/b/c\"));\n\n            client.setData().compressed().forPath(\"/a/b/c\", data);\n            assertEquals(data.length, client.getData().decompressed().forPath(\"/a/b/c\").length);\n        }\n        finally\n        {\n            CloseableUtils.closeQuietly(client);\n        }\n    }\n","date":"2020-10-20 21:18:25","endLine":111,"groupId":"10100","id":6,"instanceNumber":2,"isCurCommit":1,"methodName":"testSetData","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/61/3ba9d5d6c2becce45096f051b553576a409aa3.src","preCode":"    public void testSetData() throws Exception\n    {\n        final byte[]            data = \"here's a string\".getBytes();\n\n        CuratorFramework        client = CuratorFrameworkFactory.newClient(server.getConnectString(), new RetryOneTime(1));\n        try\n        {\n            client.start();\n\n            client.create().creatingParentsIfNeeded().forPath(\"/a/b/c\", data);\n            Assert.assertEquals(data, client.getData().forPath(\"/a/b/c\"));\n\n            client.setData().compressed().forPath(\"/a/b/c\", data);\n            Assert.assertEquals(data.length, client.getData().decompressed().forPath(\"/a/b/c\").length);\n        }\n        finally\n        {\n            CloseableUtils.closeQuietly(client);\n        }\n    }\n","realPath":"curator-framework/src/test/java/org/apache/curator/framework/imps/TestCompression.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":92,"status":"M"}],"commitId":"7a148288603ae5db0c232142f7dc07d43e01bea3","commitMessage":"@@@CURATOR-582: Migrate to jUnit 5.6 (#372)\n\n","date":"2020-10-20 21:18:25","modifiedFileCount":"125","status":"M","submitter":"Tam?s P?nzes"}]
