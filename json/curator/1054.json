[{"authorTime":"2016-01-11 08:30:39","codes":[{"authorDate":"2016-02-05 07:57:35","commitOrder":3,"curCode":"    public void testQuickClose() throws Exception\n    {\n        CuratorFramework client = CuratorFrameworkFactory.newClient(server.getConnectString(), timing.session(), 1, new RetryNTimes(0, 0));\n        try\n        {\n            client.start();\n            client.close();\n        }\n        finally\n        {\n            CloseableUtils.closeQuietly(client);\n        }\n    }\n","date":"2016-02-05 07:57:35","endLine":72,"groupId":"937","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testQuickClose","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/70/290abf4586fde198ccd193ab5652ee728c5f9c.src","preCode":"    public void testQuickClose() throws Exception\n    {\n        CuratorFramework client = CuratorFrameworkFactory.newClient(server.getConnectString(), timing.session(), 1, new RetryNTimes(0, 0));\n        try\n        {\n            client.start();\n            client.close();\n        }\n        finally\n        {\n            CloseableUtils.closeQuietly(client);\n        }\n    }\n","realPath":"curator-framework/src/test/java/org/apache/curator/framework/imps/TestFrameworkEdges.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":60,"status":"B"},{"authorDate":"2016-01-11 08:30:39","commitOrder":3,"curCode":"    public void testProtectedCreateNodeDeletion() throws Exception\n    {\n        CuratorFramework client = CuratorFrameworkFactory.newClient(server.getConnectString(), timing.session(), 1, new RetryNTimes(0, 0));\n        try\n        {\n            client.start();\n\n            for ( int i = 0; i < 2; ++i )\n            {\n                CuratorFramework localClient = (i == 0) ? client : client.usingNamespace(\"nm\");\n                localClient.create().forPath(\"/parent\");\n                Assert.assertEquals(localClient.getChildren().forPath(\"/parent\").size(), 0);\n\n                CreateBuilderImpl createBuilder = (CreateBuilderImpl)localClient.create();\n                createBuilder.failNextCreateForTesting = true;\n                FindAndDeleteProtectedNodeInBackground.debugInsertError.set(true);\n                try\n                {\n                    createBuilder.withProtection().forPath(\"/parent/test\");\n                    Assert.fail(\"failNextCreateForTesting should have caused a ConnectionLossException\");\n                }\n                catch ( KeeperException.ConnectionLossException e )\n                {\n                    \r\n                }\n\n                timing.sleepABit();\n                List<String> children = localClient.getChildren().forPath(\"/parent\");\n                Assert.assertEquals(children.size(), 0, children.toString()); \r\n\n                localClient.delete().forPath(\"/parent\");\n            }\n        }\n        finally\n        {\n            CloseableUtils.closeQuietly(client);\n        }\n    }\n","date":"2016-01-11 08:30:39","endLine":97,"groupId":"102","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testProtectedCreateNodeDeletion","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/d7/b79d35db5d1bcb65249cf80722459ba5b1985c.src","preCode":"    public void testProtectedCreateNodeDeletion() throws Exception\n    {\n        CuratorFramework client = CuratorFrameworkFactory.newClient(server.getConnectString(), timing.session(), 1, new RetryNTimes(0, 0));\n        try\n        {\n            client.start();\n\n            for ( int i = 0; i < 2; ++i )\n            {\n                CuratorFramework localClient = (i == 0) ? client : client.usingNamespace(\"nm\");\n                localClient.create().forPath(\"/parent\");\n                Assert.assertEquals(localClient.getChildren().forPath(\"/parent\").size(), 0);\n\n                CreateBuilderImpl createBuilder = (CreateBuilderImpl)localClient.create();\n                createBuilder.failNextCreateForTesting = true;\n                FindAndDeleteProtectedNodeInBackground.debugInsertError.set(true);\n                try\n                {\n                    createBuilder.withProtection().forPath(\"/parent/test\");\n                    Assert.fail(\"failNextCreateForTesting should have caused a ConnectionLossException\");\n                }\n                catch ( KeeperException.ConnectionLossException e )\n                {\n                    \r\n                }\n\n                timing.sleepABit();\n                List<String> children = localClient.getChildren().forPath(\"/parent\");\n                Assert.assertEquals(children.size(), 0, children.toString()); \r\n\n                localClient.delete().forPath(\"/parent\");\n            }\n        }\n        finally\n        {\n            CloseableUtils.closeQuietly(client);\n        }\n    }\n","realPath":"curator-framework/src/test/java/org/apache/curator/framework/imps/TestFrameworkEdges.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":60,"status":"NB"}],"commitId":"ff8a795e61d0d44622bdbaf2144c25c70e31e864","commitMessage":"@@@Major re-work of Watcher wrappers. It really isn't necessary to keep a map of watchers. It was originally done so that watcher identity was maintained.  but this can be achieved much easier using special-purpose hashCode() and equals() on NamespaceWatcher.\n","date":"2016-02-05 07:57:35","modifiedFileCount":"14","status":"M","submitter":"randgalt"},{"authorTime":"2020-10-20 21:18:25","codes":[{"authorDate":"2016-02-05 07:57:35","commitOrder":4,"curCode":"    public void testQuickClose() throws Exception\n    {\n        CuratorFramework client = CuratorFrameworkFactory.newClient(server.getConnectString(), timing.session(), 1, new RetryNTimes(0, 0));\n        try\n        {\n            client.start();\n            client.close();\n        }\n        finally\n        {\n            CloseableUtils.closeQuietly(client);\n        }\n    }\n","date":"2016-02-05 07:57:35","endLine":72,"groupId":"1054","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testQuickClose","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/70/290abf4586fde198ccd193ab5652ee728c5f9c.src","preCode":"    public void testQuickClose() throws Exception\n    {\n        CuratorFramework client = CuratorFrameworkFactory.newClient(server.getConnectString(), timing.session(), 1, new RetryNTimes(0, 0));\n        try\n        {\n            client.start();\n            client.close();\n        }\n        finally\n        {\n            CloseableUtils.closeQuietly(client);\n        }\n    }\n","realPath":"curator-framework/src/test/java/org/apache/curator/framework/imps/TestFrameworkEdges.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":60,"status":"N"},{"authorDate":"2020-10-20 21:18:25","commitOrder":4,"curCode":"    public void testProtectedCreateNodeDeletion() throws Exception\n    {\n        CuratorFramework client = CuratorFrameworkFactory.newClient(server.getConnectString(), timing.session(), 1, new RetryNTimes(0, 0));\n        try\n        {\n            client.start();\n\n            for ( int i = 0; i < 2; ++i )\n            {\n                CuratorFramework localClient = (i == 0) ? client : client.usingNamespace(\"nm\");\n                localClient.create().forPath(\"/parent\");\n                assertEquals(localClient.getChildren().forPath(\"/parent\").size(), 0);\n\n                CreateBuilderImpl createBuilder = (CreateBuilderImpl)localClient.create();\n                createBuilder.failNextCreateForTesting = true;\n                FindAndDeleteProtectedNodeInBackground.debugInsertError.set(true);\n                try\n                {\n                    createBuilder.withProtection().forPath(\"/parent/test\");\n                    fail(\"failNextCreateForTesting should have caused a ConnectionLossException\");\n                }\n                catch ( KeeperException.ConnectionLossException e )\n                {\n                    \r\n                }\n\n                timing.sleepABit();\n                List<String> children = localClient.getChildren().forPath(\"/parent\");\n                assertEquals(children.size(), 0, children.toString()); \r\n\n                localClient.delete().forPath(\"/parent\");\n            }\n        }\n        finally\n        {\n            CloseableUtils.closeQuietly(client);\n        }\n    }\n","date":"2020-10-20 21:18:25","endLine":340,"groupId":"1054","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testProtectedCreateNodeDeletion","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-curator-10-0.7/blobInfo/CC_OUT/blobs/1f/da24870f488fc96f258b772f35da0396d1f2e2.src","preCode":"    public void testProtectedCreateNodeDeletion() throws Exception\n    {\n        CuratorFramework client = CuratorFrameworkFactory.newClient(server.getConnectString(), timing.session(), 1, new RetryNTimes(0, 0));\n        try\n        {\n            client.start();\n\n            for ( int i = 0; i < 2; ++i )\n            {\n                CuratorFramework localClient = (i == 0) ? client : client.usingNamespace(\"nm\");\n                localClient.create().forPath(\"/parent\");\n                Assert.assertEquals(localClient.getChildren().forPath(\"/parent\").size(), 0);\n\n                CreateBuilderImpl createBuilder = (CreateBuilderImpl)localClient.create();\n                createBuilder.failNextCreateForTesting = true;\n                FindAndDeleteProtectedNodeInBackground.debugInsertError.set(true);\n                try\n                {\n                    createBuilder.withProtection().forPath(\"/parent/test\");\n                    Assert.fail(\"failNextCreateForTesting should have caused a ConnectionLossException\");\n                }\n                catch ( KeeperException.ConnectionLossException e )\n                {\n                    \r\n                }\n\n                timing.sleepABit();\n                List<String> children = localClient.getChildren().forPath(\"/parent\");\n                Assert.assertEquals(children.size(), 0, children.toString()); \r\n\n                localClient.delete().forPath(\"/parent\");\n            }\n        }\n        finally\n        {\n            CloseableUtils.closeQuietly(client);\n        }\n    }\n","realPath":"curator-framework/src/test/java/org/apache/curator/framework/imps/TestFrameworkEdges.java","repoName":"curator","snippetEndLine":0,"snippetStartLine":0,"startLine":303,"status":"M"}],"commitId":"7a148288603ae5db0c232142f7dc07d43e01bea3","commitMessage":"@@@CURATOR-582: Migrate to jUnit 5.6 (#372)\n\n","date":"2020-10-20 21:18:25","modifiedFileCount":"125","status":"M","submitter":"Tam?s P?nzes"}]
