[{"authorTime":"2020-05-26 16:44:13","codes":[{"authorDate":"2020-05-26 16:44:13","commitOrder":1,"curCode":"\tprivate JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n\t\tcheckNotNull(jobClient);\n\n\t\tJobExecutionResult jobExecutionResult;\n\t\tif (getConfiguration().getBoolean(DeploymentOptions.ATTACHED)) {\n\t\t\tCompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n\t\t\t\t\tjobClient.getJobExecutionResult(getUserClassloader());\n\n\t\t\tif (getConfiguration().getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n\t\t\t\tThread shutdownHook = ShutdownHookUtil.addShutdownHook(\n\t\t\t\t\t\t() -> {\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tjobClient.cancel().get(1, TimeUnit.SECONDS);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tStreamContextEnvironment.class.getSimpleName(),\n\t\t\t\t\t\tLOG);\n\t\t\t\tjobExecutionResultFuture.whenComplete((ignored, throwable) ->\n\t\t\t\t\t\tShutdownHookUtil.removeShutdownHook(\n\t\t\t\t\t\t\tshutdownHook, StreamContextEnvironment.class.getSimpleName(), LOG));\n\t\t\t}\n\n\t\t\tjobExecutionResult = jobExecutionResultFuture.get();\n\t\t\tSystem.out.println(jobExecutionResult);\n\t\t} else {\n\t\t\tjobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n\t\t}\n\n\t\treturn jobExecutionResult;\n\t}\n","date":"2020-05-29 03:39:00","endLine":123,"groupId":"9851","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"getJobExecutionResult","params":"(finalJobClientjobClient)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/ec/81d8369fb911772a483af9782b2d54c1a23ff2.src","preCode":"\tprivate JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n\t\tcheckNotNull(jobClient);\n\n\t\tJobExecutionResult jobExecutionResult;\n\t\tif (getConfiguration().getBoolean(DeploymentOptions.ATTACHED)) {\n\t\t\tCompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n\t\t\t\t\tjobClient.getJobExecutionResult(getUserClassloader());\n\n\t\t\tif (getConfiguration().getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n\t\t\t\tThread shutdownHook = ShutdownHookUtil.addShutdownHook(\n\t\t\t\t\t\t() -> {\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tjobClient.cancel().get(1, TimeUnit.SECONDS);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tStreamContextEnvironment.class.getSimpleName(),\n\t\t\t\t\t\tLOG);\n\t\t\t\tjobExecutionResultFuture.whenComplete((ignored, throwable) ->\n\t\t\t\t\t\tShutdownHookUtil.removeShutdownHook(\n\t\t\t\t\t\t\tshutdownHook, StreamContextEnvironment.class.getSimpleName(), LOG));\n\t\t\t}\n\n\t\t\tjobExecutionResult = jobExecutionResultFuture.get();\n\t\t\tSystem.out.println(jobExecutionResult);\n\t\t} else {\n\t\t\tjobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n\t\t}\n\n\t\treturn jobExecutionResult;\n\t}\n","realPath":"flink-clients/src/main/java/org/apache/flink/client/program/StreamContextEnvironment.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":94,"status":"B"},{"authorDate":"2020-05-26 16:44:13","commitOrder":1,"curCode":"\tprivate JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n\t\tcheckNotNull(jobClient);\n\n\t\tJobExecutionResult jobExecutionResult;\n\t\tif (getConfiguration().getBoolean(DeploymentOptions.ATTACHED)) {\n\t\t\tCompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n\t\t\t\t\tjobClient.getJobExecutionResult(getUserCodeClassLoader());\n\n\t\t\tif (getConfiguration().getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n\t\t\t\tThread shutdownHook = ShutdownHookUtil.addShutdownHook(\n\t\t\t\t\t\t() -> {\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tjobClient.cancel().get(1, TimeUnit.SECONDS);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tContextEnvironment.class.getSimpleName(),\n\t\t\t\t\t\tLOG);\n\t\t\t\tjobExecutionResultFuture.whenComplete((ignored, throwable) ->\n\t\t\t\t\t\tShutdownHookUtil.removeShutdownHook(\n\t\t\t\t\t\t\tshutdownHook, ContextEnvironment.class.getSimpleName(), LOG));\n\t\t\t}\n\n\t\t\tjobExecutionResult = jobExecutionResultFuture.get();\n\t\t\tSystem.out.println(jobExecutionResult);\n\t\t} else {\n\t\t\tjobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n\t\t}\n\n\t\treturn jobExecutionResult;\n\t}\n","date":"2020-05-29 03:39:00","endLine":119,"groupId":"9851","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"getJobExecutionResult","params":"(finalJobClientjobClient)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/f7/e515ba12302cbe35faa3a91dc7f1bfb003ae46.src","preCode":"\tprivate JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n\t\tcheckNotNull(jobClient);\n\n\t\tJobExecutionResult jobExecutionResult;\n\t\tif (getConfiguration().getBoolean(DeploymentOptions.ATTACHED)) {\n\t\t\tCompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n\t\t\t\t\tjobClient.getJobExecutionResult(getUserCodeClassLoader());\n\n\t\t\tif (getConfiguration().getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n\t\t\t\tThread shutdownHook = ShutdownHookUtil.addShutdownHook(\n\t\t\t\t\t\t() -> {\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tjobClient.cancel().get(1, TimeUnit.SECONDS);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tContextEnvironment.class.getSimpleName(),\n\t\t\t\t\t\tLOG);\n\t\t\t\tjobExecutionResultFuture.whenComplete((ignored, throwable) ->\n\t\t\t\t\t\tShutdownHookUtil.removeShutdownHook(\n\t\t\t\t\t\t\tshutdownHook, ContextEnvironment.class.getSimpleName(), LOG));\n\t\t\t}\n\n\t\t\tjobExecutionResult = jobExecutionResultFuture.get();\n\t\t\tSystem.out.println(jobExecutionResult);\n\t\t} else {\n\t\t\tjobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n\t\t}\n\n\t\treturn jobExecutionResult;\n\t}\n","realPath":"flink-clients/src/main/java/org/apache/flink/client/program/ContextEnvironment.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":90,"status":"B"}],"commitId":"7dcfd90dd42648133bb7c1216740f47fffe89c13","commitMessage":"@@@[FLINK-17744] Make (Stream)ContextEnvironment#execute call JobListener#onJobExecuted\n\nThis closes #12339.\n","date":"2020-05-29 03:39:00","modifiedFileCount":"3","status":"B","submitter":"Echo Lee"},{"authorTime":"2020-09-24 14:30:51","codes":[{"authorDate":"2020-09-24 14:30:51","commitOrder":2,"curCode":"\tprivate JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n\t\tcheckNotNull(jobClient);\n\n\t\tJobExecutionResult jobExecutionResult;\n\t\tif (getConfiguration().getBoolean(DeploymentOptions.ATTACHED)) {\n\t\t\tCompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n\t\t\t\t\tjobClient.getJobExecutionResult();\n\n\t\t\tif (getConfiguration().getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n\t\t\t\tThread shutdownHook = ShutdownHookUtil.addShutdownHook(\n\t\t\t\t\t\t() -> {\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tjobClient.cancel().get(1, TimeUnit.SECONDS);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tStreamContextEnvironment.class.getSimpleName(),\n\t\t\t\t\t\tLOG);\n\t\t\t\tjobExecutionResultFuture.whenComplete((ignored, throwable) ->\n\t\t\t\t\t\tShutdownHookUtil.removeShutdownHook(\n\t\t\t\t\t\t\tshutdownHook, StreamContextEnvironment.class.getSimpleName(), LOG));\n\t\t\t}\n\n\t\t\tjobExecutionResult = jobExecutionResultFuture.get();\n\t\t\tSystem.out.println(jobExecutionResult);\n\t\t} else {\n\t\t\tjobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n\t\t}\n\n\t\treturn jobExecutionResult;\n\t}\n","date":"2020-09-25 20:00:13","endLine":123,"groupId":"9851","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"getJobExecutionResult","params":"(finalJobClientjobClient)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/d0/443340dde2459724ee0c36dbc1d527e49cb7f9.src","preCode":"\tprivate JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n\t\tcheckNotNull(jobClient);\n\n\t\tJobExecutionResult jobExecutionResult;\n\t\tif (getConfiguration().getBoolean(DeploymentOptions.ATTACHED)) {\n\t\t\tCompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n\t\t\t\t\tjobClient.getJobExecutionResult(getUserClassloader());\n\n\t\t\tif (getConfiguration().getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n\t\t\t\tThread shutdownHook = ShutdownHookUtil.addShutdownHook(\n\t\t\t\t\t\t() -> {\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tjobClient.cancel().get(1, TimeUnit.SECONDS);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tStreamContextEnvironment.class.getSimpleName(),\n\t\t\t\t\t\tLOG);\n\t\t\t\tjobExecutionResultFuture.whenComplete((ignored, throwable) ->\n\t\t\t\t\t\tShutdownHookUtil.removeShutdownHook(\n\t\t\t\t\t\t\tshutdownHook, StreamContextEnvironment.class.getSimpleName(), LOG));\n\t\t\t}\n\n\t\t\tjobExecutionResult = jobExecutionResultFuture.get();\n\t\t\tSystem.out.println(jobExecutionResult);\n\t\t} else {\n\t\t\tjobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n\t\t}\n\n\t\treturn jobExecutionResult;\n\t}\n","realPath":"flink-clients/src/main/java/org/apache/flink/client/program/StreamContextEnvironment.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":94,"status":"M"},{"authorDate":"2020-09-24 14:30:51","commitOrder":2,"curCode":"\tprivate JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n\t\tcheckNotNull(jobClient);\n\n\t\tJobExecutionResult jobExecutionResult;\n\t\tif (getConfiguration().getBoolean(DeploymentOptions.ATTACHED)) {\n\t\t\tCompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n\t\t\t\t\tjobClient.getJobExecutionResult();\n\n\t\t\tif (getConfiguration().getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n\t\t\t\tThread shutdownHook = ShutdownHookUtil.addShutdownHook(\n\t\t\t\t\t\t() -> {\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tjobClient.cancel().get(1, TimeUnit.SECONDS);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tContextEnvironment.class.getSimpleName(),\n\t\t\t\t\t\tLOG);\n\t\t\t\tjobExecutionResultFuture.whenComplete((ignored, throwable) ->\n\t\t\t\t\t\tShutdownHookUtil.removeShutdownHook(\n\t\t\t\t\t\t\tshutdownHook, ContextEnvironment.class.getSimpleName(), LOG));\n\t\t\t}\n\n\t\t\tjobExecutionResult = jobExecutionResultFuture.get();\n\t\t\tSystem.out.println(jobExecutionResult);\n\t\t} else {\n\t\t\tjobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n\t\t}\n\n\t\treturn jobExecutionResult;\n\t}\n","date":"2020-09-25 20:00:13","endLine":119,"groupId":"9851","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"getJobExecutionResult","params":"(finalJobClientjobClient)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/31/a8310a75ee725a1ef4877213438f89c40f889d.src","preCode":"\tprivate JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n\t\tcheckNotNull(jobClient);\n\n\t\tJobExecutionResult jobExecutionResult;\n\t\tif (getConfiguration().getBoolean(DeploymentOptions.ATTACHED)) {\n\t\t\tCompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n\t\t\t\t\tjobClient.getJobExecutionResult(getUserCodeClassLoader());\n\n\t\t\tif (getConfiguration().getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n\t\t\t\tThread shutdownHook = ShutdownHookUtil.addShutdownHook(\n\t\t\t\t\t\t() -> {\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tjobClient.cancel().get(1, TimeUnit.SECONDS);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tContextEnvironment.class.getSimpleName(),\n\t\t\t\t\t\tLOG);\n\t\t\t\tjobExecutionResultFuture.whenComplete((ignored, throwable) ->\n\t\t\t\t\t\tShutdownHookUtil.removeShutdownHook(\n\t\t\t\t\t\t\tshutdownHook, ContextEnvironment.class.getSimpleName(), LOG));\n\t\t\t}\n\n\t\t\tjobExecutionResult = jobExecutionResultFuture.get();\n\t\t\tSystem.out.println(jobExecutionResult);\n\t\t} else {\n\t\t\tjobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n\t\t}\n\n\t\treturn jobExecutionResult;\n\t}\n","realPath":"flink-clients/src/main/java/org/apache/flink/client/program/ContextEnvironment.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":90,"status":"M"}],"commitId":"b692300a07fce41fc8cce8823432dd6b8db0784c","commitMessage":"@@@[FLINK-19124][datastream] Remove ClassLoader parameter from JobClient methods\n","date":"2020-09-25 20:00:13","modifiedFileCount":"35","status":"M","submitter":"SteNicholas"},{"authorTime":"2020-09-24 14:30:51","codes":[{"authorDate":"2021-07-26 19:19:37","commitOrder":3,"curCode":"    private JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n        checkNotNull(jobClient);\n\n        JobExecutionResult jobExecutionResult;\n        if (configuration.getBoolean(DeploymentOptions.ATTACHED)) {\n            CompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n                    jobClient.getJobExecutionResult();\n\n            if (configuration.getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n                Thread shutdownHook =\n                        ShutdownHookUtil.addShutdownHook(\n                                () -> {\n                                    \r\n                                    \r\n                                    \r\n                                    jobClient.cancel().get(1, TimeUnit.SECONDS);\n                                },\n                                StreamContextEnvironment.class.getSimpleName(),\n                                LOG);\n                jobExecutionResultFuture.whenComplete(\n                        (ignored, throwable) ->\n                                ShutdownHookUtil.removeShutdownHook(\n                                        shutdownHook,\n                                        StreamContextEnvironment.class.getSimpleName(),\n                                        LOG));\n            }\n\n            jobExecutionResult = jobExecutionResultFuture.get();\n            System.out.println(jobExecutionResult);\n        } else {\n            jobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n        }\n\n        return jobExecutionResult;\n    }\n","date":"2021-08-04 17:24:12","endLine":130,"groupId":"9851","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"getJobExecutionResult","params":"(finalJobClientjobClient)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/71/820dc2295f80e2203b315afbad0017e419c2f5.src","preCode":"    private JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n        checkNotNull(jobClient);\n\n        JobExecutionResult jobExecutionResult;\n        if (getConfiguration().getBoolean(DeploymentOptions.ATTACHED)) {\n            CompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n                    jobClient.getJobExecutionResult();\n\n            if (getConfiguration().getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n                Thread shutdownHook =\n                        ShutdownHookUtil.addShutdownHook(\n                                () -> {\n                                    \r\n                                    \r\n                                    \r\n                                    jobClient.cancel().get(1, TimeUnit.SECONDS);\n                                },\n                                StreamContextEnvironment.class.getSimpleName(),\n                                LOG);\n                jobExecutionResultFuture.whenComplete(\n                        (ignored, throwable) ->\n                                ShutdownHookUtil.removeShutdownHook(\n                                        shutdownHook,\n                                        StreamContextEnvironment.class.getSimpleName(),\n                                        LOG));\n            }\n\n            jobExecutionResult = jobExecutionResultFuture.get();\n            System.out.println(jobExecutionResult);\n        } else {\n            jobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n        }\n\n        return jobExecutionResult;\n    }\n","realPath":"flink-clients/src/main/java/org/apache/flink/client/program/StreamContextEnvironment.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":96,"status":"M"},{"authorDate":"2020-09-24 14:30:51","commitOrder":3,"curCode":"\tprivate JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n\t\tcheckNotNull(jobClient);\n\n\t\tJobExecutionResult jobExecutionResult;\n\t\tif (getConfiguration().getBoolean(DeploymentOptions.ATTACHED)) {\n\t\t\tCompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n\t\t\t\t\tjobClient.getJobExecutionResult();\n\n\t\t\tif (getConfiguration().getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n\t\t\t\tThread shutdownHook = ShutdownHookUtil.addShutdownHook(\n\t\t\t\t\t\t() -> {\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tjobClient.cancel().get(1, TimeUnit.SECONDS);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tContextEnvironment.class.getSimpleName(),\n\t\t\t\t\t\tLOG);\n\t\t\t\tjobExecutionResultFuture.whenComplete((ignored, throwable) ->\n\t\t\t\t\t\tShutdownHookUtil.removeShutdownHook(\n\t\t\t\t\t\t\tshutdownHook, ContextEnvironment.class.getSimpleName(), LOG));\n\t\t\t}\n\n\t\t\tjobExecutionResult = jobExecutionResultFuture.get();\n\t\t\tSystem.out.println(jobExecutionResult);\n\t\t} else {\n\t\t\tjobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n\t\t}\n\n\t\treturn jobExecutionResult;\n\t}\n","date":"2020-09-25 20:00:13","endLine":119,"groupId":"9851","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"getJobExecutionResult","params":"(finalJobClientjobClient)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/31/a8310a75ee725a1ef4877213438f89c40f889d.src","preCode":"\tprivate JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n\t\tcheckNotNull(jobClient);\n\n\t\tJobExecutionResult jobExecutionResult;\n\t\tif (getConfiguration().getBoolean(DeploymentOptions.ATTACHED)) {\n\t\t\tCompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n\t\t\t\t\tjobClient.getJobExecutionResult();\n\n\t\t\tif (getConfiguration().getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n\t\t\t\tThread shutdownHook = ShutdownHookUtil.addShutdownHook(\n\t\t\t\t\t\t() -> {\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tjobClient.cancel().get(1, TimeUnit.SECONDS);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tContextEnvironment.class.getSimpleName(),\n\t\t\t\t\t\tLOG);\n\t\t\t\tjobExecutionResultFuture.whenComplete((ignored, throwable) ->\n\t\t\t\t\t\tShutdownHookUtil.removeShutdownHook(\n\t\t\t\t\t\t\tshutdownHook, ContextEnvironment.class.getSimpleName(), LOG));\n\t\t\t}\n\n\t\t\tjobExecutionResult = jobExecutionResultFuture.get();\n\t\t\tSystem.out.println(jobExecutionResult);\n\t\t} else {\n\t\t\tjobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n\t\t}\n\n\t\treturn jobExecutionResult;\n\t}\n","realPath":"flink-clients/src/main/java/org/apache/flink/client/program/ContextEnvironment.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":90,"status":"N"}],"commitId":"659ffa78d1b0dfe39ec8dac5b04cfc0c29f57fc3","commitMessage":"@@@[FLINK-23498][streaming-java] Remove StreamExecutionEnvironment.getConfiguration()\n","date":"2021-08-04 17:24:12","modifiedFileCount":"6","status":"M","submitter":"Timo Walther"},{"authorTime":"2021-08-22 22:18:32","codes":[{"authorDate":"2021-08-22 22:18:32","commitOrder":4,"curCode":"    private JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n        checkNotNull(jobClient);\n\n        JobExecutionResult jobExecutionResult;\n        if (configuration.getBoolean(DeploymentOptions.ATTACHED)) {\n            CompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n                    jobClient.getJobExecutionResult();\n\n            if (configuration.getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n                Thread shutdownHook =\n                        ShutdownHookUtil.addShutdownHook(\n                                () -> {\n                                    \r\n                                    \r\n                                    \r\n                                    jobClient.cancel().get(1, TimeUnit.SECONDS);\n                                },\n                                StreamContextEnvironment.class.getSimpleName(),\n                                LOG);\n                jobExecutionResultFuture.whenComplete(\n                        (ignored, throwable) ->\n                                ShutdownHookUtil.removeShutdownHook(\n                                        shutdownHook,\n                                        StreamContextEnvironment.class.getSimpleName(),\n                                        LOG));\n            }\n\n            jobExecutionResult = jobExecutionResultFuture.get();\n            if (!suppressSysout) {\n                System.out.println(jobExecutionResult);\n            }\n        } else {\n            jobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n        }\n\n        return jobExecutionResult;\n    }\n","date":"2021-08-22 22:18:32","endLine":132,"groupId":"101839","id":7,"instanceNumber":1,"isCurCommit":1,"methodName":"getJobExecutionResult","params":"(finalJobClientjobClient)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/71/200c46cb56f74c2b7d5cbbbdd1e8a8a2841c9d.src","preCode":"    private JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n        checkNotNull(jobClient);\n\n        JobExecutionResult jobExecutionResult;\n        if (configuration.getBoolean(DeploymentOptions.ATTACHED)) {\n            CompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n                    jobClient.getJobExecutionResult();\n\n            if (configuration.getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n                Thread shutdownHook =\n                        ShutdownHookUtil.addShutdownHook(\n                                () -> {\n                                    \r\n                                    \r\n                                    \r\n                                    jobClient.cancel().get(1, TimeUnit.SECONDS);\n                                },\n                                StreamContextEnvironment.class.getSimpleName(),\n                                LOG);\n                jobExecutionResultFuture.whenComplete(\n                        (ignored, throwable) ->\n                                ShutdownHookUtil.removeShutdownHook(\n                                        shutdownHook,\n                                        StreamContextEnvironment.class.getSimpleName(),\n                                        LOG));\n            }\n\n            jobExecutionResult = jobExecutionResultFuture.get();\n            System.out.println(jobExecutionResult);\n        } else {\n            jobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n        }\n\n        return jobExecutionResult;\n    }\n","realPath":"flink-clients/src/main/java/org/apache/flink/client/program/StreamContextEnvironment.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":96,"status":"M"},{"authorDate":"2021-08-22 22:18:32","commitOrder":4,"curCode":"    private JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n        checkNotNull(jobClient);\n\n        JobExecutionResult jobExecutionResult;\n        if (getConfiguration().getBoolean(DeploymentOptions.ATTACHED)) {\n            CompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n                    jobClient.getJobExecutionResult();\n\n            if (getConfiguration().getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n                Thread shutdownHook =\n                        ShutdownHookUtil.addShutdownHook(\n                                () -> {\n                                    \r\n                                    \r\n                                    \r\n                                    jobClient.cancel().get(1, TimeUnit.SECONDS);\n                                },\n                                ContextEnvironment.class.getSimpleName(),\n                                LOG);\n                jobExecutionResultFuture.whenComplete(\n                        (ignored, throwable) ->\n                                ShutdownHookUtil.removeShutdownHook(\n                                        shutdownHook,\n                                        ContextEnvironment.class.getSimpleName(),\n                                        LOG));\n            }\n\n            jobExecutionResult = jobExecutionResultFuture.get();\n            if (!suppressSysout) {\n                System.out.println(jobExecutionResult);\n            }\n        } else {\n            jobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n        }\n\n        return jobExecutionResult;\n    }\n","date":"2021-08-22 22:18:32","endLine":126,"groupId":"101839","id":8,"instanceNumber":2,"isCurCommit":1,"methodName":"getJobExecutionResult","params":"(finalJobClientjobClient)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/bc/0929a73c170adcebe5bba257a136f1166f7ee8.src","preCode":"    private JobExecutionResult getJobExecutionResult(final JobClient jobClient) throws Exception {\n        checkNotNull(jobClient);\n\n        JobExecutionResult jobExecutionResult;\n        if (getConfiguration().getBoolean(DeploymentOptions.ATTACHED)) {\n            CompletableFuture<JobExecutionResult> jobExecutionResultFuture =\n                    jobClient.getJobExecutionResult();\n\n            if (getConfiguration().getBoolean(DeploymentOptions.SHUTDOWN_IF_ATTACHED)) {\n                Thread shutdownHook =\n                        ShutdownHookUtil.addShutdownHook(\n                                () -> {\n                                    \r\n                                    \r\n                                    \r\n                                    jobClient.cancel().get(1, TimeUnit.SECONDS);\n                                },\n                                ContextEnvironment.class.getSimpleName(),\n                                LOG);\n                jobExecutionResultFuture.whenComplete(\n                        (ignored, throwable) ->\n                                ShutdownHookUtil.removeShutdownHook(\n                                        shutdownHook,\n                                        ContextEnvironment.class.getSimpleName(),\n                                        LOG));\n            }\n\n            jobExecutionResult = jobExecutionResultFuture.get();\n            System.out.println(jobExecutionResult);\n        } else {\n            jobExecutionResult = new DetachedJobExecutionResult(jobClient.getJobID());\n        }\n\n        return jobExecutionResult;\n    }\n","realPath":"flink-clients/src/main/java/org/apache/flink/client/program/ContextEnvironment.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":90,"status":"M"}],"commitId":"7f9587c723057e2b6cbaf748181c8c80a7f6703d","commitMessage":"@@@[FLINK-23868][Client] JobExecutionResult printed event if suppressSysout is enabled\n\nThis closes #16891 .","date":"2021-08-22 22:18:32","modifiedFileCount":"2","status":"M","submitter":"Paul Lin"}]
