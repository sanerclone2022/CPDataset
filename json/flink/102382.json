[{"authorTime":"2020-03-07 21:33:17","codes":[{"authorDate":"2020-03-07 21:33:17","commitOrder":2,"curCode":"\tpublic void testFlinkConfConfigMap() {\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) this.kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(FlinkConfMountDecorator.getFlinkConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(3, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(\"log4j.properties\"));\n\t\tassertEquals(\"some data\", resultDatas.get(\"logback.xml\"));\n\t\tassertTrue(resultDatas.get(FLINK_CONF_FILENAME)\n\t\t\t.contains(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS.key() + \": \" + ENTRY_POINT_CLASS));\n\t}\n","date":"2020-03-23 15:03:16","endLine":209,"groupId":"19308","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testFlinkConfConfigMap","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/b1/79ddc61adebfb9c95090e44fd2829dfed79c93.src","preCode":"\tpublic void testFlinkConfConfigMap() {\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) this.kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(FlinkConfMountDecorator.getFlinkConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(3, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(\"log4j.properties\"));\n\t\tassertEquals(\"some data\", resultDatas.get(\"logback.xml\"));\n\t\tassertTrue(resultDatas.get(FLINK_CONF_FILENAME)\n\t\t\t.contains(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS.key() + \": \" + ENTRY_POINT_CLASS));\n\t}\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/factory/KubernetesJobManagerFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":193,"status":"MB"},{"authorDate":"2020-03-07 21:33:17","commitOrder":2,"curCode":"\tpublic void testHadoopConfConfigMap() throws IOException {\n\t\tsetHadoopConfDirEnv();\n\t\tgenerateHadoopConfFileItems();\n\t\tkubernetesJobManagerSpecification = KubernetesJobManagerFactory.createJobManagerComponent(kubernetesJobManagerParameters);\n\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(HadoopConfMountDecorator.getHadoopConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(2, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(\"core-site.xml\"));\n\t\tassertEquals(\"some data\", resultDatas.get(\"hdfs-site.xml\"));\n\t}\n","date":"2020-03-23 15:03:16","endLine":242,"groupId":"19308","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testHadoopConfConfigMap","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/b1/79ddc61adebfb9c95090e44fd2829dfed79c93.src","preCode":"\tpublic void testHadoopConfConfigMap() throws IOException {\n\t\tsetHadoopConfDirEnv();\n\t\tgenerateHadoopConfFileItems();\n\t\tkubernetesJobManagerSpecification = KubernetesJobManagerFactory.createJobManagerComponent(kubernetesJobManagerParameters);\n\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(HadoopConfMountDecorator.getHadoopConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(2, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(\"core-site.xml\"));\n\t\tassertEquals(\"some data\", resultDatas.get(\"hdfs-site.xml\"));\n\t}\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/factory/KubernetesJobManagerFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":224,"status":"B"}],"commitId":"f56a075aa029832b9cbacab51649c900498e18e9","commitMessage":"@@@[FLINK-15667][k8s] Support to mount custom Hadoop Configurations\n\nThis closes #11415 .\n","date":"2020-03-23 15:03:16","modifiedFileCount":"10","status":"M","submitter":"felixzheng"},{"authorTime":"2020-04-17 15:14:13","codes":[{"authorDate":"2020-03-07 21:33:17","commitOrder":3,"curCode":"\tpublic void testFlinkConfConfigMap() {\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) this.kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(FlinkConfMountDecorator.getFlinkConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(3, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(\"log4j.properties\"));\n\t\tassertEquals(\"some data\", resultDatas.get(\"logback.xml\"));\n\t\tassertTrue(resultDatas.get(FLINK_CONF_FILENAME)\n\t\t\t.contains(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS.key() + \": \" + ENTRY_POINT_CLASS));\n\t}\n","date":"2020-03-23 15:03:16","endLine":209,"groupId":"19308","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testFlinkConfConfigMap","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/b1/79ddc61adebfb9c95090e44fd2829dfed79c93.src","preCode":"\tpublic void testFlinkConfConfigMap() {\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) this.kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(FlinkConfMountDecorator.getFlinkConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(3, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(\"log4j.properties\"));\n\t\tassertEquals(\"some data\", resultDatas.get(\"logback.xml\"));\n\t\tassertTrue(resultDatas.get(FLINK_CONF_FILENAME)\n\t\t\t.contains(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS.key() + \": \" + ENTRY_POINT_CLASS));\n\t}\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/factory/KubernetesJobManagerFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":193,"status":"N"},{"authorDate":"2020-04-17 15:14:13","commitOrder":3,"curCode":"\tpublic void testHadoopConfConfigMap() throws IOException {\n\t\tsetHadoopConfDirEnv();\n\t\tgenerateHadoopConfFileItems();\n\t\tkubernetesJobManagerSpecification = KubernetesJobManagerFactory.buildKubernetesJobManagerSpecification(kubernetesJobManagerParameters);\n\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(HadoopConfMountDecorator.getHadoopConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(2, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(\"core-site.xml\"));\n\t\tassertEquals(\"some data\", resultDatas.get(\"hdfs-site.xml\"));\n\t}\n","date":"2020-04-25 21:31:26","endLine":246,"groupId":"19308","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testHadoopConfConfigMap","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/c3/ebb5fafb1144be42c0ecca391cf2502f3917b5.src","preCode":"\tpublic void testHadoopConfConfigMap() throws IOException {\n\t\tsetHadoopConfDirEnv();\n\t\tgenerateHadoopConfFileItems();\n\t\tkubernetesJobManagerSpecification = KubernetesJobManagerFactory.createJobManagerComponent(kubernetesJobManagerParameters);\n\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(HadoopConfMountDecorator.getHadoopConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(2, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(\"core-site.xml\"));\n\t\tassertEquals(\"some data\", resultDatas.get(\"hdfs-site.xml\"));\n\t}\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/factory/KubernetesJobManagerFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":228,"status":"M"}],"commitId":"8882b86566c51dc0161757b951f3af711e76c6d3","commitMessage":"@@@[hotfix][runtime][k8s] Renaming methods for better code readability.\n","date":"2020-04-25 21:31:26","modifiedFileCount":"9","status":"M","submitter":"Xintong Song"},{"authorTime":"2020-04-17 15:14:13","codes":[{"authorDate":"2020-05-19 11:40:03","commitOrder":4,"curCode":"\tpublic void testFlinkConfConfigMap() {\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) this.kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(FlinkConfMountDecorator.getFlinkConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(3, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(CONFIG_FILE_LOG4J_NAME));\n\t\tassertEquals(\"some data\", resultDatas.get(CONFIG_FILE_LOGBACK_NAME));\n\t\tassertTrue(resultDatas.get(FLINK_CONF_FILENAME)\n\t\t\t.contains(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS.key() + \": \" + ENTRY_POINT_CLASS));\n\t}\n","date":"2020-08-07 14:07:59","endLine":221,"groupId":"19308","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testFlinkConfConfigMap","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/c3/6fe2683d15f5af1972e135e16a018bbc9e7e35.src","preCode":"\tpublic void testFlinkConfConfigMap() {\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) this.kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(FlinkConfMountDecorator.getFlinkConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(3, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(\"log4j.properties\"));\n\t\tassertEquals(\"some data\", resultDatas.get(\"logback.xml\"));\n\t\tassertTrue(resultDatas.get(FLINK_CONF_FILENAME)\n\t\t\t.contains(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS.key() + \": \" + ENTRY_POINT_CLASS));\n\t}\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/factory/KubernetesJobManagerFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":205,"status":"M"},{"authorDate":"2020-04-17 15:14:13","commitOrder":4,"curCode":"\tpublic void testHadoopConfConfigMap() throws IOException {\n\t\tsetHadoopConfDirEnv();\n\t\tgenerateHadoopConfFileItems();\n\t\tkubernetesJobManagerSpecification = KubernetesJobManagerFactory.buildKubernetesJobManagerSpecification(kubernetesJobManagerParameters);\n\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(HadoopConfMountDecorator.getHadoopConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(2, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(\"core-site.xml\"));\n\t\tassertEquals(\"some data\", resultDatas.get(\"hdfs-site.xml\"));\n\t}\n","date":"2020-04-25 21:31:26","endLine":246,"groupId":"19308","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testHadoopConfConfigMap","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/c3/ebb5fafb1144be42c0ecca391cf2502f3917b5.src","preCode":"\tpublic void testHadoopConfConfigMap() throws IOException {\n\t\tsetHadoopConfDirEnv();\n\t\tgenerateHadoopConfFileItems();\n\t\tkubernetesJobManagerSpecification = KubernetesJobManagerFactory.buildKubernetesJobManagerSpecification(kubernetesJobManagerParameters);\n\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(HadoopConfMountDecorator.getHadoopConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(2, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(\"core-site.xml\"));\n\t\tassertEquals(\"some data\", resultDatas.get(\"hdfs-site.xml\"));\n\t}\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/factory/KubernetesJobManagerFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":228,"status":"N"}],"commitId":"ab77a25a60aac10d650ba2d0819d349cf59aad38","commitMessage":"@@@[hotfix][k8s] Use constant logging variable to replace constant strings\n","date":"2020-08-07 14:07:59","modifiedFileCount":"7","status":"M","submitter":"wangyang0918"},{"authorTime":"2020-04-17 15:14:13","codes":[{"authorDate":"2020-06-22 16:39:35","commitOrder":5,"curCode":"\tpublic void testFlinkConfConfigMap() throws IOException {\n\t\tkubernetesJobManagerSpecification = KubernetesJobManagerFactory.buildKubernetesJobManagerSpecification(kubernetesJobManagerParameters);\n\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) this.kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(FlinkConfMountDecorator.getFlinkConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(3, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(CONFIG_FILE_LOG4J_NAME));\n\t\tassertEquals(\"some data\", resultDatas.get(CONFIG_FILE_LOGBACK_NAME));\n\t\tassertTrue(resultDatas.get(FLINK_CONF_FILENAME)\n\t\t\t.contains(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS.key() + \": \" + ENTRY_POINT_CLASS));\n\t}\n","date":"2020-10-22 11:33:26","endLine":281,"groupId":"19308","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testFlinkConfConfigMap","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/99/3fedc3e5b17efb83417e560b901849c7359798.src","preCode":"\tpublic void testFlinkConfConfigMap() {\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) this.kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(FlinkConfMountDecorator.getFlinkConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(3, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(CONFIG_FILE_LOG4J_NAME));\n\t\tassertEquals(\"some data\", resultDatas.get(CONFIG_FILE_LOGBACK_NAME));\n\t\tassertTrue(resultDatas.get(FLINK_CONF_FILENAME)\n\t\t\t.contains(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS.key() + \": \" + ENTRY_POINT_CLASS));\n\t}\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/factory/KubernetesJobManagerFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":263,"status":"M"},{"authorDate":"2020-04-17 15:14:13","commitOrder":5,"curCode":"\tpublic void testHadoopConfConfigMap() throws IOException {\n\t\tsetHadoopConfDirEnv();\n\t\tgenerateHadoopConfFileItems();\n\t\tkubernetesJobManagerSpecification = KubernetesJobManagerFactory.buildKubernetesJobManagerSpecification(kubernetesJobManagerParameters);\n\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(HadoopConfMountDecorator.getHadoopConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(2, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(\"core-site.xml\"));\n\t\tassertEquals(\"some data\", resultDatas.get(\"hdfs-site.xml\"));\n\t}\n","date":"2020-04-25 21:31:26","endLine":246,"groupId":"19308","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testHadoopConfConfigMap","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/c3/ebb5fafb1144be42c0ecca391cf2502f3917b5.src","preCode":"\tpublic void testHadoopConfConfigMap() throws IOException {\n\t\tsetHadoopConfDirEnv();\n\t\tgenerateHadoopConfFileItems();\n\t\tkubernetesJobManagerSpecification = KubernetesJobManagerFactory.buildKubernetesJobManagerSpecification(kubernetesJobManagerParameters);\n\n\t\tfinal ConfigMap resultConfigMap = (ConfigMap) kubernetesJobManagerSpecification.getAccompanyingResources()\n\t\t\t.stream()\n\t\t\t.filter(x -> x instanceof ConfigMap &&\n\t\t\t\tx.getMetadata().getName().equals(HadoopConfMountDecorator.getHadoopConfConfigMapName(CLUSTER_ID)))\n\t\t\t.collect(Collectors.toList())\n\t\t\t.get(0);\n\n\t\tassertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n\t\tfinal Map<String, String> resultDatas = resultConfigMap.getData();\n\t\tassertEquals(2, resultDatas.size());\n\t\tassertEquals(\"some data\", resultDatas.get(\"core-site.xml\"));\n\t\tassertEquals(\"some data\", resultDatas.get(\"hdfs-site.xml\"));\n\t}\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/factory/KubernetesJobManagerFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":228,"status":"N"}],"commitId":"3862a4aaf3750506eb69af6faf822b07d7d725a2","commitMessage":"@@@[FLINK-18971][kubernetes] Support to mount kerberos conf as ConfigMap and Keytab as Secrete in Kubernetes\n","date":"2020-10-22 11:33:26","modifiedFileCount":"9","status":"M","submitter":"Yangze Guo"},{"authorTime":"2021-02-20 11:30:39","codes":[{"authorDate":"2021-02-20 11:30:39","commitOrder":6,"curCode":"    public void testFlinkConfConfigMap() throws IOException {\n        kubernetesJobManagerSpecification =\n                KubernetesJobManagerFactory.buildKubernetesJobManagerSpecification(\n                        flinkPod, kubernetesJobManagerParameters);\n\n        final ConfigMap resultConfigMap =\n                (ConfigMap)\n                        this.kubernetesJobManagerSpecification.getAccompanyingResources().stream()\n                                .filter(\n                                        x ->\n                                                x instanceof ConfigMap\n                                                        && x.getMetadata()\n                                                                .getName()\n                                                                .equals(\n                                                                        FlinkConfMountDecorator\n                                                                                .getFlinkConfConfigMapName(\n                                                                                        CLUSTER_ID)))\n                                .collect(Collectors.toList())\n                                .get(0);\n\n        assertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n        final Map<String, String> resultDatas = resultConfigMap.getData();\n        assertEquals(3, resultDatas.size());\n        assertEquals(\"some data\", resultDatas.get(CONFIG_FILE_LOG4J_NAME));\n        assertEquals(\"some data\", resultDatas.get(CONFIG_FILE_LOGBACK_NAME));\n        assertTrue(\n                resultDatas\n                        .get(FLINK_CONF_FILENAME)\n                        .contains(\n                                KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS.key()\n                                        + \": \"\n                                        + ENTRY_POINT_CLASS));\n    }\n","date":"2021-03-01 17:38:17","endLine":381,"groupId":"102382","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"testFlinkConfConfigMap","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/25/869c66e5ad22bcac02e10f2d06c3a9aaa83e66.src","preCode":"    public void testFlinkConfConfigMap() throws IOException {\n        kubernetesJobManagerSpecification =\n                KubernetesJobManagerFactory.buildKubernetesJobManagerSpecification(\n                        kubernetesJobManagerParameters);\n\n        final ConfigMap resultConfigMap =\n                (ConfigMap)\n                        this.kubernetesJobManagerSpecification.getAccompanyingResources().stream()\n                                .filter(\n                                        x ->\n                                                x instanceof ConfigMap\n                                                        && x.getMetadata()\n                                                                .getName()\n                                                                .equals(\n                                                                        FlinkConfMountDecorator\n                                                                                .getFlinkConfConfigMapName(\n                                                                                        CLUSTER_ID)))\n                                .collect(Collectors.toList())\n                                .get(0);\n\n        assertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n        final Map<String, String> resultDatas = resultConfigMap.getData();\n        assertEquals(3, resultDatas.size());\n        assertEquals(\"some data\", resultDatas.get(CONFIG_FILE_LOG4J_NAME));\n        assertEquals(\"some data\", resultDatas.get(CONFIG_FILE_LOGBACK_NAME));\n        assertTrue(\n                resultDatas\n                        .get(FLINK_CONF_FILENAME)\n                        .contains(\n                                KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS.key()\n                                        + \": \"\n                                        + ENTRY_POINT_CLASS));\n    }\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/factory/KubernetesJobManagerFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":348,"status":"M"},{"authorDate":"2021-02-20 11:30:39","commitOrder":6,"curCode":"    public void testHadoopConfConfigMap() throws IOException {\n        setHadoopConfDirEnv();\n        generateHadoopConfFileItems();\n        kubernetesJobManagerSpecification =\n                KubernetesJobManagerFactory.buildKubernetesJobManagerSpecification(\n                        flinkPod, kubernetesJobManagerParameters);\n\n        final ConfigMap resultConfigMap =\n                (ConfigMap)\n                        kubernetesJobManagerSpecification.getAccompanyingResources().stream()\n                                .filter(\n                                        x ->\n                                                x instanceof ConfigMap\n                                                        && x.getMetadata()\n                                                                .getName()\n                                                                .equals(\n                                                                        HadoopConfMountDecorator\n                                                                                .getHadoopConfConfigMapName(\n                                                                                        CLUSTER_ID)))\n                                .collect(Collectors.toList())\n                                .get(0);\n\n        assertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n        final Map<String, String> resultDatas = resultConfigMap.getData();\n        assertEquals(2, resultDatas.size());\n        assertEquals(\"some data\", resultDatas.get(\"core-site.xml\"));\n        assertEquals(\"some data\", resultDatas.get(\"hdfs-site.xml\"));\n    }\n","date":"2021-03-01 17:38:17","endLine":442,"groupId":"102382","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"testHadoopConfConfigMap","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/25/869c66e5ad22bcac02e10f2d06c3a9aaa83e66.src","preCode":"    public void testHadoopConfConfigMap() throws IOException {\n        setHadoopConfDirEnv();\n        generateHadoopConfFileItems();\n        kubernetesJobManagerSpecification =\n                KubernetesJobManagerFactory.buildKubernetesJobManagerSpecification(\n                        kubernetesJobManagerParameters);\n\n        final ConfigMap resultConfigMap =\n                (ConfigMap)\n                        kubernetesJobManagerSpecification.getAccompanyingResources().stream()\n                                .filter(\n                                        x ->\n                                                x instanceof ConfigMap\n                                                        && x.getMetadata()\n                                                                .getName()\n                                                                .equals(\n                                                                        HadoopConfMountDecorator\n                                                                                .getHadoopConfConfigMapName(\n                                                                                        CLUSTER_ID)))\n                                .collect(Collectors.toList())\n                                .get(0);\n\n        assertEquals(2, resultConfigMap.getMetadata().getLabels().size());\n\n        final Map<String, String> resultDatas = resultConfigMap.getData();\n        assertEquals(2, resultDatas.size());\n        assertEquals(\"some data\", resultDatas.get(\"core-site.xml\"));\n        assertEquals(\"some data\", resultDatas.get(\"hdfs-site.xml\"));\n    }\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/factory/KubernetesJobManagerFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":414,"status":"M"}],"commitId":"4957736f9d00f6a2e7185fcea9965efd5aea9da0","commitMessage":"@@@[FLINK-15656][k8s] Support pod template for native kubernetes integration\n\nBenifit from flexibility of pod template.  we could support init container.  sidecar container.  volume mount.  pod security context.  etc.\n","date":"2021-03-01 17:38:17","modifiedFileCount":"17","status":"M","submitter":"wangyang0918"}]
