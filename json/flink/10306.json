[{"authorTime":"2020-10-10 00:40:21","codes":[{"authorDate":"2020-10-10 00:40:21","commitOrder":1,"curCode":"\tpublic void testStartWithDiscoverPartitionsOnce() throws IOException {\n\t\tMockSplitEnumeratorContext<KafkaPartitionSplit> context = new MockSplitEnumeratorContext<>(NUM_SUBTASKS);\n\t\ttry (KafkaSourceEnumerator enumerator = createEnumerator(context, DISABLE_PERIODIC_PARTITION_DISCOVERY)) {\n\n\t\t\t\r\n\t\t\tenumerator.start();\n\t\t\tassertTrue(context.getPeriodicCallables().isEmpty());\n\t\t\tassertEquals(\"A one time partition discovery callable should have been scheduled\",\n\t\t\t\t\t1, context.getOneTimeCallables().size());\n\t\t}\n\t}\n","date":"2020-11-08 23:07:24","endLine":100,"groupId":"52349","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testStartWithDiscoverPartitionsOnce","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/14/8e9d1ae510196c5a91c3ca43eeeb20e2675d0a.src","preCode":"\tpublic void testStartWithDiscoverPartitionsOnce() throws IOException {\n\t\tMockSplitEnumeratorContext<KafkaPartitionSplit> context = new MockSplitEnumeratorContext<>(NUM_SUBTASKS);\n\t\ttry (KafkaSourceEnumerator enumerator = createEnumerator(context, DISABLE_PERIODIC_PARTITION_DISCOVERY)) {\n\n\t\t\t\r\n\t\t\tenumerator.start();\n\t\t\tassertTrue(context.getPeriodicCallables().isEmpty());\n\t\t\tassertEquals(\"A one time partition discovery callable should have been scheduled\",\n\t\t\t\t\t1, context.getOneTimeCallables().size());\n\t\t}\n\t}\n","realPath":"flink-connectors/flink-connector-kafka/src/test/java/org/apache/flink/connector/kafka/source/enumerator/KafkaEnumeratorTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":90,"status":"B"},{"authorDate":"2020-10-10 00:40:21","commitOrder":1,"curCode":"\tpublic void testStartWithPeriodicPartitionDiscovery() throws IOException {\n\t\tMockSplitEnumeratorContext<KafkaPartitionSplit> context = new MockSplitEnumeratorContext<>(NUM_SUBTASKS);\n\t\ttry (KafkaSourceEnumerator enumerator = createEnumerator(context, ENABLE_PERIODIC_PARTITION_DISCOVERY)) {\n\n\t\t\t\r\n\t\t\tenumerator.start();\n\t\t\tassertTrue(context.getOneTimeCallables().isEmpty());\n\t\t\tassertEquals(\"A periodic partition discovery callable should have been scheduled\",\n\t\t\t\t\t1, context.getPeriodicCallables().size());\n\t\t}\n\t}\n","date":"2020-11-08 23:07:24","endLine":113,"groupId":"52349","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testStartWithPeriodicPartitionDiscovery","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/14/8e9d1ae510196c5a91c3ca43eeeb20e2675d0a.src","preCode":"\tpublic void testStartWithPeriodicPartitionDiscovery() throws IOException {\n\t\tMockSplitEnumeratorContext<KafkaPartitionSplit> context = new MockSplitEnumeratorContext<>(NUM_SUBTASKS);\n\t\ttry (KafkaSourceEnumerator enumerator = createEnumerator(context, ENABLE_PERIODIC_PARTITION_DISCOVERY)) {\n\n\t\t\t\r\n\t\t\tenumerator.start();\n\t\t\tassertTrue(context.getOneTimeCallables().isEmpty());\n\t\t\tassertEquals(\"A periodic partition discovery callable should have been scheduled\",\n\t\t\t\t\t1, context.getPeriodicCallables().size());\n\t\t}\n\t}\n","realPath":"flink-connectors/flink-connector-kafka/src/test/java/org/apache/flink/connector/kafka/source/enumerator/KafkaEnumeratorTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":103,"status":"B"}],"commitId":"80c040fcf3118a52053ffcd00ca4e063e6f52c97","commitMessage":"@@@[FLINK-18323][connector/kafka] Add Kafka Source based on FLIP-27.\n","date":"2020-11-08 23:07:24","modifiedFileCount":"0","status":"B","submitter":"Jiangjie (Becket) Qin"},{"authorTime":"2021-04-08 15:15:27","codes":[{"authorDate":"2021-04-08 15:15:27","commitOrder":2,"curCode":"    public void testStartWithDiscoverPartitionsOnce() {\n        MockSplitEnumeratorContext<KafkaPartitionSplit> context =\n                new MockSplitEnumeratorContext<>(NUM_SUBTASKS);\n        try (KafkaSourceEnumerator enumerator =\n                createEnumerator(context, DISABLE_PERIODIC_PARTITION_DISCOVERY)) {\n\n            \r\n            \r\n            enumerator.start();\n            assertTrue(context.getPeriodicCallables().isEmpty());\n            assertEquals(\n                    \"A one time partition discovery callable should have been scheduled\",\n                    1,\n                    context.getOneTimeCallables().size());\n        }\n    }\n","date":"2021-06-25 13:13:10","endLine":105,"groupId":"52349","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testStartWithDiscoverPartitionsOnce","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/e6/8fb5dda41d14e441eef63adb5fd2acb6ae4307.src","preCode":"    public void testStartWithDiscoverPartitionsOnce() throws IOException {\n        MockSplitEnumeratorContext<KafkaPartitionSplit> context =\n                new MockSplitEnumeratorContext<>(NUM_SUBTASKS);\n        try (KafkaSourceEnumerator enumerator =\n                createEnumerator(context, DISABLE_PERIODIC_PARTITION_DISCOVERY)) {\n\n            \r\n            \r\n            enumerator.start();\n            assertTrue(context.getPeriodicCallables().isEmpty());\n            assertEquals(\n                    \"A one time partition discovery callable should have been scheduled\",\n                    1,\n                    context.getOneTimeCallables().size());\n        }\n    }\n","realPath":"flink-connectors/flink-connector-kafka/src/test/java/org/apache/flink/connector/kafka/source/enumerator/KafkaEnumeratorTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":90,"status":"M"},{"authorDate":"2021-04-08 15:15:27","commitOrder":2,"curCode":"    public void testStartWithPeriodicPartitionDiscovery() {\n        MockSplitEnumeratorContext<KafkaPartitionSplit> context =\n                new MockSplitEnumeratorContext<>(NUM_SUBTASKS);\n        try (KafkaSourceEnumerator enumerator =\n                createEnumerator(context, ENABLE_PERIODIC_PARTITION_DISCOVERY)) {\n\n            \r\n            \r\n            enumerator.start();\n            assertTrue(context.getOneTimeCallables().isEmpty());\n            assertEquals(\n                    \"A periodic partition discovery callable should have been scheduled\",\n                    1,\n                    context.getPeriodicCallables().size());\n        }\n    }\n","date":"2021-06-25 13:13:10","endLine":123,"groupId":"52349","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testStartWithPeriodicPartitionDiscovery","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/e6/8fb5dda41d14e441eef63adb5fd2acb6ae4307.src","preCode":"    public void testStartWithPeriodicPartitionDiscovery() throws IOException {\n        MockSplitEnumeratorContext<KafkaPartitionSplit> context =\n                new MockSplitEnumeratorContext<>(NUM_SUBTASKS);\n        try (KafkaSourceEnumerator enumerator =\n                createEnumerator(context, ENABLE_PERIODIC_PARTITION_DISCOVERY)) {\n\n            \r\n            \r\n            enumerator.start();\n            assertTrue(context.getOneTimeCallables().isEmpty());\n            assertEquals(\n                    \"A periodic partition discovery callable should have been scheduled\",\n                    1,\n                    context.getPeriodicCallables().size());\n        }\n    }\n","realPath":"flink-connectors/flink-connector-kafka/src/test/java/org/apache/flink/connector/kafka/source/enumerator/KafkaEnumeratorTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":108,"status":"M"}],"commitId":"07f27050b18612fe31f7f2ad42516aa75e825701","commitMessage":"@@@[FLINK-22147][connector/kafka] Refactor partition discovery logic in Kafka source enumerator\n","date":"2021-06-25 13:13:10","modifiedFileCount":"8","status":"M","submitter":"Qingsheng Ren"},{"authorTime":"2021-06-23 09:45:21","codes":[{"authorDate":"2021-06-23 09:45:21","commitOrder":3,"curCode":"    public void testStartWithDiscoverPartitionsOnce() throws Exception {\n        try (MockSplitEnumeratorContext<KafkaPartitionSplit> context =\n                        new MockSplitEnumeratorContext<>(NUM_SUBTASKS);\n                KafkaSourceEnumerator enumerator =\n                        createEnumerator(context, DISABLE_PERIODIC_PARTITION_DISCOVERY)) {\n\n            \r\n            \r\n            enumerator.start();\n            assertTrue(context.getPeriodicCallables().isEmpty());\n            assertEquals(\n                    \"A one time partition discovery callable should have been scheduled\",\n                    1,\n                    context.getOneTimeCallables().size());\n        }\n    }\n","date":"2021-06-25 13:13:10","endLine":105,"groupId":"10306","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testStartWithDiscoverPartitionsOnce","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/54/e5e476804ccf322bf212c68cfc707adafba057.src","preCode":"    public void testStartWithDiscoverPartitionsOnce() {\n        MockSplitEnumeratorContext<KafkaPartitionSplit> context =\n                new MockSplitEnumeratorContext<>(NUM_SUBTASKS);\n        try (KafkaSourceEnumerator enumerator =\n                createEnumerator(context, DISABLE_PERIODIC_PARTITION_DISCOVERY)) {\n\n            \r\n            \r\n            enumerator.start();\n            assertTrue(context.getPeriodicCallables().isEmpty());\n            assertEquals(\n                    \"A one time partition discovery callable should have been scheduled\",\n                    1,\n                    context.getOneTimeCallables().size());\n        }\n    }\n","realPath":"flink-connectors/flink-connector-kafka/src/test/java/org/apache/flink/connector/kafka/source/enumerator/KafkaEnumeratorTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":90,"status":"M"},{"authorDate":"2021-06-23 09:45:21","commitOrder":3,"curCode":"    public void testStartWithPeriodicPartitionDiscovery() throws Exception {\n        try (MockSplitEnumeratorContext<KafkaPartitionSplit> context =\n                        new MockSplitEnumeratorContext<>(NUM_SUBTASKS);\n                KafkaSourceEnumerator enumerator =\n                        createEnumerator(context, ENABLE_PERIODIC_PARTITION_DISCOVERY)) {\n\n            \r\n            \r\n            enumerator.start();\n            assertTrue(context.getOneTimeCallables().isEmpty());\n            assertEquals(\n                    \"A periodic partition discovery callable should have been scheduled\",\n                    1,\n                    context.getPeriodicCallables().size());\n        }\n    }\n","date":"2021-06-25 13:13:10","endLine":123,"groupId":"10306","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testStartWithPeriodicPartitionDiscovery","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/54/e5e476804ccf322bf212c68cfc707adafba057.src","preCode":"    public void testStartWithPeriodicPartitionDiscovery() {\n        MockSplitEnumeratorContext<KafkaPartitionSplit> context =\n                new MockSplitEnumeratorContext<>(NUM_SUBTASKS);\n        try (KafkaSourceEnumerator enumerator =\n                createEnumerator(context, ENABLE_PERIODIC_PARTITION_DISCOVERY)) {\n\n            \r\n            \r\n            enumerator.start();\n            assertTrue(context.getOneTimeCallables().isEmpty());\n            assertEquals(\n                    \"A periodic partition discovery callable should have been scheduled\",\n                    1,\n                    context.getPeriodicCallables().size());\n        }\n    }\n","realPath":"flink-connectors/flink-connector-kafka/src/test/java/org/apache/flink/connector/kafka/source/enumerator/KafkaEnumeratorTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":108,"status":"M"}],"commitId":"1418a1ddd025adb3b502b8d7a89d0f338aa40c29","commitMessage":"@@@[hotfix][connector/test] Make MockSplitEnumeratorContext implement AutoClosable and shutdown executors at closing\n","date":"2021-06-25 13:13:10","modifiedFileCount":"3","status":"M","submitter":"Qingsheng Ren"}]
