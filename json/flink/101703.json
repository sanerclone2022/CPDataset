[{"authorTime":"2019-03-13 22:49:01","codes":[{"authorDate":"2019-03-13 22:49:01","commitOrder":1,"curCode":"\tpublic void testStopWithDefaultSavepointDir() throws Exception {\n\t\tJobID jid = new JobID();\n\n\t\tString[] parameters = { \"-s\", jid.toString() };\n\t\tfinal ClusterClient<String> clusterClient = createClusterClient(null);\n\t\tMockedCliFrontend testFrontend = new MockedCliFrontend(clusterClient);\n\t\ttestFrontend.stop(parameters);\n\n\t\tMockito.verify(clusterClient, times(1))\n\t\t\t\t.stopWithSavepoint(eq(jid), eq(false), isNull());\n\t}\n","date":"2019-04-17 20:37:50","endLine":90,"groupId":"44728","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testStopWithDefaultSavepointDir","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/2c/829ccea1c31cc4ac98c19aa8c12850060e6d11.src","preCode":"\tpublic void testStopWithDefaultSavepointDir() throws Exception {\n\t\tJobID jid = new JobID();\n\n\t\tString[] parameters = { \"-s\", jid.toString() };\n\t\tfinal ClusterClient<String> clusterClient = createClusterClient(null);\n\t\tMockedCliFrontend testFrontend = new MockedCliFrontend(clusterClient);\n\t\ttestFrontend.stop(parameters);\n\n\t\tMockito.verify(clusterClient, times(1))\n\t\t\t\t.stopWithSavepoint(eq(jid), eq(false), isNull());\n\t}\n","realPath":"flink-clients/src/test/java/org/apache/flink/client/cli/CliFrontendStopWithSavepointTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":80,"status":"B"},{"authorDate":"2019-03-13 22:49:01","commitOrder":1,"curCode":"\tpublic void testStopWithExplicitSavepointDir() throws Exception {\n\t\tJobID jid = new JobID();\n\n\t\tString[] parameters = { \"-s\", \"test-target-dir\", jid.toString() };\n\t\tfinal ClusterClient<String> clusterClient = createClusterClient(null);\n\t\tMockedCliFrontend testFrontend = new MockedCliFrontend(clusterClient);\n\t\ttestFrontend.stop(parameters);\n\n\t\tMockito.verify(clusterClient, times(1))\n\t\t\t\t.stopWithSavepoint(eq(jid), eq(false), eq(\"test-target-dir\"));\n\t}\n","date":"2019-04-17 20:37:50","endLine":103,"groupId":"44728","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testStopWithExplicitSavepointDir","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/2c/829ccea1c31cc4ac98c19aa8c12850060e6d11.src","preCode":"\tpublic void testStopWithExplicitSavepointDir() throws Exception {\n\t\tJobID jid = new JobID();\n\n\t\tString[] parameters = { \"-s\", \"test-target-dir\", jid.toString() };\n\t\tfinal ClusterClient<String> clusterClient = createClusterClient(null);\n\t\tMockedCliFrontend testFrontend = new MockedCliFrontend(clusterClient);\n\t\ttestFrontend.stop(parameters);\n\n\t\tMockito.verify(clusterClient, times(1))\n\t\t\t\t.stopWithSavepoint(eq(jid), eq(false), eq(\"test-target-dir\"));\n\t}\n","realPath":"flink-clients/src/test/java/org/apache/flink/client/cli/CliFrontendStopWithSavepointTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":93,"status":"B"}],"commitId":"c28c6e818c9447b689bb89fe65180bbd0b4c0c8f","commitMessage":"@@@[FLINK-11670][FLINK-11671][rest][cli] Expose Suspend/Drain via REST and CLI.\n","date":"2019-04-17 20:37:50","modifiedFileCount":"14","status":"B","submitter":"Kostas Kloudas"},{"authorTime":"2019-07-10 16:59:57","codes":[{"authorDate":"2019-07-10 16:59:57","commitOrder":2,"curCode":"\tpublic void testStopWithDefaultSavepointDir() throws Exception {\n\t\tJobID jid = new JobID();\n\n\t\tString[] parameters = {jid.toString() };\n\t\tfinal ClusterClient<String> clusterClient = createClusterClient(null);\n\t\tMockedCliFrontend testFrontend = new MockedCliFrontend(clusterClient);\n\t\ttestFrontend.stop(parameters);\n\n\t\tMockito.verify(clusterClient, times(1))\n\t\t\t\t.stopWithSavepoint(eq(jid), eq(false), isNull());\n\t}\n","date":"2019-07-11 20:00:04","endLine":90,"groupId":"44728","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testStopWithDefaultSavepointDir","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/19/872aaf88ed7c02affbc7c26b8cfdcb6914487c.src","preCode":"\tpublic void testStopWithDefaultSavepointDir() throws Exception {\n\t\tJobID jid = new JobID();\n\n\t\tString[] parameters = { \"-s\", jid.toString() };\n\t\tfinal ClusterClient<String> clusterClient = createClusterClient(null);\n\t\tMockedCliFrontend testFrontend = new MockedCliFrontend(clusterClient);\n\t\ttestFrontend.stop(parameters);\n\n\t\tMockito.verify(clusterClient, times(1))\n\t\t\t\t.stopWithSavepoint(eq(jid), eq(false), isNull());\n\t}\n","realPath":"flink-clients/src/test/java/org/apache/flink/client/cli/CliFrontendStopWithSavepointTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":80,"status":"M"},{"authorDate":"2019-07-10 16:59:57","commitOrder":2,"curCode":"\tpublic void testStopWithExplicitSavepointDir() throws Exception {\n\t\tJobID jid = new JobID();\n\n\t\tString[] parameters = { \"-p\", \"test-target-dir\", jid.toString() };\n\t\tfinal ClusterClient<String> clusterClient = createClusterClient(null);\n\t\tMockedCliFrontend testFrontend = new MockedCliFrontend(clusterClient);\n\t\ttestFrontend.stop(parameters);\n\n\t\tMockito.verify(clusterClient, times(1))\n\t\t\t\t.stopWithSavepoint(eq(jid), eq(false), eq(\"test-target-dir\"));\n\t}\n","date":"2019-07-11 20:00:04","endLine":103,"groupId":"44728","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testStopWithExplicitSavepointDir","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/19/872aaf88ed7c02affbc7c26b8cfdcb6914487c.src","preCode":"\tpublic void testStopWithExplicitSavepointDir() throws Exception {\n\t\tJobID jid = new JobID();\n\n\t\tString[] parameters = { \"-s\", \"test-target-dir\", jid.toString() };\n\t\tfinal ClusterClient<String> clusterClient = createClusterClient(null);\n\t\tMockedCliFrontend testFrontend = new MockedCliFrontend(clusterClient);\n\t\ttestFrontend.stop(parameters);\n\n\t\tMockito.verify(clusterClient, times(1))\n\t\t\t\t.stopWithSavepoint(eq(jid), eq(false), eq(\"test-target-dir\"));\n\t}\n","realPath":"flink-clients/src/test/java/org/apache/flink/client/cli/CliFrontendStopWithSavepointTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":93,"status":"M"}],"commitId":"150bccac338265953f5684210d47b01037341007","commitMessage":"@@@[FLINK-13123] [cli] rename \"-s\" parameter of stop command\n","date":"2019-07-11 20:00:04","modifiedFileCount":"3","status":"M","submitter":"Konstantin Knauf"},{"authorTime":"2019-11-08 10:23:59","codes":[{"authorDate":"2019-11-08 10:23:59","commitOrder":3,"curCode":"\tpublic void testStopWithDefaultSavepointDir() throws Exception {\n\t\tJobID jid = new JobID();\n\n\t\tString[] parameters = {jid.toString() };\n\t\tOneShotLatch stopWithSavepointLatch = new OneShotLatch();\n\t\tTestingClusterClient<String> clusterClient = new TestingClusterClient<>();\n\t\tclusterClient.setStopWithSavepointFunction((jobID, advanceToEndOfEventTime, savepointDirectory) -> {\n\t\t\tassertThat(jobID, is(jid));\n\t\t\tassertThat(advanceToEndOfEventTime, is(false));\n\t\t\tassertNull(savepointDirectory);\n\t\t\tstopWithSavepointLatch.trigger();\n\t\t\treturn CompletableFuture.completedFuture(savepointDirectory);\n\t\t});\n\t\tMockedCliFrontend testFrontend = new MockedCliFrontend(clusterClient);\n\t\ttestFrontend.stop(parameters);\n\n\t\tstopWithSavepointLatch.await();\n\t}\n","date":"2019-11-08 10:23:59","endLine":99,"groupId":"101703","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testStopWithDefaultSavepointDir","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/4a/b07d033a08e1b49af3a01ed33ae32b2ab075f2.src","preCode":"\tpublic void testStopWithDefaultSavepointDir() throws Exception {\n\t\tJobID jid = new JobID();\n\n\t\tString[] parameters = {jid.toString() };\n\t\tfinal ClusterClient<String> clusterClient = createClusterClient(null);\n\t\tMockedCliFrontend testFrontend = new MockedCliFrontend(clusterClient);\n\t\ttestFrontend.stop(parameters);\n\n\t\tMockito.verify(clusterClient, times(1))\n\t\t\t\t.stopWithSavepoint(eq(jid), eq(false), isNull());\n\t}\n","realPath":"flink-clients/src/test/java/org/apache/flink/client/cli/CliFrontendStopWithSavepointTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":82,"status":"M"},{"authorDate":"2019-11-08 10:23:59","commitOrder":3,"curCode":"\tpublic void testStopWithExplicitSavepointDir() throws Exception {\n\t\tJobID jid = new JobID();\n\n\t\tString[] parameters = { \"-p\", \"test-target-dir\", jid.toString() };\n\t\tOneShotLatch stopWithSavepointLatch = new OneShotLatch();\n\t\tTestingClusterClient<String> clusterClient = new TestingClusterClient<>();\n\t\tclusterClient.setStopWithSavepointFunction((jobID, advanceToEndOfEventTime, savepointDirectory) -> {\n\t\t\tassertThat(jobID, is(jid));\n\t\t\tassertThat(advanceToEndOfEventTime, is(false));\n\t\t\tassertThat(savepointDirectory, is(\"test-target-dir\"));\n\t\t\tstopWithSavepointLatch.trigger();\n\t\t\treturn CompletableFuture.completedFuture(savepointDirectory);\n\t\t});\n\t\tMockedCliFrontend testFrontend = new MockedCliFrontend(clusterClient);\n\t\ttestFrontend.stop(parameters);\n\t\tstopWithSavepointLatch.await();\n\t}\n","date":"2019-11-08 10:23:59","endLine":118,"groupId":"101703","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testStopWithExplicitSavepointDir","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/4a/b07d033a08e1b49af3a01ed33ae32b2ab075f2.src","preCode":"\tpublic void testStopWithExplicitSavepointDir() throws Exception {\n\t\tJobID jid = new JobID();\n\n\t\tString[] parameters = { \"-p\", \"test-target-dir\", jid.toString() };\n\t\tfinal ClusterClient<String> clusterClient = createClusterClient(null);\n\t\tMockedCliFrontend testFrontend = new MockedCliFrontend(clusterClient);\n\t\ttestFrontend.stop(parameters);\n\n\t\tMockito.verify(clusterClient, times(1))\n\t\t\t\t.stopWithSavepoint(eq(jid), eq(false), eq(\"test-target-dir\"));\n\t}\n","realPath":"flink-clients/src/test/java/org/apache/flink/client/cli/CliFrontendStopWithSavepointTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":102,"status":"M"}],"commitId":"d938c19480c220344827271ff8da729cd91735b3","commitMessage":"@@@[FLINK-14593][client] Port ClusterClient to asynchronous interface version\n\nThis closes #10069 .\n","date":"2019-11-08 10:23:59","modifiedFileCount":"27","status":"M","submitter":"tison"}]
