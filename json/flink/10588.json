[{"authorTime":"2020-10-30 19:01:44","codes":[{"authorDate":"2021-03-25 16:33:22","commitOrder":2,"curCode":"    public void testInterruptedErrorThrownToConsumer() throws Exception {\n        thrown.expect(FanOutShardSubscriber.FanOutSubscriberInterruptedException.class);\n\n        SdkInterruptedException error = new SdkInterruptedException(null);\n        SubscriptionErrorKinesisV2 errorKinesisV2 =\n                FakeKinesisFanOutBehavioursFactory.errorDuringSubscription(error);\n\n        FanOutShardSubscriber subscriber =\n                new FanOutShardSubscriber(\"consumerArn\", \"shardId\", errorKinesisV2);\n\n        software.amazon.awssdk.services.kinesis.model.StartingPosition startingPosition =\n                software.amazon.awssdk.services.kinesis.model.StartingPosition.builder().build();\n        subscriber.subscribeToShardAndConsumeRecords(startingPosition, event -> {});\n    }\n","date":"2021-03-25 21:51:33","endLine":83,"groupId":"23514","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testInterruptedErrorThrownToConsumer","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/00/61cdc80d8322c0ee896a8cbaff20a6ab65f97a.src","preCode":"    public void testInterruptedErrorThrownToConsumer() throws Exception {\n        thrown.expect(FanOutShardSubscriber.FanOutSubscriberInterruptedException.class);\n\n        SdkInterruptedException error = new SdkInterruptedException(null);\n        SubscriptionErrorKinesisV2 errorKinesisV2 =\n                FakeKinesisFanOutBehavioursFactory.errorDuringSubscription(error);\n\n        FanOutShardSubscriber subscriber =\n                new FanOutShardSubscriber(\"consumerArn\", \"shardId\", errorKinesisV2);\n\n        software.amazon.awssdk.services.kinesis.model.StartingPosition startingPosition =\n                software.amazon.awssdk.services.kinesis.model.StartingPosition.builder().build();\n        subscriber.subscribeToShardAndConsumeRecords(startingPosition, event -> {});\n    }\n","realPath":"flink-connectors/flink-connector-kinesis/src/test/java/org/apache/flink/streaming/connectors/kinesis/internals/publisher/fanout/FanOutShardSubscriberTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":70,"status":"B"},{"authorDate":"2020-10-30 19:01:44","commitOrder":2,"curCode":"\tpublic void testMultipleErrorsThrownPassesFirstErrorToConsumer() throws Exception {\n\t\tthrown.expect(FanOutShardSubscriber.FanOutSubscriberException.class);\n\t\tthrown.expectMessage(\"Error 1!\");\n\n\t\tRuntimeException error1 = new RuntimeException(\"Error 1!\");\n\t\tRuntimeException error2 = new RuntimeException(\"Error 2!\");\n\t\tSubscriptionErrorKinesisV2 errorKinesisV2 = FakeKinesisFanOutBehavioursFactory.errorDuringSubscription(error1, error2);\n\n\t\tFanOutShardSubscriber subscriber = new FanOutShardSubscriber(\"consumerArn\", \"shardId\", errorKinesisV2);\n\n\t\tStartingPosition startingPosition = StartingPosition.builder().build();\n\t\tsubscriber.subscribeToShardAndConsumeRecords(startingPosition, event -> { });\n\t}\n","date":"2020-11-04 18:40:44","endLine":79,"groupId":"37744","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testMultipleErrorsThrownPassesFirstErrorToConsumer","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/37/97a8344bba36c75ba6605ffe4a71a95ae19620.src","preCode":"\tpublic void testMultipleErrorsThrownPassesFirstErrorToConsumer() throws Exception {\n\t\tthrown.expect(FanOutShardSubscriber.FanOutSubscriberException.class);\n\t\tthrown.expectMessage(\"Error 1!\");\n\n\t\tRuntimeException error1 = new RuntimeException(\"Error 1!\");\n\t\tRuntimeException error2 = new RuntimeException(\"Error 2!\");\n\t\tSubscriptionErrorKinesisV2 errorKinesisV2 = FakeKinesisFanOutBehavioursFactory.errorDuringSubscription(error1, error2);\n\n\t\tFanOutShardSubscriber subscriber = new FanOutShardSubscriber(\"consumerArn\", \"shardId\", errorKinesisV2);\n\n\t\tStartingPosition startingPosition = StartingPosition.builder().build();\n\t\tsubscriber.subscribeToShardAndConsumeRecords(startingPosition, event -> { });\n\t}\n","realPath":"flink-connectors/flink-connector-kinesis/src/test/java/org/apache/flink/streaming/connectors/kinesis/internals/publisher/fanout/FanOutShardSubscriberTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":67,"status":"NB"}],"commitId":"888551ef0a41f8d2b53d2e92e1b1f9705cc2493f","commitMessage":"@@@[FLINK-21933][kinesis] EFO consumer treats interrupts as retryable exceptions (#15347)\n\n","date":"2021-03-25 21:51:33","modifiedFileCount":"10","status":"M","submitter":"Danny Cranmer"},{"authorTime":"2021-04-26 22:22:19","codes":[{"authorDate":"2021-04-26 22:22:19","commitOrder":3,"curCode":"    public void testInterruptedErrorThrownToConsumer() throws Exception {\n        thrown.expect(FanOutShardSubscriber.FanOutSubscriberInterruptedException.class);\n\n        SdkInterruptedException error = new SdkInterruptedException(null);\n        SubscriptionErrorKinesisV2 errorKinesisV2 =\n                FakeKinesisFanOutBehavioursFactory.errorDuringSubscription(error);\n\n        FanOutShardSubscriber subscriber =\n                new FanOutShardSubscriber(\n                        \"consumerArn\",\n                        \"shardId\",\n                        errorKinesisV2,\n                        DEFAULT_SUBSCRIBE_TO_SHARD_TIMEOUT);\n\n        software.amazon.awssdk.services.kinesis.model.StartingPosition startingPosition =\n                software.amazon.awssdk.services.kinesis.model.StartingPosition.builder().build();\n        subscriber.subscribeToShardAndConsumeRecords(startingPosition, event -> {});\n    }\n","date":"2021-04-28 23:05:04","endLine":100,"groupId":"10588","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testInterruptedErrorThrownToConsumer","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/c5/962df49a62a813835b01d4f168dd7fed7a989e.src","preCode":"    public void testInterruptedErrorThrownToConsumer() throws Exception {\n        thrown.expect(FanOutShardSubscriber.FanOutSubscriberInterruptedException.class);\n\n        SdkInterruptedException error = new SdkInterruptedException(null);\n        SubscriptionErrorKinesisV2 errorKinesisV2 =\n                FakeKinesisFanOutBehavioursFactory.errorDuringSubscription(error);\n\n        FanOutShardSubscriber subscriber =\n                new FanOutShardSubscriber(\"consumerArn\", \"shardId\", errorKinesisV2);\n\n        software.amazon.awssdk.services.kinesis.model.StartingPosition startingPosition =\n                software.amazon.awssdk.services.kinesis.model.StartingPosition.builder().build();\n        subscriber.subscribeToShardAndConsumeRecords(startingPosition, event -> {});\n    }\n","realPath":"flink-connectors/flink-connector-kinesis/src/test/java/org/apache/flink/streaming/connectors/kinesis/internals/publisher/fanout/FanOutShardSubscriberTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":83,"status":"M"},{"authorDate":"2021-04-26 22:22:19","commitOrder":3,"curCode":"    public void testMultipleErrorsThrownPassesFirstErrorToConsumer() throws Exception {\n        thrown.expect(FanOutShardSubscriber.FanOutSubscriberException.class);\n        thrown.expectMessage(\"Error 1!\");\n\n        RuntimeException error1 = new RuntimeException(\"Error 1!\");\n        RuntimeException error2 = new RuntimeException(\"Error 2!\");\n        SubscriptionErrorKinesisV2 errorKinesisV2 =\n                FakeKinesisFanOutBehavioursFactory.errorDuringSubscription(error1, error2);\n\n        FanOutShardSubscriber subscriber =\n                new FanOutShardSubscriber(\n                        \"consumerArn\",\n                        \"shardId\",\n                        errorKinesisV2,\n                        DEFAULT_SUBSCRIBE_TO_SHARD_TIMEOUT);\n\n        StartingPosition startingPosition = StartingPosition.builder().build();\n        subscriber.subscribeToShardAndConsumeRecords(startingPosition, event -> {});\n    }\n","date":"2021-04-28 23:05:04","endLine":121,"groupId":"10588","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testMultipleErrorsThrownPassesFirstErrorToConsumer","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/c5/962df49a62a813835b01d4f168dd7fed7a989e.src","preCode":"    public void testMultipleErrorsThrownPassesFirstErrorToConsumer() throws Exception {\n        thrown.expect(FanOutShardSubscriber.FanOutSubscriberException.class);\n        thrown.expectMessage(\"Error 1!\");\n\n        RuntimeException error1 = new RuntimeException(\"Error 1!\");\n        RuntimeException error2 = new RuntimeException(\"Error 2!\");\n        SubscriptionErrorKinesisV2 errorKinesisV2 =\n                FakeKinesisFanOutBehavioursFactory.errorDuringSubscription(error1, error2);\n\n        FanOutShardSubscriber subscriber =\n                new FanOutShardSubscriber(\"consumerArn\", \"shardId\", errorKinesisV2);\n\n        StartingPosition startingPosition = StartingPosition.builder().build();\n        subscriber.subscribeToShardAndConsumeRecords(startingPosition, event -> {});\n    }\n","realPath":"flink-connectors/flink-connector-kinesis/src/test/java/org/apache/flink/streaming/connectors/kinesis/internals/publisher/fanout/FanOutShardSubscriberTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":103,"status":"M"}],"commitId":"11f5abc41057cf119548cb03dfcc97d755e0029a","commitMessage":"@@@[FLINK-22479[Kinesis][Consumer] Potential lock-up under error condition\n","date":"2021-04-28 23:05:04","modifiedFileCount":"10","status":"M","submitter":"Danny Cranmer"}]
