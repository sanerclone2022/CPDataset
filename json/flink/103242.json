[{"authorTime":"2017-01-13 19:09:58","codes":[{"authorDate":"2017-01-13 19:09:58","commitOrder":1,"curCode":"\tpublic void testSnapshotAndRestoreWrappedCheckpointedFunction() throws Exception {\n\n\t\tStreamMap<Integer, Integer> operator = new StreamMap<>(\n\t\t\t\tnew WrappingTestFun(new WrappingTestFun(new InnerTestFun())));\n\n\t\tOneInputStreamOperatorTestHarness<Integer, Integer> testHarness =\n\t\t\t\tnew OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.open();\n\n\t\ttestHarness.processElement(new StreamRecord<>(5, 12L));\n\n\t\t\r\n\t\tOperatorStateHandles snapshot = testHarness.snapshot(0, 0);\n\n\t\ttestHarness.close();\n\n\t\tInnerTestFun innerTestFun = new InnerTestFun();\n\t\toperator = new StreamMap<>(new WrappingTestFun(new WrappingTestFun(innerTestFun)));\n\n\t\ttestHarness = new OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.initializeState(snapshot);\n\t\ttestHarness.open();\n\n\t\tAssert.assertTrue(innerTestFun.wasRestored);\n\t\ttestHarness.close();\n\t}\n","date":"2017-01-14 05:47:25","endLine":72,"groupId":"45460","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testSnapshotAndRestoreWrappedCheckpointedFunction","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/b1/689f988d1f22abc2262c5432ab5ec3a8dbfd00.src","preCode":"\tpublic void testSnapshotAndRestoreWrappedCheckpointedFunction() throws Exception {\n\n\t\tStreamMap<Integer, Integer> operator = new StreamMap<>(\n\t\t\t\tnew WrappingTestFun(new WrappingTestFun(new InnerTestFun())));\n\n\t\tOneInputStreamOperatorTestHarness<Integer, Integer> testHarness =\n\t\t\t\tnew OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.open();\n\n\t\ttestHarness.processElement(new StreamRecord<>(5, 12L));\n\n\t\t\r\n\t\tOperatorStateHandles snapshot = testHarness.snapshot(0, 0);\n\n\t\ttestHarness.close();\n\n\t\tInnerTestFun innerTestFun = new InnerTestFun();\n\t\toperator = new StreamMap<>(new WrappingTestFun(new WrappingTestFun(innerTestFun)));\n\n\t\ttestHarness = new OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.initializeState(snapshot);\n\t\ttestHarness.open();\n\n\t\tAssert.assertTrue(innerTestFun.wasRestored);\n\t\ttestHarness.close();\n\t}\n","realPath":"flink-streaming-java/src/test/java/org/apache/flink/streaming/api/operators/WrappingFunctionSnapshotRestoreTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":43,"status":"B"},{"authorDate":"2017-01-13 19:09:58","commitOrder":1,"curCode":"\tpublic void testSnapshotAndRestoreWrappedListCheckpointed() throws Exception {\n\n\t\tStreamMap<Integer, Integer> operator = new StreamMap<>(\n\t\t\t\tnew WrappingTestFun(new WrappingTestFun(new InnerTestFunList())));\n\n\t\tOneInputStreamOperatorTestHarness<Integer, Integer> testHarness =\n\t\t\t\tnew OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.open();\n\n\t\ttestHarness.processElement(new StreamRecord<>(5, 12L));\n\n\t\t\r\n\t\tOperatorStateHandles snapshot = testHarness.snapshot(0, 0);\n\n\t\ttestHarness.close();\n\n\t\tInnerTestFunList innerTestFun = new InnerTestFunList();\n\t\toperator = new StreamMap<>(new WrappingTestFun(new WrappingTestFun(innerTestFun)));\n\n\t\ttestHarness = new OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.initializeState(snapshot);\n\t\ttestHarness.open();\n\n\t\tAssert.assertTrue(innerTestFun.wasRestored);\n\t\ttestHarness.close();\n\t}\n","date":"2017-01-14 05:47:25","endLine":104,"groupId":"45459","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testSnapshotAndRestoreWrappedListCheckpointed","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/b1/689f988d1f22abc2262c5432ab5ec3a8dbfd00.src","preCode":"\tpublic void testSnapshotAndRestoreWrappedListCheckpointed() throws Exception {\n\n\t\tStreamMap<Integer, Integer> operator = new StreamMap<>(\n\t\t\t\tnew WrappingTestFun(new WrappingTestFun(new InnerTestFunList())));\n\n\t\tOneInputStreamOperatorTestHarness<Integer, Integer> testHarness =\n\t\t\t\tnew OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.open();\n\n\t\ttestHarness.processElement(new StreamRecord<>(5, 12L));\n\n\t\t\r\n\t\tOperatorStateHandles snapshot = testHarness.snapshot(0, 0);\n\n\t\ttestHarness.close();\n\n\t\tInnerTestFunList innerTestFun = new InnerTestFunList();\n\t\toperator = new StreamMap<>(new WrappingTestFun(new WrappingTestFun(innerTestFun)));\n\n\t\ttestHarness = new OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.initializeState(snapshot);\n\t\ttestHarness.open();\n\n\t\tAssert.assertTrue(innerTestFun.wasRestored);\n\t\ttestHarness.close();\n\t}\n","realPath":"flink-streaming-java/src/test/java/org/apache/flink/streaming/api/operators/WrappingFunctionSnapshotRestoreTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":75,"status":"B"}],"commitId":"8492d9b7b92674db309f177e48782b11d9d1be5a","commitMessage":"@@@[FLINK-5250] Make AbstractUdfStreamOperator aware of WrappingFunction\n","date":"2017-01-14 05:47:25","modifiedFileCount":"8","status":"B","submitter":"Stefan Richter"},{"authorTime":"2018-02-23 17:36:09","codes":[{"authorDate":"2018-02-23 17:36:09","commitOrder":2,"curCode":"\tpublic void testSnapshotAndRestoreWrappedCheckpointedFunction() throws Exception {\n\n\t\tStreamMap<Integer, Integer> operator = new StreamMap<>(\n\t\t\t\tnew WrappingTestFun(new WrappingTestFun(new InnerTestFun())));\n\n\t\tOneInputStreamOperatorTestHarness<Integer, Integer> testHarness =\n\t\t\t\tnew OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.open();\n\n\t\ttestHarness.processElement(new StreamRecord<>(5, 12L));\n\n\t\t\r\n\t\tOperatorSubtaskState snapshot = testHarness.snapshot(0, 0);\n\n\t\ttestHarness.close();\n\n\t\tInnerTestFun innerTestFun = new InnerTestFun();\n\t\toperator = new StreamMap<>(new WrappingTestFun(new WrappingTestFun(innerTestFun)));\n\n\t\ttestHarness = new OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.initializeState(snapshot);\n\t\ttestHarness.open();\n\n\t\tAssert.assertTrue(innerTestFun.wasRestored);\n\t\ttestHarness.close();\n\t}\n","date":"2018-02-25 22:10:28","endLine":77,"groupId":"103242","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testSnapshotAndRestoreWrappedCheckpointedFunction","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/41/bb00c3470caf09540d85794b1000bdf3e7ee57.src","preCode":"\tpublic void testSnapshotAndRestoreWrappedCheckpointedFunction() throws Exception {\n\n\t\tStreamMap<Integer, Integer> operator = new StreamMap<>(\n\t\t\t\tnew WrappingTestFun(new WrappingTestFun(new InnerTestFun())));\n\n\t\tOneInputStreamOperatorTestHarness<Integer, Integer> testHarness =\n\t\t\t\tnew OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.open();\n\n\t\ttestHarness.processElement(new StreamRecord<>(5, 12L));\n\n\t\t\r\n\t\tOperatorStateHandles snapshot = testHarness.snapshot(0, 0);\n\n\t\ttestHarness.close();\n\n\t\tInnerTestFun innerTestFun = new InnerTestFun();\n\t\toperator = new StreamMap<>(new WrappingTestFun(new WrappingTestFun(innerTestFun)));\n\n\t\ttestHarness = new OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.initializeState(snapshot);\n\t\ttestHarness.open();\n\n\t\tAssert.assertTrue(innerTestFun.wasRestored);\n\t\ttestHarness.close();\n\t}\n","realPath":"flink-streaming-java/src/test/java/org/apache/flink/streaming/api/operators/WrappingFunctionSnapshotRestoreTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":48,"status":"M"},{"authorDate":"2018-02-23 17:36:09","commitOrder":2,"curCode":"\tpublic void testSnapshotAndRestoreWrappedListCheckpointed() throws Exception {\n\n\t\tStreamMap<Integer, Integer> operator = new StreamMap<>(\n\t\t\t\tnew WrappingTestFun(new WrappingTestFun(new InnerTestFunList())));\n\n\t\tOneInputStreamOperatorTestHarness<Integer, Integer> testHarness =\n\t\t\t\tnew OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.open();\n\n\t\ttestHarness.processElement(new StreamRecord<>(5, 12L));\n\n\t\t\r\n\t\tOperatorSubtaskState snapshot = testHarness.snapshot(0, 0);\n\n\t\ttestHarness.close();\n\n\t\tInnerTestFunList innerTestFun = new InnerTestFunList();\n\t\toperator = new StreamMap<>(new WrappingTestFun(new WrappingTestFun(innerTestFun)));\n\n\t\ttestHarness = new OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.initializeState(snapshot);\n\t\ttestHarness.open();\n\n\t\tAssert.assertTrue(innerTestFun.wasRestored);\n\t\ttestHarness.close();\n\t}\n","date":"2018-02-25 22:10:28","endLine":109,"groupId":"103242","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testSnapshotAndRestoreWrappedListCheckpointed","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/41/bb00c3470caf09540d85794b1000bdf3e7ee57.src","preCode":"\tpublic void testSnapshotAndRestoreWrappedListCheckpointed() throws Exception {\n\n\t\tStreamMap<Integer, Integer> operator = new StreamMap<>(\n\t\t\t\tnew WrappingTestFun(new WrappingTestFun(new InnerTestFunList())));\n\n\t\tOneInputStreamOperatorTestHarness<Integer, Integer> testHarness =\n\t\t\t\tnew OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.open();\n\n\t\ttestHarness.processElement(new StreamRecord<>(5, 12L));\n\n\t\t\r\n\t\tOperatorStateHandles snapshot = testHarness.snapshot(0, 0);\n\n\t\ttestHarness.close();\n\n\t\tInnerTestFunList innerTestFun = new InnerTestFunList();\n\t\toperator = new StreamMap<>(new WrappingTestFun(new WrappingTestFun(innerTestFun)));\n\n\t\ttestHarness = new OneInputStreamOperatorTestHarness<>(operator);\n\n\t\ttestHarness.setup();\n\t\ttestHarness.initializeState(snapshot);\n\t\ttestHarness.open();\n\n\t\tAssert.assertTrue(innerTestFun.wasRestored);\n\t\ttestHarness.close();\n\t}\n","realPath":"flink-streaming-java/src/test/java/org/apache/flink/streaming/api/operators/WrappingFunctionSnapshotRestoreTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":80,"status":"M"}],"commitId":"617e67c2f540b62b97ca5198b6a5c42b89b6f392","commitMessage":"@@@[hotfix] Remove outdated class OperatorStateHandles and replace it with OperatorSubtaskState\n","date":"2018-02-25 22:10:28","modifiedFileCount":"34","status":"M","submitter":"Stefan Richter"}]
