[{"authorTime":"2017-08-22 01:55:57","codes":[{"authorDate":"2017-08-22 01:55:57","commitOrder":1,"curCode":"\tpublic void testCloseWithNeedsTaskCommitTrue() throws Exception {\n\n\t\tRecordWriter<String, Long> recordWriter = Mockito.mock(DummyRecordWriter.class);\n\t\tOutputCommitter outputCommitter = setupOutputCommitter(true);\n\n\t\tHadoopOutputFormat<String, Long> hadoopOutputFormat = setupHadoopOutputFormat(new DummyOutputFormat(),\n\t\t\tJob.getInstance(), recordWriter, outputCommitter, new Configuration());\n\n\t\thadoopOutputFormat.close();\n\n\t\tverify(outputCommitter, times(1)).commitTask(any(TaskAttemptContext.class));\n\t\tverify(recordWriter, times(1)).close(any(TaskAttemptContext.class));\n\t}\n","date":"2017-09-27 16:05:11","endLine":94,"groupId":"38197","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testCloseWithNeedsTaskCommitTrue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/8e/2329a1d8fe7882a9977cfee9d2d3cbab62a8bc.src","preCode":"\tpublic void testCloseWithNeedsTaskCommitTrue() throws Exception {\n\n\t\tRecordWriter<String, Long> recordWriter = Mockito.mock(DummyRecordWriter.class);\n\t\tOutputCommitter outputCommitter = setupOutputCommitter(true);\n\n\t\tHadoopOutputFormat<String, Long> hadoopOutputFormat = setupHadoopOutputFormat(new DummyOutputFormat(),\n\t\t\tJob.getInstance(), recordWriter, outputCommitter, new Configuration());\n\n\t\thadoopOutputFormat.close();\n\n\t\tverify(outputCommitter, times(1)).commitTask(any(TaskAttemptContext.class));\n\t\tverify(recordWriter, times(1)).close(any(TaskAttemptContext.class));\n\t}\n","realPath":"flink-connectors/flink-hadoop-compatibility/src/test/java/org/apache/flink/api/java/hadoop/mapreduce/HadoopOutputFormatTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":82,"status":"B"},{"authorDate":"2017-08-22 01:55:57","commitOrder":1,"curCode":"\tpublic void testCloseWithNeedsTaskCommitFalse() throws Exception {\n\n\t\tRecordWriter<String, Long> recordWriter = Mockito.mock(DummyRecordWriter.class);\n\t\tOutputCommitter outputCommitter = setupOutputCommitter(false);\n\n\t\tHadoopOutputFormat<String, Long> hadoopOutputFormat = setupHadoopOutputFormat(new DummyOutputFormat(),\n\t\t\tJob.getInstance(), recordWriter, outputCommitter, new Configuration());\n\n\t\thadoopOutputFormat.close();\n\n\t\tverify(outputCommitter, times(0)).commitTask(any(TaskAttemptContext.class));\n\t\tverify(recordWriter, times(1)).close(any(TaskAttemptContext.class));\n\t}\n","date":"2017-09-27 16:05:11","endLine":109,"groupId":"38197","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testCloseWithNeedsTaskCommitFalse","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/8e/2329a1d8fe7882a9977cfee9d2d3cbab62a8bc.src","preCode":"\tpublic void testCloseWithNeedsTaskCommitFalse() throws Exception {\n\n\t\tRecordWriter<String, Long> recordWriter = Mockito.mock(DummyRecordWriter.class);\n\t\tOutputCommitter outputCommitter = setupOutputCommitter(false);\n\n\t\tHadoopOutputFormat<String, Long> hadoopOutputFormat = setupHadoopOutputFormat(new DummyOutputFormat(),\n\t\t\tJob.getInstance(), recordWriter, outputCommitter, new Configuration());\n\n\t\thadoopOutputFormat.close();\n\n\t\tverify(outputCommitter, times(0)).commitTask(any(TaskAttemptContext.class));\n\t\tverify(recordWriter, times(1)).close(any(TaskAttemptContext.class));\n\t}\n","realPath":"flink-connectors/flink-hadoop-compatibility/src/test/java/org/apache/flink/api/java/hadoop/mapreduce/HadoopOutputFormatTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":97,"status":"B"}],"commitId":"4beff13e07625d8b24119ea15d828481a4bb30d7","commitMessage":"@@@[FLINK-4048] Remove Hadoop from DataSet API\n\nThis removes all Hadoop-related methods from ExecutionEnvironment (there\nare already equivalent methods in flink-hadoop-compatibility (see\nHadoopUtils and HadoopInputs.  etc.). This also removes Hadoop-specific\ntests from flink-tests because these are duplicated by tests in\nflink-hadoop-compatibility.\n\nThis also removes Hadoop-specic example code from flink-examples: the\nDistCp example and related code.\n","date":"2017-09-27 16:05:11","modifiedFileCount":"1","status":"B","submitter":"Aljoscha Krettek"},{"authorTime":"2018-10-08 19:39:20","codes":[{"authorDate":"2018-10-08 19:39:20","commitOrder":2,"curCode":"\tpublic void testCloseWithNeedsTaskCommitTrue() throws Exception {\n\n\t\tRecordWriter<String, Long> recordWriter = Mockito.mock(DummyRecordWriter.class);\n\t\tOutputCommitter outputCommitter = setupOutputCommitter(true);\n\n\t\tHadoopOutputFormat<String, Long> hadoopOutputFormat = setupHadoopOutputFormat(new DummyOutputFormat(),\n\t\t\tJob.getInstance(), recordWriter, outputCommitter, new Configuration());\n\n\t\thadoopOutputFormat.close();\n\n\t\tverify(outputCommitter, times(1)).commitTask(nullable(TaskAttemptContext.class));\n\t\tverify(recordWriter, times(1)).close(nullable(TaskAttemptContext.class));\n\t}\n","date":"2018-10-08 19:39:20","endLine":93,"groupId":"10922","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testCloseWithNeedsTaskCommitTrue","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/10/3ecf48e55ca65559cc3edbfd669b8f284a558e.src","preCode":"\tpublic void testCloseWithNeedsTaskCommitTrue() throws Exception {\n\n\t\tRecordWriter<String, Long> recordWriter = Mockito.mock(DummyRecordWriter.class);\n\t\tOutputCommitter outputCommitter = setupOutputCommitter(true);\n\n\t\tHadoopOutputFormat<String, Long> hadoopOutputFormat = setupHadoopOutputFormat(new DummyOutputFormat(),\n\t\t\tJob.getInstance(), recordWriter, outputCommitter, new Configuration());\n\n\t\thadoopOutputFormat.close();\n\n\t\tverify(outputCommitter, times(1)).commitTask(any(TaskAttemptContext.class));\n\t\tverify(recordWriter, times(1)).close(any(TaskAttemptContext.class));\n\t}\n","realPath":"flink-connectors/flink-hadoop-compatibility/src/test/java/org/apache/flink/api/java/hadoop/mapreduce/HadoopOutputFormatTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":81,"status":"M"},{"authorDate":"2018-10-08 19:39:20","commitOrder":2,"curCode":"\tpublic void testCloseWithNeedsTaskCommitFalse() throws Exception {\n\n\t\tRecordWriter<String, Long> recordWriter = Mockito.mock(DummyRecordWriter.class);\n\t\tOutputCommitter outputCommitter = setupOutputCommitter(false);\n\n\t\tHadoopOutputFormat<String, Long> hadoopOutputFormat = setupHadoopOutputFormat(new DummyOutputFormat(),\n\t\t\tJob.getInstance(), recordWriter, outputCommitter, new Configuration());\n\n\t\thadoopOutputFormat.close();\n\n\t\tverify(outputCommitter, times(0)).commitTask(nullable(TaskAttemptContext.class));\n\t\tverify(recordWriter, times(1)).close(nullable(TaskAttemptContext.class));\n\t}\n","date":"2018-10-08 19:39:20","endLine":108,"groupId":"10922","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testCloseWithNeedsTaskCommitFalse","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/10/3ecf48e55ca65559cc3edbfd669b8f284a558e.src","preCode":"\tpublic void testCloseWithNeedsTaskCommitFalse() throws Exception {\n\n\t\tRecordWriter<String, Long> recordWriter = Mockito.mock(DummyRecordWriter.class);\n\t\tOutputCommitter outputCommitter = setupOutputCommitter(false);\n\n\t\tHadoopOutputFormat<String, Long> hadoopOutputFormat = setupHadoopOutputFormat(new DummyOutputFormat(),\n\t\t\tJob.getInstance(), recordWriter, outputCommitter, new Configuration());\n\n\t\thadoopOutputFormat.close();\n\n\t\tverify(outputCommitter, times(0)).commitTask(any(TaskAttemptContext.class));\n\t\tverify(recordWriter, times(1)).close(any(TaskAttemptContext.class));\n\t}\n","realPath":"flink-connectors/flink-hadoop-compatibility/src/test/java/org/apache/flink/api/java/hadoop/mapreduce/HadoopOutputFormatTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":96,"status":"M"}],"commitId":"a2826ccded5b20374e71dc8377a119e692559647","commitMessage":"@@@[FLINK-10208][build] Bump mockito to 2.21.0 / powermock to 2.0.0-beta.5\n\n","date":"2018-10-08 19:39:20","modifiedFileCount":"36","status":"M","submitter":"Chesnay Schepler"}]
