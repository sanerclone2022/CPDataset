[{"authorTime":"2020-05-16 02:06:46","codes":[{"authorDate":"2020-05-16 02:06:40","commitOrder":2,"curCode":"\tpublic void validateWrongMaxActions() {\n\t\tElasticsearch7DynamicSinkFactory sinkFactory = new Elasticsearch7DynamicSinkFactory();\n\n\t\tthrown.expect(ValidationException.class);\n\t\tthrown.expectMessage(\n\t\t\t\"'sink.bulk-flush.max-actions' must be at least 1 character. Got: 0\");\n\t\tsinkFactory.createDynamicTableSink(\n\t\t\tcontext()\n\t\t\t\t.withSchema(TableSchema.builder()\n\t\t\t\t\t.field(\"a\", DataTypes.TIME())\n\t\t\t\t\t.build())\n\t\t\t\t.withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n\t\t\t\t.withOption(ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n\t\t\t\t.withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"0\")\n\t\t\t\t.build()\n\t\t);\n\t}\n","date":"2020-05-17 22:34:39","endLine":151,"groupId":"11590","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"validateWrongMaxActions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/a8/30fa30d4eb2b9302a7e421f7237a25390dd277.src","preCode":"\tpublic void validateWrongMaxActions() {\n\t\tElasticsearch7DynamicSinkFactory sinkFactory = new Elasticsearch7DynamicSinkFactory();\n\n\t\tthrown.expect(ValidationException.class);\n\t\tthrown.expectMessage(\n\t\t\t\"'sink.bulk-flush.max-actions' must be at least 1 character. Got: 0\");\n\t\tsinkFactory.createDynamicTableSink(\n\t\t\tcontext()\n\t\t\t\t.withSchema(TableSchema.builder()\n\t\t\t\t\t.field(\"a\", DataTypes.TIME())\n\t\t\t\t\t.build())\n\t\t\t\t.withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n\t\t\t\t.withOption(ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n\t\t\t\t.withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"0\")\n\t\t\t\t.build()\n\t\t);\n\t}\n","realPath":"flink-connectors/flink-connector-elasticsearch7/src/test/java/org/apache/flink/streaming/connectors/elasticsearch/table/Elasticsearch7DynamicSinkFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":135,"status":"NB"},{"authorDate":"2020-05-16 02:06:46","commitOrder":2,"curCode":"\tpublic void validateWrongMaxActions() {\n\t\tElasticsearch6DynamicSinkFactory sinkFactory = new Elasticsearch6DynamicSinkFactory();\n\n\t\tthrown.expect(ValidationException.class);\n\t\tthrown.expectMessage(\n\t\t\t\"'sink.bulk-flush.max-actions' must be at least 1 character. Got: 0\");\n\t\tsinkFactory.createDynamicTableSink(\n\t\t\tcontext()\n\t\t\t\t.withSchema(TableSchema.builder()\n\t\t\t\t\t.field(\"a\", DataTypes.TIME())\n\t\t\t\t\t.build())\n\t\t\t\t.withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n\t\t\t\t.withOption(ElasticsearchOptions.DOCUMENT_TYPE_OPTION.key(), \"MyType\")\n\t\t\t\t.withOption(ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n\t\t\t\t.withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"0\")\n\t\t\t\t.build()\n\t\t);\n\t}\n","date":"2020-05-17 22:34:47","endLine":157,"groupId":"11590","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"validateWrongMaxActions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/f1/be1b21a0928fa791e566a5cb22dcd5f36499d1.src","preCode":"\tpublic void validateWrongMaxActions() {\n\t\tElasticsearch6DynamicSinkFactory sinkFactory = new Elasticsearch6DynamicSinkFactory();\n\n\t\tthrown.expect(ValidationException.class);\n\t\tthrown.expectMessage(\n\t\t\t\"'sink.bulk-flush.max-actions' must be at least 1 character. Got: 0\");\n\t\tsinkFactory.createDynamicTableSink(\n\t\t\tcontext()\n\t\t\t\t.withSchema(TableSchema.builder()\n\t\t\t\t\t.field(\"a\", DataTypes.TIME())\n\t\t\t\t\t.build())\n\t\t\t\t.withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n\t\t\t\t.withOption(ElasticsearchOptions.DOCUMENT_TYPE_OPTION.key(), \"MyType\")\n\t\t\t\t.withOption(ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n\t\t\t\t.withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"0\")\n\t\t\t\t.build()\n\t\t);\n\t}\n","realPath":"flink-connectors/flink-connector-elasticsearch6/src/test/java/org/apache/flink/streaming/connectors/elasticsearch/table/Elasticsearch6DynamicSinkFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":140,"status":"B"}],"commitId":"ccd2d531d1cb577113d5021efd6277031eeef9d1","commitMessage":"@@@[FLINK-17027] Introduce a new Elasticsearch 6 connector with new property keys\n\nThis closes #12184\n","date":"2020-05-17 22:34:47","modifiedFileCount":"0","status":"M","submitter":"Dawid Wysakowicz"},{"authorTime":"2020-06-09 10:47:15","codes":[{"authorDate":"2020-06-09 10:47:15","commitOrder":3,"curCode":"\tpublic void validateWrongMaxActions() {\n\t\tElasticsearch7DynamicSinkFactory sinkFactory = new Elasticsearch7DynamicSinkFactory();\n\n\t\tthrown.expect(ValidationException.class);\n\t\tthrown.expectMessage(\n\t\t\t\"'sink.bulk-flush.max-actions' must be at least 1 character. Got: -2\");\n\t\tsinkFactory.createDynamicTableSink(\n\t\t\tcontext()\n\t\t\t\t.withSchema(TableSchema.builder()\n\t\t\t\t\t.field(\"a\", DataTypes.TIME())\n\t\t\t\t\t.build())\n\t\t\t\t.withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n\t\t\t\t.withOption(ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n\t\t\t\t.withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"-2\")\n\t\t\t\t.build()\n\t\t);\n\t}\n","date":"2020-06-11 17:02:46","endLine":151,"groupId":"11590","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"validateWrongMaxActions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/71/891637f6cfe92aca17a0d388621d947ecbd02b.src","preCode":"\tpublic void validateWrongMaxActions() {\n\t\tElasticsearch7DynamicSinkFactory sinkFactory = new Elasticsearch7DynamicSinkFactory();\n\n\t\tthrown.expect(ValidationException.class);\n\t\tthrown.expectMessage(\n\t\t\t\"'sink.bulk-flush.max-actions' must be at least 1 character. Got: 0\");\n\t\tsinkFactory.createDynamicTableSink(\n\t\t\tcontext()\n\t\t\t\t.withSchema(TableSchema.builder()\n\t\t\t\t\t.field(\"a\", DataTypes.TIME())\n\t\t\t\t\t.build())\n\t\t\t\t.withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n\t\t\t\t.withOption(ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n\t\t\t\t.withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"0\")\n\t\t\t\t.build()\n\t\t);\n\t}\n","realPath":"flink-connectors/flink-connector-elasticsearch7/src/test/java/org/apache/flink/streaming/connectors/elasticsearch/table/Elasticsearch7DynamicSinkFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":135,"status":"M"},{"authorDate":"2020-06-09 10:47:15","commitOrder":3,"curCode":"\tpublic void validateWrongMaxActions() {\n\t\tElasticsearch6DynamicSinkFactory sinkFactory = new Elasticsearch6DynamicSinkFactory();\n\n\t\tthrown.expect(ValidationException.class);\n\t\tthrown.expectMessage(\n\t\t\t\"'sink.bulk-flush.max-actions' must be at least 1 character. Got: -2\");\n\t\tsinkFactory.createDynamicTableSink(\n\t\t\tcontext()\n\t\t\t\t.withSchema(TableSchema.builder()\n\t\t\t\t\t.field(\"a\", DataTypes.TIME())\n\t\t\t\t\t.build())\n\t\t\t\t.withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n\t\t\t\t.withOption(ElasticsearchOptions.DOCUMENT_TYPE_OPTION.key(), \"MyType\")\n\t\t\t\t.withOption(ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n\t\t\t\t.withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"-2\")\n\t\t\t\t.build()\n\t\t);\n\t}\n","date":"2020-06-11 17:02:46","endLine":157,"groupId":"11590","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"validateWrongMaxActions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/14/3b712ff98530eae1f2885589f11205d3eb3723.src","preCode":"\tpublic void validateWrongMaxActions() {\n\t\tElasticsearch6DynamicSinkFactory sinkFactory = new Elasticsearch6DynamicSinkFactory();\n\n\t\tthrown.expect(ValidationException.class);\n\t\tthrown.expectMessage(\n\t\t\t\"'sink.bulk-flush.max-actions' must be at least 1 character. Got: 0\");\n\t\tsinkFactory.createDynamicTableSink(\n\t\t\tcontext()\n\t\t\t\t.withSchema(TableSchema.builder()\n\t\t\t\t\t.field(\"a\", DataTypes.TIME())\n\t\t\t\t\t.build())\n\t\t\t\t.withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n\t\t\t\t.withOption(ElasticsearchOptions.DOCUMENT_TYPE_OPTION.key(), \"MyType\")\n\t\t\t\t.withOption(ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n\t\t\t\t.withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"0\")\n\t\t\t\t.build()\n\t\t);\n\t}\n","realPath":"flink-connectors/flink-connector-elasticsearch6/src/test/java/org/apache/flink/streaming/connectors/elasticsearch/table/Elasticsearch6DynamicSinkFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":140,"status":"M"}],"commitId":"3d764dc7b21dde54e0bcd61e51546daa77ce3f12","commitMessage":"@@@[FLINK-16495][elasticsearch][table] Improve default flush strategy for new Elasticsearch sink for better out-of-box\n\nThe default flush strategy for old Elasticsearch sink is no flush interval and 5MB buffered size and 1000 rows.\nThe new default flush strategy for new Elasticsearch sink is '1s' flush interval and '1000' buffered rows and '2mb' buffered size.\n\nThis closes #12536\n","date":"2020-06-11 17:02:46","modifiedFileCount":"12","status":"M","submitter":"Jark Wu"},{"authorTime":"2020-06-29 16:56:34","codes":[{"authorDate":"2020-06-29 16:56:34","commitOrder":4,"curCode":"\tpublic void validateWrongMaxActions() {\n\t\tElasticsearch7DynamicSinkFactory sinkFactory = new Elasticsearch7DynamicSinkFactory();\n\n\t\tthrown.expect(ValidationException.class);\n\t\tthrown.expectMessage(\n\t\t\t\"'sink.bulk-flush.max-actions' must be at least 1. Got: -2\");\n\t\tsinkFactory.createDynamicTableSink(\n\t\t\tcontext()\n\t\t\t\t.withSchema(TableSchema.builder()\n\t\t\t\t\t.field(\"a\", DataTypes.TIME())\n\t\t\t\t\t.build())\n\t\t\t\t.withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n\t\t\t\t.withOption(ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n\t\t\t\t.withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"-2\")\n\t\t\t\t.build()\n\t\t);\n\t}\n","date":"2020-07-07 15:26:08","endLine":151,"groupId":"11590","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"validateWrongMaxActions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/9d/b718c12f410a77f937ff7506c7b0a468b92211.src","preCode":"\tpublic void validateWrongMaxActions() {\n\t\tElasticsearch7DynamicSinkFactory sinkFactory = new Elasticsearch7DynamicSinkFactory();\n\n\t\tthrown.expect(ValidationException.class);\n\t\tthrown.expectMessage(\n\t\t\t\"'sink.bulk-flush.max-actions' must be at least 1 character. Got: -2\");\n\t\tsinkFactory.createDynamicTableSink(\n\t\t\tcontext()\n\t\t\t\t.withSchema(TableSchema.builder()\n\t\t\t\t\t.field(\"a\", DataTypes.TIME())\n\t\t\t\t\t.build())\n\t\t\t\t.withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n\t\t\t\t.withOption(ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n\t\t\t\t.withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"-2\")\n\t\t\t\t.build()\n\t\t);\n\t}\n","realPath":"flink-connectors/flink-connector-elasticsearch7/src/test/java/org/apache/flink/streaming/connectors/elasticsearch/table/Elasticsearch7DynamicSinkFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":135,"status":"M"},{"authorDate":"2020-06-29 16:56:34","commitOrder":4,"curCode":"\tpublic void validateWrongMaxActions() {\n\t\tElasticsearch6DynamicSinkFactory sinkFactory = new Elasticsearch6DynamicSinkFactory();\n\n\t\tthrown.expect(ValidationException.class);\n\t\tthrown.expectMessage(\n\t\t\t\"'sink.bulk-flush.max-actions' must be at least 1. Got: -2\");\n\t\tsinkFactory.createDynamicTableSink(\n\t\t\tcontext()\n\t\t\t\t.withSchema(TableSchema.builder()\n\t\t\t\t\t.field(\"a\", DataTypes.TIME())\n\t\t\t\t\t.build())\n\t\t\t\t.withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n\t\t\t\t.withOption(ElasticsearchOptions.DOCUMENT_TYPE_OPTION.key(), \"MyType\")\n\t\t\t\t.withOption(ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n\t\t\t\t.withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"-2\")\n\t\t\t\t.build()\n\t\t);\n\t}\n","date":"2020-07-07 15:26:08","endLine":157,"groupId":"11590","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"validateWrongMaxActions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/b2/13c5d6b63badcd08311a1d86cc2789b76e8908.src","preCode":"\tpublic void validateWrongMaxActions() {\n\t\tElasticsearch6DynamicSinkFactory sinkFactory = new Elasticsearch6DynamicSinkFactory();\n\n\t\tthrown.expect(ValidationException.class);\n\t\tthrown.expectMessage(\n\t\t\t\"'sink.bulk-flush.max-actions' must be at least 1 character. Got: -2\");\n\t\tsinkFactory.createDynamicTableSink(\n\t\t\tcontext()\n\t\t\t\t.withSchema(TableSchema.builder()\n\t\t\t\t\t.field(\"a\", DataTypes.TIME())\n\t\t\t\t\t.build())\n\t\t\t\t.withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n\t\t\t\t.withOption(ElasticsearchOptions.DOCUMENT_TYPE_OPTION.key(), \"MyType\")\n\t\t\t\t.withOption(ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n\t\t\t\t.withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"-2\")\n\t\t\t\t.build()\n\t\t);\n\t}\n","realPath":"flink-connectors/flink-connector-elasticsearch6/src/test/java/org/apache/flink/streaming/connectors/elasticsearch/table/Elasticsearch6DynamicSinkFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":140,"status":"M"}],"commitId":"9cfd8b1c8a42f9559c2272d7f440b903d5f4dd75","commitMessage":"@@@[hotfix][elasticsearch] Fix validation message for 'sink.bulk-flush.max-actions' of Elasticsearch\n\nThis closes #12790\n","date":"2020-07-07 15:26:08","modifiedFileCount":"4","status":"M","submitter":"liuyongvs"},{"authorTime":"2021-03-18 19:13:17","codes":[{"authorDate":"2021-03-18 19:13:17","commitOrder":5,"curCode":"    public void validateWrongMaxActions() {\n        Elasticsearch7DynamicSinkFactory sinkFactory = new Elasticsearch7DynamicSinkFactory();\n\n        thrown.expect(ValidationException.class);\n        thrown.expectMessage(\"'sink.bulk-flush.max-actions' must be at least 1. Got: -2\");\n        sinkFactory.createDynamicTableSink(\n                context()\n                        .withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n                        .withOption(\n                                ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n                        .withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"-2\")\n                        .build());\n    }\n","date":"2021-03-24 04:35:35","endLine":126,"groupId":"11590","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"validateWrongMaxActions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/74/80254cf259aff2ac17add9f72a89eaf42e267c.src","preCode":"    public void validateWrongMaxActions() {\n        Elasticsearch7DynamicSinkFactory sinkFactory = new Elasticsearch7DynamicSinkFactory();\n\n        thrown.expect(ValidationException.class);\n        thrown.expectMessage(\"'sink.bulk-flush.max-actions' must be at least 1. Got: -2\");\n        sinkFactory.createDynamicTableSink(\n                context()\n                        .withSchema(TableSchema.builder().field(\"a\", DataTypes.TIME()).build())\n                        .withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n                        .withOption(\n                                ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n                        .withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"-2\")\n                        .build());\n    }\n","realPath":"flink-connectors/flink-connector-elasticsearch7/src/test/java/org/apache/flink/streaming/connectors/elasticsearch/table/Elasticsearch7DynamicSinkFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":114,"status":"M"},{"authorDate":"2021-03-18 19:13:17","commitOrder":5,"curCode":"    public void validateWrongMaxActions() {\n        Elasticsearch6DynamicSinkFactory sinkFactory = new Elasticsearch6DynamicSinkFactory();\n\n        thrown.expect(ValidationException.class);\n        thrown.expectMessage(\"'sink.bulk-flush.max-actions' must be at least 1. Got: -2\");\n        sinkFactory.createDynamicTableSink(\n                context()\n                        .withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n                        .withOption(ElasticsearchOptions.DOCUMENT_TYPE_OPTION.key(), \"MyType\")\n                        .withOption(\n                                ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n                        .withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"-2\")\n                        .build());\n    }\n","date":"2021-03-24 04:35:35","endLine":135,"groupId":"11590","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"validateWrongMaxActions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/d3/558108f986c140405af6a9c3c00834aa7a1163.src","preCode":"    public void validateWrongMaxActions() {\n        Elasticsearch6DynamicSinkFactory sinkFactory = new Elasticsearch6DynamicSinkFactory();\n\n        thrown.expect(ValidationException.class);\n        thrown.expectMessage(\"'sink.bulk-flush.max-actions' must be at least 1. Got: -2\");\n        sinkFactory.createDynamicTableSink(\n                context()\n                        .withSchema(TableSchema.builder().field(\"a\", DataTypes.TIME()).build())\n                        .withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n                        .withOption(ElasticsearchOptions.DOCUMENT_TYPE_OPTION.key(), \"MyType\")\n                        .withOption(\n                                ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n                        .withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"-2\")\n                        .build());\n    }\n","realPath":"flink-connectors/flink-connector-elasticsearch6/src/test/java/org/apache/flink/streaming/connectors/elasticsearch/table/Elasticsearch6DynamicSinkFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":122,"status":"M"}],"commitId":"73338e22bd0567169ce2636c8f9e3b87df783385","commitMessage":"@@@[FLINK-21913][table][connectors] Update DynamicTableFactory.Context to use ResolvedCatalogTable\n\nThis closes #15316.\n","date":"2021-03-24 04:35:35","modifiedFileCount":"45","status":"M","submitter":"Timo Walther"},{"authorTime":"2021-06-30 16:32:46","codes":[{"authorDate":"2021-06-30 16:32:46","commitOrder":6,"curCode":"    public void validateWrongMaxActions() {\n        Elasticsearch7DynamicSinkFactory sinkFactory = new Elasticsearch7DynamicSinkFactory();\n\n        thrown.expect(ValidationException.class);\n        thrown.expectMessage(\"'sink.bulk-flush.max-actions' must be at least 1. Got: -2\");\n        sinkFactory.createDynamicTableSink(\n                context()\n                        .withOption(ElasticsearchConnectorOptions.INDEX_OPTION.key(), \"MyIndex\")\n                        .withOption(\n                                ElasticsearchConnectorOptions.HOSTS_OPTION.key(),\n                                \"http://localhost:1234\")\n                        .withOption(\n                                ElasticsearchConnectorOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(),\n                                \"-2\")\n                        .build());\n    }\n","date":"2021-07-12 18:56:17","endLine":134,"groupId":"10820","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"validateWrongMaxActions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/ba/37dbc5bd7c3a30f3eae1d681cf2c97bb83c5fa.src","preCode":"    public void validateWrongMaxActions() {\n        Elasticsearch7DynamicSinkFactory sinkFactory = new Elasticsearch7DynamicSinkFactory();\n\n        thrown.expect(ValidationException.class);\n        thrown.expectMessage(\"'sink.bulk-flush.max-actions' must be at least 1. Got: -2\");\n        sinkFactory.createDynamicTableSink(\n                context()\n                        .withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n                        .withOption(\n                                ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n                        .withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"-2\")\n                        .build());\n    }\n","realPath":"flink-connectors/flink-connector-elasticsearch7/src/test/java/org/apache/flink/streaming/connectors/elasticsearch/table/Elasticsearch7DynamicSinkFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":119,"status":"M"},{"authorDate":"2021-06-30 16:32:46","commitOrder":6,"curCode":"    public void validateWrongMaxActions() {\n        Elasticsearch6DynamicSinkFactory sinkFactory = new Elasticsearch6DynamicSinkFactory();\n\n        thrown.expect(ValidationException.class);\n        thrown.expectMessage(\"'sink.bulk-flush.max-actions' must be at least 1. Got: -2\");\n        sinkFactory.createDynamicTableSink(\n                context()\n                        .withOption(ElasticsearchConnectorOptions.INDEX_OPTION.key(), \"MyIndex\")\n                        .withOption(\n                                ElasticsearchConnectorOptions.DOCUMENT_TYPE_OPTION.key(), \"MyType\")\n                        .withOption(\n                                ElasticsearchConnectorOptions.HOSTS_OPTION.key(),\n                                \"http://localhost:1234\")\n                        .withOption(\n                                ElasticsearchConnectorOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(),\n                                \"-2\")\n                        .build());\n    }\n","date":"2021-07-12 18:56:17","endLine":146,"groupId":"10820","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"validateWrongMaxActions","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/25/bcbbfb05b80e6f0069e7f627dbaed4a6a1cec9.src","preCode":"    public void validateWrongMaxActions() {\n        Elasticsearch6DynamicSinkFactory sinkFactory = new Elasticsearch6DynamicSinkFactory();\n\n        thrown.expect(ValidationException.class);\n        thrown.expectMessage(\"'sink.bulk-flush.max-actions' must be at least 1. Got: -2\");\n        sinkFactory.createDynamicTableSink(\n                context()\n                        .withOption(ElasticsearchOptions.INDEX_OPTION.key(), \"MyIndex\")\n                        .withOption(ElasticsearchOptions.DOCUMENT_TYPE_OPTION.key(), \"MyType\")\n                        .withOption(\n                                ElasticsearchOptions.HOSTS_OPTION.key(), \"http://localhost:1234\")\n                        .withOption(ElasticsearchOptions.BULK_FLUSH_MAX_ACTIONS_OPTION.key(), \"-2\")\n                        .build());\n    }\n","realPath":"flink-connectors/flink-connector-elasticsearch6/src/test/java/org/apache/flink/streaming/connectors/elasticsearch/table/Elasticsearch6DynamicSinkFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":129,"status":"M"}],"commitId":"2dbb3de221339edf120dac3fbbd6e13c3e54af11","commitMessage":"@@@[FLINK-23064][connector-elasticsearch] Make connector options PublicEvolving\n","date":"2021-07-12 18:56:17","modifiedFileCount":"11","status":"M","submitter":"Ingo B?rk"}]
