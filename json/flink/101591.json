[{"authorTime":"2015-09-21 04:27:11","codes":[{"authorDate":"2016-04-10 22:56:42","commitOrder":2,"curCode":"\t\tpublic void open(Configuration parameters) throws Exception {\n\t\t\t\r\n\t\t\tassertEquals(1, getRuntimeContext().getNumberOfParallelSubtasks());\n\n\t\t\tlong failurePosMin = (long) (0.4 * LINES_PER_FILE);\n\t\t\tlong failurePosMax = (long) (0.7 * LINES_PER_FILE);\n\n\t\t\telementsToFailure = (new Random().nextLong() % (failurePosMax - failurePosMin)) + failurePosMin;\n\n\t\t\tif (elementCounter >= NO_OF_FILES * LINES_PER_FILE) {\n\t\t\t\tfinalCollectedContent = new HashMap<>();\n\t\t\t\tfor (Map.Entry<Integer, Set<String>> result: collectedContent.entrySet()) {\n\t\t\t\t\tfinalCollectedContent.put(result.getKey(), new ArrayList<>(result.getValue()));\n\t\t\t\t}\n\t\t\t\tthrow new SuccessException();\n\t\t\t}\n\t\t}\n","date":"2016-06-15 00:11:22","endLine":265,"groupId":"37547","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"open","params":"(Configurationparameters)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/4c/0f64833bcbe6a3bd99496cbe32e0716ecc4499.src","preCode":"\t\tpublic void open(Configuration parameters) throws Exception {\n\t\t\t\r\n\t\t\tassertEquals(1, getRuntimeContext().getNumberOfParallelSubtasks());\n\n\t\t\tlong failurePosMin = (long) (0.4 * LINES_PER_FILE);\n\t\t\tlong failurePosMax = (long) (0.7 * LINES_PER_FILE);\n\n\t\t\telementsToFailure = (new Random().nextLong() % (failurePosMax - failurePosMin)) + failurePosMin;\n\n\t\t\tif (elementCounter >= NO_OF_FILES * LINES_PER_FILE) {\n\t\t\t\tfinalCollectedContent = new HashMap<>();\n\t\t\t\tfor (Map.Entry<Integer, Set<String>> result: collectedContent.entrySet()) {\n\t\t\t\t\tfinalCollectedContent.put(result.getKey(), new ArrayList<>(result.getValue()));\n\t\t\t\t}\n\t\t\t\tthrow new SuccessException();\n\t\t\t}\n\t\t}\n","realPath":"flink-tests/src/test/java/org/apache/flink/test/checkpointing/ContinuousFileProcessingCheckpointITCase.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":249,"status":"B"},{"authorDate":"2015-09-21 04:27:11","commitOrder":2,"curCode":"\t\tpublic void open(Configuration parameters) throws Exception {\n\t\t\tlong failurePosMin = (long) (0.4 * numElements / getRuntimeContext().getNumberOfParallelSubtasks());\n\t\t\tlong failurePosMax = (long) (0.7 * numElements / getRuntimeContext().getNumberOfParallelSubtasks());\n\n\t\t\tfailurePos = (new Random().nextLong() % (failurePosMax - failurePosMin)) + failurePosMin;\n\t\t\tcount = getRuntimeContext().getOperatorState(\"count\", 0L, false);\n\t\t}\n","date":"2015-10-06 20:46:06","endLine":200,"groupId":"11631","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"open","params":"(Configurationparameters)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/26/3bef1ae47b87fa2b118616c310f040de7616d1.src","preCode":"\t\tpublic void open(Configuration parameters) throws Exception {\n\t\t\tlong failurePosMin = (long) (0.4 * numElements / getRuntimeContext().getNumberOfParallelSubtasks());\n\t\t\tlong failurePosMax = (long) (0.7 * numElements / getRuntimeContext().getNumberOfParallelSubtasks());\n\n\t\t\tfailurePos = (new Random().nextLong() % (failurePosMax - failurePosMin)) + failurePosMin;\n\t\t\tcount = getRuntimeContext().getOperatorState(\"count\", 0L, false);\n\t\t}\n","realPath":"flink-tests/src/test/java/org/apache/flink/test/checkpointing/UdfStreamOperatorCheckpointingITCase.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":194,"status":"NB"}],"commitId":"d353895ba512a5e30fb08a25643fd93f085e8456","commitMessage":"@@@[FLINK-2314] Make Streaming File Sources Persistent\n\nThis commit is a combination of several commits/changes. It combines\nchanges to the file input formats and the streaming file read operator\nand integrates them into the API.\n\nThese are the messages of the other two commits:\n\n[FLINK-3717] Make FileInputFormat checkpointable\n\nThis adds a new interface called CheckpointableInputFormat\nwhich describes input formats whose state is queryable. \ni.e. getCurrentState() returns where the reader is\nin the underlying source.  and they can resume reading from\na user-specified position.\n\nThis functionality is not yet leveraged by current readers.\n\n[FLINK-3889] Refactor File Monitoring Source\n\nThis is meant to replace the different file\nreading sources in Flink streaming. Now there is\none monitoring source with DOP 1 monitoring a\ndirectory and assigning input split to downstream\nreaders.\n\nIn addition.  it makes the new features added by\nFLINK-3717 work together with the aforementioned entities\n(the monitor and the readers) in order to have\nfault tolerant file sources and exactly once guarantees.\n\nThis does not replace the old API calls. This\nwill be done in a future commit.\n","date":"2016-06-15 00:11:22","modifiedFileCount":"20","status":"M","submitter":"kl0u"},{"authorTime":"2015-09-21 04:27:11","codes":[{"authorDate":"2016-10-07 06:21:42","commitOrder":3,"curCode":"\t\tpublic void open(Configuration parameters) throws Exception {\n\t\t\t\r\n\t\t\tassertEquals(1, getRuntimeContext().getNumberOfParallelSubtasks());\n\n\t\t\tlong failurePosMin = (long) (0.4 * LINES_PER_FILE);\n\t\t\tlong failurePosMax = (long) (0.7 * LINES_PER_FILE);\n\n\t\t\telementsToFailure = (new Random().nextLong() % (failurePosMax - failurePosMin)) + failurePosMin;\n\t\t}\n","date":"2016-10-27 20:22:02","endLine":193,"groupId":"37547","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"open","params":"(Configurationparameters)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/0e/9b054af64072175ff2bccd908abd7131293384.src","preCode":"\t\tpublic void open(Configuration parameters) throws Exception {\n\t\t\t\r\n\t\t\tassertEquals(1, getRuntimeContext().getNumberOfParallelSubtasks());\n\n\t\t\tlong failurePosMin = (long) (0.4 * LINES_PER_FILE);\n\t\t\tlong failurePosMax = (long) (0.7 * LINES_PER_FILE);\n\n\t\t\telementsToFailure = (new Random().nextLong() % (failurePosMax - failurePosMin)) + failurePosMin;\n\n\t\t\tif (elementCounter >= NO_OF_FILES * LINES_PER_FILE) {\n\t\t\t\tfinalCollectedContent = new HashMap<>();\n\t\t\t\tfor (Map.Entry<Integer, Set<String>> result: collectedContent.entrySet()) {\n\t\t\t\t\tfinalCollectedContent.put(result.getKey(), new ArrayList<>(result.getValue()));\n\t\t\t\t}\n\t\t\t\tthrow new SuccessException();\n\t\t\t}\n\t\t}\n","realPath":"flink-tests/src/test/java/org/apache/flink/test/checkpointing/ContinuousFileProcessingCheckpointITCase.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":185,"status":"M"},{"authorDate":"2015-09-21 04:27:11","commitOrder":3,"curCode":"\t\tpublic void open(Configuration parameters) throws Exception {\n\t\t\tlong failurePosMin = (long) (0.4 * numElements / getRuntimeContext().getNumberOfParallelSubtasks());\n\t\t\tlong failurePosMax = (long) (0.7 * numElements / getRuntimeContext().getNumberOfParallelSubtasks());\n\n\t\t\tfailurePos = (new Random().nextLong() % (failurePosMax - failurePosMin)) + failurePosMin;\n\t\t\tcount = getRuntimeContext().getOperatorState(\"count\", 0L, false);\n\t\t}\n","date":"2015-10-06 20:46:06","endLine":200,"groupId":"11631","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"open","params":"(Configurationparameters)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/26/3bef1ae47b87fa2b118616c310f040de7616d1.src","preCode":"\t\tpublic void open(Configuration parameters) throws Exception {\n\t\t\tlong failurePosMin = (long) (0.4 * numElements / getRuntimeContext().getNumberOfParallelSubtasks());\n\t\t\tlong failurePosMax = (long) (0.7 * numElements / getRuntimeContext().getNumberOfParallelSubtasks());\n\n\t\t\tfailurePos = (new Random().nextLong() % (failurePosMax - failurePosMin)) + failurePosMin;\n\t\t\tcount = getRuntimeContext().getOperatorState(\"count\", 0L, false);\n\t\t}\n","realPath":"flink-tests/src/test/java/org/apache/flink/test/checkpointing/UdfStreamOperatorCheckpointingITCase.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":194,"status":"N"}],"commitId":"b410c393c960f55c09fadd4f22732d06f801b938","commitMessage":"@@@[FLINK-4800] Introduce the TimestampedFileInputSplit for Continuous File Processing\n\nThis commit mainly introduces the TimestampedFileInputSplit. \nwhich extends the class FileInputSplit and also contains:\ni) the modification time of the file it belongs to and also.  and\nii) when checkpointing.  the point the reader is currently reading\n    from in the split the reader.\n\nThis will be useful for rescaling. With this addition.  the\nContinuousFileMonitoringFunction sends TimestampedFileInputSplit\nto the Readers.  and the Readers' state now contain only\nTimestampedFileInputSplit.\n\nIn addition.  it refactors the code of the ContinuousFileMonitoringFunction\nand that of the ContinuousFileReaderOperator along with the related\ntests.\n\nThis closes #2618.\n","date":"2016-10-27 20:22:02","modifiedFileCount":"5","status":"M","submitter":"kl0u"},{"authorTime":"2020-12-28 21:30:59","codes":[{"authorDate":"2016-10-07 06:21:42","commitOrder":4,"curCode":"\t\tpublic void open(Configuration parameters) throws Exception {\n\t\t\t\r\n\t\t\tassertEquals(1, getRuntimeContext().getNumberOfParallelSubtasks());\n\n\t\t\tlong failurePosMin = (long) (0.4 * LINES_PER_FILE);\n\t\t\tlong failurePosMax = (long) (0.7 * LINES_PER_FILE);\n\n\t\t\telementsToFailure = (new Random().nextLong() % (failurePosMax - failurePosMin)) + failurePosMin;\n\t\t}\n","date":"2016-10-27 20:22:02","endLine":193,"groupId":"101591","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"open","params":"(Configurationparameters)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/0e/9b054af64072175ff2bccd908abd7131293384.src","preCode":"\t\tpublic void open(Configuration parameters) throws Exception {\n\t\t\t\r\n\t\t\tassertEquals(1, getRuntimeContext().getNumberOfParallelSubtasks());\n\n\t\t\tlong failurePosMin = (long) (0.4 * LINES_PER_FILE);\n\t\t\tlong failurePosMax = (long) (0.7 * LINES_PER_FILE);\n\n\t\t\telementsToFailure = (new Random().nextLong() % (failurePosMax - failurePosMin)) + failurePosMin;\n\t\t}\n","realPath":"flink-tests/src/test/java/org/apache/flink/test/checkpointing/ContinuousFileProcessingCheckpointITCase.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":185,"status":"N"},{"authorDate":"2020-12-28 21:30:59","commitOrder":4,"curCode":"        public void open(Configuration parameters) throws Exception {\n            long failurePosMin =\n                    (long) (0.4 * numElements / getRuntimeContext().getNumberOfParallelSubtasks());\n            long failurePosMax =\n                    (long) (0.7 * numElements / getRuntimeContext().getNumberOfParallelSubtasks());\n\n            failurePos =\n                    (new Random().nextLong() % (failurePosMax - failurePosMin)) + failurePosMin;\n        }\n","date":"2020-12-28 21:35:13","endLine":186,"groupId":"101591","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"open","params":"(Configurationparameters)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/b1/9bc4e8353e6350f8d56caff0e8faf39086d92f.src","preCode":"\t\tpublic void open(Configuration parameters) throws Exception {\n\t\t\tlong failurePosMin = (long) (0.4 * numElements / getRuntimeContext().getNumberOfParallelSubtasks());\n\t\t\tlong failurePosMax = (long) (0.7 * numElements / getRuntimeContext().getNumberOfParallelSubtasks());\n\n\t\t\tfailurePos = (new Random().nextLong() % (failurePosMax - failurePosMin)) + failurePosMin;\n\t\t\tcount = getRuntimeContext().getOperatorState(\"count\", 0L, false);\n\t\t}\n","realPath":"flink-tests/src/test/java/org/apache/flink/test/checkpointing/UdfStreamOperatorCheckpointingITCase.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":178,"status":"M"}],"commitId":"c6997c97c575d334679915c328792b8a3067cfb5","commitMessage":"@@@[FLINK-20651] Format code with Spotless/google-java-format\n","date":"2020-12-28 21:35:13","modifiedFileCount":"11013","status":"M","submitter":"Rufus Refactor"}]
