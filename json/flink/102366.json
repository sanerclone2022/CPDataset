[{"authorTime":"2020-06-22 16:39:35","codes":[{"authorDate":"2020-06-22 16:39:35","commitOrder":1,"curCode":"\tprotected void setupFlinkConfig() {\n\t\tsuper.setupFlinkConfig();\n\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n\t}\n","date":"2020-10-22 11:33:26","endLine":54,"groupId":"19304","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"setupFlinkConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/70/c07c82c15163c108d0baacd8e86976089d4558.src","preCode":"\tprotected void setupFlinkConfig() {\n\t\tsuper.setupFlinkConfig();\n\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n\t}\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/decorators/KerberosMountDecoratorTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":48,"status":"B"},{"authorDate":"2020-06-22 16:39:35","commitOrder":1,"curCode":"\tprotected void setupFlinkConfig() {\n\t\tsuper.setupFlinkConfig();\n\n\t\tflinkConfig.set(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS, ENTRY_POINT_CLASS);\n\t\tflinkConfig.set(KubernetesConfigOptions.JOB_MANAGER_SERVICE_ACCOUNT, SERVICE_ACCOUNT_NAME);\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n\t}\n","date":"2020-10-22 11:33:26","endLine":85,"groupId":"19304","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"setupFlinkConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/99/3fedc3e5b17efb83417e560b901849c7359798.src","preCode":"\tprotected void setupFlinkConfig() {\n\t\tsuper.setupFlinkConfig();\n\n\t\tflinkConfig.set(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS, ENTRY_POINT_CLASS);\n\t\tflinkConfig.set(KubernetesConfigOptions.JOB_MANAGER_SERVICE_ACCOUNT, SERVICE_ACCOUNT_NAME);\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n\t}\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/factory/KubernetesJobManagerFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":77,"status":"B"}],"commitId":"3862a4aaf3750506eb69af6faf822b07d7d725a2","commitMessage":"@@@[FLINK-18971][kubernetes] Support to mount kerberos conf as ConfigMap and Keytab as Secrete in Kubernetes\n","date":"2020-10-22 11:33:26","modifiedFileCount":"9","status":"B","submitter":"Yangze Guo"},{"authorTime":"2020-12-31 07:59:58","codes":[{"authorDate":"2020-06-22 16:39:35","commitOrder":2,"curCode":"\tprotected void setupFlinkConfig() {\n\t\tsuper.setupFlinkConfig();\n\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n\t}\n","date":"2020-10-22 11:33:26","endLine":54,"groupId":"19304","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"setupFlinkConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/70/c07c82c15163c108d0baacd8e86976089d4558.src","preCode":"\tprotected void setupFlinkConfig() {\n\t\tsuper.setupFlinkConfig();\n\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n\t}\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/decorators/KerberosMountDecoratorTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":48,"status":"N"},{"authorDate":"2020-12-31 07:59:58","commitOrder":2,"curCode":"    protected void setupFlinkConfig() {\n        super.setupFlinkConfig();\n\n        flinkConfig.set(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS, ENTRY_POINT_CLASS);\n        flinkConfig.set(KubernetesConfigOptions.JOB_MANAGER_SERVICE_ACCOUNT, SERVICE_ACCOUNT_NAME);\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n        flinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n        flinkConfig.setString(\n                KubernetesConfigOptions.JOB_MANAGER_OWNER_REFERENCE.key(), OWNER_REFERENCE_STRING);\n    }\n","date":"2021-02-02 09:33:33","endLine":105,"groupId":"19304","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"setupFlinkConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/88/efaea4971549e7444ecafc9f158c8e21d25f9f.src","preCode":"    protected void setupFlinkConfig() {\n        super.setupFlinkConfig();\n\n        flinkConfig.set(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS, ENTRY_POINT_CLASS);\n        flinkConfig.set(KubernetesConfigOptions.JOB_MANAGER_SERVICE_ACCOUNT, SERVICE_ACCOUNT_NAME);\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n        flinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n    }\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/factory/KubernetesJobManagerFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":93,"status":"M"}],"commitId":"06d94bf2fbb9a920997d88bd44a4b8be36e1078d","commitMessage":"@@@[FLINK-20359][k8s] Added Owner Reference to Job Manager in native kubernetes\n\nThis closes #14591\n","date":"2021-02-02 09:33:33","modifiedFileCount":"4","status":"M","submitter":"blublinsky"},{"authorTime":"2021-02-27 20:34:38","codes":[{"authorDate":"2020-06-22 16:39:35","commitOrder":3,"curCode":"\tprotected void setupFlinkConfig() {\n\t\tsuper.setupFlinkConfig();\n\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n\t}\n","date":"2020-10-22 11:33:26","endLine":54,"groupId":"19304","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"setupFlinkConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/70/c07c82c15163c108d0baacd8e86976089d4558.src","preCode":"\tprotected void setupFlinkConfig() {\n\t\tsuper.setupFlinkConfig();\n\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n\t\tflinkConfig.set(SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n\t}\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/decorators/KerberosMountDecoratorTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":48,"status":"N"},{"authorDate":"2021-02-27 20:34:38","commitOrder":3,"curCode":"    protected void setupFlinkConfig() {\n        super.setupFlinkConfig();\n\n        flinkConfig.set(DeploymentOptions.TARGET, KubernetesDeploymentTarget.SESSION.getName());\n        flinkConfig.set(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS, ENTRY_POINT_CLASS);\n        flinkConfig.set(KubernetesConfigOptions.JOB_MANAGER_SERVICE_ACCOUNT, SERVICE_ACCOUNT_NAME);\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n        flinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n        flinkConfig.setString(\n                KubernetesConfigOptions.JOB_MANAGER_OWNER_REFERENCE.key(), OWNER_REFERENCE_STRING);\n    }\n","date":"2021-03-04 18:38:37","endLine":110,"groupId":"19304","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"setupFlinkConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/6a/d6200dd00f53c3cb4cf33a5117a3eb1b9a6fc6.src","preCode":"    protected void setupFlinkConfig() {\n        super.setupFlinkConfig();\n\n        flinkConfig.set(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS, ENTRY_POINT_CLASS);\n        flinkConfig.set(KubernetesConfigOptions.JOB_MANAGER_SERVICE_ACCOUNT, SERVICE_ACCOUNT_NAME);\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n        flinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n        flinkConfig.setString(\n                KubernetesConfigOptions.JOB_MANAGER_OWNER_REFERENCE.key(), OWNER_REFERENCE_STRING);\n    }\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/factory/KubernetesJobManagerFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":97,"status":"M"}],"commitId":"a26388c4d51cd793f65ee81465d8bb00c3394273","commitMessage":"@@@[FLINK-21128][k8s] Introduce dedicated scripts for native K8s integration\n","date":"2021-03-04 18:38:37","modifiedFileCount":"10","status":"M","submitter":"wangyang0918"},{"authorTime":"2021-02-27 20:34:38","codes":[{"authorDate":"2021-09-08 20:20:32","commitOrder":4,"curCode":"    protected void setupFlinkConfig() {\n        super.setupFlinkConfig();\n\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n        flinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_KRB5_PATH,\n                kerberosDir.toString() + \"/\" + CUSTOM_KRB5_CONF_FILE);\n    }\n","date":"2021-09-14 09:57:21","endLine":61,"groupId":"102366","id":7,"instanceNumber":1,"isCurCommit":1,"methodName":"setupFlinkConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/d1/680a25cc6a3fe1e9ea1c57e33f9b2fff9c9087.src","preCode":"    protected void setupFlinkConfig() {\n        super.setupFlinkConfig();\n\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n        flinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n    }\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/decorators/KerberosMountDecoratorTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":52,"status":"M"},{"authorDate":"2021-02-27 20:34:38","commitOrder":4,"curCode":"    protected void setupFlinkConfig() {\n        super.setupFlinkConfig();\n\n        flinkConfig.set(DeploymentOptions.TARGET, KubernetesDeploymentTarget.SESSION.getName());\n        flinkConfig.set(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS, ENTRY_POINT_CLASS);\n        flinkConfig.set(KubernetesConfigOptions.JOB_MANAGER_SERVICE_ACCOUNT, SERVICE_ACCOUNT_NAME);\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n        flinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n        flinkConfig.setString(\n                KubernetesConfigOptions.JOB_MANAGER_OWNER_REFERENCE.key(), OWNER_REFERENCE_STRING);\n    }\n","date":"2021-03-04 18:38:37","endLine":110,"groupId":"102366","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"setupFlinkConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/6a/d6200dd00f53c3cb4cf33a5117a3eb1b9a6fc6.src","preCode":"    protected void setupFlinkConfig() {\n        super.setupFlinkConfig();\n\n        flinkConfig.set(DeploymentOptions.TARGET, KubernetesDeploymentTarget.SESSION.getName());\n        flinkConfig.set(KubernetesConfigOptionsInternal.ENTRY_POINT_CLASS, ENTRY_POINT_CLASS);\n        flinkConfig.set(KubernetesConfigOptions.JOB_MANAGER_SERVICE_ACCOUNT, SERVICE_ACCOUNT_NAME);\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_LOGIN_KEYTAB, kerberosDir.toString() + \"/\" + KEYTAB_FILE);\n        flinkConfig.set(SecurityOptions.KERBEROS_LOGIN_PRINCIPAL, \"test\");\n        flinkConfig.set(\n                SecurityOptions.KERBEROS_KRB5_PATH, kerberosDir.toString() + \"/\" + KRB5_CONF_FILE);\n        flinkConfig.setString(\n                KubernetesConfigOptions.JOB_MANAGER_OWNER_REFERENCE.key(), OWNER_REFERENCE_STRING);\n    }\n","realPath":"flink-kubernetes/src/test/java/org/apache/flink/kubernetes/kubeclient/factory/KubernetesJobManagerFactoryTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":97,"status":"N"}],"commitId":"d532f5fc81f9acf611541cab440eb3d5a9de08cc","commitMessage":"@@@[FLINK-24212][k8s]fix the problem that kerberos krb5.conf file is mounted as empty directory.  not the expected file\n\nThis closes #17198\n","date":"2021-09-14 09:57:21","modifiedFileCount":"3","status":"M","submitter":"sammieliu"}]
