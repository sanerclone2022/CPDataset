[{"authorTime":"2017-07-04 19:49:55","codes":[{"authorDate":"2017-07-04 19:49:55","commitOrder":1,"curCode":"\tpublic void testCustomSplitJobWithCustomClassLoaderJar() throws IOException, ProgramInvocationException {\n\n\t\tPackagedProgram inputSplitTestProg = new PackagedProgram(new File(INPUT_SPLITS_PROG_JAR_FILE));\n\n\t\tTestEnvironment.setAsContext(\n\t\t\ttestCluster,\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.<URL>emptyList());\n\n\t\tinputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","date":"2017-07-19 17:33:35","endLine":150,"groupId":"12560","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testCustomSplitJobWithCustomClassLoaderJar","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/98/bb0eadd32513267471e218b8349445ffa2d97d.src","preCode":"\tpublic void testCustomSplitJobWithCustomClassLoaderJar() throws IOException, ProgramInvocationException {\n\n\t\tPackagedProgram inputSplitTestProg = new PackagedProgram(new File(INPUT_SPLITS_PROG_JAR_FILE));\n\n\t\tTestEnvironment.setAsContext(\n\t\t\ttestCluster,\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.<URL>emptyList());\n\n\t\tinputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","realPath":"flink-tests/src/test/java/org/apache/flink/test/classloading/ClassLoaderITCase.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":139,"status":"B"},{"authorDate":"2017-07-04 19:49:55","commitOrder":1,"curCode":"\tpublic void testStreamingCustomSplitJobWithCustomClassLoader() throws IOException, ProgramInvocationException {\n\t\tPackagedProgram streamingInputSplitTestProg = new PackagedProgram(new File(STREAMING_INPUT_SPLITS_PROG_JAR_FILE));\n\n\t\tTestStreamEnvironment.setAsContext(\n\t\t\ttestCluster,\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(STREAMING_INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.<URL>emptyList());\n\n\t\tstreamingInputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","date":"2017-07-19 17:33:35","endLine":163,"groupId":"12560","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testStreamingCustomSplitJobWithCustomClassLoader","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/98/bb0eadd32513267471e218b8349445ffa2d97d.src","preCode":"\tpublic void testStreamingCustomSplitJobWithCustomClassLoader() throws IOException, ProgramInvocationException {\n\t\tPackagedProgram streamingInputSplitTestProg = new PackagedProgram(new File(STREAMING_INPUT_SPLITS_PROG_JAR_FILE));\n\n\t\tTestStreamEnvironment.setAsContext(\n\t\t\ttestCluster,\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(STREAMING_INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.<URL>emptyList());\n\n\t\tstreamingInputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","realPath":"flink-tests/src/test/java/org/apache/flink/test/classloading/ClassLoaderITCase.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":153,"status":"B"}],"commitId":"5ac1324b9eb89afb87de7810e7bd4b1209b544b6","commitMessage":"@@@[FLINK-7102] improve ClassLoaderITCase\n\n* ClassLoaderITCase unnecessarily runs multiple tests in a single test case\n* ClassLoaderITCase#testDisposeSavepointWithCustomKvState() does not cancel its\n  job (thus the order of execution of test cases defines the outcome)\n* ClassLoaderITCase uses e.getCause().getCause() which may cause\n  {{NullPointerException}}s hiding the original error\n\nThis closes #4255.\n","date":"2017-07-19 17:33:35","modifiedFileCount":"1","status":"B","submitter":"Nico Kruber"},{"authorTime":"2018-10-22 22:00:40","codes":[{"authorDate":"2018-10-22 22:00:40","commitOrder":2,"curCode":"\tpublic void testCustomSplitJobWithCustomClassLoaderJar() throws IOException, ProgramInvocationException {\n\n\t\tPackagedProgram inputSplitTestProg = new PackagedProgram(new File(INPUT_SPLITS_PROG_JAR_FILE));\n\n\t\tTestEnvironment.setAsContext(\n\t\t\tminiClusterResource.getMiniCluster(),\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.<URL>emptyList());\n\n\t\tinputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","date":"2018-10-24 22:04:20","endLine":156,"groupId":"7215","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testCustomSplitJobWithCustomClassLoaderJar","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/23/503d7e370c7690d96c76c836cdf87740b61ecb.src","preCode":"\tpublic void testCustomSplitJobWithCustomClassLoaderJar() throws IOException, ProgramInvocationException {\n\n\t\tPackagedProgram inputSplitTestProg = new PackagedProgram(new File(INPUT_SPLITS_PROG_JAR_FILE));\n\n\t\tTestEnvironment.setAsContext(\n\t\t\ttestCluster,\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.<URL>emptyList());\n\n\t\tinputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","realPath":"flink-tests/src/test/java/org/apache/flink/test/classloading/ClassLoaderITCase.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":145,"status":"M"},{"authorDate":"2018-10-22 22:00:40","commitOrder":2,"curCode":"\tpublic void testStreamingCustomSplitJobWithCustomClassLoader() throws IOException, ProgramInvocationException {\n\t\tPackagedProgram streamingInputSplitTestProg = new PackagedProgram(new File(STREAMING_INPUT_SPLITS_PROG_JAR_FILE));\n\n\t\tTestStreamEnvironment.setAsContext(\n\t\t\tminiClusterResource.getMiniCluster(),\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(STREAMING_INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.<URL>emptyList());\n\n\t\tstreamingInputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","date":"2018-10-24 22:04:20","endLine":169,"groupId":"7215","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testStreamingCustomSplitJobWithCustomClassLoader","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/23/503d7e370c7690d96c76c836cdf87740b61ecb.src","preCode":"\tpublic void testStreamingCustomSplitJobWithCustomClassLoader() throws IOException, ProgramInvocationException {\n\t\tPackagedProgram streamingInputSplitTestProg = new PackagedProgram(new File(STREAMING_INPUT_SPLITS_PROG_JAR_FILE));\n\n\t\tTestStreamEnvironment.setAsContext(\n\t\t\ttestCluster,\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(STREAMING_INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.<URL>emptyList());\n\n\t\tstreamingInputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","realPath":"flink-tests/src/test/java/org/apache/flink/test/classloading/ClassLoaderITCase.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":159,"status":"M"}],"commitId":"bf64740b308c3272de51befdab5bd7374db71407","commitMessage":"@@@[FLINK-10637] Use MiniClusterResource for tests in flink-runtime\n\nRename MiniClusterResource into MiniClusterWithClientResource and move base functionality\nin the form of MiniClusterResource into flink-runtime. The new base class simply starts a\nMiniCluster with random ports.\n\nMoreover.  this commit lets almost all tests in flink-runtime use the MiniClusterResource\nto guarantee that there are no port conflicts between concurrently executed tests.\n\nThis closes #6899.\n","date":"2018-10-24 22:04:20","modifiedFileCount":"56","status":"M","submitter":"Till Rohrmann"},{"authorTime":"2019-09-25 10:20:10","codes":[{"authorDate":"2019-09-25 10:20:10","commitOrder":3,"curCode":"\tpublic void testCustomSplitJobWithCustomClassLoaderJar() throws ProgramInvocationException {\n\n\t\tPackagedProgram inputSplitTestProg = new PackagedProgram(new File(INPUT_SPLITS_PROG_JAR_FILE));\n\n\t\tTestEnvironment.setAsContext(\n\t\t\tminiClusterResource.getMiniCluster(),\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.emptyList());\n\n\t\tinputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","date":"2019-10-02 22:10:37","endLine":156,"groupId":"7215","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testCustomSplitJobWithCustomClassLoaderJar","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/7e/cf4887e84800ed11126fe15c00e71b83a48212.src","preCode":"\tpublic void testCustomSplitJobWithCustomClassLoaderJar() throws IOException, ProgramInvocationException {\n\n\t\tPackagedProgram inputSplitTestProg = new PackagedProgram(new File(INPUT_SPLITS_PROG_JAR_FILE));\n\n\t\tTestEnvironment.setAsContext(\n\t\t\tminiClusterResource.getMiniCluster(),\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.<URL>emptyList());\n\n\t\tinputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","realPath":"flink-tests/src/test/java/org/apache/flink/test/classloading/ClassLoaderITCase.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":145,"status":"M"},{"authorDate":"2019-09-25 10:20:10","commitOrder":3,"curCode":"\tpublic void testStreamingCustomSplitJobWithCustomClassLoader() throws ProgramInvocationException {\n\t\tPackagedProgram streamingInputSplitTestProg = new PackagedProgram(new File(STREAMING_INPUT_SPLITS_PROG_JAR_FILE));\n\n\t\tTestStreamEnvironment.setAsContext(\n\t\t\tminiClusterResource.getMiniCluster(),\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(STREAMING_INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.emptyList());\n\n\t\tstreamingInputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","date":"2019-10-02 22:10:37","endLine":169,"groupId":"7215","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testStreamingCustomSplitJobWithCustomClassLoader","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/7e/cf4887e84800ed11126fe15c00e71b83a48212.src","preCode":"\tpublic void testStreamingCustomSplitJobWithCustomClassLoader() throws IOException, ProgramInvocationException {\n\t\tPackagedProgram streamingInputSplitTestProg = new PackagedProgram(new File(STREAMING_INPUT_SPLITS_PROG_JAR_FILE));\n\n\t\tTestStreamEnvironment.setAsContext(\n\t\t\tminiClusterResource.getMiniCluster(),\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(STREAMING_INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.<URL>emptyList());\n\n\t\tstreamingInputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","realPath":"flink-tests/src/test/java/org/apache/flink/test/classloading/ClassLoaderITCase.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":159,"status":"M"}],"commitId":"2a182ffc1946fac7d2dcf7d16c408c53ef61466e","commitMessage":"@@@[hotfix][test] Clean up unnecessary type argument declarations in ClassLoaderITCase\n","date":"2019-10-02 22:10:37","modifiedFileCount":"1","status":"M","submitter":"sunhaibotb"},{"authorTime":"2019-09-09 19:02:28","codes":[{"authorDate":"2019-09-09 19:02:28","commitOrder":4,"curCode":"\tpublic void testCustomSplitJobWithCustomClassLoaderJar() throws ProgramInvocationException {\n\n\t\tPackagedProgram inputSplitTestProg = PackagedProgram.newBuilder()\n\t\t\t.setJarFile(new File(INPUT_SPLITS_PROG_JAR_FILE))\n\t\t\t.build();\n\n\t\tTestEnvironment.setAsContext(\n\t\t\tminiClusterResource.getMiniCluster(),\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.emptyList());\n\n\t\tinputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","date":"2019-11-09 19:26:33","endLine":154,"groupId":"101656","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testCustomSplitJobWithCustomClassLoaderJar","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/23/280f0d54a6cbb26e1b509c5e4e79f474c49488.src","preCode":"\tpublic void testCustomSplitJobWithCustomClassLoaderJar() throws ProgramInvocationException {\n\n\t\tPackagedProgram inputSplitTestProg = new PackagedProgram(new File(INPUT_SPLITS_PROG_JAR_FILE));\n\n\t\tTestEnvironment.setAsContext(\n\t\t\tminiClusterResource.getMiniCluster(),\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.emptyList());\n\n\t\tinputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","realPath":"flink-tests/src/test/java/org/apache/flink/test/classloading/ClassLoaderITCase.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":141,"status":"M"},{"authorDate":"2019-09-09 19:02:28","commitOrder":4,"curCode":"\tpublic void testStreamingCustomSplitJobWithCustomClassLoader() throws ProgramInvocationException {\n\t\tPackagedProgram streamingInputSplitTestProg = PackagedProgram.newBuilder()\n\t\t\t.setJarFile(new File(STREAMING_INPUT_SPLITS_PROG_JAR_FILE))\n\t\t\t.build();\n\n\t\tTestStreamEnvironment.setAsContext(\n\t\t\tminiClusterResource.getMiniCluster(),\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(STREAMING_INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.emptyList());\n\n\t\tstreamingInputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","date":"2019-11-09 19:26:33","endLine":169,"groupId":"101656","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testStreamingCustomSplitJobWithCustomClassLoader","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/23/280f0d54a6cbb26e1b509c5e4e79f474c49488.src","preCode":"\tpublic void testStreamingCustomSplitJobWithCustomClassLoader() throws ProgramInvocationException {\n\t\tPackagedProgram streamingInputSplitTestProg = new PackagedProgram(new File(STREAMING_INPUT_SPLITS_PROG_JAR_FILE));\n\n\t\tTestStreamEnvironment.setAsContext(\n\t\t\tminiClusterResource.getMiniCluster(),\n\t\t\tparallelism,\n\t\t\tCollections.singleton(new Path(STREAMING_INPUT_SPLITS_PROG_JAR_FILE)),\n\t\t\tCollections.emptyList());\n\n\t\tstreamingInputSplitTestProg.invokeInteractiveModeForExecution();\n\t}\n","realPath":"flink-tests/src/test/java/org/apache/flink/test/classloading/ClassLoaderITCase.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":157,"status":"M"}],"commitId":"c1e9aefc2449a4ea0ff3fa590cf1eb6c1cb484a2","commitMessage":"@@@[FLINK-14465] Let StandaloneJobClusterEntryPoint use the user code class loader\n\n[FLINK-14465] The PackageProgram's constructor does not throw excpetion\nany more when jarFile is null. Introducing this change is because there\nmay be no jarFile in perjob mode. All jars the user code depends on are\nin the classpaths.\n\n[FLINK-14465] ClassPathJobGraphRetriever creates PackagesProgram with user\nclass paths.\n\n[FLINK-14465] StandaloneJobClusterEntryPoint uses \"FLINK_HOME/usrlib\"\nas the job's class path. The environment variable FLINK_HOME is set\nat Dockerfile. Link the FLINK_JOB_ARTIFACTS_DIR to the FLINK_HOME/job. \nwhich makes the FlinkUserClassloader load the user class in the\nstandalone perjob mode.\n\nThis closes #10076.\n","date":"2019-11-09 19:26:33","modifiedFileCount":"22","status":"M","submitter":"GuoWei Ma"}]
