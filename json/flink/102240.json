[{"authorTime":"2016-12-10 01:41:36","codes":[{"authorDate":"2016-12-10 01:41:36","commitOrder":1,"curCode":"\tpublic void readMixedQuotedStringFields() throws Exception {\n\t\tString fileContent = \"@a|b|c@|def|@ghijk@\\nabc||@|hhg@\\n|||\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tRowTypeInfo typeInfo = new RowTypeInfo(\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO);\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, typeInfo, \"\\n\", \"|\");\n\t\tformat.configure(new Configuration());\n\t\tformat.enableQuotedStringParsing('@');\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"a|b|c\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"|hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","date":"2016-12-15 18:36:40","endLine":309,"groupId":"2680","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"readMixedQuotedStringFields","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/a6/8e81ee839a623e584cfc0ed94f51d8ace5d0a9.src","preCode":"\tpublic void readMixedQuotedStringFields() throws Exception {\n\t\tString fileContent = \"@a|b|c@|def|@ghijk@\\nabc||@|hhg@\\n|||\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tRowTypeInfo typeInfo = new RowTypeInfo(\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO);\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, typeInfo, \"\\n\", \"|\");\n\t\tformat.configure(new Configuration());\n\t\tformat.enableQuotedStringParsing('@');\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"a|b|c\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"|hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","realPath":"flink-java/src/test/java/org/apache/flink/api/java/io/RowCsvInputFormatTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":271,"status":"B"},{"authorDate":"2016-12-10 01:41:36","commitOrder":1,"curCode":"\tpublic void readStringFieldsWithTrailingDelimiters() throws Exception {\n\t\tString fileContent = \"abc|-def|-ghijk\\nabc|-|-hhg\\n|-|-|-\\n\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tRowTypeInfo typeInfo = new RowTypeInfo(\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO);\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, typeInfo, \"\\n\", \"|\");\n\t\tformat.setFieldDelimiter(\"|-\");\n\t\tformat.configure(new Configuration());\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","date":"2016-12-15 18:36:40","endLine":350,"groupId":"2680","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"readStringFieldsWithTrailingDelimiters","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/a6/8e81ee839a623e584cfc0ed94f51d8ace5d0a9.src","preCode":"\tpublic void readStringFieldsWithTrailingDelimiters() throws Exception {\n\t\tString fileContent = \"abc|-def|-ghijk\\nabc|-|-hhg\\n|-|-|-\\n\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tRowTypeInfo typeInfo = new RowTypeInfo(\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO);\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, typeInfo, \"\\n\", \"|\");\n\t\tformat.setFieldDelimiter(\"|-\");\n\t\tformat.configure(new Configuration());\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","realPath":"flink-java/src/test/java/org/apache/flink/api/java/io/RowCsvInputFormatTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":312,"status":"B"}],"commitId":"4d27f8f2deef9fad845ebc91cef121cf9b35f825","commitMessage":"@@@[FLINK-5188] [table] [connectors] [core] Adjust imports and method calls to new Row type.\n\n- Port RowCsvInputFormat to Java and move it to flink-core.\n\nThis closes #3003.\n","date":"2016-12-15 18:36:40","modifiedFileCount":"35","status":"B","submitter":"tonycox"},{"authorTime":"2016-12-08 16:00:40","codes":[{"authorDate":"2016-12-08 16:00:40","commitOrder":2,"curCode":"\tpublic void readMixedQuotedStringFields() throws Exception {\n\t\tString fileContent = \"@a|b|c@|def|@ghijk@\\nabc||@|hhg@\\n|||\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tTypeInformation[] fieldTypes = new TypeInformation[]{\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO};\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, fieldTypes, \"\\n\", \"|\");\n\t\tformat.configure(new Configuration());\n\t\tformat.enableQuotedStringParsing('@');\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"a|b|c\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"|hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","date":"2016-12-16 23:41:21","endLine":310,"groupId":"2680","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"readMixedQuotedStringFields","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/b8/19641c8f09fd05bd471919ed81bcc56ea12ee7.src","preCode":"\tpublic void readMixedQuotedStringFields() throws Exception {\n\t\tString fileContent = \"@a|b|c@|def|@ghijk@\\nabc||@|hhg@\\n|||\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tRowTypeInfo typeInfo = new RowTypeInfo(\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO);\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, typeInfo, \"\\n\", \"|\");\n\t\tformat.configure(new Configuration());\n\t\tformat.enableQuotedStringParsing('@');\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"a|b|c\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"|hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","realPath":"flink-java/src/test/java/org/apache/flink/api/java/io/RowCsvInputFormatTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":272,"status":"M"},{"authorDate":"2016-12-08 16:00:40","commitOrder":2,"curCode":"\tpublic void readStringFieldsWithTrailingDelimiters() throws Exception {\n\t\tString fileContent = \"abc|-def|-ghijk\\nabc|-|-hhg\\n|-|-|-\\n\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tTypeInformation[] fieldTypes = new TypeInformation[]{\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO};\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, fieldTypes, \"\\n\", \"|\");\n\t\tformat.setFieldDelimiter(\"|-\");\n\t\tformat.configure(new Configuration());\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","date":"2016-12-16 23:41:21","endLine":351,"groupId":"2680","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"readStringFieldsWithTrailingDelimiters","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/b8/19641c8f09fd05bd471919ed81bcc56ea12ee7.src","preCode":"\tpublic void readStringFieldsWithTrailingDelimiters() throws Exception {\n\t\tString fileContent = \"abc|-def|-ghijk\\nabc|-|-hhg\\n|-|-|-\\n\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tRowTypeInfo typeInfo = new RowTypeInfo(\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO);\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, typeInfo, \"\\n\", \"|\");\n\t\tformat.setFieldDelimiter(\"|-\");\n\t\tformat.configure(new Configuration());\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","realPath":"flink-java/src/test/java/org/apache/flink/api/java/io/RowCsvInputFormatTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":313,"status":"M"}],"commitId":"ef575e87e8a77d56673d40d98d3d66c6511d57ab","commitMessage":"@@@[FLINK-3848] [table] Add projection push down for StreamTableSource.\n\n- Add plan tests for projection push down.\n- Implement ProjectableTableSource in CsvTableSource.\n- Refactored RowCsvInputFormat\n\nThis closes #2810.\n","date":"2016-12-16 23:41:21","modifiedFileCount":"2","status":"M","submitter":"tonycox"},{"authorTime":"2016-12-08 16:00:40","codes":[{"authorDate":"2017-02-25 16:37:37","commitOrder":3,"curCode":"\tpublic void readMixedQuotedStringFields() throws Exception {\n\t\tString fileContent = \"@a|b|c@|def|@ghijk@\\nabc||@|hhg@\\n|||\\n\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tTypeInformation[] fieldTypes = new TypeInformation[]{\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO};\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, fieldTypes, \"\\n\", \"|\");\n\t\tformat.configure(new Configuration());\n\t\tformat.enableQuotedStringParsing('@');\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"a|b|c\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"|hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","date":"2017-02-28 05:50:19","endLine":316,"groupId":"2680","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"readMixedQuotedStringFields","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/f6/bda30aef30cbf2b47199e7b938c6d61fabc996.src","preCode":"\tpublic void readMixedQuotedStringFields() throws Exception {\n\t\tString fileContent = \"@a|b|c@|def|@ghijk@\\nabc||@|hhg@\\n|||\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tTypeInformation[] fieldTypes = new TypeInformation[]{\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO};\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, fieldTypes, \"\\n\", \"|\");\n\t\tformat.configure(new Configuration());\n\t\tformat.enableQuotedStringParsing('@');\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"a|b|c\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"|hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","realPath":"flink-java/src/test/java/org/apache/flink/api/java/io/RowCsvInputFormatTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":278,"status":"M"},{"authorDate":"2016-12-08 16:00:40","commitOrder":3,"curCode":"\tpublic void readStringFieldsWithTrailingDelimiters() throws Exception {\n\t\tString fileContent = \"abc|-def|-ghijk\\nabc|-|-hhg\\n|-|-|-\\n\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tTypeInformation[] fieldTypes = new TypeInformation[]{\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO};\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, fieldTypes, \"\\n\", \"|\");\n\t\tformat.setFieldDelimiter(\"|-\");\n\t\tformat.configure(new Configuration());\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","date":"2016-12-16 23:41:21","endLine":351,"groupId":"2680","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"readStringFieldsWithTrailingDelimiters","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/b8/19641c8f09fd05bd471919ed81bcc56ea12ee7.src","preCode":"\tpublic void readStringFieldsWithTrailingDelimiters() throws Exception {\n\t\tString fileContent = \"abc|-def|-ghijk\\nabc|-|-hhg\\n|-|-|-\\n\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tTypeInformation[] fieldTypes = new TypeInformation[]{\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO};\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, fieldTypes, \"\\n\", \"|\");\n\t\tformat.setFieldDelimiter(\"|-\");\n\t\tformat.configure(new Configuration());\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","realPath":"flink-java/src/test/java/org/apache/flink/api/java/io/RowCsvInputFormatTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":313,"status":"N"}],"commitId":"1a062b796274c9f63caeb2bf12aad96e34efd0aa","commitMessage":"@@@[FLINK-5907] [java] Fix handling of trailing empty fields in CsvInputFormat.\n\nThis closes #3417.\n","date":"2017-02-28 05:50:19","modifiedFileCount":"6","status":"M","submitter":"Kurt Young"},{"authorTime":"2016-12-08 16:00:40","codes":[{"authorDate":"2020-11-18 21:25:05","commitOrder":4,"curCode":"\tpublic void readMixedQuotedStringFields() throws Exception {\n\t\tString fileContent = \"@a|b|c@|def|@ghijk@\\nabc||@|hhg@\\n|||\\n\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tTypeInformation[] fieldTypes = new TypeInformation[]{\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO};\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, fieldTypes, \"\\n\", \"|\");\n\t\tformat.enableQuotedStringParsing('@');\n\t\tformat.configure(new Configuration());\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"a|b|c\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"|hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","date":"2020-12-02 20:12:31","endLine":320,"groupId":"102240","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"readMixedQuotedStringFields","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/b4/aab3259c058fdbcc39720801906932e31e3d77.src","preCode":"\tpublic void readMixedQuotedStringFields() throws Exception {\n\t\tString fileContent = \"@a|b|c@|def|@ghijk@\\nabc||@|hhg@\\n|||\\n\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tTypeInformation[] fieldTypes = new TypeInformation[]{\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO};\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, fieldTypes, \"\\n\", \"|\");\n\t\tformat.configure(new Configuration());\n\t\tformat.enableQuotedStringParsing('@');\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"a|b|c\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"|hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","realPath":"flink-java/src/test/java/org/apache/flink/api/java/io/RowCsvInputFormatTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":282,"status":"M"},{"authorDate":"2016-12-08 16:00:40","commitOrder":4,"curCode":"\tpublic void readStringFieldsWithTrailingDelimiters() throws Exception {\n\t\tString fileContent = \"abc|-def|-ghijk\\nabc|-|-hhg\\n|-|-|-\\n\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tTypeInformation[] fieldTypes = new TypeInformation[]{\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO};\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, fieldTypes, \"\\n\", \"|\");\n\t\tformat.setFieldDelimiter(\"|-\");\n\t\tformat.configure(new Configuration());\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","date":"2016-12-16 23:41:21","endLine":351,"groupId":"102240","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"readStringFieldsWithTrailingDelimiters","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/b8/19641c8f09fd05bd471919ed81bcc56ea12ee7.src","preCode":"\tpublic void readStringFieldsWithTrailingDelimiters() throws Exception {\n\t\tString fileContent = \"abc|-def|-ghijk\\nabc|-|-hhg\\n|-|-|-\\n\";\n\n\t\tFileInputSplit split = createTempFile(fileContent);\n\n\t\tTypeInformation[] fieldTypes = new TypeInformation[]{\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO,\n\t\t\tBasicTypeInfo.STRING_TYPE_INFO};\n\n\t\tRowCsvInputFormat format = new RowCsvInputFormat(PATH, fieldTypes, \"\\n\", \"|\");\n\t\tformat.setFieldDelimiter(\"|-\");\n\t\tformat.configure(new Configuration());\n\t\tformat.open(split);\n\n\t\tRow result = new Row(3);\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"def\", result.getField(1));\n\t\tassertEquals(\"ghijk\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"abc\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"hhg\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNotNull(result);\n\t\tassertEquals(\"\", result.getField(0));\n\t\tassertEquals(\"\", result.getField(1));\n\t\tassertEquals(\"\", result.getField(2));\n\n\t\tresult = format.nextRecord(result);\n\t\tassertNull(result);\n\t\tassertTrue(format.reachedEnd());\n\t}\n","realPath":"flink-java/src/test/java/org/apache/flink/api/java/io/RowCsvInputFormatTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":313,"status":"N"}],"commitId":"02f16958346483d91cd59cb902e0cce63fa5875f","commitMessage":"@@@[FLINK-20221] DelimitedInputFormat does not restore compressed splits\n\nCloses #14174\n","date":"2020-12-02 20:12:31","modifiedFileCount":"9","status":"M","submitter":"Gyula Fora"}]
