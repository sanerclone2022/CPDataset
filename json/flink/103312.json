[{"authorTime":"2016-11-24 15:14:48","codes":[{"authorDate":"2017-02-14 13:39:30","commitOrder":3,"curCode":"\tpublic void testApplyWindowState() throws Exception {\n\t\tfinal StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\t\tenv.setStreamTimeCharacteristic(TimeCharacteristic.IngestionTime);\n\t\tenv.registerTypeWithKryoSerializer(File.class, JavaSerializer.class);\n\t\t\n\t\tDataStream<File> src = env.fromElements(new File(\"/\"));\n\n\t\tSingleOutputStreamOperator<?> result = src\n\t\t\t\t.keyBy(new KeySelector<File, String>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic String getKey(File value) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.timeWindow(Time.milliseconds(1000))\n\t\t\t\t.apply(new WindowFunction<File, String, String, TimeWindow>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic void apply(String s, TimeWindow window, \n\t\t\t\t\t\t\t\t\t\tIterable<File> input, Collector<String> out) {}\n\t\t\t\t});\n\n\t\tvalidateListStateDescriptorConfigured(result);\n\t}\n","date":"2017-02-15 19:21:07","endLine":136,"groupId":"34216","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testApplyWindowState","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/26/cb7acdc91df880023ef61b017023ef3ab30472.src","preCode":"\tpublic void testApplyWindowState() throws Exception {\n\t\tfinal StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\t\tenv.setStreamTimeCharacteristic(TimeCharacteristic.IngestionTime);\n\t\tenv.registerTypeWithKryoSerializer(File.class, JavaSerializer.class);\n\t\t\n\t\tDataStream<File> src = env.fromElements(new File(\"/\"));\n\n\t\tSingleOutputStreamOperator<?> result = src\n\t\t\t\t.keyBy(new KeySelector<File, String>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic String getKey(File value) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.timeWindow(Time.milliseconds(1000))\n\t\t\t\t.apply(new WindowFunction<File, String, String, TimeWindow>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic void apply(String s, TimeWindow window, \n\t\t\t\t\t\t\t\t\t\tIterable<File> input, Collector<String> out) {}\n\t\t\t\t});\n\n\t\tvalidateListStateDescriptorConfigured(result);\n\t}\n","realPath":"flink-streaming-java/src/test/java/org/apache/flink/streaming/api/operators/StateDescriptorPassingTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":114,"status":"NB"},{"authorDate":"2016-11-24 15:14:48","commitOrder":3,"curCode":"\tpublic void testProcessWindowState() throws Exception {\n\t\tfinal StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\t\tenv.setStreamTimeCharacteristic(TimeCharacteristic.IngestionTime);\n\t\tenv.registerTypeWithKryoSerializer(File.class, JavaSerializer.class);\n\n\t\tDataStream<File> src = env.fromElements(new File(\"/\"));\n\n\t\tSingleOutputStreamOperator<?> result = src\n\t\t\t\t.keyBy(new KeySelector<File, String>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic String getKey(File value) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.timeWindow(Time.milliseconds(1000))\n\t\t\t\t.process(new ProcessWindowFunction<File, String, String, TimeWindow>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic void process(String s, Context ctx,\n\t\t\t\t\t\t\tIterable<File> input, Collector<String> out) {}\n\t\t\t\t});\n\n\t\tvalidateListStateDescriptorConfigured(result);\n\t}\n","date":"2017-02-18 00:15:51","endLine":162,"groupId":"34214","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testProcessWindowState","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/81/3ca9667aa8bbace8e961485d1615f61cca5439.src","preCode":"\tpublic void testProcessWindowState() throws Exception {\n\t\tfinal StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\t\tenv.setStreamTimeCharacteristic(TimeCharacteristic.IngestionTime);\n\t\tenv.registerTypeWithKryoSerializer(File.class, JavaSerializer.class);\n\n\t\tDataStream<File> src = env.fromElements(new File(\"/\"));\n\n\t\tSingleOutputStreamOperator<?> result = src\n\t\t\t\t.keyBy(new KeySelector<File, String>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic String getKey(File value) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.timeWindow(Time.milliseconds(1000))\n\t\t\t\t.process(new ProcessWindowFunction<File, String, String, TimeWindow>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic void process(String s, Context ctx,\n\t\t\t\t\t\t\tIterable<File> input, Collector<String> out) {}\n\t\t\t\t});\n\n\t\tvalidateListStateDescriptorConfigured(result);\n\t}\n","realPath":"flink-streaming-java/src/test/java/org/apache/flink/streaming/api/operators/StateDescriptorPassingTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":140,"status":"B"}],"commitId":"5368a7d32d96beb1b8298b87d9ea6d42ea306947","commitMessage":"@@@[FLINK-5237] Consolidate and harmonize Window Translation Tests\n","date":"2017-02-18 00:15:51","modifiedFileCount":"2","status":"M","submitter":"Aljoscha Krettek"},{"authorTime":"2020-09-21 18:40:06","codes":[{"authorDate":"2020-09-21 18:40:06","commitOrder":4,"curCode":"\tpublic void testApplyWindowState() {\n\t\tfinal StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\t\tenv.registerTypeWithKryoSerializer(File.class, JavaSerializer.class);\n\n\t\tDataStream<File> src = env.fromElements(new File(\"/\"))\n\t\t\t\t.assignTimestampsAndWatermarks(WatermarkStrategy.<File>forMonotonousTimestamps()\n\t\t\t\t\t\t.withTimestampAssigner((file, ts) -> System.currentTimeMillis()));\n\n\t\tSingleOutputStreamOperator<?> result = src\n\t\t\t\t.keyBy(new KeySelector<File, String>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic String getKey(File value) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.window(TumblingEventTimeWindows.of(Time.milliseconds(1000)))\n\t\t\t\t.apply(new WindowFunction<File, String, String, TimeWindow>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic void apply(String s, TimeWindow window,\n\t\t\t\t\t\t\t\t\t\tIterable<File> input, Collector<String> out) {}\n\t\t\t\t});\n\n\t\tvalidateListStateDescriptorConfigured(result);\n\t}\n","date":"2020-10-01 23:03:44","endLine":112,"groupId":"103312","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testApplyWindowState","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/5b/bb9bb70072bb9bfbfff7c77970c098d0f857b3.src","preCode":"\tpublic void testApplyWindowState() throws Exception {\n\t\tfinal StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\t\tenv.setStreamTimeCharacteristic(TimeCharacteristic.IngestionTime);\n\t\tenv.registerTypeWithKryoSerializer(File.class, JavaSerializer.class);\n\n\t\tDataStream<File> src = env.fromElements(new File(\"/\"));\n\n\t\tSingleOutputStreamOperator<?> result = src\n\t\t\t\t.keyBy(new KeySelector<File, String>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic String getKey(File value) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.timeWindow(Time.milliseconds(1000))\n\t\t\t\t.apply(new WindowFunction<File, String, String, TimeWindow>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic void apply(String s, TimeWindow window,\n\t\t\t\t\t\t\t\t\t\tIterable<File> input, Collector<String> out) {}\n\t\t\t\t});\n\n\t\tvalidateListStateDescriptorConfigured(result);\n\t}\n","realPath":"flink-streaming-java/src/test/java/org/apache/flink/streaming/api/operators/StateDescriptorPassingTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"M"},{"authorDate":"2020-09-21 18:40:06","commitOrder":4,"curCode":"\tpublic void testProcessWindowState() {\n\t\tfinal StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\t\tenv.registerTypeWithKryoSerializer(File.class, JavaSerializer.class);\n\n\t\tDataStream<File> src = env.fromElements(new File(\"/\"))\n\t\t\t\t.assignTimestampsAndWatermarks(WatermarkStrategy.<File>forMonotonousTimestamps()\n\t\t\t\t\t\t.withTimestampAssigner((file, ts) -> System.currentTimeMillis()));\n\n\t\tSingleOutputStreamOperator<?> result = src\n\t\t\t\t.keyBy(new KeySelector<File, String>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic String getKey(File value) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.window(TumblingEventTimeWindows.of(Time.milliseconds(1000)))\n\t\t\t\t.process(new ProcessWindowFunction<File, String, String, TimeWindow>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic void process(String s, Context ctx,\n\t\t\t\t\t\t\tIterable<File> input, Collector<String> out) {}\n\t\t\t\t});\n\n\t\tvalidateListStateDescriptorConfigured(result);\n\t}\n","date":"2020-10-01 23:03:44","endLine":138,"groupId":"103312","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testProcessWindowState","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-flink-10-0.7/blobInfo/CC_OUT/blobs/5b/bb9bb70072bb9bfbfff7c77970c098d0f857b3.src","preCode":"\tpublic void testProcessWindowState() throws Exception {\n\t\tfinal StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\t\tenv.setStreamTimeCharacteristic(TimeCharacteristic.IngestionTime);\n\t\tenv.registerTypeWithKryoSerializer(File.class, JavaSerializer.class);\n\n\t\tDataStream<File> src = env.fromElements(new File(\"/\"));\n\n\t\tSingleOutputStreamOperator<?> result = src\n\t\t\t\t.keyBy(new KeySelector<File, String>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic String getKey(File value) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.timeWindow(Time.milliseconds(1000))\n\t\t\t\t.process(new ProcessWindowFunction<File, String, String, TimeWindow>() {\n\t\t\t\t\t@Override\n\t\t\t\t\tpublic void process(String s, Context ctx,\n\t\t\t\t\t\t\tIterable<File> input, Collector<String> out) {}\n\t\t\t\t});\n\n\t\tvalidateListStateDescriptorConfigured(result);\n\t}\n","realPath":"flink-streaming-java/src/test/java/org/apache/flink/streaming/api/operators/StateDescriptorPassingTest.java","repoName":"flink","snippetEndLine":0,"snippetStartLine":0,"startLine":115,"status":"M"}],"commitId":"1175364cc9f5bc6018d4c3f231d24cb8ff5e6341","commitMessage":"@@@[FLINK-19317] Make EventTime the default TimeCharacteristic\n\nThis is part of the FLIP-134 (Batch execution for the DataStream API)\nwork.\n\nEvent time is the only sensible time characteristic for batch\nprocessing. We therefore change the default value of the\nTimeCharacteristic from ProcessingTime to EventTime. This means the\nDataStream API programs that were using event time before now just work\nwithout manually changing this setting. Processing-time programs will\nalso still work.  because using processing-time timers is not dependent\non the TimeCharacteristic. DataStream programs that don't set a\nTimestampAssigner or WatermarkStrategy will also still work if they\ndon't use operations that don't rely on (event-time) timestamps.  This\nis true for both BATCH and STREAMING execution mode.\n\nWith this change.  users don't need to call\nsetStreamTimeCharacteristic(EventTime) anymore. We will make sure they\nlearn of this by deprecating the method in a follow-up commit.\n\nThe only real user-visible change of this is that programs that used the\nKeyedStream.timeWindow()/DataStream.timeWindow() operation.  which is\ndependent on the TimeCharacteristic will now use event time by default.\nWe don't think this operation is useful because the behaviour can be\nsurprising. We recommend users always use an explicit processing-time\nwindow or event-time window.\n\nWe also change the default watermark interval from 0 (disabled) to 200\nto match the previous behaviour of calling\nsetStreamTimeCharacteristic(EventTime).\n","date":"2020-10-01 23:03:44","modifiedFileCount":"18","status":"M","submitter":"Aljoscha Krettek"}]
