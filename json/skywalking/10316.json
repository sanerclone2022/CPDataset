[{"authorTime":"2021-02-06 21:22:58","codes":[{"authorDate":"2021-02-06 21:22:58","commitOrder":1,"curCode":"        public Map<String, Object> entity2Storage(SegmentRecord storageData) {\n            storageData.statement = Strings.join(new String[] {\n                storageData.endpointName,\n                storageData.traceId\n            }, \" - \");\n            Map<String, Object> map = new HashMap<>();\n            map.put(SEGMENT_ID, storageData.getSegmentId());\n            map.put(TRACE_ID, storageData.getTraceId());\n            map.put(TopN.STATEMENT, storageData.getStatement());\n            map.put(SERVICE_ID, storageData.getServiceId());\n            map.put(SERVICE_INSTANCE_ID, storageData.getServiceInstanceId());\n            map.put(ENDPOINT_NAME, storageData.getEndpointName());\n            map.put(ENDPOINT_ID, storageData.getEndpointId());\n            map.put(START_TIME, storageData.getStartTime());\n            map.put(END_TIME, storageData.getEndTime());\n            map.put(LATENCY, storageData.getLatency());\n            map.put(IS_ERROR, storageData.getIsError());\n            map.put(TIME_BUCKET, storageData.getTimeBucket());\n            if (CollectionUtils.isEmpty(storageData.getDataBinary())) {\n                map.put(DATA_BINARY, Const.EMPTY_STRING);\n            } else {\n                map.put(DATA_BINARY, new String(Base64.getEncoder().encode(storageData.getDataBinary())));\n            }\n            map.put(VERSION, storageData.getVersion());\n            map.put(TAGS, storageData.getTags());\n            return map;\n        }\n","date":"2021-02-06 21:22:58","endLine":158,"groupId":"4381","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"entity2Storage","params":"(SegmentRecordstorageData)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/06/03f94375d502adadbd260b089ca8515fa3ae1f.src","preCode":"        public Map<String, Object> entity2Storage(SegmentRecord storageData) {\n            storageData.statement = Strings.join(new String[] {\n                storageData.endpointName,\n                storageData.traceId\n            }, \" - \");\n            Map<String, Object> map = new HashMap<>();\n            map.put(SEGMENT_ID, storageData.getSegmentId());\n            map.put(TRACE_ID, storageData.getTraceId());\n            map.put(TopN.STATEMENT, storageData.getStatement());\n            map.put(SERVICE_ID, storageData.getServiceId());\n            map.put(SERVICE_INSTANCE_ID, storageData.getServiceInstanceId());\n            map.put(ENDPOINT_NAME, storageData.getEndpointName());\n            map.put(ENDPOINT_ID, storageData.getEndpointId());\n            map.put(START_TIME, storageData.getStartTime());\n            map.put(END_TIME, storageData.getEndTime());\n            map.put(LATENCY, storageData.getLatency());\n            map.put(IS_ERROR, storageData.getIsError());\n            map.put(TIME_BUCKET, storageData.getTimeBucket());\n            if (CollectionUtils.isEmpty(storageData.getDataBinary())) {\n                map.put(DATA_BINARY, Const.EMPTY_STRING);\n            } else {\n                map.put(DATA_BINARY, new String(Base64.getEncoder().encode(storageData.getDataBinary())));\n            }\n            map.put(VERSION, storageData.getVersion());\n            map.put(TAGS, storageData.getTags());\n            return map;\n        }\n","realPath":"oap-server/server-core/src/main/java/org/apache/skywalking/oap/server/core/analysis/manual/segment/SegmentRecord.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":132,"status":"B"},{"authorDate":"2021-02-06 21:22:58","commitOrder":1,"curCode":"        public Map<String, Object> entity2Storage(ServiceInstanceRelationServerSideMetrics storageData) {\n            Map<String, Object> map = new HashMap<>();\n            map.put(ENTITY_ID, storageData.getEntityId());\n            map.put(SOURCE_SERVICE_ID, storageData.getSourceServiceId());\n            map.put(SOURCE_SERVICE_INSTANCE_ID, storageData.getSourceServiceInstanceId());\n            map.put(DEST_SERVICE_ID, storageData.getDestServiceId());\n            map.put(DEST_SERVICE_INSTANCE_ID, storageData.getDestServiceInstanceId());\n            map.put(COMPONENT_ID, storageData.getComponentId());\n            map.put(TIME_BUCKET, storageData.getTimeBucket());\n            return map;\n        }\n","date":"2021-02-06 21:22:58","endLine":175,"groupId":"4309","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"entity2Storage","params":"(ServiceInstanceRelationServerSideMetricsstorageData)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/41/dcc5f9510895eca5fe10914e0a4b2f28927789.src","preCode":"        public Map<String, Object> entity2Storage(ServiceInstanceRelationServerSideMetrics storageData) {\n            Map<String, Object> map = new HashMap<>();\n            map.put(ENTITY_ID, storageData.getEntityId());\n            map.put(SOURCE_SERVICE_ID, storageData.getSourceServiceId());\n            map.put(SOURCE_SERVICE_INSTANCE_ID, storageData.getSourceServiceInstanceId());\n            map.put(DEST_SERVICE_ID, storageData.getDestServiceId());\n            map.put(DEST_SERVICE_INSTANCE_ID, storageData.getDestServiceInstanceId());\n            map.put(COMPONENT_ID, storageData.getComponentId());\n            map.put(TIME_BUCKET, storageData.getTimeBucket());\n            return map;\n        }\n","realPath":"oap-server/server-core/src/main/java/org/apache/skywalking/oap/server/core/analysis/manual/relation/instance/ServiceInstanceRelationServerSideMetrics.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":165,"status":"B"}],"commitId":"fc23dabf37a85cfc27482dbaf25b0109114f6ef7","commitMessage":"@@@Support multiple implementations of StorageBuilder in different storage implementations - stage 1. (#6334)\n\n","date":"2021-02-06 21:22:58","modifiedFileCount":"74","status":"B","submitter":"?? Wu Sheng"},{"authorTime":"2021-02-06 21:22:58","codes":[{"authorDate":"2021-08-10 00:05:06","commitOrder":2,"curCode":"        public Map<String, Object> entity2Storage(SegmentRecord storageData) {\n            Map<String, Object> map = new HashMap<>();\n            map.put(SEGMENT_ID, storageData.getSegmentId());\n            map.put(TRACE_ID, storageData.getTraceId());\n            map.put(SERVICE_ID, storageData.getServiceId());\n            map.put(SERVICE_INSTANCE_ID, storageData.getServiceInstanceId());\n            map.put(ENDPOINT_NAME, storageData.getEndpointName());\n            map.put(ENDPOINT_ID, storageData.getEndpointId());\n            map.put(START_TIME, storageData.getStartTime());\n            map.put(LATENCY, storageData.getLatency());\n            map.put(IS_ERROR, storageData.getIsError());\n            map.put(TIME_BUCKET, storageData.getTimeBucket());\n            if (CollectionUtils.isEmpty(storageData.getDataBinary())) {\n                map.put(DATA_BINARY, Const.EMPTY_STRING);\n            } else {\n                map.put(DATA_BINARY, new String(Base64.getEncoder().encode(storageData.getDataBinary())));\n            }\n            map.put(TAGS, storageData.getTags());\n            return map;\n        }\n","date":"2021-08-10 00:05:06","endLine":135,"groupId":"4381","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"entity2Storage","params":"(SegmentRecordstorageData)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/7a/f441927fbbcd1e54d844d5a8a6c6a57cc1d280.src","preCode":"        public Map<String, Object> entity2Storage(SegmentRecord storageData) {\n            storageData.statement = Strings.join(new String[] {\n                storageData.endpointName,\n                storageData.traceId\n            }, \" - \");\n            Map<String, Object> map = new HashMap<>();\n            map.put(SEGMENT_ID, storageData.getSegmentId());\n            map.put(TRACE_ID, storageData.getTraceId());\n            map.put(TopN.STATEMENT, storageData.getStatement());\n            map.put(SERVICE_ID, storageData.getServiceId());\n            map.put(SERVICE_INSTANCE_ID, storageData.getServiceInstanceId());\n            map.put(ENDPOINT_NAME, storageData.getEndpointName());\n            map.put(ENDPOINT_ID, storageData.getEndpointId());\n            map.put(START_TIME, storageData.getStartTime());\n            map.put(END_TIME, storageData.getEndTime());\n            map.put(LATENCY, storageData.getLatency());\n            map.put(IS_ERROR, storageData.getIsError());\n            map.put(TIME_BUCKET, storageData.getTimeBucket());\n            if (CollectionUtils.isEmpty(storageData.getDataBinary())) {\n                map.put(DATA_BINARY, Const.EMPTY_STRING);\n            } else {\n                map.put(DATA_BINARY, new String(Base64.getEncoder().encode(storageData.getDataBinary())));\n            }\n            map.put(VERSION, storageData.getVersion());\n            map.put(TAGS, storageData.getTags());\n            return map;\n        }\n","realPath":"oap-server/server-core/src/main/java/org/apache/skywalking/oap/server/core/analysis/manual/segment/SegmentRecord.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":116,"status":"M"},{"authorDate":"2021-02-06 21:22:58","commitOrder":2,"curCode":"        public Map<String, Object> entity2Storage(ServiceInstanceRelationServerSideMetrics storageData) {\n            Map<String, Object> map = new HashMap<>();\n            map.put(ENTITY_ID, storageData.getEntityId());\n            map.put(SOURCE_SERVICE_ID, storageData.getSourceServiceId());\n            map.put(SOURCE_SERVICE_INSTANCE_ID, storageData.getSourceServiceInstanceId());\n            map.put(DEST_SERVICE_ID, storageData.getDestServiceId());\n            map.put(DEST_SERVICE_INSTANCE_ID, storageData.getDestServiceInstanceId());\n            map.put(COMPONENT_ID, storageData.getComponentId());\n            map.put(TIME_BUCKET, storageData.getTimeBucket());\n            return map;\n        }\n","date":"2021-02-06 21:22:58","endLine":175,"groupId":"4309","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"entity2Storage","params":"(ServiceInstanceRelationServerSideMetricsstorageData)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/41/dcc5f9510895eca5fe10914e0a4b2f28927789.src","preCode":"        public Map<String, Object> entity2Storage(ServiceInstanceRelationServerSideMetrics storageData) {\n            Map<String, Object> map = new HashMap<>();\n            map.put(ENTITY_ID, storageData.getEntityId());\n            map.put(SOURCE_SERVICE_ID, storageData.getSourceServiceId());\n            map.put(SOURCE_SERVICE_INSTANCE_ID, storageData.getSourceServiceInstanceId());\n            map.put(DEST_SERVICE_ID, storageData.getDestServiceId());\n            map.put(DEST_SERVICE_INSTANCE_ID, storageData.getDestServiceInstanceId());\n            map.put(COMPONENT_ID, storageData.getComponentId());\n            map.put(TIME_BUCKET, storageData.getTimeBucket());\n            return map;\n        }\n","realPath":"oap-server/server-core/src/main/java/org/apache/skywalking/oap/server/core/analysis/manual/relation/instance/ServiceInstanceRelationServerSideMetrics.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":165,"status":"N"}],"commitId":"cc66254729f74d739ff2a85c72ded44fdaeb1cd4","commitMessage":"@@@Remove statement.  version.  and endtime from segment entity. (#7427)\n\n","date":"2021-08-10 00:05:06","modifiedFileCount":"11","status":"M","submitter":"?? Wu Sheng"},{"authorTime":"2021-02-06 21:22:58","codes":[{"authorDate":"2021-08-11 16:27:10","commitOrder":3,"curCode":"        public Map<String, Object> entity2Storage(SegmentRecord storageData) {\n            Map<String, Object> map = new HashMap<>();\n            map.put(SEGMENT_ID, storageData.getSegmentId());\n            map.put(TRACE_ID, storageData.getTraceId());\n            map.put(SERVICE_ID, storageData.getServiceId());\n            map.put(SERVICE_INSTANCE_ID, storageData.getServiceInstanceId());\n            map.put(ENDPOINT_ID, storageData.getEndpointId());\n            map.put(START_TIME, storageData.getStartTime());\n            map.put(LATENCY, storageData.getLatency());\n            map.put(IS_ERROR, storageData.getIsError());\n            map.put(TIME_BUCKET, storageData.getTimeBucket());\n            if (CollectionUtils.isEmpty(storageData.getDataBinary())) {\n                map.put(DATA_BINARY, Const.EMPTY_STRING);\n            } else {\n                map.put(DATA_BINARY, new String(Base64.getEncoder().encode(storageData.getDataBinary())));\n            }\n            map.put(TAGS, storageData.getTags());\n            return map;\n        }\n","date":"2021-08-11 16:27:10","endLine":130,"groupId":"10316","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"entity2Storage","params":"(SegmentRecordstorageData)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/21/92ce229e5c368ee60069c7f7ee89927f603e27.src","preCode":"        public Map<String, Object> entity2Storage(SegmentRecord storageData) {\n            Map<String, Object> map = new HashMap<>();\n            map.put(SEGMENT_ID, storageData.getSegmentId());\n            map.put(TRACE_ID, storageData.getTraceId());\n            map.put(SERVICE_ID, storageData.getServiceId());\n            map.put(SERVICE_INSTANCE_ID, storageData.getServiceInstanceId());\n            map.put(ENDPOINT_NAME, storageData.getEndpointName());\n            map.put(ENDPOINT_ID, storageData.getEndpointId());\n            map.put(START_TIME, storageData.getStartTime());\n            map.put(LATENCY, storageData.getLatency());\n            map.put(IS_ERROR, storageData.getIsError());\n            map.put(TIME_BUCKET, storageData.getTimeBucket());\n            if (CollectionUtils.isEmpty(storageData.getDataBinary())) {\n                map.put(DATA_BINARY, Const.EMPTY_STRING);\n            } else {\n                map.put(DATA_BINARY, new String(Base64.getEncoder().encode(storageData.getDataBinary())));\n            }\n            map.put(TAGS, storageData.getTags());\n            return map;\n        }\n","realPath":"oap-server/server-core/src/main/java/org/apache/skywalking/oap/server/core/analysis/manual/segment/SegmentRecord.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":112,"status":"M"},{"authorDate":"2021-02-06 21:22:58","commitOrder":3,"curCode":"        public Map<String, Object> entity2Storage(ServiceInstanceRelationServerSideMetrics storageData) {\n            Map<String, Object> map = new HashMap<>();\n            map.put(ENTITY_ID, storageData.getEntityId());\n            map.put(SOURCE_SERVICE_ID, storageData.getSourceServiceId());\n            map.put(SOURCE_SERVICE_INSTANCE_ID, storageData.getSourceServiceInstanceId());\n            map.put(DEST_SERVICE_ID, storageData.getDestServiceId());\n            map.put(DEST_SERVICE_INSTANCE_ID, storageData.getDestServiceInstanceId());\n            map.put(COMPONENT_ID, storageData.getComponentId());\n            map.put(TIME_BUCKET, storageData.getTimeBucket());\n            return map;\n        }\n","date":"2021-02-06 21:22:58","endLine":175,"groupId":"10316","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"entity2Storage","params":"(ServiceInstanceRelationServerSideMetricsstorageData)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/41/dcc5f9510895eca5fe10914e0a4b2f28927789.src","preCode":"        public Map<String, Object> entity2Storage(ServiceInstanceRelationServerSideMetrics storageData) {\n            Map<String, Object> map = new HashMap<>();\n            map.put(ENTITY_ID, storageData.getEntityId());\n            map.put(SOURCE_SERVICE_ID, storageData.getSourceServiceId());\n            map.put(SOURCE_SERVICE_INSTANCE_ID, storageData.getSourceServiceInstanceId());\n            map.put(DEST_SERVICE_ID, storageData.getDestServiceId());\n            map.put(DEST_SERVICE_INSTANCE_ID, storageData.getDestServiceInstanceId());\n            map.put(COMPONENT_ID, storageData.getComponentId());\n            map.put(TIME_BUCKET, storageData.getTimeBucket());\n            return map;\n        }\n","realPath":"oap-server/server-core/src/main/java/org/apache/skywalking/oap/server/core/analysis/manual/relation/instance/ServiceInstanceRelationServerSideMetrics.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":165,"status":"N"}],"commitId":"de6cae34295f1558a92430323accc617202c754d","commitMessage":"@@@[Break Change] Remove endpoint name in the trace query condition. (#7438)\n\n* [Break Change] Remove endpoint name in the trace query condition.\n\n* Fix a local UT error(MacOS only)","date":"2021-08-11 16:27:10","modifiedFileCount":"19","status":"M","submitter":"?? Wu Sheng"}]
