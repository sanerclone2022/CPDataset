[{"authorTime":"2021-02-05 16:30:54","codes":[{"authorDate":"2021-02-05 16:30:54","commitOrder":3,"curCode":"    protected void addEndpoints(final V1Endpoints endpoints) {\n        V1ObjectMeta endpointsMetadata = endpoints.getMetadata();\n        if (isNull(endpointsMetadata)) {\n            log.error(\"Endpoints metadata is null: {}\", endpoints);\n            return;\n        }\n\n        final String namespace = endpointsMetadata.getNamespace();\n        final String name = endpointsMetadata.getName();\n\n        ofNullable(endpoints.getSubsets()).ifPresent(subsets -> subsets.forEach(\n            subset -> ofNullable(subset.getAddresses()).ifPresent(addresses -> addresses.forEach(\n                address -> ipServiceMap.put(address.getIp(), namespace + \":\" + name)\n            ))\n        ));\n\n        recompose();\n    }\n","date":"2021-02-05 16:30:54","endLine":247,"groupId":"6950","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"addEndpoints","params":"(finalV1Endpointsendpoints)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/10/4360ef073d120555b3fff76bbf65e71aa8f7fb.src","preCode":"    protected void addEndpoints(final V1Endpoints endpoints) {\n        V1ObjectMeta endpointsMetadata = endpoints.getMetadata();\n        if (isNull(endpointsMetadata)) {\n            log.error(\"Endpoints metadata is null: {}\", endpoints);\n            return;\n        }\n\n        final String namespace = endpointsMetadata.getNamespace();\n        final String name = endpointsMetadata.getName();\n\n        ofNullable(endpoints.getSubsets()).ifPresent(subsets -> subsets.forEach(\n            subset -> ofNullable(subset.getAddresses()).ifPresent(addresses -> addresses.forEach(\n                address -> ipServiceMap.put(address.getIp(), namespace + \":\" + name)\n            ))\n        ));\n\n        recompose();\n    }\n","realPath":"oap-server/server-receiver-plugin/envoy-metrics-receiver-plugin/src/main/java/org/apache/skywalking/oap/server/receiver/envoy/als/k8s/K8SServiceRegistry.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":230,"status":"MB"},{"authorDate":"2021-02-05 16:30:54","commitOrder":3,"curCode":"    protected void removeEndpoints(final V1Endpoints endpoints) {\n        ofNullable(endpoints.getSubsets()).ifPresent(subsets -> subsets.forEach(\n            subset -> ofNullable(subset.getAddresses()).ifPresent(addresses -> addresses.forEach(\n                address -> ipServiceMap.remove(address.getIp())\n            ))\n        ));\n    }\n","date":"2021-02-05 16:30:54","endLine":255,"groupId":"6950","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"removeEndpoints","params":"(finalV1Endpointsendpoints)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/10/4360ef073d120555b3fff76bbf65e71aa8f7fb.src","preCode":"    protected void removeEndpoints(final V1Endpoints endpoints) {\n        ofNullable(endpoints.getSubsets()).ifPresent(subsets -> subsets.forEach(\n            subset -> ofNullable(subset.getAddresses()).ifPresent(addresses -> addresses.forEach(\n                address -> ipServiceMap.remove(address.getIp())\n            ))\n        ));\n    }\n","realPath":"oap-server/server-receiver-plugin/envoy-metrics-receiver-plugin/src/main/java/org/apache/skywalking/oap/server/receiver/envoy/als/k8s/K8SServiceRegistry.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":249,"status":"B"}],"commitId":"547f5f1e77ef0fb173c3d8b2c0c99b2f2f81e88f","commitMessage":"@@@Add some defensive codes for NPE and bump up Kubernetes client version to expose exception stack trace (#6327)\n\n","date":"2021-02-05 16:30:54","modifiedFileCount":"1","status":"M","submitter":"Zhenxu Ke"},{"authorTime":"2021-05-07 07:50:03","codes":[{"authorDate":"2021-05-07 07:50:03","commitOrder":4,"curCode":"    protected void addEndpoints(final V1Endpoints endpoints) {\n        V1ObjectMeta endpointsMetadata = endpoints.getMetadata();\n        if (isNull(endpointsMetadata)) {\n            log.error(\"Endpoints metadata is null: {}\", endpoints);\n            return;\n        }\n\n        final String namespace = endpointsMetadata.getNamespace();\n        final String name = endpointsMetadata.getName();\n\n        ofNullable(endpoints.getSubsets()).ifPresent(subsets -> subsets.forEach(\n            subset -> ofNullable(subset.getAddresses()).ifPresent(addresses -> addresses.forEach(\n                address -> ofNullable(address.getIp()).ifPresent(ip -> ipServiceMap.put(ip, namespace + \":\" + name))\n            ))\n        ));\n\n        recompose();\n    }\n","date":"2021-05-07 07:50:03","endLine":243,"groupId":"10935","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"addEndpoints","params":"(finalV1Endpointsendpoints)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/f5/7fa66056cf43e56e725023f1d681ccd80d118a.src","preCode":"    protected void addEndpoints(final V1Endpoints endpoints) {\n        V1ObjectMeta endpointsMetadata = endpoints.getMetadata();\n        if (isNull(endpointsMetadata)) {\n            log.error(\"Endpoints metadata is null: {}\", endpoints);\n            return;\n        }\n\n        final String namespace = endpointsMetadata.getNamespace();\n        final String name = endpointsMetadata.getName();\n\n        ofNullable(endpoints.getSubsets()).ifPresent(subsets -> subsets.forEach(\n            subset -> ofNullable(subset.getAddresses()).ifPresent(addresses -> addresses.forEach(\n                address -> ipServiceMap.put(address.getIp(), namespace + \":\" + name)\n            ))\n        ));\n\n        recompose();\n    }\n","realPath":"oap-server/server-receiver-plugin/envoy-metrics-receiver-plugin/src/main/java/org/apache/skywalking/oap/server/receiver/envoy/als/k8s/K8SServiceRegistry.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":226,"status":"M"},{"authorDate":"2021-05-07 07:50:03","commitOrder":4,"curCode":"    protected void removeEndpoints(final V1Endpoints endpoints) {\n        ofNullable(endpoints.getSubsets()).ifPresent(subsets -> subsets.forEach(\n            subset -> ofNullable(subset.getAddresses()).ifPresent(addresses -> addresses.forEach(\n                address -> ofNullable(address.getIp()).ifPresent(ipServiceMap::remove)\n            ))\n        ));\n    }\n","date":"2021-05-07 07:50:03","endLine":251,"groupId":"10935","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"removeEndpoints","params":"(finalV1Endpointsendpoints)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/f5/7fa66056cf43e56e725023f1d681ccd80d118a.src","preCode":"    protected void removeEndpoints(final V1Endpoints endpoints) {\n        ofNullable(endpoints.getSubsets()).ifPresent(subsets -> subsets.forEach(\n            subset -> ofNullable(subset.getAddresses()).ifPresent(addresses -> addresses.forEach(\n                address -> ipServiceMap.remove(address.getIp())\n            ))\n        ));\n    }\n","realPath":"oap-server/server-receiver-plugin/envoy-metrics-receiver-plugin/src/main/java/org/apache/skywalking/oap/server/receiver/envoy/als/k8s/K8SServiceRegistry.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":245,"status":"M"}],"commitId":"3b15f8d132284c6eec6bb670341910b640cbc65d","commitMessage":"@@@feature: Envoy access log receiver supports TCP logs (#6727)\n\n","date":"2021-05-07 07:50:03","modifiedFileCount":"17","status":"M","submitter":"Zhenxu Ke"}]
