[{"authorTime":"2021-05-07 23:25:20","codes":[{"authorDate":"2021-05-07 23:25:20","commitOrder":2,"curCode":"    public LogData convertToLogData(final HTTPAccessLogEntry logEntry,\n                                    final Result result) throws Exception {\n\n        final ServiceMetaInfo service = result.getService();\n\n        final ServiceMeshMetric.Builder metrics = new LogEntry2MetricsAdapter(logEntry, null, null).adaptCommonPart();\n\n        return LogData\n            .newBuilder()\n            .setService(service.getServiceName())\n            .setServiceInstance(service.getServiceInstanceName())\n            .setTimestamp(metrics.getEndTime())\n            .setBody(\n                LogDataBody\n                    .newBuilder()\n                    .setJson(\n                        JSONLog\n                            .newBuilder()\n                            .setJson(toJSON(logEntry))\n                    )\n            )\n            .build();\n    }\n","date":"2021-05-07 23:25:20","endLine":102,"groupId":"6023","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"convertToLogData","params":"(finalHTTPAccessLogEntrylogEntry@finalResultresult)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/4f/1e266b930044f2acff9df80ebef6f23daf3bee.src","preCode":"    public LogData convertToLogData(final HTTPAccessLogEntry logEntry,\n                                    final Result result) throws Exception {\n\n        final ServiceMetaInfo service = result.getService();\n\n        final ServiceMeshMetric.Builder metrics = new LogEntry2MetricsAdapter(logEntry, null, null).adaptCommonPart();\n\n        return LogData\n            .newBuilder()\n            .setService(service.getServiceName())\n            .setServiceInstance(service.getServiceInstanceName())\n            .setTimestamp(metrics.getEndTime())\n            .setBody(\n                LogDataBody\n                    .newBuilder()\n                    .setJson(\n                        JSONLog\n                            .newBuilder()\n                            .setJson(toJSON(logEntry))\n                    )\n            )\n            .build();\n    }\n","realPath":"oap-server/server-receiver-plugin/envoy-metrics-receiver-plugin/src/main/java/org/apache/skywalking/oap/server/receiver/envoy/persistence/LogsPersistence.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":80,"status":"MB"},{"authorDate":"2021-05-07 23:25:20","commitOrder":2,"curCode":"    public LogData convertToLogData(final TCPAccessLogEntry logEntry,\n                                    final Result result) throws Exception {\n\n        final ServiceMetaInfo service = result.getService();\n\n        final ServiceMeshMetric.Builder metrics = new TCPLogEntry2MetricsAdapter(logEntry, null, null).adaptCommonPart();\n\n        return LogData\n            .newBuilder()\n            .setService(service.getServiceName())\n            .setServiceInstance(service.getServiceInstanceName())\n            .setTimestamp(metrics.getEndTime())\n            .setBody(\n                LogDataBody\n                    .newBuilder()\n                    .setJson(\n                        JSONLog\n                            .newBuilder()\n                            .setJson(toJSON(logEntry))\n                    )\n            )\n            .build();\n    }\n","date":"2021-05-07 23:25:20","endLine":102,"groupId":"6023","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"convertToLogData","params":"(finalTCPAccessLogEntrylogEntry@finalResultresult)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/8d/3d0b63bfa4377a58891cbdb88c09c56932de14.src","preCode":"    public LogData convertToLogData(final TCPAccessLogEntry logEntry,\n                                    final Result result) throws Exception {\n\n        final ServiceMetaInfo service = result.getService();\n\n        final ServiceMeshMetric.Builder metrics = new TCPLogEntry2MetricsAdapter(logEntry, null, null).adaptCommonPart();\n\n        return LogData\n            .newBuilder()\n            .setService(service.getServiceName())\n            .setServiceInstance(service.getServiceInstanceName())\n            .setTimestamp(metrics.getEndTime())\n            .setBody(\n                LogDataBody\n                    .newBuilder()\n                    .setJson(\n                        JSONLog\n                            .newBuilder()\n                            .setJson(toJSON(logEntry))\n                    )\n            )\n            .build();\n    }\n","realPath":"oap-server/server-receiver-plugin/envoy-metrics-receiver-plugin/src/main/java/org/apache/skywalking/oap/server/receiver/envoy/persistence/TCPLogsPersistence.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":80,"status":"B"}],"commitId":"4103551092b51f733693daa1e7f3e9aba95141e5","commitMessage":"@@@bugfix: Envoy error logs are not persisted when no metrics are generated (#6911)\n\n","date":"2021-05-07 23:25:20","modifiedFileCount":"10","status":"M","submitter":"Zhenxu Ke"},{"authorTime":"2021-07-13 18:44:52","codes":[{"authorDate":"2021-07-13 18:44:52","commitOrder":3,"curCode":"    public LogData convertToLogData(final HTTPAccessLogEntry logEntry, final Result result) {\n        final ServiceMetaInfo service = result.getService();\n\n        final ServiceMeshMetric.Builder metrics =\n            new LogEntry2MetricsAdapter(logEntry, null, null).adaptCommonPart();\n\n        return LogData\n            .newBuilder()\n            .setService(service.getServiceName())\n            .setServiceInstance(service.getServiceInstanceName())\n            .setTimestamp(metrics.getEndTime())\n            .build();\n    }\n","date":"2021-07-13 18:44:52","endLine":92,"groupId":"10934","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"convertToLogData","params":"(finalHTTPAccessLogEntrylogEntry@finalResultresult)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/82/4af8a48d8e84a517b3d13b5da38d85b2f7d6da.src","preCode":"    public LogData convertToLogData(final HTTPAccessLogEntry logEntry,\n                                    final Result result) throws Exception {\n\n        final ServiceMetaInfo service = result.getService();\n\n        final ServiceMeshMetric.Builder metrics = new LogEntry2MetricsAdapter(logEntry, null, null).adaptCommonPart();\n\n        return LogData\n            .newBuilder()\n            .setService(service.getServiceName())\n            .setServiceInstance(service.getServiceInstanceName())\n            .setTimestamp(metrics.getEndTime())\n            .setBody(\n                LogDataBody\n                    .newBuilder()\n                    .setJson(\n                        JSONLog\n                            .newBuilder()\n                            .setJson(toJSON(logEntry))\n                    )\n            )\n            .build();\n    }\n","realPath":"oap-server/server-receiver-plugin/envoy-metrics-receiver-plugin/src/main/java/org/apache/skywalking/oap/server/receiver/envoy/persistence/LogsPersistence.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":80,"status":"M"},{"authorDate":"2021-07-13 18:44:52","commitOrder":3,"curCode":"    public LogData convertToLogData(final TCPAccessLogEntry logEntry, final Result result) {\n        final ServiceMetaInfo service = result.getService();\n\n        final ServiceMeshMetric.Builder metrics =\n            new TCPLogEntry2MetricsAdapter(logEntry, null, null).adaptCommonPart();\n\n        return LogData\n            .newBuilder()\n            .setService(service.getServiceName())\n            .setServiceInstance(service.getServiceInstanceName())\n            .setTimestamp(metrics.getEndTime())\n            .build();\n    }\n","date":"2021-07-13 18:44:52","endLine":92,"groupId":"10934","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"convertToLogData","params":"(finalTCPAccessLogEntrylogEntry@finalResultresult)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/1d/2f67de20b71bfdc7048d5b44372f78c0a25b9b.src","preCode":"    public LogData convertToLogData(final TCPAccessLogEntry logEntry,\n                                    final Result result) throws Exception {\n\n        final ServiceMetaInfo service = result.getService();\n\n        final ServiceMeshMetric.Builder metrics = new TCPLogEntry2MetricsAdapter(logEntry, null, null).adaptCommonPart();\n\n        return LogData\n            .newBuilder()\n            .setService(service.getServiceName())\n            .setServiceInstance(service.getServiceInstanceName())\n            .setTimestamp(metrics.getEndTime())\n            .setBody(\n                LogDataBody\n                    .newBuilder()\n                    .setJson(\n                        JSONLog\n                            .newBuilder()\n                            .setJson(toJSON(logEntry))\n                    )\n            )\n            .build();\n    }\n","realPath":"oap-server/server-receiver-plugin/envoy-metrics-receiver-plugin/src/main/java/org/apache/skywalking/oap/server/receiver/envoy/persistence/TCPLogsPersistence.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":80,"status":"M"}],"commitId":"982001c63aed54623c94b017afb873df0d679002","commitMessage":"@@@perf: optimize Envoy access log persistence performance (#7290)\n\n","date":"2021-07-13 18:44:52","modifiedFileCount":"15","status":"M","submitter":"kezhenxu94"}]
