[{"authorTime":"2019-05-15 00:29:23","codes":[{"authorDate":"2019-06-17 11:27:40","commitOrder":2,"curCode":"    @Override public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n\n        List<URI> uris = EtcdUtils.parse(config);\n\n        \r\n        client = new EtcdClient(uris.toArray(new URI[] {}));\n        EtcdCoordinator coordinator = new EtcdCoordinator(config, client);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","date":"2019-06-17 11:27:40","endLine":71,"groupId":"2371","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"prepare","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/a9/00291e45307632f3f6483da55a8b3c4d7d4db8.src","preCode":"    @Override public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n\n        List<URI> uris = EtcdUtils.parse(config);\n\n        \r\n        client = new EtcdClient(uris.toArray(new URI[] {}));\n        EtcdCoordinator coordinator = new EtcdCoordinator(config, client);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","realPath":"oap-server/server-cluster-plugin/cluster-etcd-plugin/src/main/java/org/apache/skywalking/oap/server/cluster/plugin/etcd/ClusterModuleEtcdProvider.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":62,"status":"B"},{"authorDate":"2019-05-15 00:29:23","commitOrder":2,"curCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        try {\n            namingService = NamingFactory.createNamingService(config.getHostPort());\n        } catch (NacosException e) {\n            throw new ModuleStartException(e.getMessage(), e);\n        }\n        NacosCoordinator coordinator = new NacosCoordinator(namingService, config);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","date":"2019-05-15 00:29:23","endLine":68,"groupId":"2766","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"prepare","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/34/b3bc37fce57250a83426be3a0b5a35fb29935a.src","preCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        try {\n            namingService = NamingFactory.createNamingService(config.getHostPort());\n        } catch (NacosException e) {\n            throw new ModuleStartException(e.getMessage(), e);\n        }\n        NacosCoordinator coordinator = new NacosCoordinator(namingService, config);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","realPath":"oap-server/server-cluster-plugin/cluster-nacos-plugin/src/main/java/org/apache/skywalking/oap/server/cluster/plugin/nacos/ClusterModuleNacosProvider.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":59,"status":"NB"}],"commitId":"a70a2b236ef8d33559b263ed0451dc2ff8dbfbf6","commitMessage":"@@@Add cluster-etcd-plugin (#2725)\n\n* Add cluster-etcd-plugin","date":"2019-06-17 11:27:40","modifiedFileCount":"0","status":"M","submitter":"Alan Lau"},{"authorTime":"2019-10-09 16:25:47","codes":[{"authorDate":"2019-06-17 11:27:40","commitOrder":3,"curCode":"    @Override public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n\n        List<URI> uris = EtcdUtils.parse(config);\n\n        \r\n        client = new EtcdClient(uris.toArray(new URI[] {}));\n        EtcdCoordinator coordinator = new EtcdCoordinator(config, client);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","date":"2019-06-17 11:27:40","endLine":71,"groupId":"2371","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"prepare","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/a9/00291e45307632f3f6483da55a8b3c4d7d4db8.src","preCode":"    @Override public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n\n        List<URI> uris = EtcdUtils.parse(config);\n\n        \r\n        client = new EtcdClient(uris.toArray(new URI[] {}));\n        EtcdCoordinator coordinator = new EtcdCoordinator(config, client);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","realPath":"oap-server/server-cluster-plugin/cluster-etcd-plugin/src/main/java/org/apache/skywalking/oap/server/cluster/plugin/etcd/ClusterModuleEtcdProvider.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":62,"status":"N"},{"authorDate":"2019-10-09 16:25:47","commitOrder":3,"curCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        try {\n            Properties properties = new Properties();\n            properties.put(PropertyKeyConst.SERVER_ADDR, config.getHostPort());\n            properties.put(PropertyKeyConst.NAMESPACE, config.getNamespace());\n            namingService = NamingFactory.createNamingService(properties);\n        } catch (Exception e) {\n            throw new ModuleStartException(e.getMessage(), e);\n        }\n        NacosCoordinator coordinator = new NacosCoordinator(namingService, config);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","date":"2019-10-09 16:25:47","endLine":73,"groupId":"2766","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"prepare","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/5c/4d4f9a47a5b81c4d30269a153eee5aa134fe7f.src","preCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        try {\n            namingService = NamingFactory.createNamingService(config.getHostPort());\n        } catch (NacosException e) {\n            throw new ModuleStartException(e.getMessage(), e);\n        }\n        NacosCoordinator coordinator = new NacosCoordinator(namingService, config);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","realPath":"oap-server/server-cluster-plugin/cluster-nacos-plugin/src/main/java/org/apache/skywalking/oap/server/cluster/plugin/nacos/ClusterModuleNacosProvider.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":61,"status":"M"}],"commitId":"72b722a5c15bc0b546edb0a0c5e98f857708dd64","commitMessage":"@@@Support namespace in Nacos cluster/configuration (#3578)\n\n* Support namespace in Nacos cluster/configuration\n\n* Give Nacos default namespace as per config/registry\n","date":"2019-10-09 16:25:47","modifiedFileCount":"6","status":"M","submitter":"kezhenxu94"},{"authorTime":"2019-10-09 16:25:47","codes":[{"authorDate":"2020-02-11 17:10:49","commitOrder":4,"curCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n\n        List<URI> uris = EtcdUtils.parse(config);\n\n        \r\n        client = new EtcdClient(uris.toArray(new URI[] {}));\n        EtcdCoordinator coordinator = new EtcdCoordinator(config, client);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","date":"2020-02-11 17:10:49","endLine":73,"groupId":"2371","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"prepare","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/71/be800858ab3ad4198ec83403117d19bdf4fcef.src","preCode":"    @Override public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n\n        List<URI> uris = EtcdUtils.parse(config);\n\n        \r\n        client = new EtcdClient(uris.toArray(new URI[] {}));\n        EtcdCoordinator coordinator = new EtcdCoordinator(config, client);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","realPath":"oap-server/server-cluster-plugin/cluster-etcd-plugin/src/main/java/org/apache/skywalking/oap/server/cluster/plugin/etcd/ClusterModuleEtcdProvider.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":64,"status":"M"},{"authorDate":"2019-10-09 16:25:47","commitOrder":4,"curCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        try {\n            Properties properties = new Properties();\n            properties.put(PropertyKeyConst.SERVER_ADDR, config.getHostPort());\n            properties.put(PropertyKeyConst.NAMESPACE, config.getNamespace());\n            namingService = NamingFactory.createNamingService(properties);\n        } catch (Exception e) {\n            throw new ModuleStartException(e.getMessage(), e);\n        }\n        NacosCoordinator coordinator = new NacosCoordinator(namingService, config);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","date":"2019-10-09 16:25:47","endLine":73,"groupId":"2766","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"prepare","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/5c/4d4f9a47a5b81c4d30269a153eee5aa134fe7f.src","preCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        try {\n            Properties properties = new Properties();\n            properties.put(PropertyKeyConst.SERVER_ADDR, config.getHostPort());\n            properties.put(PropertyKeyConst.NAMESPACE, config.getNamespace());\n            namingService = NamingFactory.createNamingService(properties);\n        } catch (Exception e) {\n            throw new ModuleStartException(e.getMessage(), e);\n        }\n        NacosCoordinator coordinator = new NacosCoordinator(namingService, config);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","realPath":"oap-server/server-cluster-plugin/cluster-nacos-plugin/src/main/java/org/apache/skywalking/oap/server/cluster/plugin/nacos/ClusterModuleNacosProvider.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":61,"status":"N"}],"commitId":"5b255ba3e3b50e0e0196b28cdca21dcd5c9c3da2","commitMessage":"@@@Set up more strict code styles and fix existing issues (#4337)\n\nMotivation:\n\nReview code styles with some bots automatically.\n\nModifications:\n\nSet up ReviewDog in GitHub Action to review code style.\n\nAdd more check rules to checkstyle plugin.\n\nResult:\n\nObvious code styles can be reviewed and commented automatically.","date":"2020-02-11 17:10:49","modifiedFileCount":"2429","status":"M","submitter":"kezhenxu94"},{"authorTime":"2020-10-16 14:46:53","codes":[{"authorDate":"2020-02-11 17:10:49","commitOrder":5,"curCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n\n        List<URI> uris = EtcdUtils.parse(config);\n\n        \r\n        client = new EtcdClient(uris.toArray(new URI[] {}));\n        EtcdCoordinator coordinator = new EtcdCoordinator(config, client);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","date":"2020-02-11 17:10:49","endLine":73,"groupId":"2371","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"prepare","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/71/be800858ab3ad4198ec83403117d19bdf4fcef.src","preCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n\n        List<URI> uris = EtcdUtils.parse(config);\n\n        \r\n        client = new EtcdClient(uris.toArray(new URI[] {}));\n        EtcdCoordinator coordinator = new EtcdCoordinator(config, client);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","realPath":"oap-server/server-cluster-plugin/cluster-etcd-plugin/src/main/java/org/apache/skywalking/oap/server/cluster/plugin/etcd/ClusterModuleEtcdProvider.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":64,"status":"N"},{"authorDate":"2020-10-16 14:46:53","commitOrder":5,"curCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        try {\n            Properties properties = new Properties();\n            properties.put(PropertyKeyConst.SERVER_ADDR, config.getHostPort());\n            properties.put(PropertyKeyConst.NAMESPACE, config.getNamespace());\n            if (StringUtil.isNotEmpty(config.getUsername()) && StringUtil.isNotEmpty(config.getAccessKey())) {\n                throw new ModuleStartException(\"Nacos Auth method should choose either username or accessKey, not both\");\n            }\n            if (StringUtil.isNotEmpty(config.getUsername())) {\n                properties.put(PropertyKeyConst.USERNAME, config.getUsername());\n                properties.put(PropertyKeyConst.PASSWORD, config.getPassword());\n            } else if (StringUtil.isNotEmpty(config.getAccessKey())) {\n                properties.put(PropertyKeyConst.ACCESS_KEY, config.getAccessKey());\n                properties.put(PropertyKeyConst.SECRET_KEY, config.getSecretKey());\n            }\n            namingService = NamingFactory.createNamingService(properties);\n        } catch (Exception e) {\n            throw new ModuleStartException(e.getMessage(), e);\n        }\n        NacosCoordinator coordinator = new NacosCoordinator(namingService, config);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","date":"2020-10-16 14:46:53","endLine":85,"groupId":"2766","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"prepare","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/46/ad220faea67610282e882edd67830f932a4e8f.src","preCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        try {\n            Properties properties = new Properties();\n            properties.put(PropertyKeyConst.SERVER_ADDR, config.getHostPort());\n            properties.put(PropertyKeyConst.NAMESPACE, config.getNamespace());\n            namingService = NamingFactory.createNamingService(properties);\n        } catch (Exception e) {\n            throw new ModuleStartException(e.getMessage(), e);\n        }\n        NacosCoordinator coordinator = new NacosCoordinator(namingService, config);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","realPath":"oap-server/server-cluster-plugin/cluster-nacos-plugin/src/main/java/org/apache/skywalking/oap/server/cluster/plugin/nacos/ClusterModuleNacosProvider.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":63,"status":"M"}],"commitId":"d5a28baa65be71ba30b33ce06419ae7880dc272b","commitMessage":"@@@Support Nacos auth (#5669)\n\n* Support Nacos auth","date":"2020-10-16 14:46:53","modifiedFileCount":"6","status":"M","submitter":"xbkaishui"},{"authorTime":"2020-11-04 10:04:24","codes":[{"authorDate":"2020-11-04 10:04:24","commitOrder":6,"curCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        List<URI> uris = EtcdUtils.parse(config);\n        \r\n        client = new EtcdClient(uris.toArray(new URI[] {}));\n        EtcdCoordinator coordinator = new EtcdCoordinator(getManager(), config, client);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","date":"2020-11-04 10:04:24","endLine":71,"groupId":"0","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"prepare","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/55/3471d0f7160c34fd2d772863bfd83dc7c4401a.src","preCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n\n        List<URI> uris = EtcdUtils.parse(config);\n\n        \r\n        client = new EtcdClient(uris.toArray(new URI[] {}));\n        EtcdCoordinator coordinator = new EtcdCoordinator(config, client);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","realPath":"oap-server/server-cluster-plugin/cluster-etcd-plugin/src/main/java/org/apache/skywalking/oap/server/cluster/plugin/etcd/ClusterModuleEtcdProvider.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":64,"status":"M"},{"authorDate":"2020-11-04 10:04:24","commitOrder":6,"curCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        try {\n            Properties properties = new Properties();\n            properties.put(PropertyKeyConst.SERVER_ADDR, config.getHostPort());\n            properties.put(PropertyKeyConst.NAMESPACE, config.getNamespace());\n            if (StringUtil.isNotEmpty(config.getUsername()) && StringUtil.isNotEmpty(config.getAccessKey())) {\n                throw new ModuleStartException(\"Nacos Auth method should choose either username or accessKey, not both\");\n            }\n            if (StringUtil.isNotEmpty(config.getUsername())) {\n                properties.put(PropertyKeyConst.USERNAME, config.getUsername());\n                properties.put(PropertyKeyConst.PASSWORD, config.getPassword());\n            } else if (StringUtil.isNotEmpty(config.getAccessKey())) {\n                properties.put(PropertyKeyConst.ACCESS_KEY, config.getAccessKey());\n                properties.put(PropertyKeyConst.SECRET_KEY, config.getSecretKey());\n            }\n            namingService = NamingFactory.createNamingService(properties);\n        } catch (Exception e) {\n            throw new ModuleStartException(e.getMessage(), e);\n        }\n        NacosCoordinator coordinator = new NacosCoordinator(getManager(), namingService, config);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","date":"2020-11-04 10:04:24","endLine":85,"groupId":"2766","id":10,"instanceNumber":2,"isCurCommit":1,"methodName":"prepare","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/39/53547c9058860287dd79a615c55c0ea5e78b6f.src","preCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        try {\n            Properties properties = new Properties();\n            properties.put(PropertyKeyConst.SERVER_ADDR, config.getHostPort());\n            properties.put(PropertyKeyConst.NAMESPACE, config.getNamespace());\n            if (StringUtil.isNotEmpty(config.getUsername()) && StringUtil.isNotEmpty(config.getAccessKey())) {\n                throw new ModuleStartException(\"Nacos Auth method should choose either username or accessKey, not both\");\n            }\n            if (StringUtil.isNotEmpty(config.getUsername())) {\n                properties.put(PropertyKeyConst.USERNAME, config.getUsername());\n                properties.put(PropertyKeyConst.PASSWORD, config.getPassword());\n            } else if (StringUtil.isNotEmpty(config.getAccessKey())) {\n                properties.put(PropertyKeyConst.ACCESS_KEY, config.getAccessKey());\n                properties.put(PropertyKeyConst.SECRET_KEY, config.getSecretKey());\n            }\n            namingService = NamingFactory.createNamingService(properties);\n        } catch (Exception e) {\n            throw new ModuleStartException(e.getMessage(), e);\n        }\n        NacosCoordinator coordinator = new NacosCoordinator(namingService, config);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","realPath":"oap-server/server-cluster-plugin/cluster-nacos-plugin/src/main/java/org/apache/skywalking/oap/server/cluster/plugin/nacos/ClusterModuleNacosProvider.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":63,"status":"M"}],"commitId":"56fe8a4b41236dd826f4ede97cd25b435d062803","commitMessage":"@@@Cluster manager health v2 (#5784)\n\n","date":"2020-11-04 10:04:24","modifiedFileCount":"25","status":"M","submitter":"xbkaishui"},{"authorTime":"2020-11-04 10:04:24","codes":[{"authorDate":"2021-07-05 11:23:11","commitOrder":7,"curCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        try {\n            EtcdCoordinator coordinator = new EtcdCoordinator(getManager(), config);\n            this.registerServiceImplementation(ClusterRegister.class, coordinator);\n            this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n        } catch (Exception e) {\n            throw new ModuleStartException(\"Failed to start ETCD coordinator.\", e);\n        }\n    }\n","date":"2021-07-05 11:23:11","endLine":66,"groupId":"10641","id":11,"instanceNumber":1,"isCurCommit":1,"methodName":"prepare","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/0f/f9b77014090908484694f3cef7fa9a457160c5.src","preCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        List<URI> uris = EtcdUtils.parse(config);\n        \r\n        client = new EtcdClient(uris.toArray(new URI[] {}));\n        EtcdCoordinator coordinator = new EtcdCoordinator(getManager(), config, client);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","realPath":"oap-server/server-cluster-plugin/cluster-etcd-plugin/src/main/java/org/apache/skywalking/oap/server/cluster/plugin/etcd/ClusterModuleEtcdProvider.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":58,"status":"M"},{"authorDate":"2020-11-04 10:04:24","commitOrder":7,"curCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        try {\n            Properties properties = new Properties();\n            properties.put(PropertyKeyConst.SERVER_ADDR, config.getHostPort());\n            properties.put(PropertyKeyConst.NAMESPACE, config.getNamespace());\n            if (StringUtil.isNotEmpty(config.getUsername()) && StringUtil.isNotEmpty(config.getAccessKey())) {\n                throw new ModuleStartException(\"Nacos Auth method should choose either username or accessKey, not both\");\n            }\n            if (StringUtil.isNotEmpty(config.getUsername())) {\n                properties.put(PropertyKeyConst.USERNAME, config.getUsername());\n                properties.put(PropertyKeyConst.PASSWORD, config.getPassword());\n            } else if (StringUtil.isNotEmpty(config.getAccessKey())) {\n                properties.put(PropertyKeyConst.ACCESS_KEY, config.getAccessKey());\n                properties.put(PropertyKeyConst.SECRET_KEY, config.getSecretKey());\n            }\n            namingService = NamingFactory.createNamingService(properties);\n        } catch (Exception e) {\n            throw new ModuleStartException(e.getMessage(), e);\n        }\n        NacosCoordinator coordinator = new NacosCoordinator(getManager(), namingService, config);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","date":"2020-11-04 10:04:24","endLine":85,"groupId":"10641","id":12,"instanceNumber":2,"isCurCommit":1,"methodName":"prepare","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/39/53547c9058860287dd79a615c55c0ea5e78b6f.src","preCode":"    public void prepare() throws ServiceNotProvidedException, ModuleStartException {\n        try {\n            Properties properties = new Properties();\n            properties.put(PropertyKeyConst.SERVER_ADDR, config.getHostPort());\n            properties.put(PropertyKeyConst.NAMESPACE, config.getNamespace());\n            if (StringUtil.isNotEmpty(config.getUsername()) && StringUtil.isNotEmpty(config.getAccessKey())) {\n                throw new ModuleStartException(\"Nacos Auth method should choose either username or accessKey, not both\");\n            }\n            if (StringUtil.isNotEmpty(config.getUsername())) {\n                properties.put(PropertyKeyConst.USERNAME, config.getUsername());\n                properties.put(PropertyKeyConst.PASSWORD, config.getPassword());\n            } else if (StringUtil.isNotEmpty(config.getAccessKey())) {\n                properties.put(PropertyKeyConst.ACCESS_KEY, config.getAccessKey());\n                properties.put(PropertyKeyConst.SECRET_KEY, config.getSecretKey());\n            }\n            namingService = NamingFactory.createNamingService(properties);\n        } catch (Exception e) {\n            throw new ModuleStartException(e.getMessage(), e);\n        }\n        NacosCoordinator coordinator = new NacosCoordinator(getManager(), namingService, config);\n        this.registerServiceImplementation(ClusterRegister.class, coordinator);\n        this.registerServiceImplementation(ClusterNodesQuery.class, coordinator);\n    }\n","realPath":"oap-server/server-cluster-plugin/cluster-nacos-plugin/src/main/java/org/apache/skywalking/oap/server/cluster/plugin/nacos/ClusterModuleNacosProvider.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":63,"status":"N"}],"commitId":"5dd56a5ca45c1bc423af71dc0829aed1221621ac","commitMessage":"@@@Upgrade etcd cluster coordinator and dynamic configuration to v3.x (#7215)\n\n","date":"2021-07-05 11:23:11","modifiedFileCount":"10","status":"M","submitter":"Daming"}]
