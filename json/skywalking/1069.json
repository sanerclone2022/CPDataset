[{"authorTime":"2020-04-15 10:01:11","codes":[{"authorDate":"2020-04-14 09:32:54","commitOrder":4,"curCode":"    private void verifyEndpointsMetrics(Endpoints endpoints) throws Exception {\n        for (Endpoint endpoint : endpoints.getEndpoints()) {\n            if (!endpoint.getLabel().equals(\"/nginx/end/info\") && !endpoint.getLabel().equals(\"/nginx/info\")) {\n                continue;\n            }\n            for (final String metricName : ALL_ENDPOINT_METRICS) {\n                LOGGER.info(\"verifying endpoint {}: {}\", endpoint, metricName);\n\n                final Metrics metrics = graphql.metrics(\n                    new MetricsQuery().stepByMinute().metricsName(metricName).id(endpoint.getKey())\n                );\n\n                LOGGER.info(\"metrics: {}\", metrics);\n\n                final AtLeastOneOfMetricsMatcher instanceRespTimeMatcher = new AtLeastOneOfMetricsMatcher();\n                final MetricsValueMatcher greaterThanZero = new MetricsValueMatcher();\n                greaterThanZero.setValue(\"gt 0\");\n                instanceRespTimeMatcher.setValue(greaterThanZero);\n                instanceRespTimeMatcher.verify(metrics);\n\n                LOGGER.info(\"{}: {}\", metricName, metrics);\n            }\n        }\n    }\n","date":"2020-04-14 09:32:54","endLine":243,"groupId":"7008","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"verifyEndpointsMetrics","params":"(Endpointsendpoints)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/48/ebc1d7121e1501f2100176f2987e74c9a5e26e.src","preCode":"    private void verifyEndpointsMetrics(Endpoints endpoints) throws Exception {\n        for (Endpoint endpoint : endpoints.getEndpoints()) {\n            if (!endpoint.getLabel().equals(\"/nginx/end/info\") && !endpoint.getLabel().equals(\"/nginx/info\")) {\n                continue;\n            }\n            for (final String metricName : ALL_ENDPOINT_METRICS) {\n                LOGGER.info(\"verifying endpoint {}: {}\", endpoint, metricName);\n\n                final Metrics metrics = graphql.metrics(\n                    new MetricsQuery().stepByMinute().metricsName(metricName).id(endpoint.getKey())\n                );\n\n                LOGGER.info(\"metrics: {}\", metrics);\n\n                final AtLeastOneOfMetricsMatcher instanceRespTimeMatcher = new AtLeastOneOfMetricsMatcher();\n                final MetricsValueMatcher greaterThanZero = new MetricsValueMatcher();\n                greaterThanZero.setValue(\"gt 0\");\n                instanceRespTimeMatcher.setValue(greaterThanZero);\n                instanceRespTimeMatcher.verify(metrics);\n\n                LOGGER.info(\"{}: {}\", metricName, metrics);\n            }\n        }\n    }\n","realPath":"test/e2e/e2e-test/src/test/java/org/apache/skywalking/e2e/LuaE2E.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":220,"status":"NB"},{"authorDate":"2020-04-15 10:01:11","commitOrder":4,"curCode":"    private void verifyEndpointsMetrics(Endpoints endpoints) throws Exception {\n        for (Endpoint endpoint : endpoints.getEndpoints()) {\n            if (!endpoint.getLabel().equals(\"/info\") && !endpoint.getLabel().equals(\"/nginx/info\")) {\n                continue;\n            }\n            for (final String metricName : ALL_ENDPOINT_METRICS) {\n                LOGGER.info(\"verifying endpoint {}: {}\", endpoint, metricName);\n\n                final Metrics metrics = graphql.metrics(\n                    new MetricsQuery().stepByMinute().metricsName(metricName).id(endpoint.getKey())\n                );\n\n                LOGGER.info(\"metrics: {}\", metrics);\n\n                final AtLeastOneOfMetricsMatcher instanceRespTimeMatcher = new AtLeastOneOfMetricsMatcher();\n                final MetricsValueMatcher greaterThanZero = new MetricsValueMatcher();\n                greaterThanZero.setValue(\"gt 0\");\n                instanceRespTimeMatcher.setValue(greaterThanZero);\n                instanceRespTimeMatcher.verify(metrics);\n\n                LOGGER.info(\"{}: {}\", metricName, metrics);\n            }\n        }\n    }\n","date":"2020-04-15 10:01:11","endLine":257,"groupId":"7008","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"verifyEndpointsMetrics","params":"(Endpointsendpoints)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/50/4bf909966649f5462df688951129e548108449.src","preCode":"    private void verifyEndpointsMetrics(Endpoints endpoints) throws Exception {\n        for (Endpoint endpoint : endpoints.getEndpoints()) {\n            if (!endpoint.getLabel().equals(\"/info\") && !endpoint.getLabel().equals(\"/nginx/info\")) {\n                continue;\n            }\n            for (final String metricName : ALL_ENDPOINT_METRICS) {\n                LOGGER.info(\"verifying endpoint {}: {}\", endpoint, metricName);\n\n                final Metrics metrics = graphql.metrics(\n                    new MetricsQuery().stepByMinute().metricsName(metricName).id(endpoint.getKey())\n                );\n\n                LOGGER.info(\"metrics: {}\", metrics);\n\n                final AtLeastOneOfMetricsMatcher instanceRespTimeMatcher = new AtLeastOneOfMetricsMatcher();\n                final MetricsValueMatcher greaterThanZero = new MetricsValueMatcher();\n                greaterThanZero.setValue(\"gt 0\");\n                instanceRespTimeMatcher.setValue(greaterThanZero);\n                instanceRespTimeMatcher.verify(metrics);\n\n                LOGGER.info(\"{}: {}\", metricName, metrics);\n            }\n        }\n    }\n","realPath":"test/e2e/e2e-test/src/test/java/org/apache/skywalking/e2e/GOE2E.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":234,"status":"B"}],"commitId":"ccb65ff27fb062fa36ba75afca85c8b5cfbbcb5a","commitMessage":"@@@Add `java` -> `go2sky` -> `java` e2e test case.  and adapt v3 protocol (#4647)\n\n* go2sky e2e\n\nCo-authored-by: kezhenxu94 <kezhenxu94@apache.org>","date":"2020-04-15 10:01:11","modifiedFileCount":"1","status":"M","submitter":"zhang-wei"},{"authorTime":"2020-10-29 14:38:49","codes":[{"authorDate":"2020-10-29 14:38:49","commitOrder":5,"curCode":"    private void verifyEndpointsMetrics(Endpoints endpoints) throws Exception {\n        for (Endpoint endpoint : endpoints.getEndpoints()) {\n            if (!endpoint.getLabel().equals(\"/nginx/end/info\") && !endpoint.getLabel().equals(\"/nginx/info\")) {\n                continue;\n            }\n            for (final String metricName : ALL_ENDPOINT_METRICS) {\n                LOGGER.info(\"verifying endpoint {}: {}\", endpoint, metricName);\n\n                final Metrics metrics = graphql.metrics(\n                    new MetricsQuery().stepByMinute().metricsName(metricName).id(endpoint.getKey())\n                );\n\n                LOGGER.info(\"metrics: {}\", metrics);\n\n                final AtLeastOneOfMetricsMatcher instanceRespTimeMatcher = new AtLeastOneOfMetricsMatcher();\n                final MetricsValueMatcher greaterThanZero = new MetricsValueMatcher();\n                greaterThanZero.setValue(\"gt 0\");\n                instanceRespTimeMatcher.setValue(greaterThanZero);\n                instanceRespTimeMatcher.verify(metrics);\n\n                LOGGER.info(\"{}: {}\", metricName, metrics);\n            }\n            for (String metricName : ALL_ENDPOINT_MULTIPLE_LINEAR_METRICS) {\n                verifyPercentileMetrics(graphql, metricName, endpoint.getKey(), startTime);\n            }\n        }\n    }\n","date":"2020-10-29 14:38:49","endLine":249,"groupId":"1069","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"verifyEndpointsMetrics","params":"(Endpointsendpoints)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/58/a2788fdc1b4516b99744cd01835d8d999a59ee.src","preCode":"    private void verifyEndpointsMetrics(Endpoints endpoints) throws Exception {\n        for (Endpoint endpoint : endpoints.getEndpoints()) {\n            if (!endpoint.getLabel().equals(\"/nginx/end/info\") && !endpoint.getLabel().equals(\"/nginx/info\")) {\n                continue;\n            }\n            for (final String metricName : ALL_ENDPOINT_METRICS) {\n                LOGGER.info(\"verifying endpoint {}: {}\", endpoint, metricName);\n\n                final Metrics metrics = graphql.metrics(\n                    new MetricsQuery().stepByMinute().metricsName(metricName).id(endpoint.getKey())\n                );\n\n                LOGGER.info(\"metrics: {}\", metrics);\n\n                final AtLeastOneOfMetricsMatcher instanceRespTimeMatcher = new AtLeastOneOfMetricsMatcher();\n                final MetricsValueMatcher greaterThanZero = new MetricsValueMatcher();\n                greaterThanZero.setValue(\"gt 0\");\n                instanceRespTimeMatcher.setValue(greaterThanZero);\n                instanceRespTimeMatcher.verify(metrics);\n\n                LOGGER.info(\"{}: {}\", metricName, metrics);\n            }\n        }\n    }\n","realPath":"test/e2e/e2e-test/src/test/java/org/apache/skywalking/e2e/LuaE2E.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":223,"status":"M"},{"authorDate":"2020-10-29 14:38:49","commitOrder":5,"curCode":"    private void verifyEndpointsMetrics(Endpoints endpoints) throws Exception {\n        for (Endpoint endpoint : endpoints.getEndpoints()) {\n            if (!endpoint.getLabel().equals(\"/info\") && !endpoint.getLabel().equals(\"/nginx/info\")) {\n                continue;\n            }\n            for (final String metricName : ALL_ENDPOINT_METRICS) {\n                LOGGER.info(\"verifying endpoint {}: {}\", endpoint, metricName);\n\n                final Metrics metrics = graphql.metrics(\n                    new MetricsQuery().stepByMinute().metricsName(metricName).id(endpoint.getKey())\n                );\n\n                LOGGER.info(\"metrics: {}\", metrics);\n\n                final AtLeastOneOfMetricsMatcher instanceRespTimeMatcher = new AtLeastOneOfMetricsMatcher();\n                final MetricsValueMatcher greaterThanZero = new MetricsValueMatcher();\n                greaterThanZero.setValue(\"gt 0\");\n                instanceRespTimeMatcher.setValue(greaterThanZero);\n                instanceRespTimeMatcher.verify(metrics);\n\n                LOGGER.info(\"{}: {}\", metricName, metrics);\n            }\n            for (String metricName : ALL_ENDPOINT_MULTIPLE_LINEAR_METRICS) {\n                verifyPercentileMetrics(graphql, metricName, endpoint.getKey(), startTime);\n            }\n        }\n    }\n","date":"2020-10-29 14:38:49","endLine":266,"groupId":"1069","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"verifyEndpointsMetrics","params":"(Endpointsendpoints)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-skywalking-10-0.7/blobInfo/CC_OUT/blobs/c4/885372bcd925c576d133a9358d3f965fe2a944.src","preCode":"    private void verifyEndpointsMetrics(Endpoints endpoints) throws Exception {\n        for (Endpoint endpoint : endpoints.getEndpoints()) {\n            if (!endpoint.getLabel().equals(\"/info\") && !endpoint.getLabel().equals(\"/nginx/info\")) {\n                continue;\n            }\n            for (final String metricName : ALL_ENDPOINT_METRICS) {\n                LOGGER.info(\"verifying endpoint {}: {}\", endpoint, metricName);\n\n                final Metrics metrics = graphql.metrics(\n                    new MetricsQuery().stepByMinute().metricsName(metricName).id(endpoint.getKey())\n                );\n\n                LOGGER.info(\"metrics: {}\", metrics);\n\n                final AtLeastOneOfMetricsMatcher instanceRespTimeMatcher = new AtLeastOneOfMetricsMatcher();\n                final MetricsValueMatcher greaterThanZero = new MetricsValueMatcher();\n                greaterThanZero.setValue(\"gt 0\");\n                instanceRespTimeMatcher.setValue(greaterThanZero);\n                instanceRespTimeMatcher.verify(metrics);\n\n                LOGGER.info(\"{}: {}\", metricName, metrics);\n            }\n        }\n    }\n","realPath":"test/e2e/e2e-test/src/test/java/org/apache/skywalking/e2e/GOE2E.java","repoName":"skywalking","snippetEndLine":0,"snippetStartLine":0,"startLine":240,"status":"M"}],"commitId":"c95a9134925cbe8101dc72dbaca38269eb3dc3b1","commitMessage":"@@@Add percentile tests in e2e test. (#5737)\n\n","date":"2020-10-29 14:38:49","modifiedFileCount":"11","status":"M","submitter":"Humbertzhang"}]
