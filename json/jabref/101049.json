[{"authorTime":"2020-10-13 21:01:41","codes":[{"authorDate":"2020-10-13 21:01:41","commitOrder":1,"curCode":"    private static Function<String, String> expandBracketContent(Character keywordDelimiter, BibEntry entry, BibDatabase database) {\n        return (String bracket) -> {\n            String expandedPattern;\n            List<String> fieldParts = parseFieldAndModifiers(bracket);\n            \r\n            \r\n            expandedPattern = getFieldValue(entry, fieldParts.get(0), keywordDelimiter, database);\n            if (fieldParts.size() > 1) {\n                \r\n                expandedPattern = applyModifiers(expandedPattern, fieldParts, 1);\n            }\n            return expandedPattern;\n        };\n    }\n","date":"2020-10-13 21:01:41","endLine":200,"groupId":"5498","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"expandBracketContent","params":"(CharacterkeywordDelimiter@BibEntryentry@BibDatabasedatabase)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/a3/c93dfd89822f1038a87f9edede638af9f089c4.src","preCode":"    private static Function<String, String> expandBracketContent(Character keywordDelimiter, BibEntry entry, BibDatabase database) {\n        return (String bracket) -> {\n            String expandedPattern;\n            List<String> fieldParts = parseFieldAndModifiers(bracket);\n            \r\n            \r\n            expandedPattern = getFieldValue(entry, fieldParts.get(0), keywordDelimiter, database);\n            if (fieldParts.size() > 1) {\n                \r\n                expandedPattern = applyModifiers(expandedPattern, fieldParts, 1);\n            }\n            return expandedPattern;\n        };\n    }\n","realPath":"src/main/java/org/jabref/logic/citationkeypattern/BracketedPattern.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":187,"status":"B"},{"authorDate":"2020-10-13 21:01:41","commitOrder":1,"curCode":"    private Function<String, String> expandBracketContent(BibEntry entry) {\n        Character keywordDelimiter = citationKeyPatternPreferences.getKeywordDelimiter();\n\n        return (String bracket) -> {\n            String expandedPattern;\n            List<String> fieldParts = parseFieldAndModifiers(bracket);\n\n            expandedPattern = removeUnwantedCharacters(getFieldValue(entry, fieldParts.get(0), keywordDelimiter, database), unwantedCharacters);\n            \r\n            \r\n            if (fieldParts.size() > 1) {\n                \r\n                expandedPattern = applyModifiers(expandedPattern, fieldParts, 1);\n            }\n            return cleanKey(expandedPattern, unwantedCharacters);\n        };\n    }\n","date":"2020-10-13 21:01:41","endLine":221,"groupId":"5119","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"expandBracketContent","params":"(BibEntryentry)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/61/6ba434e8b676253c4ebbde8f94ce4733759c3b.src","preCode":"    private Function<String, String> expandBracketContent(BibEntry entry) {\n        Character keywordDelimiter = citationKeyPatternPreferences.getKeywordDelimiter();\n\n        return (String bracket) -> {\n            String expandedPattern;\n            List<String> fieldParts = parseFieldAndModifiers(bracket);\n\n            expandedPattern = removeUnwantedCharacters(getFieldValue(entry, fieldParts.get(0), keywordDelimiter, database), unwantedCharacters);\n            \r\n            \r\n            if (fieldParts.size() > 1) {\n                \r\n                expandedPattern = applyModifiers(expandedPattern, fieldParts, 1);\n            }\n            return cleanKey(expandedPattern, unwantedCharacters);\n        };\n    }\n","realPath":"src/main/java/org/jabref/logic/citationkeypattern/CitationKeyGenerator.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":205,"status":"B"}],"commitId":"e955c46850e4738830198a889c3f09870b88ab30","commitMessage":"@@@Merge parsing of bracketed patterns (#6989)\n\n* Add test cases\n\n* Fix test case use of unwanted character\n\n* Add method injection to `expandBrackets`\n\n* Fix logger message\n\n* Extract methods and change parsing\n\nExtracts code from `generateKey` as methods for readability purposes and\n switches out the parsing code for the one in `BracketedPattern`\n\n* Codestyle improvements\n\n* Fix use of illegal character in test case\n\n* Add log output for PatternSyntaxException\n\n* Fix handling unwanted characters between brackets\n\n* Fix Checkstyle\n\n* Add test case for incorrect regex replacement\n\n* Add JavaDoc\n\n* Add test case","date":"2020-10-13 21:01:41","modifiedFileCount":"4","status":"B","submitter":"Jonatan Asketorp"},{"authorTime":"2020-10-13 21:01:41","codes":[{"authorDate":"2021-01-25 03:53:44","commitOrder":2,"curCode":"    public static Function<String, String> expandBracketContent(Character keywordDelimiter, BibEntry entry, BibDatabase database) {\n        return (String bracket) -> {\n            String expandedPattern;\n            List<String> fieldParts = parseFieldAndModifiers(bracket);\n            \r\n            \r\n            expandedPattern = getFieldValue(entry, fieldParts.get(0), keywordDelimiter, database);\n            if (fieldParts.size() > 1) {\n                \r\n                expandedPattern = applyModifiers(expandedPattern, fieldParts, 1);\n            }\n            return expandedPattern;\n        };\n    }\n","date":"2021-01-25 03:53:44","endLine":203,"groupId":"5498","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"expandBracketContent","params":"(CharacterkeywordDelimiter@BibEntryentry@BibDatabasedatabase)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/b4/d4c203be1f88545606de1fd7aedc9960a70a91.src","preCode":"    private static Function<String, String> expandBracketContent(Character keywordDelimiter, BibEntry entry, BibDatabase database) {\n        return (String bracket) -> {\n            String expandedPattern;\n            List<String> fieldParts = parseFieldAndModifiers(bracket);\n            \r\n            \r\n            expandedPattern = getFieldValue(entry, fieldParts.get(0), keywordDelimiter, database);\n            if (fieldParts.size() > 1) {\n                \r\n                expandedPattern = applyModifiers(expandedPattern, fieldParts, 1);\n            }\n            return expandedPattern;\n        };\n    }\n","realPath":"src/main/java/org/jabref/logic/citationkeypattern/BracketedPattern.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":190,"status":"M"},{"authorDate":"2020-10-13 21:01:41","commitOrder":2,"curCode":"    private Function<String, String> expandBracketContent(BibEntry entry) {\n        Character keywordDelimiter = citationKeyPatternPreferences.getKeywordDelimiter();\n\n        return (String bracket) -> {\n            String expandedPattern;\n            List<String> fieldParts = parseFieldAndModifiers(bracket);\n\n            expandedPattern = removeUnwantedCharacters(getFieldValue(entry, fieldParts.get(0), keywordDelimiter, database), unwantedCharacters);\n            \r\n            \r\n            if (fieldParts.size() > 1) {\n                \r\n                expandedPattern = applyModifiers(expandedPattern, fieldParts, 1);\n            }\n            return cleanKey(expandedPattern, unwantedCharacters);\n        };\n    }\n","date":"2020-10-13 21:01:41","endLine":221,"groupId":"5119","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"expandBracketContent","params":"(BibEntryentry)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/61/6ba434e8b676253c4ebbde8f94ce4733759c3b.src","preCode":"    private Function<String, String> expandBracketContent(BibEntry entry) {\n        Character keywordDelimiter = citationKeyPatternPreferences.getKeywordDelimiter();\n\n        return (String bracket) -> {\n            String expandedPattern;\n            List<String> fieldParts = parseFieldAndModifiers(bracket);\n\n            expandedPattern = removeUnwantedCharacters(getFieldValue(entry, fieldParts.get(0), keywordDelimiter, database), unwantedCharacters);\n            \r\n            \r\n            if (fieldParts.size() > 1) {\n                \r\n                expandedPattern = applyModifiers(expandedPattern, fieldParts, 1);\n            }\n            return cleanKey(expandedPattern, unwantedCharacters);\n        };\n    }\n","realPath":"src/main/java/org/jabref/logic/citationkeypattern/CitationKeyGenerator.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":205,"status":"N"}],"commitId":"7672b2de95aea95b92d47cde3215ffb9f96aadcb","commitMessage":"@@@Fix expansion of bracketed expressions in RegExpBasedFileFinder (#7338)\n\n","date":"2021-01-25 03:53:44","modifiedFileCount":"4","status":"M","submitter":"Jonatan Asketorp"},{"authorTime":"2021-05-23 22:27:22","codes":[{"authorDate":"2021-05-23 22:27:22","commitOrder":3,"curCode":"    public static Function<String, String> expandBracketContent(Character keywordDelimiter, BibEntry entry, BibDatabase database) {\n        return (String bracket) -> {\n            String expandedPattern;\n            List<String> fieldParts = parseFieldAndModifiers(bracket);\n            \r\n            \r\n            expandedPattern = getFieldValue(entry, fieldParts.get(0), keywordDelimiter, database);\n            if (fieldParts.size() > 1) {\n                \r\n                expandedPattern = applyModifiers(expandedPattern, fieldParts, 1, expandBracketContent(keywordDelimiter, entry, database));\n            }\n            return expandedPattern;\n        };\n    }\n","date":"2021-05-23 22:27:22","endLine":208,"groupId":"101049","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"expandBracketContent","params":"(CharacterkeywordDelimiter@BibEntryentry@BibDatabasedatabase)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/9d/74312176682768bd0cf0a0b4fbcae81e961743.src","preCode":"    public static Function<String, String> expandBracketContent(Character keywordDelimiter, BibEntry entry, BibDatabase database) {\n        return (String bracket) -> {\n            String expandedPattern;\n            List<String> fieldParts = parseFieldAndModifiers(bracket);\n            \r\n            \r\n            expandedPattern = getFieldValue(entry, fieldParts.get(0), keywordDelimiter, database);\n            if (fieldParts.size() > 1) {\n                \r\n                expandedPattern = applyModifiers(expandedPattern, fieldParts, 1);\n            }\n            return expandedPattern;\n        };\n    }\n","realPath":"src/main/java/org/jabref/logic/citationkeypattern/BracketedPattern.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":195,"status":"M"},{"authorDate":"2021-05-23 22:27:22","commitOrder":3,"curCode":"    private Function<String, String> expandBracketContent(BibEntry entry) {\n        Character keywordDelimiter = citationKeyPatternPreferences.getKeywordDelimiter();\n\n        return (String bracket) -> {\n            String expandedPattern;\n            List<String> fieldParts = parseFieldAndModifiers(bracket);\n\n            expandedPattern = removeUnwantedCharacters(getFieldValue(entry, fieldParts.get(0), keywordDelimiter, database), unwantedCharacters);\n            \r\n            \r\n            if (fieldParts.size() > 1) {\n                \r\n                expandedPattern = applyModifiers(expandedPattern, fieldParts, 1, expandBracketContent(entry));\n            }\n            return cleanKey(expandedPattern, unwantedCharacters);\n        };\n    }\n","date":"2021-05-23 22:27:22","endLine":220,"groupId":"101049","id":6,"instanceNumber":2,"isCurCommit":1,"methodName":"expandBracketContent","params":"(BibEntryentry)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/1a/46e9a0d68020fa13b100f9ec13f4531bfc73fe.src","preCode":"    private Function<String, String> expandBracketContent(BibEntry entry) {\n        Character keywordDelimiter = citationKeyPatternPreferences.getKeywordDelimiter();\n\n        return (String bracket) -> {\n            String expandedPattern;\n            List<String> fieldParts = parseFieldAndModifiers(bracket);\n\n            expandedPattern = removeUnwantedCharacters(getFieldValue(entry, fieldParts.get(0), keywordDelimiter, database), unwantedCharacters);\n            \r\n            \r\n            if (fieldParts.size() > 1) {\n                \r\n                expandedPattern = applyModifiers(expandedPattern, fieldParts, 1);\n            }\n            return cleanKey(expandedPattern, unwantedCharacters);\n        };\n    }\n","realPath":"src/main/java/org/jabref/logic/citationkeypattern/CitationKeyGenerator.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":204,"status":"M"}],"commitId":"932778ec72dad55eb26af250295a2d08c76f4612","commitMessage":"@@@Support fall back fields in citation key generation (#7734)\n\n","date":"2021-05-23 22:27:22","modifiedFileCount":"4","status":"M","submitter":"SuXiChangZhen"}]
