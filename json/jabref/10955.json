[{"authorTime":"2020-05-26 14:39:45","codes":[{"authorDate":"2020-05-24 06:21:38","commitOrder":55,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createSubMenu(StandardActions.NEW_LIBRARY,\n                        factory.createMenuItem(StandardActions.NEW_LIBRARY_BIBTEX, new NewDatabaseAction(this, BibDatabaseMode.BIBTEX)),\n                        factory.createMenuItem(StandardActions.NEW_LIBRARY_BIBLATEX, new NewDatabaseAction(this, BibDatabaseMode.BIBLATEX))),\n\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateBibtexKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getBoolean(JabRefPreferences.SPECIALFIELDSENABLED)) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, Globals.prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new BibtexKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_EXTERNAL_FILETYPES, new EditExternalFileTypesAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2020-05-24 06:21:38","endLine":941,"groupId":"4717","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/19/c25af6938e3c000f61a50f3cdd8748241d0cf7.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createSubMenu(StandardActions.NEW_LIBRARY,\n                        factory.createMenuItem(StandardActions.NEW_LIBRARY_BIBTEX, new NewDatabaseAction(this, BibDatabaseMode.BIBTEX)),\n                        factory.createMenuItem(StandardActions.NEW_LIBRARY_BIBLATEX, new NewDatabaseAction(this, BibDatabaseMode.BIBLATEX))),\n\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateBibtexKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getBoolean(JabRefPreferences.SPECIALFIELDSENABLED)) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, Globals.prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new BibtexKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_EXTERNAL_FILETYPES, new EditExternalFileTypesAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":694,"status":"NB"},{"authorDate":"2020-05-26 14:39:45","commitOrder":55,"curCode":"    private static ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository, BasePanel panel, StateManager stateManager) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().add(factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(panel.frame(), stateManager)));\n\n        return contextMenu;\n    }\n","date":"2020-05-26 14:39:45","endLine":1089,"groupId":"6406","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository@BasePanelpanel@StateManagerstateManager)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/68/938bb91c4273ccfcb457f3a2cf11a570a90c8f.src","preCode":"    private static ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository, BasePanel panel, StateManager stateManager) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().add(factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(panel.frame(), stateManager)));\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1082,"status":"B"}],"commitId":"0d7156b9a002effa0682071fd09cbe2cbf831a31","commitMessage":"@@@Fixes missing library properties context menu on library tab (#6508)\n\n","date":"2020-05-26 14:39:45","modifiedFileCount":"1","status":"M","submitter":"Baruch Oltman"},{"authorTime":"2020-06-01 12:55:05","codes":[{"authorDate":"2020-05-24 06:21:38","commitOrder":56,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createSubMenu(StandardActions.NEW_LIBRARY,\n                        factory.createMenuItem(StandardActions.NEW_LIBRARY_BIBTEX, new NewDatabaseAction(this, BibDatabaseMode.BIBTEX)),\n                        factory.createMenuItem(StandardActions.NEW_LIBRARY_BIBLATEX, new NewDatabaseAction(this, BibDatabaseMode.BIBLATEX))),\n\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateBibtexKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getBoolean(JabRefPreferences.SPECIALFIELDSENABLED)) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, Globals.prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new BibtexKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_EXTERNAL_FILETYPES, new EditExternalFileTypesAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2020-05-24 06:21:38","endLine":941,"groupId":"4717","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/19/c25af6938e3c000f61a50f3cdd8748241d0cf7.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createSubMenu(StandardActions.NEW_LIBRARY,\n                        factory.createMenuItem(StandardActions.NEW_LIBRARY_BIBTEX, new NewDatabaseAction(this, BibDatabaseMode.BIBTEX)),\n                        factory.createMenuItem(StandardActions.NEW_LIBRARY_BIBLATEX, new NewDatabaseAction(this, BibDatabaseMode.BIBLATEX))),\n\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateBibtexKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getBoolean(JabRefPreferences.SPECIALFIELDSENABLED)) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, Globals.prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new BibtexKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_EXTERNAL_FILETYPES, new EditExternalFileTypesAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":694,"status":"N"},{"authorDate":"2020-06-01 12:55:05","commitOrder":56,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n                );\n\n        return contextMenu;\n    }\n","date":"2020-06-01 12:55:05","endLine":1107,"groupId":"10822","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/fe/d8c5e58bf49763369d112fb500fff674e9fea0.src","preCode":"    private static ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository, BasePanel panel, StateManager stateManager) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().add(factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(panel.frame(), stateManager)));\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1093,"status":"M"}],"commitId":"41a3d081e2e4d9b4f48477f5dcb74018d56a420f","commitMessage":"@@@Add more menu items to library context menu (#6551)\n\n* add context menu\n\n* add test\n\n* delete jabRefFrameTest\n\n* update\n\n* checkstyle\n\n* Update JabRef_en.properties\n\n* Update JabRef_en.properties\n\nCo-authored-by: Hollyqqqqq <11712639@mail.sustech.edu.cn>","date":"2020-06-01 12:55:05","modifiedFileCount":"3","status":"M","submitter":"Hollyqqqqq"},{"authorTime":"2020-06-01 12:55:05","codes":[{"authorDate":"2020-06-04 18:52:52","commitOrder":57,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createSubMenu(StandardActions.NEW_LIBRARY,\n                        factory.createMenuItem(StandardActions.NEW_LIBRARY_BIBTEX, new NewDatabaseAction(this, BibDatabaseMode.BIBTEX)),\n                        factory.createMenuItem(StandardActions.NEW_LIBRARY_BIBLATEX, new NewDatabaseAction(this, BibDatabaseMode.BIBLATEX))),\n\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getBoolean(JabRefPreferences.SPECIALFIELDSENABLED)) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, Globals.prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_EXTERNAL_FILETYPES, new EditExternalFileTypesAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2020-06-04 18:52:52","endLine":954,"groupId":"4717","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/eb/aa8f7df41fa0ee58740d105e576c60a5d0c0e4.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createSubMenu(StandardActions.NEW_LIBRARY,\n                        factory.createMenuItem(StandardActions.NEW_LIBRARY_BIBTEX, new NewDatabaseAction(this, BibDatabaseMode.BIBTEX)),\n                        factory.createMenuItem(StandardActions.NEW_LIBRARY_BIBLATEX, new NewDatabaseAction(this, BibDatabaseMode.BIBLATEX))),\n\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateBibtexKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getBoolean(JabRefPreferences.SPECIALFIELDSENABLED)) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, Globals.prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new BibtexKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_EXTERNAL_FILETYPES, new EditExternalFileTypesAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":707,"status":"M"},{"authorDate":"2020-06-01 12:55:05","commitOrder":57,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n                );\n\n        return contextMenu;\n    }\n","date":"2020-06-01 12:55:05","endLine":1107,"groupId":"10822","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/fe/d8c5e58bf49763369d112fb500fff674e9fea0.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n                );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1093,"status":"N"}],"commitId":"7cc57474b7aa991ef6ea148d4030d4bb68ee69bf","commitMessage":"@@@Rename bibtexkey (#6545)\n\n* Reworded 'BibtexKey' to 'CitationKey'\n\n* Fixed merge errors.  renamed constants\n\n* Renamed forgotten package\n\n* Fixed overlooked enum names and added CHANGELOG.md entry","date":"2020-06-04 18:52:52","modifiedFileCount":"54","status":"M","submitter":"Carl Christian Snethlage"},{"authorTime":"2020-06-01 12:55:05","codes":[{"authorDate":"2020-08-22 22:38:30","commitOrder":58,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getBoolean(JabRefPreferences.SPECIALFIELDSENABLED)) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, Globals.prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_EXTERNAL_FILETYPES, new EditExternalFileTypesAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2020-08-22 22:38:30","endLine":960,"groupId":"4717","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/ea/46b25feb01433b13d71ecc55b046c2db0bbf1f.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createSubMenu(StandardActions.NEW_LIBRARY,\n                        factory.createMenuItem(StandardActions.NEW_LIBRARY_BIBTEX, new NewDatabaseAction(this, BibDatabaseMode.BIBTEX)),\n                        factory.createMenuItem(StandardActions.NEW_LIBRARY_BIBLATEX, new NewDatabaseAction(this, BibDatabaseMode.BIBLATEX))),\n\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getBoolean(JabRefPreferences.SPECIALFIELDSENABLED)) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, Globals.prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_EXTERNAL_FILETYPES, new EditExternalFileTypesAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":716,"status":"M"},{"authorDate":"2020-06-01 12:55:05","commitOrder":58,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n                );\n\n        return contextMenu;\n    }\n","date":"2020-06-01 12:55:05","endLine":1107,"groupId":"10822","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/fe/d8c5e58bf49763369d112fb500fff674e9fea0.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n                );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1093,"status":"N"}],"commitId":"dc55a7643fd2dd41e73d4e27e7d7da264d5ff9f9","commitMessage":"@@@Streamline new library command (#6773)\n\n* Squashed 'src/main/resources/csl-styles/' changes from 586e0b8408..c5f14e2c4d\n\nc5f14e2c4d Update journal-of-plant-ecology.csl (#4837)\nb5d00abf54 Hotfix: pravnik.csl & iso690-full-note-cs.csl (#4833)\nfb8d48aec1 add PMID and DOI (#4832)\n7ebdfff228 Update lancaster-university-harvard.csl (#4836)\n8771e21166 Create journal-of-clinical-neurology.csl (#4835)\n70beb7bd6c Harvard Lancaster: Fix in-text locator\n0709b731c4 Update informal-logic.csl (#4831)\nd18d1338c1 Update gost-r-7-0-5-2008.csl (#4829)\ncfb5389ad4 Update gost-r-7-0-5-2008-numeric.csl (#4828)\n0fc46eabf0 Update gost-r-7-0-5-2008-numeric-alphabetical.csl (#4827)\nfac26cb4f0 Create feminist-theory.csl (#4830)\na2721e6aae Update pravnik.csl.  masarykova-univerzita-pravnicka-fakulta.csl.  and iso690-full-note-cs.csl (#4826)\n2f0d735a16 Improve localization of DGfP\n683d7d17ca Create zeitschrift-fur-theologie-und-philosophie.csl (#4813)\n7c82406cb2 always show DOI in aps.csl (#4820)\n1eb531d459 Update journal-of-international-business-studies.csl (#4819)\n9caf926fc0 Create interdisziplinare-anthropologie.csl (#4818)\n00210e123e UKSW2 (#4807)\n015db6e8d3 UKSW1 (#4800)\nf706ef5e2f Update masarykova-univerzita-pravnicka-fakulta.csl (#4822)\n096108d3ad Update epilepsia.csl (#4823)\n07ebdc35bd Update eksploatacja-i-niezawodnosc.csl (#4824)\n3d50f3cc5c Create ABNT-Universidade-Federal-de-Pernambuco-CFCH.csl (#4798)\ndf94fa1832 Update eksploatacja-i-niezawodnosc.csl (#4808)\n4089be5abb Update bulletin-de-la-societe-prehistorique-francaise.csl (#4810)\nf130aa7949 Update molecular-biology-and-evolution.csl (#4814)\n86f452fda6 Create heiliger-dienst.csl (#4815)\n5ccd3e9a21 Update revista-brasileira-de-ciencia-do-solo.csl (#4817)\n0eea7348e0 Fix a delimiter in journal-of-the-royal-society-of-western-australia.csl (#4811)\n1cbe790e45 Delete heiliger-dienst.csl\n19fa29f7b0 Create heiliger-dienst.csl (#4787)\n888bad15b5 Update RMIT Harvard to match Easy Cite (#4788)\n46011dd948 Create universite-nangui-abrogoua-ufr-sn (#4676)\n174adab070 Create apa-6th-edition-no-ampersand.csl (#4767)\n03cf65f05d Create journal-of-plant-protection-research.csl (#4797)\nc749084451 Update eksploatacja-i-niezawodnosc.csl (#4782)\n17e1501812  Update masarykova-univerzita-pravnicka-fakulta.csl (#4783)\n5596d18a68 Update revista-brasileira-de-ciencia-do-solo.csl (#4790)\n9c1a381876 create csl for the journal Textual Cultures (#4785)\n83457623f6 Update taylor-and-francis-national-library-of-medicine.csl (#4786)\n5ec1acfc1f Create british-journal-of-criminology.csl (#4789)\n68550aca45 Update angewandte-chemie.csl (#4791)\n09e27555c5 Create shock.csl (#4792)\nd46e49e52a Update antioxidants-and-redox-signaling.csl (#4793)\n\ngit-subtree-dir: src/main/resources/csl-styles\ngit-subtree-split: c5f14e2c4d1799827b202981f62322545cf17200\n\n* Squashed 'src/main/resources/csl-styles/' changes from c5f14e2c4d..716f63557c\n\n716f63557c Update changes in Harvard-Stellenbosch (#4862)\na6a9a1af3a Create alkoholizmus-a-drogove-zavislosti.csl (#4859)\n0560ca0b43 Update journal-of-the-american-college-of-surgeons.csl (#4858)\n9e16631063 create independent style for cellular-and-molecular-gastroenterology-and-hepatology.csl (#4852)\n87b0853e2c Update antiquity.csl (#4841)\ncb4e7f70a0 Update heart-rhythm.csl (#4850)\nb3b55eee3f Create iisue-moderno (#4846)\n63973a7016 Create etasr.csl (#4848)\n9942138d9b Create style for Journal of Vertebrate Biology (#4849)\n7c7f3d343d Add Future Medicine dependents (#4838)\nabe2066984 Update methods-of-information-in-medicine.csl (#4847)\nc64d98b65d create independent style for new-zealand-journal-of-forestry-science (#4844)\n28265f9ad8 Create continuity-and-change.csl (#4839)\nd065fdd9ec Create journal-of-clinical-ethics.csl (#4842)\nb9fbfa37d9 Update future-medicine.csl (#4843)\nceb56fa72f Create future-medicine.csl (#4834)\n\ngit-subtree-dir: src/main/resources/csl-styles\ngit-subtree-split: 716f63557c0f32b3980432a6d124b73933722121\n\n* Squashed 'src/main/resources/csl-styles/' changes from 716f63557c..a995c63a0a\n\na995c63a0a Create errata.csl (#4894)\n883b9cd71d Update archeologie-medievale.csl (#4892)\na942b5c55d Update rmit-university-harvard.csl (#4890)\n5d535fc878 Update universidade-do-porto-faculdade-de-engenharia-chicago.csl (#4891)\nf2a8fe3ec2 Fix AVMA style\nc5a2d7e22b Create universidade-do-porto-faculdade-de-engenharia-chicago.csl (#4872)\n9f106ebb29 Update rmit-university-harvard.csl (#4884)\n5213c2f483 Update universitetet-i-oslo-rettsvitenskap.csl (#4886)\n7e0828d48c Update uclouvain-centre-charles-de-visscher-pour-le-droit-internation? (#4871)\nae5eba3a8f Create revue-archeologique-de-lest.csl (#4881)\n58a16727de Create pacific-conservation-biology.csl (#4880)\n381106e341 Update national-institute-of-organisation-dynamics-australia-harvard.csl (#4879)\nc66a5c00d9 Create society-of-biblical-literature-author-date.csl (#4812)\n008073c576 Create ruhr-universitat-bochum-medizinische-fakultat-variante-a.csl (#4874)\n193385a00d Update manchester (#4878)\nfa9ef1148f Create Faculty of Psychology and Education Sciences.  Porto (#4856)\n2f70b14eae Add \"personal communication\" to remaining APA locales (#4866)\n2b4f831d19 Fixed page-range-format (#4863)\nd5661ba156 universitat-bern-institut-fur-musikwissenschaft add missing cs:sort to cs:bibliography (#4860)\ne433c999ae fix delimiter issue for bioscience.csl (#4876)\n4d97aabe83 update et-al settings for stroke.csl (#4875)\n342b9e3c04 Update masarykova-univerzita-pravnicka-fakulta.csl (#4868)\n91fe25eaf2 Add article number to IEEE (#4867)\n\ngit-subtree-dir: src/main/resources/csl-styles\ngit-subtree-split: a995c63a0a5cd56ede70cc131dfb566b2e7f2f48\n\n* Squashed 'src/main/resources/csl-styles/' changes from a995c63a0a..bf698acec7\n\nbf698acec7 Create common-market-law-review.csl (#4910)\nc962ecaea9 Create harvard-prifysgol-caerdydd.csl (#4922)\n0c24e7f7f6 Update gewerblicher-rechtsschutz-und-urheberrecht.csl (#4923)\nd2ec1a736c Create Tijdschrift-voor-Geneeskunde.csl (#4907)\n5df7250369 Update harvard-institut-fur-praxisforschung-de.csl (#4918)\n093fd91618 Update universite-de-montreal-apa.csl (#4916)\na3e41d49f7 Update thieme-german.csl (#4919)\n648765ac11 add DOI to aerosol-science-and-technology.csl (#4909)\nbc1ebeece9 Reindent/reorder\na8dc18a80d Fix documentation link for epidemiology & infection\naab403aff7 Fix AGLC Newspaper date\n4c018d5ef3 Add period between editor and translator (SBL styles) (#4906)\n42f7491f64 Create geographische-zeitschrift.csl (#4898)\na4002a6b0f Create german-kunstwissenschaft.csl (#4896)\nb01910b380 Disambiguation of names (#4895)\n\ngit-subtree-dir: src/main/resources/csl-styles\ngit-subtree-split: bf698acec747594a57e3c1423c351c69bc5ad6e1\n\n* Squashed 'src/main/resources/csl-styles/' changes from bf698acec7..7cab2f7d8a\n\n7cab2f7d8a Create depro-ufs.csl (#4947)\n2fcda1fe03 Create journal-of-sport-science-and-medicine.csl (#4949)\ncd457d4bce Update american-marketing-association.csl (#4945)\ncacc4eefbd Create nejm-catalyst.csl (#4943)\nbd769b91da Update and rename dependent/chinese-medical-journal.csl to chinese-me? (#4941)\n1f706cda6c Update health-services-research.csl (#4939)\n76bcd1d9d7 Update journal-of-the-royal-society-of-western-australia.csl (#4932)\ne79640e74d Create afro-asia.csl (#4934)\nc601aa4e0f Update lancaster-university-harvard.csl (#4938)\n184fd90210 Update collection-du-centre-jean-berard.csl (#4936)\n82f9aec90f fix et-al & add DOI thyroid.csl (#4937)\n4af169fc11 Create universidade-estadual-de-alagoas-uneal-abnt (#4885)\n47165b3d5a Update and rename medical-physics.csl to dependent/medical-physics.csl (AMA) (#4905)\n3cab27dc1a Update thieme-german.csl (#4931)\neb2c9776e0 Create zeitschrift-fur-zahnarztliche-implantologie.csl (#4925)\n4adb1ea0be Create karstenia.csl (#4929)\n530a136786 Fix author substitute in Universita Cattolica\n\ngit-subtree-dir: src/main/resources/csl-styles\ngit-subtree-split: 7cab2f7d8ac0131f836c6cb55e88545ee5eda22a\n\n* Squashed 'src/main/resources/csl-styles/' changes from 7cab2f7d8a..827b986621\n\n827b986621 add DOI preprint to american-society-for-microbiology.csl (#4946)\n\ngit-subtree-dir: src/main/resources/csl-styles\ngit-subtree-split: 827b986621348627f8e894d1b7f11191f905a8e2\n\n* Squashed 'src/main/resources/csl-styles/' changes from 827b986621..eb0d37e0ff\n\neb0d37e0ff Create natbib-plainnat-author-dat.csl (#4967)\nfb1592a1cd Update journal-of-fish-biology.csl (#4969)\nf6876cbe0f Update .travis.yml (#4970)\nd6d400b207 Create london-review-of-international-law.csl (#4966)\nd2a5ae1b16 Update harvard-stellenbosch-university.csl (#4965)\n9c62141a40 Create phytopathologia-mediterranea.csl (#4964)\n8ca2ea1a9c Update historical-materialism.csl (#4960)\n80456dc749 Update historical-materialism.csl\nbe2d91090c Update historical-materialism.csl\n1d1cf095a6 Create atlande.csl (#4930)\n89f41d404d Create juristische-zitierweise-oeffentliches-recht.csl (#4944)\n8c677a08c5 Create korean-journal-of-gastroenterology.csl (#4954)\neadb9508dd Create historical-materialism.csl (#4955)\n5553dcdc9c Create revista-materia.csl (#4957)\nd23a3abd79 Bug fix in APA 6 original publication macro (#4959)\n66f9974980 Always print publisher in APA 6th edition (#4899)\n868809c063 Create agora.csl (#4940)\n99c19c397e Update anthropologie-et-societes.csl (#4952)\nee17423a93 Create critical-reviews-in-solid-state-and-materials-science.csl (#4951)\n7a13a7d59e Create korean-journal-of-internal-medicine.csl (#4953)\n\ngit-subtree-dir: src/main/resources/csl-styles\ngit-subtree-split: eb0d37e0ff253e7c6d256b619e4831af306a28cf\n\n* Merged new library actions\n\n* l10n\n\n* Removed unused constructor\n\n* Fixed checkstyle failed check\n\n* Fixed one more checkstyle issue\n\nCo-authored-by: github actions <jabrefmail+webfeedback@gmail.com>","date":"2020-08-22 22:38:30","modifiedFileCount":"3","status":"M","submitter":"Carl Christian Snethlage"},{"authorTime":"2020-06-01 12:55:05","codes":[{"authorDate":"2020-09-03 18:26:11","commitOrder":59,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, Globals.prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_EXTERNAL_FILETYPES, new EditExternalFileTypesAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2020-09-03 18:26:11","endLine":961,"groupId":"7295","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/3f/cbca23310a8c661941e3a81c8cd564c5ca264c.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getBoolean(JabRefPreferences.SPECIALFIELDSENABLED)) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, Globals.prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_EXTERNAL_FILETYPES, new EditExternalFileTypesAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":717,"status":"M"},{"authorDate":"2020-06-01 12:55:05","commitOrder":59,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n                );\n\n        return contextMenu;\n    }\n","date":"2020-06-01 12:55:05","endLine":1107,"groupId":"10822","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/fe/d8c5e58bf49763369d112fb500fff674e9fea0.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n                );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1093,"status":"N"}],"commitId":"0e5c46359db26a75b09cfd6abb3f9ec9798d98d5","commitMessage":"@@@No sync of specialfields to keywords as default (#6846)\n\n* Change default keyword syncing to not sync\n\n* Refactored to use SpecialFieldsPreferences and some Cleanups\n\n* CHANGELOG.md\n\n* Reworded and fixed some small cleanups\n\n* Update CHANGELOG.md\n\nCo-authored-by: Christoph <siedlerkiller@gmail.com>","date":"2020-09-03 18:26:11","modifiedFileCount":"12","status":"M","submitter":"Carl Christian Snethlage"},{"authorTime":"2020-06-01 12:55:05","codes":[{"authorDate":"2020-10-19 02:20:53","commitOrder":60,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, Globals.prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2020-10-19 02:20:53","endLine":963,"groupId":"7295","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/c5/f54e82ddad0fab2cd04b5cbc68b921568b0756.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, Globals.prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_EXTERNAL_FILETYPES, new EditExternalFileTypesAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":720,"status":"M"},{"authorDate":"2020-06-01 12:55:05","commitOrder":60,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n                );\n\n        return contextMenu;\n    }\n","date":"2020-06-01 12:55:05","endLine":1107,"groupId":"10822","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/fe/d8c5e58bf49763369d112fb500fff674e9fea0.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n                );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1093,"status":"N"}],"commitId":"1ff88cb07a6b31b12268d5901c3ad1e689ab597b","commitMessage":"@@@Removed menu entry for 'Manage external file types' (#6990) (#7009)\n\n","date":"2020-10-19 02:20:53","modifiedFileCount":"2","status":"M","submitter":"Benjamin Schroth"},{"authorTime":"2020-06-01 12:55:05","codes":[{"authorDate":"2020-11-07 05:59:10","commitOrder":61,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2020-11-07 05:59:10","endLine":906,"groupId":"9595","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/96/3df97bb57a3b2645c5b56bbf3e5ffc8da9d921.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, Globals.prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":663,"status":"M"},{"authorDate":"2020-06-01 12:55:05","commitOrder":61,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n                );\n\n        return contextMenu;\n    }\n","date":"2020-06-01 12:55:05","endLine":1107,"groupId":"10822","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/fe/d8c5e58bf49763369d112fb500fff674e9fea0.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n                );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1093,"status":"N"}],"commitId":"cc1bb8339311c8bd313113c503b2a48be3bf1b99","commitMessage":"@@@Special field code maintenance (#7078)\n\n","date":"2020-11-07 05:59:10","modifiedFileCount":"11","status":"M","submitter":"Carl Christian Snethlage"},{"authorTime":"2020-06-01 12:55:05","codes":[{"authorDate":"2020-11-26 00:41:30","commitOrder":62,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem,\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.START_SYSTEMATIC_LITERATURE_REVIEW, new StartLiteratureReviewAction(this, Globals.getFileUpdateMonitor(), Globals.prefs.getWorkingDir(), Globals.TASK_EXECUTOR))\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2020-11-26 00:41:30","endLine":908,"groupId":"1776","id":15,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/d4/4f6307084f1a6534f494123d8aabb8485f44a5.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":663,"status":"M"},{"authorDate":"2020-06-01 12:55:05","commitOrder":62,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n                );\n\n        return contextMenu;\n    }\n","date":"2020-06-01 12:55:05","endLine":1107,"groupId":"10822","id":16,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/fe/d8c5e58bf49763369d112fb500fff674e9fea0.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n                );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1093,"status":"N"}],"commitId":"b19c3e4700f82d90a804a5cf3467aedf00385dad","commitMessage":"@@@Enable automated cross library search using a cross library query lan? (#7124)\n\n* Enable automated cross library search using a cross library query language.\n\nSigned-off-by: Dominik Voigt <dominik.ingo.voigt@gmail.com>\n\n* Pull Global upward through constructor.\n\n* Pull Globals and ImportFormatPreferences up through constructor\n\nSigned-off-by: Dominik Voigt <dominik.ingo.voigt@gmail.com>\n\n* Integrate requested changes and fix architecture tests by correcting test classes\n\nSigned-off-by: Dominik Voigt <dominik.ingo.voigt@gmail.com>\n\n* Remove unused imports\n\nSigned-off-by: Dominik Voigt <dominik.ingo.voigt@gmail.com>","date":"2020-11-26 00:41:30","modifiedFileCount":"6","status":"M","submitter":"Dominik Voigt"},{"authorTime":"2020-12-08 05:06:14","codes":[{"authorDate":"2020-11-26 00:41:30","commitOrder":63,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem,\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.START_SYSTEMATIC_LITERATURE_REVIEW, new StartLiteratureReviewAction(this, Globals.getFileUpdateMonitor(), Globals.prefs.getWorkingDir(), Globals.TASK_EXECUTOR))\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2020-11-26 00:41:30","endLine":908,"groupId":"1776","id":17,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/d4/4f6307084f1a6534f494123d8aabb8485f44a5.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem,\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.START_SYSTEMATIC_LITERATURE_REVIEW, new StartLiteratureReviewAction(this, Globals.getFileUpdateMonitor(), Globals.prefs.getWorkingDir(), Globals.TASK_EXECUTOR))\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":663,"status":"N"},{"authorDate":"2020-12-08 05:06:14","commitOrder":63,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2020-12-08 05:06:14","endLine":1021,"groupId":"10368","id":18,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/c4/d9d37e14241be983bd2a6113c52355079cd05c.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1007,"status":"M"}],"commitId":"395d93bacfd077a5c152847961553390c7113167","commitMessage":"@@@Changed context menu item order for library tabs (#7171)\n\n","date":"2020-12-08 05:06:14","modifiedFileCount":"1","status":"M","submitter":"Carl Christian Snethlage"},{"authorTime":"2020-12-08 05:06:14","codes":[{"authorDate":"2020-12-13 06:02:53","commitOrder":64,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem);\n        \r\n        \r\n        \r\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2020-12-13 06:02:53","endLine":908,"groupId":"9595","id":19,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/39/e890d86f31f77349e9d5a43c8d74ca454dcfc6.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem,\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.START_SYSTEMATIC_LITERATURE_REVIEW, new StartLiteratureReviewAction(this, Globals.getFileUpdateMonitor(), Globals.prefs.getWorkingDir(), Globals.TASK_EXECUTOR))\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":663,"status":"M"},{"authorDate":"2020-12-08 05:06:14","commitOrder":64,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2020-12-08 05:06:14","endLine":1021,"groupId":"10368","id":20,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/c4/d9d37e14241be983bd2a6113c52355079cd05c.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1007,"status":"N"}],"commitId":"86e2c82cbe0eb8ca18f1b80f7b85b375cc316ad7","commitMessage":"@@@Disable SLR in UI until #7126 is merged (#7179)\n\n","date":"2020-12-13 06:02:53","modifiedFileCount":"1","status":"M","submitter":"Dominik Voigt"},{"authorTime":"2020-12-08 05:06:14","codes":[{"authorDate":"2020-12-15 04:28:26","commitOrder":65,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, prefs, undoManager, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2020-12-15 04:28:26","endLine":913,"groupId":"2103","id":21,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/e7/51db5784aaf71c8b902f4de1029da543e9cd1f.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, Globals.prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (Globals.prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(Globals.prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(this, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, stateManager)),\n                pushToApplicationMenuItem);\n        \r\n        \r\n        \r\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":665,"status":"M"},{"authorDate":"2020-12-08 05:06:14","commitOrder":65,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2020-12-08 05:06:14","endLine":1021,"groupId":"10368","id":22,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/c4/d9d37e14241be983bd2a6113c52355079cd05c.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1007,"status":"N"}],"commitId":"c0153bd501754d220e34f45ca689851f8ffd5fbd","commitMessage":"@@@Extraction of Globals.prefs.put and .get (#7121)\n\nCo-authored-by: Siedlerchr <siedlerkiller@gmail.com>\nCo-authored-by: Tobias Diez <tobiasdiez@gmx.de>","date":"2020-12-15 04:28:26","modifiedFileCount":"132","status":"M","submitter":"Carl Christian Snethlage"},{"authorTime":"2020-12-08 05:06:14","codes":[{"authorDate":"2020-12-22 04:28:37","commitOrder":66,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, prefs, undoManager, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2020-12-22 04:28:37","endLine":913,"groupId":"2103","id":23,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/36/231fee92772a5db76c664df3967ef39fcc48ed.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.clipboardManager, prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.clipboardManager, prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.clipboardManager, Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, prefs, undoManager, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":665,"status":"M"},{"authorDate":"2020-12-08 05:06:14","commitOrder":66,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2020-12-08 05:06:14","endLine":1021,"groupId":"10368","id":24,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/c4/d9d37e14241be983bd2a6113c52355079cd05c.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1007,"status":"N"}],"commitId":"64f49b03f84277eeeb85373863e0e15d7da1a437","commitMessage":"@@@Fix ClipboardManager <-> Prefs ordering (#7224)\n\nCo-authored-by: Dominik Voigt <dominik.ingo.voigt@gmail.com>\nCo-authored-by: Siedlerchr <siedlerkiller@gmail.com>","date":"2020-12-22 04:28:37","modifiedFileCount":"8","status":"M","submitter":"Oliver Kopp"},{"authorTime":"2020-12-08 05:06:14","codes":[{"authorDate":"2020-12-24 21:03:24","commitOrder":67,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, prefs, undoManager, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2020-12-24 21:03:24","endLine":913,"groupId":"1319","id":25,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/74/ba19fd5ebc11aaa7cf42d81da83319b4198152.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(this, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, prefs, undoManager, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":665,"status":"M"},{"authorDate":"2020-12-08 05:06:14","commitOrder":67,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2020-12-08 05:06:14","endLine":1021,"groupId":"10368","id":26,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/c4/d9d37e14241be983bd2a6113c52355079cd05c.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1007,"status":"N"}],"commitId":"574ca59beaee0ee7dad830dc14be7ed49e44f6d3","commitMessage":"@@@Add error dialog \"Problem finding files\" (#6842)\n\n* #5890 added Error Dialog\n\nAutoSetFileLinksUtil:\n-> imported JabRefDialogService and Localization\n->showErrorDialogAndWait(...)\n\nI am currently having trouble writing a test\n\n* Fix errorDialog AutoSetFileLinks\n\nFixed mistake in first commit.\n\n.lists all exceptions\n.notifies user of error via DialogService\n\n* Fix notifying in AutoSetFileLinksAction\n\n- add  returnFileExceptions() in AutoSetFileLinksUtil\n- add if ( 'there are exceptions' ) -> notify user in AutoSetFileLinkAction (placement still unclear.  might be changed later)\n\n* Fixed checkstyle error in AutoSetFileLinksUtilTest\n\n* Fixed import order in JabRefFrame\n\n* Update JabRefFrame.java\n\n* Refactored to fail fast\n\n* Update JabRef_en.properties\n\n* Included remarks\n\n* Merge error\n\nCo-authored-by: Carl Christian Snethlage <50491877+calixtus@users.noreply.github.com>\nCo-authored-by: Carl Christian Snethlage <cc.snethlage@gmail.com>","date":"2020-12-24 21:03:24","modifiedFileCount":"3","status":"M","submitter":"IfIWantedTo"},{"authorTime":"2020-12-08 05:06:14","codes":[{"authorDate":"2021-01-25 01:56:08","commitOrder":68,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2021-01-25 01:56:08","endLine":913,"groupId":"1319","id":27,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/15/4efbc6aa44c6c90ff4146c3f4a631355b743bf.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, prefs, undoManager, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":665,"status":"M"},{"authorDate":"2020-12-08 05:06:14","commitOrder":68,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2020-12-08 05:06:14","endLine":1021,"groupId":"10368","id":28,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/c4/d9d37e14241be983bd2a6113c52355079cd05c.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1007,"status":"N"}],"commitId":"86d52cd6468335d9e460aaacc870aa5088c62431","commitMessage":"@@@Refactor unlinked files (#7209)\n\n* [WIP] Refactor unlinked files\n\ncreate dialog in fxml and use a background task for import\n\n* add controller\n\n* inject stuff\n\n* empty line\n\n* add progreess indicator\ncopy over some methods\n\n* finish export implementation\nTODO: Import Button does not yet work.  always null\n\n* prepare background task for import\n\n* prepare eception handling\n\n* add further logging\n\n* add progrees indicator linkage\n\nTODO: Progress not yet shown\n\n* Fix threading issues.  report progress\n\n* remove useless undo stuff\n\n* wire buttons to the viewModel\nadjust dialog\n\n* show import results dialog view\n\n* better error messages\n\n* Rename files.  fix cancel.  fix gui\n\n* Cleanup\ncheckstyle\n\n* checkstyle\n\n* fix checkstyle in md\n\n* Make table columns more wider\ndisable import button\n\n* preapre localization\n\n* fix typo\n\n* fix md errors\n\n* fix l10n key\n\n* add l10n\n\n* further l10n fixes\n\n* further l10n fixs to reuse\n\n* remove one dot\n\n* idea extend filenode wrapper\n\n* Remove extra dialog\n\n* fix progressIndicator still visible\n\n* replace with spaces\n\n* fix checkstyle\n\n* add titled pane\n\n* fix checkstyle\n\n* fix duplicate method\n\n* align browse button\n\n* adjust combobox display\n\n* Fixed whitespaces.  fxml and refactored for some readability\n\n* Fixed accordion and l10n\n\n* Add changelog\n\n* fix link in changelog\n\n* fix changelog\n\n* fix wrong loop var\nfix dnd\n\n* refactor\nonly call pdf import when xmp did not find a result\n\n* create viewModel for filter model\n\n* wip refactor like in parse latex\n\n* fix view model stuff\nadapt to check View model\n\n* add validator\n\n* fix selection and export\nmove file node view model\n\n* fix bug using wrong parameter\nremove l10n keys\n\n* Refactored some style issues and a minor suggestions of IntelliJ\n\n* l10n\n\n* only show results after import\n\n* Add custom skin for putting arrow to the right\n\n* add checkstyle exception\n\n* only change import order\n\n* checkstyle\n\n* load custom skin only on accordion\n\n* Add arrow rotation hack\n\n* Fix merge conflict\n\n* Set disable instead of visible\n\n* Fixed jumping arrow\n\n* Refactored for mvvm pattern and optics\n\n* Remove obsolete language key\n\n* refactor\n\n* cleanup\n\n* fix checkstyle\nand l10n\n\n* move vars down to background task\nadd explaination to checkstyle\n\n* Made treeRootProperty a property of Optional\n\n* l10n\n\nCo-authored-by: Carl Christian Snethlage <cc.snethlage@gmail.com>","date":"2021-01-25 01:56:08","modifiedFileCount":"15","status":"M","submitter":"Christoph"},{"authorTime":"2020-12-08 05:06:14","codes":[{"authorDate":"2021-02-01 03:56:14","commitOrder":69,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2021-02-01 03:56:14","endLine":909,"groupId":"1319","id":29,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/7e/412efcff522c9e2209f3218dda858e3794d647.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().add(new SeparatorMenuItem());\n        view.setOnShowing(event -> {\n            view.getItems().clear();\n            view.getItems().addAll(\n                    factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                    factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                    factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                    factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                    new SeparatorMenuItem(),\n\n                    factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                    factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                    factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n            );\n        });\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":665,"status":"M"},{"authorDate":"2020-12-08 05:06:14","commitOrder":69,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2020-12-08 05:06:14","endLine":1021,"groupId":"10368","id":30,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/c4/d9d37e14241be983bd2a6113c52355079cd05c.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1007,"status":"N"}],"commitId":"dec8ff1c39d42f940f97b85e25391636ed22006c","commitMessage":"@@@fix \"Alt + keyboard shortcuts do not work\" (#7379)\n\n* fix \"Alt + keyboard shortcuts do not work\"\n\n* fix \"Alt + keyboard shortcuts do not work\"\n\n* fix \"Alt + keyboard shortcuts do not work\"\n\n* \"fix Alt+keyboard shortcuts do not work\"\n\n* \"fix Alt+keyboard shortcuts do not work\"\n\n* \"fix Alt+keyboard shortcuts do not work\"","date":"2021-02-01 03:56:14","modifiedFileCount":"1","status":"M","submitter":"Weibao Fu"},{"authorTime":"2020-12-08 05:06:14","codes":[{"authorDate":"2021-02-02 04:19:59","commitOrder":70,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2021-02-02 04:19:59","endLine":894,"groupId":"1319","id":31,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/89/be3494a67b3c5112d5d569a701421621c663fa.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SETUP_GENERAL_FIELDS, new SetupGeneralFieldsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_IMPORTS, new ManageCustomImportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_CUSTOM_EXPORTS, new ManageCustomExportsAction()),\n                factory.createMenuItem(StandardActions.MANAGE_JOURNALS, new ManageJournalsAction()),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_KEYBINDING, new CustomizeKeyBindingAction()),\n                factory.createMenuItem(StandardActions.MANAGE_PROTECTED_TERMS, new ManageProtectedTermsAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":659,"status":"M"},{"authorDate":"2020-12-08 05:06:14","commitOrder":70,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2020-12-08 05:06:14","endLine":1021,"groupId":"10368","id":32,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/c4/d9d37e14241be983bd2a6113c52355079cd05c.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1007,"status":"N"}],"commitId":"5a114125362bd74415ec59d57fac874896460ac1","commitMessage":"@@@Grand unified preferences dialog (#7384)\n\nCo-authored-by: Siedlerchr <siedlerkiller@gmail.com>","date":"2021-02-02 04:19:59","modifiedFileCount":"10","status":"M","submitter":"Carl Christian Snethlage"},{"authorTime":"2020-12-08 05:06:14","codes":[{"authorDate":"2021-04-27 03:02:28","commitOrder":71,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR, prefs))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2021-04-27 03:02:28","endLine":898,"groupId":"0","id":33,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/ec/bb1fa02c63a0e59a36fa898e8e475aa04be723.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":663,"status":"M"},{"authorDate":"2020-12-08 05:06:14","commitOrder":71,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2020-12-08 05:06:14","endLine":1021,"groupId":"10368","id":34,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/c4/d9d37e14241be983bd2a6113c52355079cd05c.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1007,"status":"N"}],"commitId":"7aff889f06f56acf5c60bd70f3c35355f65239c6","commitMessage":"@@@Add more unit tests to three gui classes  (#7636)\n\n* Added two Junit tests using mocks for the gui\n\n* Add JUnit test with mocks for CopyMoreAction\n\n* organized imports\n\n* modified the tests\n\n* Modified the tests\n\n* fix checkstyle issue and comment out the use of Globals\n\n* Extract Globals.prefs\n\n* Update ExportToClipboardActionTest.java\n\n* Fix checkstyle issues\n\n* Fix checkstyle issue\n\nCo-authored-by: Siedlerchr <siedlerkiller@gmail.com>","date":"2021-04-27 03:02:28","modifiedFileCount":"5","status":"M","submitter":"ningxie"},{"authorTime":"2020-12-08 05:06:14","codes":[{"authorDate":"2021-06-11 05:14:10","commitOrder":72,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR, prefs))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager, taskExecutor, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2021-06-11 05:14:10","endLine":898,"groupId":"291","id":35,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/ee/01c0388836cf6a6a96c412a1b1e08ffd184ee5.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR, prefs))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":663,"status":"M"},{"authorDate":"2020-12-08 05:06:14","commitOrder":72,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2020-12-08 05:06:14","endLine":1021,"groupId":"10368","id":36,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/c4/d9d37e14241be983bd2a6113c52355079cd05c.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1007,"status":"N"}],"commitId":"475b2989ffa8ec61c3327c62ed8f694149f83220","commitMessage":"@@@Added auto-key-generation task to task-progress (#7797)\n\n","date":"2021-06-11 05:14:10","modifiedFileCount":"3","status":"M","submitter":"Benedikt Tutzer"},{"authorTime":"2020-12-08 05:06:14","codes":[{"authorDate":"2021-07-05 03:02:18","commitOrder":73,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR, prefs))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager, taskExecutor, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, this.prefs, stateManager)),\n                pushToApplicationMenuItem,\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.START_NEW_STUDY, new StartNewStudyAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs)),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_EXISTING_STUDY, new ExistingStudySearchAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs))\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2021-07-05 03:02:18","endLine":897,"groupId":"291","id":37,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/81/7fd6263bb041a80dde2ef21e5bf4c53d70a346.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR, prefs))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager, taskExecutor, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, prefs, stateManager)),\n                pushToApplicationMenuItem\n                \r\n                \r\n                \r\n                \r\n                \r\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":664,"status":"M"},{"authorDate":"2020-12-08 05:06:14","commitOrder":73,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2020-12-08 05:06:14","endLine":1021,"groupId":"10368","id":38,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/c4/d9d37e14241be983bd2a6113c52355079cd05c.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1007,"status":"N"}],"commitId":"f0709b71ca0a303d17904e63072ef4abef29d539","commitMessage":"@@@Feature add git workflow for slr search (#7625)\n\n* Add study UI and Git support\n\n* Modify localization\n\n* Fix checkstyle\n\n* Fix test issues\n\n* Fix architecture test.  modify some formulations in UI\n\n* Add DI for services\n\n* Get table views working\nstandardize UI\n\n* Clean up\n\n* Make localization consistent\n\n* Compressed fxml and fixed minor visual issue (table cell too small)\n\n* Reduced code duplication\n\nCo-authored-by: Carl Christian Snethlage <cc.snethlage@gmail.com>\nCo-authored-by: Siedlerchr <siedlerkiller@gmail.com>","date":"2021-07-05 03:02:18","modifiedFileCount":"8","status":"M","submitter":"Dominik Voigt"},{"authorTime":"2020-12-08 05:06:14","codes":[{"authorDate":"2021-07-15 03:49:30","commitOrder":74,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR, prefs))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager, taskExecutor, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, this.prefs, stateManager)),\n                pushToApplicationMenuItem,\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.START_NEW_STUDY, new StartNewStudyAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs)),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_EXISTING_STUDY, new ExistingStudySearchAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REBUILD_FULLTEXT_SEARCH_INDEX, new RebuildFulltextSearchIndexAction(stateManager, this::getCurrentLibraryTab, dialogService, prefs.getFilePreferences()))\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2021-07-15 03:49:30","endLine":902,"groupId":"291","id":39,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/63/61fd9d76e757e7534697c6a86bddd69afeb40a.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR, prefs))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager, taskExecutor, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, this.prefs, stateManager)),\n                pushToApplicationMenuItem,\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.START_NEW_STUDY, new StartNewStudyAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs)),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_EXISTING_STUDY, new ExistingStudySearchAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs))\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":665,"status":"M"},{"authorDate":"2020-12-08 05:06:14","commitOrder":74,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2020-12-08 05:06:14","endLine":1021,"groupId":"10368","id":40,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/c4/d9d37e14241be983bd2a6113c52355079cd05c.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1007,"status":"N"}],"commitId":"ddce5735b09cfec22ef55d15431582f19cb54208","commitMessage":"@@@Search in PDF Files (#2838)\n\nCo-authored-by: braunch <braunch.dev@gmail.com>\nCo-authored-by: Oliver Kopp <kopp.dev@gmail.com>\nCo-authored-by: Benedikt Tutzer <btut@users.noreply.github.com>\nCo-authored-by: Carl Christian Snethlage <50491877+calixtus@users.noreply.github.com>\nCo-authored-by: Christoph <siedlerkiller@gmail.com>","date":"2021-07-15 03:49:30","modifiedFileCount":"39","status":"M","submitter":"Linus Dietz"},{"authorTime":"2021-08-31 19:50:57","codes":[{"authorDate":"2021-08-31 19:50:57","commitOrder":75,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, prefs, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR, prefs))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager, taskExecutor, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService, prefs)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(dialogService, prefs, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, this.prefs, stateManager)),\n                pushToApplicationMenuItem,\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.START_NEW_STUDY, new StartNewStudyAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_EXISTING_STUDY, new ExistingStudySearchAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REBUILD_FULLTEXT_SEARCH_INDEX, new RebuildFulltextSearchIndexAction(stateManager, this::getCurrentLibraryTab, dialogService, prefs.getFilePreferences()))\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager, prefs))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2021-08-31 19:50:57","endLine":901,"groupId":"357","id":41,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/fc/2abd1155407a345d0880b6365065f0898f63b5.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR, prefs))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager, taskExecutor, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(stateManager, this.getDialogService())),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, this.prefs, stateManager)),\n                pushToApplicationMenuItem,\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.START_NEW_STUDY, new StartNewStudyAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs)),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_EXISTING_STUDY, new ExistingStudySearchAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REBUILD_FULLTEXT_SEARCH_INDEX, new RebuildFulltextSearchIndexAction(stateManager, this::getCurrentLibraryTab, dialogService, prefs.getFilePreferences()))\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":664,"status":"M"},{"authorDate":"2021-08-31 19:50:57","commitOrder":75,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager, prefs)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2021-08-31 19:50:57","endLine":1014,"groupId":"9378","id":42,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/fc/2abd1155407a345d0880b6365065f0898f63b5.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1000,"status":"M"}],"commitId":"df83c9d8c709c121e69868c8149263ac2988b2ac","commitMessage":"@@@Cleanup preferences (#8036)\n\n* Extracted Globals.prefs from JabRefDesktop\n\n* Extracted Globals.prefs from EntryAddChangeViewModel and Globals.stateManager\n\n* More simple extractions of Globals.prefs\n\n* Remove double return of standardWorkingDirectory\n\n* More simple extractions of Globals.prefs\n\nCo-authored-by: Siedlerchr <siedlerkiller@gmail.com>","date":"2021-08-31 19:50:57","modifiedFileCount":"28","status":"M","submitter":"Carl Christian Snethlage"},{"authorTime":"2021-08-31 19:50:57","codes":[{"authorDate":"2021-08-31 20:52:33","commitOrder":76,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, prefs, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR, prefs))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager, taskExecutor, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_METADATA_TO_PDF, new WriteMetadataToPdfAction(stateManager, prefs.getDefaultBibDatabaseMode(), Globals.entryTypesManager, prefs.getFieldWriterPreferences(), dialogService, taskExecutor, prefs.getFilePreferences(), prefs.getXmpPreferences(), prefs.getDefaultEncoding())),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(dialogService, prefs, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, this.prefs, stateManager)),\n                pushToApplicationMenuItem,\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.START_NEW_STUDY, new StartNewStudyAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_EXISTING_STUDY, new ExistingStudySearchAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REBUILD_FULLTEXT_SEARCH_INDEX, new RebuildFulltextSearchIndexAction(stateManager, this::getCurrentLibraryTab, dialogService, prefs.getFilePreferences()))\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager, prefs))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2021-08-31 20:52:33","endLine":901,"groupId":"357","id":43,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/ca/566313ffef8d67aa789665e8ae2eb2222de441.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, prefs, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR, prefs))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager, taskExecutor, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_XMP, new WriteXMPAction(stateManager, dialogService, prefs)),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(dialogService, prefs, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, this.prefs, stateManager)),\n                pushToApplicationMenuItem,\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.START_NEW_STUDY, new StartNewStudyAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_EXISTING_STUDY, new ExistingStudySearchAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REBUILD_FULLTEXT_SEARCH_INDEX, new RebuildFulltextSearchIndexAction(stateManager, this::getCurrentLibraryTab, dialogService, prefs.getFilePreferences()))\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager, prefs))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":664,"status":"M"},{"authorDate":"2021-08-31 19:50:57","commitOrder":76,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager, prefs)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2021-08-31 19:50:57","endLine":1014,"groupId":"9378","id":44,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/fc/2abd1155407a345d0880b6365065f0898f63b5.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager, prefs)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1000,"status":"N"}],"commitId":"577f51c9c2270f50c4e025a2038c8a75782b0499","commitMessage":"@@@Write embedded bib in addition to XMP metadata (#8037)\n\n* EmbeddedBibFilePdfExporter\n\n* Standard Action\n\n* Gui triggers\n\n* Fix empty optional\n\n* CLI triggers\n\n* Localization\n\n* CHANGELOG\n\n* use System streams instead of Logger for user out\n\n* Typo in CHANGELOG.md\n\nCo-authored-by: Christoph <siedlerkiller@gmail.com>\n\nCo-authored-by: Benedikt Tutzer <benedikt.tutzer@tuwien.ac.at>\nCo-authored-by: Christoph <siedlerkiller@gmail.com>","date":"2021-08-31 20:52:33","modifiedFileCount":"17","status":"M","submitter":"Benedikt Tutzer"},{"authorTime":"2021-08-31 19:50:57","codes":[{"authorDate":"2021-09-01 18:29:59","commitOrder":77,"curCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, prefs, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR, prefs))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager, taskExecutor, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_METADATA_TO_PDF, new WriteMetadataToPdfAction(stateManager, prefs.getDefaultBibDatabaseMode(), Globals.entryTypesManager, prefs.getFieldWriterPreferences(), dialogService, taskExecutor, prefs.getFilePreferences(), prefs.getXmpPreferences(), prefs.getDefaultEncoding())),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(dialogService, prefs, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, this.prefs, stateManager)),\n                pushToApplicationMenuItem,\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.START_NEW_STUDY, new StartNewStudyAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_EXISTING_STUDY, new ExistingStudySearchAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REBUILD_FULLTEXT_SEARCH_INDEX, new RebuildFulltextSearchIndexAction(stateManager, this::getCurrentLibraryTab, dialogService, prefs.getFilePreferences()))\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager, prefs))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","date":"2021-09-01 18:29:59","endLine":901,"groupId":"10955","id":45,"instanceNumber":1,"isCurCommit":0,"methodName":"createMenu","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/59/f4e10bb359d301b02bcf328dd11a6a28204995.src","preCode":"    private MenuBar createMenu() {\n        ActionFactory factory = new ActionFactory(Globals.getKeyPrefs());\n        Menu file = new Menu(Localization.lang(\"File\"));\n        Menu edit = new Menu(Localization.lang(\"Edit\"));\n        Menu library = new Menu(Localization.lang(\"Library\"));\n        Menu quality = new Menu(Localization.lang(\"Quality\"));\n        Menu lookup = new Menu(Localization.lang(\"Lookup\"));\n        Menu view = new Menu(Localization.lang(\"View\"));\n        Menu tools = new Menu(Localization.lang(\"Tools\"));\n        Menu options = new Menu(Localization.lang(\"Options\"));\n        Menu help = new Menu(Localization.lang(\"Help\"));\n\n        file.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_LIBRARY, new NewDatabaseAction(this, prefs)),\n                factory.createMenuItem(StandardActions.OPEN_LIBRARY, getOpenDatabaseAction()),\n                fileHistory,\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY, new SaveAction(SaveAction.SaveMethod.SAVE, this, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_LIBRARY_AS, new SaveAction(SaveAction.SaveMethod.SAVE_AS, this, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SAVE_ALL, new SaveAllAction(this, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.IMPORT,\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_CURRENT_LIBRARY, new ImportCommand(this, false, prefs, stateManager)),\n                        factory.createMenuItem(StandardActions.IMPORT_INTO_NEW_LIBRARY, new ImportCommand(this, true, prefs, stateManager))),\n\n                factory.createSubMenu(StandardActions.EXPORT,\n                        factory.createMenuItem(StandardActions.EXPORT_ALL, new ExportCommand(this, false, prefs)),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED, new ExportCommand(this, true, prefs)),\n                        factory.createMenuItem(StandardActions.SAVE_SELECTED_AS_PLAIN_BIBTEX, new SaveAction(SaveAction.SaveMethod.SAVE_SELECTED, this, prefs, stateManager))),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.REMOTE_DB,\n                        factory.createMenuItem(StandardActions.CONNECT_TO_SHARED_DB, new ConnectToSharedDatabaseCommand(this)),\n                        factory.createMenuItem(StandardActions.PULL_CHANGES_FROM_SHARED_DB, new PullChangesFromSharedAction(stateManager))\n                ),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.QUIT, new CloseAction())\n        );\n\n        edit.getItems().addAll(\n                factory.createMenuItem(StandardActions.UNDO, new UndoRedoAction(StandardActions.UNDO, this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.REDO, new UndoRedoAction(StandardActions.REDO, this, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.CUT, new EditAction(StandardActions.CUT, this, stateManager)),\n\n                factory.createMenuItem(StandardActions.COPY, new EditAction(StandardActions.COPY, this, stateManager)),\n                factory.createSubMenu(StandardActions.COPY_MORE,\n                        factory.createMenuItem(StandardActions.COPY_TITLE, new CopyMoreAction(StandardActions.COPY_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY, new CopyMoreAction(StandardActions.COPY_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITE_KEY, new CopyMoreAction(StandardActions.COPY_CITE_KEY, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_TITLE, new CopyMoreAction(StandardActions.COPY_KEY_AND_TITLE, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_KEY_AND_LINK, new CopyMoreAction(StandardActions.COPY_KEY_AND_LINK, dialogService, stateManager, Globals.getClipboardManager(), prefs)),\n                        factory.createMenuItem(StandardActions.COPY_CITATION_PREVIEW, new CopyCitationAction(CitationStyleOutputFormat.HTML, dialogService, stateManager, Globals.getClipboardManager(), prefs.getPreviewPreferences())),\n                        factory.createMenuItem(StandardActions.EXPORT_SELECTED_TO_CLIPBOARD, new ExportToClipboardAction(this, dialogService, Globals.exportFactory, Globals.getClipboardManager(), Globals.TASK_EXECUTOR, prefs))),\n\n                factory.createMenuItem(StandardActions.PASTE, new EditAction(StandardActions.PASTE, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REPLACE_ALL, new ReplaceStringAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.GENERATE_CITE_KEYS, new GenerateCitationKeyAction(this, dialogService, stateManager, taskExecutor, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_KEYWORDS, new ManageKeywordsAction(stateManager)),\n                factory.createMenuItem(StandardActions.MASS_SET_FIELDS, new MassSetFieldsAction(stateManager, dialogService, undoManager))\n        );\n\n        if (prefs.getSpecialFieldsPreferences().isSpecialFieldsEnabled()) {\n            edit.getItems().addAll(\n                    new SeparatorMenuItem(),\n                    \r\n                    \r\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.RANKING, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.RELEVANCE, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.QUALITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.getSpecialFieldSingleItem(SpecialField.PRINTED, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.PRIORITY, factory, this, dialogService, prefs, undoManager, stateManager),\n                    SpecialFieldMenuItemFactory.createSpecialFieldMenu(SpecialField.READ_STATUS, factory, this, dialogService, prefs, undoManager, stateManager)\n            );\n        }\n\n        \r\n        library.getItems().addAll(\n                factory.createMenuItem(StandardActions.NEW_ENTRY, new NewEntryAction(this, dialogService, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.NEW_ENTRY_FROM_PLAIN_TEXT, new ExtractBibtexAction(stateManager)),\n                factory.createMenuItem(StandardActions.DELETE_ENTRY, new EditAction(StandardActions.DELETE_ENTRY, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.EDIT_PREAMBLE, new PreambleEditor(stateManager, undoManager, this.getDialogService())),\n                factory.createMenuItem(StandardActions.EDIT_STRINGS, new BibtexStringEditorAction(stateManager)),\n                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new CitationKeyPatternAction(this, stateManager))\n        );\n\n        quality.getItems().addAll(\n                factory.createMenuItem(StandardActions.FIND_DUPLICATES, new DuplicateSearch(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.MERGE_ENTRIES, new MergeEntriesAction(this, dialogService, stateManager)),\n                factory.createMenuItem(StandardActions.CHECK_INTEGRITY, new IntegrityCheckAction(this, stateManager, Globals.TASK_EXECUTOR)),\n                factory.createMenuItem(StandardActions.CLEANUP_ENTRIES, new CleanupAction(this, this.prefs, dialogService, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SET_FILE_LINKS, new AutoLinkFilesAction(dialogService, prefs, stateManager, undoManager, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createSubMenu(StandardActions.ABBREVIATE,\n                        factory.createMenuItem(StandardActions.ABBREVIATE_DEFAULT, new AbbreviateAction(StandardActions.ABBREVIATE_DEFAULT, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_MEDLINE, new AbbreviateAction(StandardActions.ABBREVIATE_MEDLINE, this, dialogService, stateManager)),\n                        factory.createMenuItem(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, new AbbreviateAction(StandardActions.ABBREVIATE_SHORTEST_UNIQUE, this, dialogService, stateManager))),\n\n                factory.createMenuItem(StandardActions.UNABBREVIATE, new AbbreviateAction(StandardActions.UNABBREVIATE, this, dialogService, stateManager))\n        );\n\n        Menu lookupIdentifiers = factory.createSubMenu(StandardActions.LOOKUP_DOC_IDENTIFIER);\n        for (IdFetcher<?> fetcher : WebFetchers.getIdFetchers(prefs.getImportFormatPreferences())) {\n            LookupIdentifierAction<?> identifierAction = new LookupIdentifierAction<>(this, fetcher, stateManager, undoManager);\n            lookupIdentifiers.getItems().add(factory.createMenuItem(identifierAction.getAction(), identifierAction));\n        }\n\n        lookup.getItems().addAll(\n                lookupIdentifiers,\n                factory.createMenuItem(StandardActions.DOWNLOAD_FULL_TEXT, new DownloadFullTextAction(dialogService, stateManager, prefs)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.FIND_UNLINKED_FILES, new FindUnlinkedFilesAction(dialogService, stateManager))\n        );\n\n        \r\n        final PushToApplicationAction pushToApplicationAction = pushToApplicationsManager.getPushToApplicationAction();\n        final MenuItem pushToApplicationMenuItem = factory.createMenuItem(pushToApplicationAction.getActionInformation(), pushToApplicationAction);\n        pushToApplicationsManager.registerReconfigurable(pushToApplicationMenuItem);\n\n        tools.getItems().addAll(\n                factory.createMenuItem(StandardActions.PARSE_LATEX, new ParseLatexAction(stateManager)),\n                factory.createMenuItem(StandardActions.NEW_SUB_LIBRARY_FROM_AUX, new NewSubLibraryAction(this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.WRITE_METADATA_TO_PDF, new WriteMetadataToPdfAction(stateManager, prefs.getDefaultBibDatabaseMode(), Globals.entryTypesManager, prefs.getFieldWriterPreferences(), dialogService, taskExecutor, prefs.getFilePreferences(), prefs.getXmpPreferences(), prefs.getDefaultEncoding())),\n                factory.createMenuItem(StandardActions.COPY_LINKED_FILES, new CopyFilesAction(dialogService, prefs, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SEND_AS_EMAIL, new SendAsEMailAction(dialogService, this.prefs, stateManager)),\n                pushToApplicationMenuItem,\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.START_NEW_STUDY, new StartNewStudyAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs, stateManager)),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_EXISTING_STUDY, new ExistingStudySearchAction(this, Globals.getFileUpdateMonitor(), Globals.TASK_EXECUTOR, prefs, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.REBUILD_FULLTEXT_SEARCH_INDEX, new RebuildFulltextSearchIndexAction(stateManager, this::getCurrentLibraryTab, dialogService, prefs.getFilePreferences()))\n        );\n\n        SidePaneComponent webSearch = sidePaneManager.getComponent(SidePaneType.WEB_SEARCH);\n        SidePaneComponent groups = sidePaneManager.getComponent(SidePaneType.GROUPS);\n        SidePaneComponent openOffice = sidePaneManager.getComponent(SidePaneType.OPEN_OFFICE);\n\n        view.getItems().addAll(\n                factory.createCheckMenuItem(webSearch.getToggleAction(), webSearch.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.WEB_SEARCH)),\n                factory.createCheckMenuItem(groups.getToggleAction(), groups.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.GROUPS)),\n                factory.createCheckMenuItem(openOffice.getToggleAction(), openOffice.getToggleCommand(), sidePaneManager.isComponentVisible(SidePaneType.OPEN_OFFICE)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.NEXT_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.NEXT, this, stateManager)),\n                factory.createMenuItem(StandardActions.PREVIOUS_PREVIEW_STYLE, new PreviewSwitchAction(PreviewSwitchAction.Direction.PREVIOUS, this, stateManager)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.SHOW_PDF_VIEWER, new ShowDocumentViewerAction(stateManager, prefs)),\n                factory.createMenuItem(StandardActions.EDIT_ENTRY, new OpenEntryEditorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager, prefs))\n        );\n\n        options.getItems().addAll(\n                factory.createMenuItem(StandardActions.SHOW_PREFS, new ShowPreferencesAction(this, Globals.TASK_EXECUTOR)),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.MANAGE_CONTENT_SELECTORS, new ManageContentSelectorAction(this, stateManager)),\n                factory.createMenuItem(StandardActions.CUSTOMIZE_ENTRY_TYPES, new CustomizeEntryAction(stateManager, Globals.entryTypesManager))\n        );\n\n        help.getItems().addAll(\n                factory.createMenuItem(StandardActions.HELP, HelpAction.getMainHelpPageCommand()),\n                factory.createMenuItem(StandardActions.OPEN_FORUM, new OpenBrowserAction(\"http://discourse.jabref.org/\")),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.ERROR_CONSOLE, new ErrorConsoleAction()),\n\n                new SeparatorMenuItem(),\n\n                factory.createMenuItem(StandardActions.DONATE, new OpenBrowserAction(\"https://donations.jabref.org\")),\n                factory.createMenuItem(StandardActions.SEARCH_FOR_UPDATES, new SearchForUpdateAction(Globals.BUILD_INFO, prefs.getVersionPreferences(), dialogService, Globals.TASK_EXECUTOR)),\n                factory.createSubMenu(StandardActions.WEB_MENU,\n                        factory.createMenuItem(StandardActions.OPEN_WEBPAGE, new OpenBrowserAction(\"https://jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_BLOG, new OpenBrowserAction(\"https://blog.jabref.org/\")),\n                        factory.createMenuItem(StandardActions.OPEN_FACEBOOK, new OpenBrowserAction(\"https://www.facebook.com/JabRef/\")),\n                        factory.createMenuItem(StandardActions.OPEN_TWITTER, new OpenBrowserAction(\"https://twitter.com/jabref_org\")),\n                        factory.createMenuItem(StandardActions.OPEN_GITHUB, new OpenBrowserAction(\"https://github.com/JabRef/jabref\")),\n\n                        new SeparatorMenuItem(),\n\n                        factory.createMenuItem(StandardActions.OPEN_DEV_VERSION_LINK, new OpenBrowserAction(\"https://builds.jabref.org/master/\")),\n                        factory.createMenuItem(StandardActions.OPEN_CHANGELOG, new OpenBrowserAction(\"https://github.com/JabRef/jabref/blob/master/CHANGELOG.md\"))\n                ),\n                factory.createMenuItem(StandardActions.ABOUT, new AboutAction())\n        );\n\n        \r\n        MenuBar menu = new MenuBar();\n        menu.getStyleClass().add(\"mainMenu\");\n        menu.getMenus().addAll(\n                file,\n                edit,\n                library,\n                quality,\n                lookup,\n                tools,\n                view,\n                options,\n                help);\n        menu.setUseSystemMenuBar(true);\n        return menu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":664,"status":"M"},{"authorDate":"2021-08-31 19:50:57","commitOrder":77,"curCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager, prefs)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","date":"2021-08-31 19:50:57","endLine":1014,"groupId":"10955","id":46,"instanceNumber":2,"isCurCommit":0,"methodName":"createTabContextMenu","params":"(KeyBindingRepositorykeyBindingRepository)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/fc/2abd1155407a345d0880b6365065f0898f63b5.src","preCode":"    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n        ContextMenu contextMenu = new ContextMenu();\n        ActionFactory factory = new ActionFactory(keyBindingRepository);\n\n        contextMenu.getItems().addAll(\n                factory.createMenuItem(StandardActions.OPEN_DATABASE_FOLDER, new OpenDatabaseFolder()),\n                factory.createMenuItem(StandardActions.OPEN_CONSOLE, new OpenConsoleAction(stateManager, prefs)),\n                new SeparatorMenuItem(),\n                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction())\n        );\n\n        return contextMenu;\n    }\n","realPath":"src/main/java/org/jabref/gui/JabRefFrame.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":1000,"status":"N"}],"commitId":"de91ade654501818866c7897a4fb6289f4f8417d","commitMessage":"@@@Observable preferences A (Appearance and Importer) (#8041)\n\nCo-authored-by: Tobias Diez <tobiasdiez@gmx.de>\nCo-authored-by: Benedikt Tutzer <btut@users.noreply.github.com>","date":"2021-09-01 18:29:59","modifiedFileCount":"30","status":"M","submitter":"Carl Christian Snethlage"}]
