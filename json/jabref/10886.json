[{"authorTime":"2017-02-17 05:41:47","codes":[{"authorDate":"2017-02-17 05:41:47","commitOrder":1,"curCode":"    private void initPanel() {\n\n        connect.addActionListener(e -> connect(true));\n        manualConnect.addActionListener(e -> connect(false));\n\n        selectDocument.setToolTipText(Localization.lang(\"Select which open Writer document to work on\"));\n        selectDocument.addActionListener(e -> {\n\n            try {\n                ooBase.selectDocument();\n                frame.output(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (UnknownPropertyException | WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                JOptionPane.showMessageDialog(frame, ex.getMessage(), Localization.lang(\"Error\"),\n                        JOptionPane.ERROR_MESSAGE);\n                LOGGER.warn(\"Problem connecting\", ex);\n            }\n\n        });\n\n        setStyleFile.addActionListener(event -> {\n\n            if (styleDialog == null) {\n                styleDialog = new StyleSelectDialog(frame, preferences, loader);\n            }\n            styleDialog.setVisible(true);\n            styleDialog.getStyle().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                frame.setStatus(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setToolTipText(Localization.lang(\"Cite selected entries between parenthesis\"));\n        pushEntries.addActionListener(e -> pushEntries(true, true, false));\n        pushEntriesInt.setToolTipText(Localization.lang(\"Cite selected entries with in-text citation\"));\n        pushEntriesInt.addActionListener(e -> pushEntries(false, true, false));\n        pushEntriesEmpty.setToolTipText(\n                Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\"));\n        pushEntriesEmpty.addActionListener(e -> pushEntries(false, false, false));\n        pushEntriesAdvanced.setToolTipText(Localization.lang(\"Cite selected entries with extra information\"));\n        pushEntriesAdvanced.addActionListener(e -> pushEntries(false, true, true));\n\n        update.setToolTipText(Localization.lang(\"Ensure that the bibliography is up-to-date\"));\n        Action updateAction = new AbstractAction() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    if (style == null) {\n                        style = loader.getUsedStyle();\n                    } else {\n                        style.ensureUpToDate();\n                    }\n\n                    ooBase.updateSortedReferenceMarks();\n\n                    List<BibDatabase> databases = getBaseList();\n                    List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                    ooBase.rebuildBibTextSection(databases, style);\n                    if (!unresolvedKeys.isEmpty()) {\n                        JOptionPane.showMessageDialog(frame,\n                                Localization.lang(\n                                        \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                        unresolvedKeys.get(0)),\n                                Localization.lang(\"Unable to synchronize bibliography\"), JOptionPane.ERROR_MESSAGE);\n                    }\n                } catch (UndefinedCharacterFormatException ex) {\n                    reportUndefinedCharacterFormat(ex);\n                } catch (UndefinedParagraphFormatException ex) {\n                    reportUndefinedParagraphFormat(ex);\n                } catch (ConnectionLostException ex) {\n                    showConnectionLostErrorMessage();\n                } catch (IOException ex) {\n                    JOptionPane.showMessageDialog(frame,\n                            Localization\n                                    .lang(\"You must select either a valid style file, or use one of the default styles.\"),\n                            Localization.lang(\"No valid style file defined\"), JOptionPane.ERROR_MESSAGE);\n                    LOGGER.warn(\"Problem with style file\", ex);\n                } catch (BibEntryNotFoundException ex) {\n                    JOptionPane.showMessageDialog(frame,\n                            Localization.lang(\n                                    \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                    ex.getBibtexKey()),\n                            Localization.lang(\"Unable to synchronize bibliography\"), JOptionPane.ERROR_MESSAGE);\n                    LOGGER.debug(\"BibEntry not found\", ex);\n                } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                        CreationException ex) {\n                    LOGGER.warn(\"Could not update bibliography\", ex);\n                }\n            }\n        };\n        update.addActionListener(updateAction);\n\n        merge.setToolTipText(Localization.lang(\"Combine pairs of citations that are separated by spaces only\"));\n        merge.addActionListener(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        settingsB.addActionListener(e -> showSettingsPopup());\n        manageCitations.addActionListener(e -> {\n            try {\n                CitationManager cm = new CitationManager(frame, ooBase);\n                cm.showDialog();\n            } catch (NoSuchElementException | WrappedTargetException | UnknownPropertyException ex) {\n                LOGGER.warn(\"Problem showing citation manager\", ex);\n            }\n        });\n\n        exportCitations.addActionListener(event -> exportEntries());\n\n        selectDocument.setEnabled(false);\n        pushEntries.setEnabled(false);\n        pushEntriesInt.setEnabled(false);\n        pushEntriesEmpty.setEnabled(false);\n        pushEntriesAdvanced.setEnabled(false);\n        update.setEnabled(false);\n        merge.setEnabled(false);\n        manageCitations.setEnabled(false);\n        exportCitations.setEnabled(false);\n        diag = new JDialog((JFrame) null, \"OpenOffice/LibreOffice panel\", false);\n\n        FormBuilder mainBuilder = FormBuilder.create()\n                .layout(new FormLayout(\"fill:pref:grow\", \"p,p,p,p,p,p,p,p,p,p,p\"));\n\n        FormBuilder topRowBuilder = FormBuilder.create()\n                .layout(new FormLayout(\n                        \"fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref\",\n                        \"pref\"));\n        topRowBuilder.add(connect).xy(1, 1);\n        topRowBuilder.add(manualConnect).xy(3, 1);\n        topRowBuilder.add(selectDocument).xy(5, 1);\n        topRowBuilder.add(update).xy(7, 1);\n        topRowBuilder.add(help).xy(9, 1);\n        mainBuilder.add(topRowBuilder.getPanel()).xy(1, 1);\n        mainBuilder.add(setStyleFile).xy(1, 2);\n        mainBuilder.add(pushEntries).xy(1, 3);\n        mainBuilder.add(pushEntriesInt).xy(1, 4);\n        mainBuilder.add(pushEntriesAdvanced).xy(1, 5);\n        mainBuilder.add(pushEntriesEmpty).xy(1, 6);\n        mainBuilder.add(merge).xy(1, 7);\n        mainBuilder.add(manageCitations).xy(1, 8);\n        mainBuilder.add(exportCitations).xy(1, 9);\n        mainBuilder.add(settingsB).xy(1, 10);\n\n        JPanel content = new JPanel();\n        sidePane.setContentContainer(content);\n        content.setLayout(new BorderLayout());\n        content.add(mainBuilder.getPanel(), BorderLayout.CENTER);\n\n        frame.getTabbedPane().getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW)\n                .put(Globals.getKeyPrefs().getKey(KeyBinding.REFRESH_OO), \"Refresh OO\");\n        frame.getTabbedPane().getActionMap().put(\"Refresh OO\", updateAction);\n\n    }\n","date":"2017-02-17 05:41:47","endLine":307,"groupId":"12994","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"initPanel","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/70/46b3474dec1752d1ddb992f7ea486b41b110a8.src","preCode":"    private void initPanel() {\n\n        connect.addActionListener(e -> connect(true));\n        manualConnect.addActionListener(e -> connect(false));\n\n        selectDocument.setToolTipText(Localization.lang(\"Select which open Writer document to work on\"));\n        selectDocument.addActionListener(e -> {\n\n            try {\n                ooBase.selectDocument();\n                frame.output(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (UnknownPropertyException | WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                JOptionPane.showMessageDialog(frame, ex.getMessage(), Localization.lang(\"Error\"),\n                        JOptionPane.ERROR_MESSAGE);\n                LOGGER.warn(\"Problem connecting\", ex);\n            }\n\n        });\n\n        setStyleFile.addActionListener(event -> {\n\n            if (styleDialog == null) {\n                styleDialog = new StyleSelectDialog(frame, preferences, loader);\n            }\n            styleDialog.setVisible(true);\n            styleDialog.getStyle().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                frame.setStatus(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setToolTipText(Localization.lang(\"Cite selected entries between parenthesis\"));\n        pushEntries.addActionListener(e -> pushEntries(true, true, false));\n        pushEntriesInt.setToolTipText(Localization.lang(\"Cite selected entries with in-text citation\"));\n        pushEntriesInt.addActionListener(e -> pushEntries(false, true, false));\n        pushEntriesEmpty.setToolTipText(\n                Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\"));\n        pushEntriesEmpty.addActionListener(e -> pushEntries(false, false, false));\n        pushEntriesAdvanced.setToolTipText(Localization.lang(\"Cite selected entries with extra information\"));\n        pushEntriesAdvanced.addActionListener(e -> pushEntries(false, true, true));\n\n        update.setToolTipText(Localization.lang(\"Ensure that the bibliography is up-to-date\"));\n        Action updateAction = new AbstractAction() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    if (style == null) {\n                        style = loader.getUsedStyle();\n                    } else {\n                        style.ensureUpToDate();\n                    }\n\n                    ooBase.updateSortedReferenceMarks();\n\n                    List<BibDatabase> databases = getBaseList();\n                    List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                    ooBase.rebuildBibTextSection(databases, style);\n                    if (!unresolvedKeys.isEmpty()) {\n                        JOptionPane.showMessageDialog(frame,\n                                Localization.lang(\n                                        \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                        unresolvedKeys.get(0)),\n                                Localization.lang(\"Unable to synchronize bibliography\"), JOptionPane.ERROR_MESSAGE);\n                    }\n                } catch (UndefinedCharacterFormatException ex) {\n                    reportUndefinedCharacterFormat(ex);\n                } catch (UndefinedParagraphFormatException ex) {\n                    reportUndefinedParagraphFormat(ex);\n                } catch (ConnectionLostException ex) {\n                    showConnectionLostErrorMessage();\n                } catch (IOException ex) {\n                    JOptionPane.showMessageDialog(frame,\n                            Localization\n                                    .lang(\"You must select either a valid style file, or use one of the default styles.\"),\n                            Localization.lang(\"No valid style file defined\"), JOptionPane.ERROR_MESSAGE);\n                    LOGGER.warn(\"Problem with style file\", ex);\n                } catch (BibEntryNotFoundException ex) {\n                    JOptionPane.showMessageDialog(frame,\n                            Localization.lang(\n                                    \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                    ex.getBibtexKey()),\n                            Localization.lang(\"Unable to synchronize bibliography\"), JOptionPane.ERROR_MESSAGE);\n                    LOGGER.debug(\"BibEntry not found\", ex);\n                } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                        CreationException ex) {\n                    LOGGER.warn(\"Could not update bibliography\", ex);\n                }\n            }\n        };\n        update.addActionListener(updateAction);\n\n        merge.setToolTipText(Localization.lang(\"Combine pairs of citations that are separated by spaces only\"));\n        merge.addActionListener(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        settingsB.addActionListener(e -> showSettingsPopup());\n        manageCitations.addActionListener(e -> {\n            try {\n                CitationManager cm = new CitationManager(frame, ooBase);\n                cm.showDialog();\n            } catch (NoSuchElementException | WrappedTargetException | UnknownPropertyException ex) {\n                LOGGER.warn(\"Problem showing citation manager\", ex);\n            }\n        });\n\n        exportCitations.addActionListener(event -> exportEntries());\n\n        selectDocument.setEnabled(false);\n        pushEntries.setEnabled(false);\n        pushEntriesInt.setEnabled(false);\n        pushEntriesEmpty.setEnabled(false);\n        pushEntriesAdvanced.setEnabled(false);\n        update.setEnabled(false);\n        merge.setEnabled(false);\n        manageCitations.setEnabled(false);\n        exportCitations.setEnabled(false);\n        diag = new JDialog((JFrame) null, \"OpenOffice/LibreOffice panel\", false);\n\n        FormBuilder mainBuilder = FormBuilder.create()\n                .layout(new FormLayout(\"fill:pref:grow\", \"p,p,p,p,p,p,p,p,p,p,p\"));\n\n        FormBuilder topRowBuilder = FormBuilder.create()\n                .layout(new FormLayout(\n                        \"fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref\",\n                        \"pref\"));\n        topRowBuilder.add(connect).xy(1, 1);\n        topRowBuilder.add(manualConnect).xy(3, 1);\n        topRowBuilder.add(selectDocument).xy(5, 1);\n        topRowBuilder.add(update).xy(7, 1);\n        topRowBuilder.add(help).xy(9, 1);\n        mainBuilder.add(topRowBuilder.getPanel()).xy(1, 1);\n        mainBuilder.add(setStyleFile).xy(1, 2);\n        mainBuilder.add(pushEntries).xy(1, 3);\n        mainBuilder.add(pushEntriesInt).xy(1, 4);\n        mainBuilder.add(pushEntriesAdvanced).xy(1, 5);\n        mainBuilder.add(pushEntriesEmpty).xy(1, 6);\n        mainBuilder.add(merge).xy(1, 7);\n        mainBuilder.add(manageCitations).xy(1, 8);\n        mainBuilder.add(exportCitations).xy(1, 9);\n        mainBuilder.add(settingsB).xy(1, 10);\n\n        JPanel content = new JPanel();\n        sidePane.setContentContainer(content);\n        content.setLayout(new BorderLayout());\n        content.add(mainBuilder.getPanel(), BorderLayout.CENTER);\n\n        frame.getTabbedPane().getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW)\n                .put(Globals.getKeyPrefs().getKey(KeyBinding.REFRESH_OO), \"Refresh OO\");\n        frame.getTabbedPane().getActionMap().put(\"Refresh OO\", updateAction);\n\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":139,"status":"B"},{"authorDate":"2017-02-17 05:41:47","commitOrder":1,"curCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n                JOptionPane.showMessageDialog(frame,\n                        Localization.lang(\n                                \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)),\n                        Localization.lang(\"Unable to generate new library\"), JOptionPane.ERROR_MESSAGE);\n            }\n\n            Defaults defaults = new Defaults(Globals.prefs.getDefaultBibDatabaseMode());\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase, defaults);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            JOptionPane.showMessageDialog(frame,\n                    Localization.lang(\n                            \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                            ex.getBibtexKey()),\n                    Localization.lang(\"Unable to synchronize bibliography\"), JOptionPane.ERROR_MESSAGE);\n            LOGGER.debug(\"BibEntry not found\", ex);\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","date":"2017-02-17 05:41:47","endLine":348,"groupId":"12431","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"exportEntries","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/70/46b3474dec1752d1ddb992f7ea486b41b110a8.src","preCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n                JOptionPane.showMessageDialog(frame,\n                        Localization.lang(\n                                \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)),\n                        Localization.lang(\"Unable to generate new library\"), JOptionPane.ERROR_MESSAGE);\n            }\n\n            Defaults defaults = new Defaults(Globals.prefs.getDefaultBibDatabaseMode());\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase, defaults);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            JOptionPane.showMessageDialog(frame,\n                    Localization.lang(\n                            \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                            ex.getBibtexKey()),\n                    Localization.lang(\"Unable to synchronize bibliography\"), JOptionPane.ERROR_MESSAGE);\n            LOGGER.debug(\"BibEntry not found\", ex);\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":309,"status":"B"}],"commitId":"ebbeb1d249edf7134abf92d24c2031ae54d19881","commitMessage":"@@@Merge branch 'net-sf-to-org-jabref'\n","date":"2017-02-17 05:41:47","modifiedFileCount":"1","status":"B","submitter":"Oliver Kopp"},{"authorTime":"2018-06-04 05:46:01","codes":[{"authorDate":"2018-06-04 05:46:01","commitOrder":2,"curCode":"    private void initPanel() {\n\n        connect.addActionListener(e -> connect(true));\n        manualConnect.addActionListener(e -> connect(false));\n\n        selectDocument.setToolTipText(Localization.lang(\"Select which open Writer document to work on\"));\n        selectDocument.addActionListener(e -> {\n\n            try {\n                ooBase.selectDocument();\n                frame.output(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (UnknownPropertyException | WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n\n        });\n\n        setStyleFile.addActionListener(event -> {\n\n            if (styleDialog == null) {\n                styleDialog = new StyleSelectDialog(frame, preferences, loader);\n            }\n            styleDialog.setVisible(true);\n            styleDialog.getStyle().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                frame.setStatus(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setToolTipText(Localization.lang(\"Cite selected entries between parenthesis\"));\n        pushEntries.addActionListener(e -> pushEntries(true, true, false));\n        pushEntriesInt.setToolTipText(Localization.lang(\"Cite selected entries with in-text citation\"));\n        pushEntriesInt.addActionListener(e -> pushEntries(false, true, false));\n        pushEntriesEmpty.setToolTipText(\n                Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\"));\n        pushEntriesEmpty.addActionListener(e -> pushEntries(false, false, false));\n        pushEntriesAdvanced.setToolTipText(Localization.lang(\"Cite selected entries with extra information\"));\n        pushEntriesAdvanced.addActionListener(e -> pushEntries(false, true, true));\n\n        update.setToolTipText(Localization.lang(\"Ensure that the bibliography is up-to-date\"));\n        Action updateAction = new AbstractAction() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    if (style == null) {\n                        style = loader.getUsedStyle();\n                    } else {\n                        style.ensureUpToDate();\n                    }\n\n                    ooBase.updateSortedReferenceMarks();\n\n                    List<BibDatabase> databases = getBaseList();\n                    List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                    ooBase.rebuildBibTextSection(databases, style);\n                    if (!unresolvedKeys.isEmpty()) {\n                        dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                        unresolvedKeys.get(0)));\n\n                    }\n                } catch (UndefinedCharacterFormatException ex) {\n                    reportUndefinedCharacterFormat(ex);\n                } catch (UndefinedParagraphFormatException ex) {\n                    reportUndefinedParagraphFormat(ex);\n                } catch (ConnectionLostException ex) {\n                    showConnectionLostErrorMessage();\n                } catch (IOException ex) {\n                    LOGGER.warn(\"Problem with style file\", ex);\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                            Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n\n                } catch (BibEntryNotFoundException ex) {\n                    LOGGER.debug(\"BibEntry not found\", ex);\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                            \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                            ex.getBibtexKey()));\n\n                } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                        CreationException ex) {\n                    LOGGER.warn(\"Could not update bibliography\", ex);\n                }\n            }\n        };\n        update.addActionListener(updateAction);\n\n        merge.setToolTipText(Localization.lang(\"Combine pairs of citations that are separated by spaces only\"));\n        merge.addActionListener(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        settingsB.addActionListener(e -> showSettingsPopup());\n        manageCitations.addActionListener(e -> {\n            try {\n                CitationManager cm = new CitationManager(ooBase, dialogService);\n                cm.showDialog();\n            } catch (NoSuchElementException | WrappedTargetException | UnknownPropertyException ex) {\n                LOGGER.warn(\"Problem showing citation manager\", ex);\n            }\n        });\n\n        exportCitations.addActionListener(event -> exportEntries());\n\n        selectDocument.setEnabled(false);\n        pushEntries.setEnabled(false);\n        pushEntriesInt.setEnabled(false);\n        pushEntriesEmpty.setEnabled(false);\n        pushEntriesAdvanced.setEnabled(false);\n        update.setEnabled(false);\n        merge.setEnabled(false);\n        manageCitations.setEnabled(false);\n        exportCitations.setEnabled(false);\n        diag = new JDialog((JFrame) null, \"OpenOffice/LibreOffice panel\", false);\n\n        FormBuilder mainBuilder = FormBuilder.create()\n                .layout(new FormLayout(\"fill:pref:grow\", \"p,p,p,p,p,p,p,p,p,p,p\"));\n\n        FormBuilder topRowBuilder = FormBuilder.create()\n                .layout(new FormLayout(\n                        \"fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref\",\n                        \"pref\"));\n        topRowBuilder.add(connect).xy(1, 1);\n        topRowBuilder.add(manualConnect).xy(3, 1);\n        topRowBuilder.add(selectDocument).xy(5, 1);\n        topRowBuilder.add(update).xy(7, 1);\n        topRowBuilder.add(help).xy(9, 1);\n        mainBuilder.add(topRowBuilder.getPanel()).xy(1, 1);\n        mainBuilder.add(setStyleFile).xy(1, 2);\n        mainBuilder.add(pushEntries).xy(1, 3);\n        mainBuilder.add(pushEntriesInt).xy(1, 4);\n        mainBuilder.add(pushEntriesAdvanced).xy(1, 5);\n        mainBuilder.add(pushEntriesEmpty).xy(1, 6);\n        mainBuilder.add(merge).xy(1, 7);\n        mainBuilder.add(manageCitations).xy(1, 8);\n        mainBuilder.add(exportCitations).xy(1, 9);\n        mainBuilder.add(settingsB).xy(1, 10);\n\n        content = new JPanel();\n        content.setLayout(new BorderLayout());\n        content.add(mainBuilder.getPanel(), BorderLayout.CENTER);\n\n        \r\n\r\n\r\n\r\n\n\n    }\n","date":"2018-06-04 05:46:01","endLine":306,"groupId":"4900","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"initPanel","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/ec/a428640e330532df4995fde3d5e7cb0af1604d.src","preCode":"    private void initPanel() {\n\n        connect.addActionListener(e -> connect(true));\n        manualConnect.addActionListener(e -> connect(false));\n\n        selectDocument.setToolTipText(Localization.lang(\"Select which open Writer document to work on\"));\n        selectDocument.addActionListener(e -> {\n\n            try {\n                ooBase.selectDocument();\n                frame.output(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (UnknownPropertyException | WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                JOptionPane.showMessageDialog(frame, ex.getMessage(), Localization.lang(\"Error\"),\n                        JOptionPane.ERROR_MESSAGE);\n                LOGGER.warn(\"Problem connecting\", ex);\n            }\n\n        });\n\n        setStyleFile.addActionListener(event -> {\n\n            if (styleDialog == null) {\n                styleDialog = new StyleSelectDialog(frame, preferences, loader);\n            }\n            styleDialog.setVisible(true);\n            styleDialog.getStyle().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                frame.setStatus(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setToolTipText(Localization.lang(\"Cite selected entries between parenthesis\"));\n        pushEntries.addActionListener(e -> pushEntries(true, true, false));\n        pushEntriesInt.setToolTipText(Localization.lang(\"Cite selected entries with in-text citation\"));\n        pushEntriesInt.addActionListener(e -> pushEntries(false, true, false));\n        pushEntriesEmpty.setToolTipText(\n                Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\"));\n        pushEntriesEmpty.addActionListener(e -> pushEntries(false, false, false));\n        pushEntriesAdvanced.setToolTipText(Localization.lang(\"Cite selected entries with extra information\"));\n        pushEntriesAdvanced.addActionListener(e -> pushEntries(false, true, true));\n\n        update.setToolTipText(Localization.lang(\"Ensure that the bibliography is up-to-date\"));\n        Action updateAction = new AbstractAction() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    if (style == null) {\n                        style = loader.getUsedStyle();\n                    } else {\n                        style.ensureUpToDate();\n                    }\n\n                    ooBase.updateSortedReferenceMarks();\n\n                    List<BibDatabase> databases = getBaseList();\n                    List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                    ooBase.rebuildBibTextSection(databases, style);\n                    if (!unresolvedKeys.isEmpty()) {\n                        JOptionPane.showMessageDialog(frame,\n                                Localization.lang(\n                                        \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                        unresolvedKeys.get(0)),\n                                Localization.lang(\"Unable to synchronize bibliography\"), JOptionPane.ERROR_MESSAGE);\n                    }\n                } catch (UndefinedCharacterFormatException ex) {\n                    reportUndefinedCharacterFormat(ex);\n                } catch (UndefinedParagraphFormatException ex) {\n                    reportUndefinedParagraphFormat(ex);\n                } catch (ConnectionLostException ex) {\n                    showConnectionLostErrorMessage();\n                } catch (IOException ex) {\n                    JOptionPane.showMessageDialog(frame,\n                            Localization\n                                    .lang(\"You must select either a valid style file, or use one of the default styles.\"),\n                            Localization.lang(\"No valid style file defined\"), JOptionPane.ERROR_MESSAGE);\n                    LOGGER.warn(\"Problem with style file\", ex);\n                } catch (BibEntryNotFoundException ex) {\n                    JOptionPane.showMessageDialog(frame,\n                            Localization.lang(\n                                    \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                    ex.getBibtexKey()),\n                            Localization.lang(\"Unable to synchronize bibliography\"), JOptionPane.ERROR_MESSAGE);\n                    LOGGER.debug(\"BibEntry not found\", ex);\n                } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                        CreationException ex) {\n                    LOGGER.warn(\"Could not update bibliography\", ex);\n                }\n            }\n        };\n        update.addActionListener(updateAction);\n\n        merge.setToolTipText(Localization.lang(\"Combine pairs of citations that are separated by spaces only\"));\n        merge.addActionListener(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        settingsB.addActionListener(e -> showSettingsPopup());\n        manageCitations.addActionListener(e -> {\n            try {\n                CitationManager cm = new CitationManager(frame, ooBase);\n                cm.showDialog();\n            } catch (NoSuchElementException | WrappedTargetException | UnknownPropertyException ex) {\n                LOGGER.warn(\"Problem showing citation manager\", ex);\n            }\n        });\n\n        exportCitations.addActionListener(event -> exportEntries());\n\n        selectDocument.setEnabled(false);\n        pushEntries.setEnabled(false);\n        pushEntriesInt.setEnabled(false);\n        pushEntriesEmpty.setEnabled(false);\n        pushEntriesAdvanced.setEnabled(false);\n        update.setEnabled(false);\n        merge.setEnabled(false);\n        manageCitations.setEnabled(false);\n        exportCitations.setEnabled(false);\n        diag = new JDialog((JFrame) null, \"OpenOffice/LibreOffice panel\", false);\n\n        FormBuilder mainBuilder = FormBuilder.create()\n                .layout(new FormLayout(\"fill:pref:grow\", \"p,p,p,p,p,p,p,p,p,p,p\"));\n\n        FormBuilder topRowBuilder = FormBuilder.create()\n                .layout(new FormLayout(\n                        \"fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref\",\n                        \"pref\"));\n        topRowBuilder.add(connect).xy(1, 1);\n        topRowBuilder.add(manualConnect).xy(3, 1);\n        topRowBuilder.add(selectDocument).xy(5, 1);\n        topRowBuilder.add(update).xy(7, 1);\n        topRowBuilder.add(help).xy(9, 1);\n        mainBuilder.add(topRowBuilder.getPanel()).xy(1, 1);\n        mainBuilder.add(setStyleFile).xy(1, 2);\n        mainBuilder.add(pushEntries).xy(1, 3);\n        mainBuilder.add(pushEntriesInt).xy(1, 4);\n        mainBuilder.add(pushEntriesAdvanced).xy(1, 5);\n        mainBuilder.add(pushEntriesEmpty).xy(1, 6);\n        mainBuilder.add(merge).xy(1, 7);\n        mainBuilder.add(manageCitations).xy(1, 8);\n        mainBuilder.add(exportCitations).xy(1, 9);\n        mainBuilder.add(settingsB).xy(1, 10);\n\n        JPanel content = new JPanel();\n        sidePane.setContentContainer(content);\n        content.setLayout(new BorderLayout());\n        content.add(mainBuilder.getPanel(), BorderLayout.CENTER);\n\n        frame.getTabbedPane().getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW)\n                .put(Globals.getKeyPrefs().getKey(KeyBinding.REFRESH_OO), \"Refresh OO\");\n        frame.getTabbedPane().getActionMap().put(\"Refresh OO\", updateAction);\n\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":141,"status":"M"},{"authorDate":"2018-06-04 05:46:01","commitOrder":2,"curCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                        Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)));\n\n            }\n\n            Defaults defaults = new Defaults(Globals.prefs.getDefaultBibDatabaseMode());\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase, defaults);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                    Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                            ex.getBibtexKey()));\n\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","date":"2018-06-04 05:46:01","endLine":346,"groupId":"3230","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"exportEntries","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/ec/a428640e330532df4995fde3d5e7cb0af1604d.src","preCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n                JOptionPane.showMessageDialog(frame,\n                        Localization.lang(\n                                \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)),\n                        Localization.lang(\"Unable to generate new library\"), JOptionPane.ERROR_MESSAGE);\n            }\n\n            Defaults defaults = new Defaults(Globals.prefs.getDefaultBibDatabaseMode());\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase, defaults);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            JOptionPane.showMessageDialog(frame,\n                    Localization.lang(\n                            \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                            ex.getBibtexKey()),\n                    Localization.lang(\"Unable to synchronize bibliography\"), JOptionPane.ERROR_MESSAGE);\n            LOGGER.debug(\"BibEntry not found\", ex);\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":308,"status":"M"}],"commitId":"a989aa42246c4dcf6eadc147d2f612de44a07b94","commitMessage":"@@@Merge remote-tracking branch 'origin/maintable-beta'\n\n# Conflicts:\n#\tsrc/main/java/org/jabref/gui/exporter/ExportAction.java\n#\tsrc/main/java/org/jabref/gui/exporter/ExportToClipboardAction.java\n#\tsrc/main/java/org/jabref/gui/exporter/SaveDatabaseAction.java\n#\tsrc/main/java/org/jabref/gui/importer/ImportFormats.java\n#\tsrc/main/java/org/jabref/gui/importer/actions/OpenDatabaseAction.java\n#\tsrc/main/java/org/jabref/gui/openoffice/StyleSelectDialog.java\n#\tsrc/main/java/org/jabref/gui/preftabs/PreferencesDialog.java\n#\tsrc/main/java/org/jabref/gui/protectedterms/NewProtectedTermsFileDialog.java\n#\tsrc/main/java/org/jabref/gui/shared/ConnectToSharedDatabaseDialog.java\n","date":"2018-06-04 05:46:01","modifiedFileCount":"316","status":"M","submitter":"Oliver Kopp"},{"authorTime":"2018-06-04 05:46:01","codes":[{"authorDate":"2018-07-13 18:23:05","commitOrder":3,"curCode":"    private void initPanel() {\n\n        connect.addActionListener(e -> connectAutomatically());\n        manualConnect.addActionListener(e -> connectManually());\n\n        selectDocument.setToolTipText(Localization.lang(\"Select which open Writer document to work on\"));\n        selectDocument.addActionListener(e -> {\n\n            try {\n                ooBase.selectDocument();\n                frame.output(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (UnknownPropertyException | WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n\n        });\n\n        setStyleFile.addActionListener(event -> {\n\n            if (styleDialog == null) {\n                styleDialog = new StyleSelectDialog(frame, preferences, loader);\n            }\n            styleDialog.setVisible(true);\n            styleDialog.getStyle().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                frame.setStatus(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setToolTipText(Localization.lang(\"Cite selected entries between parenthesis\"));\n        pushEntries.addActionListener(e -> pushEntries(true, true, false));\n        pushEntriesInt.setToolTipText(Localization.lang(\"Cite selected entries with in-text citation\"));\n        pushEntriesInt.addActionListener(e -> pushEntries(false, true, false));\n        pushEntriesEmpty.setToolTipText(\n                Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\"));\n        pushEntriesEmpty.addActionListener(e -> pushEntries(false, false, false));\n        pushEntriesAdvanced.setToolTipText(Localization.lang(\"Cite selected entries with extra information\"));\n        pushEntriesAdvanced.addActionListener(e -> pushEntries(false, true, true));\n\n        update.setToolTipText(Localization.lang(\"Ensure that the bibliography is up-to-date\"));\n        Action updateAction = new AbstractAction() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    if (style == null) {\n                        style = loader.getUsedStyle();\n                    } else {\n                        style.ensureUpToDate();\n                    }\n\n                    ooBase.updateSortedReferenceMarks();\n\n                    List<BibDatabase> databases = getBaseList();\n                    List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                    ooBase.rebuildBibTextSection(databases, style);\n                    if (!unresolvedKeys.isEmpty()) {\n                        dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                        unresolvedKeys.get(0)));\n\n                    }\n                } catch (UndefinedCharacterFormatException ex) {\n                    reportUndefinedCharacterFormat(ex);\n                } catch (UndefinedParagraphFormatException ex) {\n                    reportUndefinedParagraphFormat(ex);\n                } catch (ConnectionLostException ex) {\n                    showConnectionLostErrorMessage();\n                } catch (IOException ex) {\n                    LOGGER.warn(\"Problem with style file\", ex);\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                            Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n\n                } catch (BibEntryNotFoundException ex) {\n                    LOGGER.debug(\"BibEntry not found\", ex);\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                            \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                            ex.getBibtexKey()));\n\n                } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                        CreationException ex) {\n                    LOGGER.warn(\"Could not update bibliography\", ex);\n                }\n            }\n        };\n        update.addActionListener(updateAction);\n\n        merge.setToolTipText(Localization.lang(\"Combine pairs of citations that are separated by spaces only\"));\n        merge.addActionListener(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        settingsB.addActionListener(e -> showSettingsPopup());\n        manageCitations.addActionListener(e -> {\n            try {\n                CitationManager cm = new CitationManager(ooBase, dialogService);\n                cm.showDialog();\n            } catch (NoSuchElementException | WrappedTargetException | UnknownPropertyException ex) {\n                LOGGER.warn(\"Problem showing citation manager\", ex);\n            }\n        });\n\n        exportCitations.addActionListener(event -> exportEntries());\n\n        selectDocument.setEnabled(false);\n        pushEntries.setEnabled(false);\n        pushEntriesInt.setEnabled(false);\n        pushEntriesEmpty.setEnabled(false);\n        pushEntriesAdvanced.setEnabled(false);\n        update.setEnabled(false);\n        merge.setEnabled(false);\n        manageCitations.setEnabled(false);\n        exportCitations.setEnabled(false);\n        diag = new JDialog((JFrame) null, \"OpenOffice/LibreOffice panel\", false);\n\n        FormBuilder mainBuilder = FormBuilder.create()\n                .layout(new FormLayout(\"fill:pref:grow\", \"p,p,p,p,p,p,p,p,p,p,p\"));\n\n        FormBuilder topRowBuilder = FormBuilder.create()\n                .layout(new FormLayout(\n                        \"fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref\",\n                        \"pref\"));\n        topRowBuilder.add(connect).xy(1, 1);\n        topRowBuilder.add(manualConnect).xy(3, 1);\n        topRowBuilder.add(selectDocument).xy(5, 1);\n        topRowBuilder.add(update).xy(7, 1);\n        topRowBuilder.add(help).xy(9, 1);\n        mainBuilder.add(topRowBuilder.getPanel()).xy(1, 1);\n        mainBuilder.add(setStyleFile).xy(1, 2);\n        mainBuilder.add(pushEntries).xy(1, 3);\n        mainBuilder.add(pushEntriesInt).xy(1, 4);\n        mainBuilder.add(pushEntriesAdvanced).xy(1, 5);\n        mainBuilder.add(pushEntriesEmpty).xy(1, 6);\n        mainBuilder.add(merge).xy(1, 7);\n        mainBuilder.add(manageCitations).xy(1, 8);\n        mainBuilder.add(exportCitations).xy(1, 9);\n        mainBuilder.add(settingsB).xy(1, 10);\n\n        content = new JPanel();\n        content.setLayout(new BorderLayout());\n        content.add(mainBuilder.getPanel(), BorderLayout.CENTER);\n\n        \r\n\r\n\r\n\r\n\n\n    }\n","date":"2018-07-13 18:23:05","endLine":306,"groupId":"4900","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"initPanel","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/f8/29a652172acf5503858e13356ecfac67a1ecae.src","preCode":"    private void initPanel() {\n\n        connect.addActionListener(e -> connect(true));\n        manualConnect.addActionListener(e -> connect(false));\n\n        selectDocument.setToolTipText(Localization.lang(\"Select which open Writer document to work on\"));\n        selectDocument.addActionListener(e -> {\n\n            try {\n                ooBase.selectDocument();\n                frame.output(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (UnknownPropertyException | WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n\n        });\n\n        setStyleFile.addActionListener(event -> {\n\n            if (styleDialog == null) {\n                styleDialog = new StyleSelectDialog(frame, preferences, loader);\n            }\n            styleDialog.setVisible(true);\n            styleDialog.getStyle().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                frame.setStatus(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setToolTipText(Localization.lang(\"Cite selected entries between parenthesis\"));\n        pushEntries.addActionListener(e -> pushEntries(true, true, false));\n        pushEntriesInt.setToolTipText(Localization.lang(\"Cite selected entries with in-text citation\"));\n        pushEntriesInt.addActionListener(e -> pushEntries(false, true, false));\n        pushEntriesEmpty.setToolTipText(\n                Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\"));\n        pushEntriesEmpty.addActionListener(e -> pushEntries(false, false, false));\n        pushEntriesAdvanced.setToolTipText(Localization.lang(\"Cite selected entries with extra information\"));\n        pushEntriesAdvanced.addActionListener(e -> pushEntries(false, true, true));\n\n        update.setToolTipText(Localization.lang(\"Ensure that the bibliography is up-to-date\"));\n        Action updateAction = new AbstractAction() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    if (style == null) {\n                        style = loader.getUsedStyle();\n                    } else {\n                        style.ensureUpToDate();\n                    }\n\n                    ooBase.updateSortedReferenceMarks();\n\n                    List<BibDatabase> databases = getBaseList();\n                    List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                    ooBase.rebuildBibTextSection(databases, style);\n                    if (!unresolvedKeys.isEmpty()) {\n                        dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                        unresolvedKeys.get(0)));\n\n                    }\n                } catch (UndefinedCharacterFormatException ex) {\n                    reportUndefinedCharacterFormat(ex);\n                } catch (UndefinedParagraphFormatException ex) {\n                    reportUndefinedParagraphFormat(ex);\n                } catch (ConnectionLostException ex) {\n                    showConnectionLostErrorMessage();\n                } catch (IOException ex) {\n                    LOGGER.warn(\"Problem with style file\", ex);\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                            Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n\n                } catch (BibEntryNotFoundException ex) {\n                    LOGGER.debug(\"BibEntry not found\", ex);\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                            \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                            ex.getBibtexKey()));\n\n                } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                        CreationException ex) {\n                    LOGGER.warn(\"Could not update bibliography\", ex);\n                }\n            }\n        };\n        update.addActionListener(updateAction);\n\n        merge.setToolTipText(Localization.lang(\"Combine pairs of citations that are separated by spaces only\"));\n        merge.addActionListener(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        settingsB.addActionListener(e -> showSettingsPopup());\n        manageCitations.addActionListener(e -> {\n            try {\n                CitationManager cm = new CitationManager(ooBase, dialogService);\n                cm.showDialog();\n            } catch (NoSuchElementException | WrappedTargetException | UnknownPropertyException ex) {\n                LOGGER.warn(\"Problem showing citation manager\", ex);\n            }\n        });\n\n        exportCitations.addActionListener(event -> exportEntries());\n\n        selectDocument.setEnabled(false);\n        pushEntries.setEnabled(false);\n        pushEntriesInt.setEnabled(false);\n        pushEntriesEmpty.setEnabled(false);\n        pushEntriesAdvanced.setEnabled(false);\n        update.setEnabled(false);\n        merge.setEnabled(false);\n        manageCitations.setEnabled(false);\n        exportCitations.setEnabled(false);\n        diag = new JDialog((JFrame) null, \"OpenOffice/LibreOffice panel\", false);\n\n        FormBuilder mainBuilder = FormBuilder.create()\n                .layout(new FormLayout(\"fill:pref:grow\", \"p,p,p,p,p,p,p,p,p,p,p\"));\n\n        FormBuilder topRowBuilder = FormBuilder.create()\n                .layout(new FormLayout(\n                        \"fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref\",\n                        \"pref\"));\n        topRowBuilder.add(connect).xy(1, 1);\n        topRowBuilder.add(manualConnect).xy(3, 1);\n        topRowBuilder.add(selectDocument).xy(5, 1);\n        topRowBuilder.add(update).xy(7, 1);\n        topRowBuilder.add(help).xy(9, 1);\n        mainBuilder.add(topRowBuilder.getPanel()).xy(1, 1);\n        mainBuilder.add(setStyleFile).xy(1, 2);\n        mainBuilder.add(pushEntries).xy(1, 3);\n        mainBuilder.add(pushEntriesInt).xy(1, 4);\n        mainBuilder.add(pushEntriesAdvanced).xy(1, 5);\n        mainBuilder.add(pushEntriesEmpty).xy(1, 6);\n        mainBuilder.add(merge).xy(1, 7);\n        mainBuilder.add(manageCitations).xy(1, 8);\n        mainBuilder.add(exportCitations).xy(1, 9);\n        mainBuilder.add(settingsB).xy(1, 10);\n\n        content = new JPanel();\n        content.setLayout(new BorderLayout());\n        content.add(mainBuilder.getPanel(), BorderLayout.CENTER);\n\n        \r\n\r\n\r\n\r\n\n\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":141,"status":"M"},{"authorDate":"2018-06-04 05:46:01","commitOrder":3,"curCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                        Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)));\n\n            }\n\n            Defaults defaults = new Defaults(Globals.prefs.getDefaultBibDatabaseMode());\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase, defaults);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                    Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                            ex.getBibtexKey()));\n\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","date":"2018-06-04 05:46:01","endLine":346,"groupId":"3230","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"exportEntries","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/ec/a428640e330532df4995fde3d5e7cb0af1604d.src","preCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                        Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)));\n\n            }\n\n            Defaults defaults = new Defaults(Globals.prefs.getDefaultBibDatabaseMode());\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase, defaults);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                    Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                            ex.getBibtexKey()));\n\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":308,"status":"N"}],"commitId":"b56368c44da949722d6df1ea66f7d71653c67a97","commitMessage":"@@@Merge branch 'master' of https://github.com/JabRef/jabref\n","date":"2018-07-13 18:23:05","modifiedFileCount":"71","status":"M","submitter":"Tobias Diez"},{"authorTime":"2019-01-25 23:36:16","codes":[{"authorDate":"2019-01-25 23:36:16","commitOrder":4,"curCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                                     + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (UnknownPropertyException | WrappedTargetException | IndexOutOfBoundsException |\n                     NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            StyleSelectDialogView styleDialog = new StyleSelectDialogView(loader);\n            styleDialog.showAndWait().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                         Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                           unresolvedKeys.get(0)));\n\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                                                     Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                                                                                                                                \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                                                                                ex.getBibtexKey()));\n\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                     CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                     CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                     BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            ManageCitationsDialogView dlg = new ManageCitationsDialogView(ooBase);\n            dlg.showAndWait();\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> hbox.setHgrow(btn, Priority.ALWAYS));\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, setStyleFile, pushEntries, pushEntriesInt, pushEntriesAdvanced, pushEntriesEmpty, merge, manageCitations, exportCitations, settingsB);\n    }\n","date":"2019-01-25 23:36:16","endLine":283,"groupId":"1179","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"initPanel","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/21/b12f023218623cfe4b6d19f75533dd05ef874a.src","preCode":"    private void initPanel() {\n\n        connect.addActionListener(e -> connectAutomatically());\n        manualConnect.addActionListener(e -> connectManually());\n\n        selectDocument.setToolTipText(Localization.lang(\"Select which open Writer document to work on\"));\n        selectDocument.addActionListener(e -> {\n\n            try {\n                ooBase.selectDocument();\n                frame.output(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (UnknownPropertyException | WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n\n        });\n\n        setStyleFile.addActionListener(event -> {\n\n            if (styleDialog == null) {\n                styleDialog = new StyleSelectDialog(frame, preferences, loader);\n            }\n            styleDialog.setVisible(true);\n            styleDialog.getStyle().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                frame.setStatus(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setToolTipText(Localization.lang(\"Cite selected entries between parenthesis\"));\n        pushEntries.addActionListener(e -> pushEntries(true, true, false));\n        pushEntriesInt.setToolTipText(Localization.lang(\"Cite selected entries with in-text citation\"));\n        pushEntriesInt.addActionListener(e -> pushEntries(false, true, false));\n        pushEntriesEmpty.setToolTipText(\n                Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\"));\n        pushEntriesEmpty.addActionListener(e -> pushEntries(false, false, false));\n        pushEntriesAdvanced.setToolTipText(Localization.lang(\"Cite selected entries with extra information\"));\n        pushEntriesAdvanced.addActionListener(e -> pushEntries(false, true, true));\n\n        update.setToolTipText(Localization.lang(\"Ensure that the bibliography is up-to-date\"));\n        Action updateAction = new AbstractAction() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    if (style == null) {\n                        style = loader.getUsedStyle();\n                    } else {\n                        style.ensureUpToDate();\n                    }\n\n                    ooBase.updateSortedReferenceMarks();\n\n                    List<BibDatabase> databases = getBaseList();\n                    List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                    ooBase.rebuildBibTextSection(databases, style);\n                    if (!unresolvedKeys.isEmpty()) {\n                        dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                        unresolvedKeys.get(0)));\n\n                    }\n                } catch (UndefinedCharacterFormatException ex) {\n                    reportUndefinedCharacterFormat(ex);\n                } catch (UndefinedParagraphFormatException ex) {\n                    reportUndefinedParagraphFormat(ex);\n                } catch (ConnectionLostException ex) {\n                    showConnectionLostErrorMessage();\n                } catch (IOException ex) {\n                    LOGGER.warn(\"Problem with style file\", ex);\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                            Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n\n                } catch (BibEntryNotFoundException ex) {\n                    LOGGER.debug(\"BibEntry not found\", ex);\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                            \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                            ex.getBibtexKey()));\n\n                } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                        CreationException ex) {\n                    LOGGER.warn(\"Could not update bibliography\", ex);\n                }\n            }\n        };\n        update.addActionListener(updateAction);\n\n        merge.setToolTipText(Localization.lang(\"Combine pairs of citations that are separated by spaces only\"));\n        merge.addActionListener(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        settingsB.addActionListener(e -> showSettingsPopup());\n        manageCitations.addActionListener(e -> {\n            try {\n                CitationManager cm = new CitationManager(ooBase, dialogService);\n                cm.showDialog();\n            } catch (NoSuchElementException | WrappedTargetException | UnknownPropertyException ex) {\n                LOGGER.warn(\"Problem showing citation manager\", ex);\n            }\n        });\n\n        exportCitations.addActionListener(event -> exportEntries());\n\n        selectDocument.setEnabled(false);\n        pushEntries.setEnabled(false);\n        pushEntriesInt.setEnabled(false);\n        pushEntriesEmpty.setEnabled(false);\n        pushEntriesAdvanced.setEnabled(false);\n        update.setEnabled(false);\n        merge.setEnabled(false);\n        manageCitations.setEnabled(false);\n        exportCitations.setEnabled(false);\n        diag = new JDialog((JFrame) null, \"OpenOffice/LibreOffice panel\", false);\n\n        FormBuilder mainBuilder = FormBuilder.create()\n                .layout(new FormLayout(\"fill:pref:grow\", \"p,p,p,p,p,p,p,p,p,p,p\"));\n\n        FormBuilder topRowBuilder = FormBuilder.create()\n                .layout(new FormLayout(\n                        \"fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref:grow, 1dlu, fill:pref\",\n                        \"pref\"));\n        topRowBuilder.add(connect).xy(1, 1);\n        topRowBuilder.add(manualConnect).xy(3, 1);\n        topRowBuilder.add(selectDocument).xy(5, 1);\n        topRowBuilder.add(update).xy(7, 1);\n        topRowBuilder.add(help).xy(9, 1);\n        mainBuilder.add(topRowBuilder.getPanel()).xy(1, 1);\n        mainBuilder.add(setStyleFile).xy(1, 2);\n        mainBuilder.add(pushEntries).xy(1, 3);\n        mainBuilder.add(pushEntriesInt).xy(1, 4);\n        mainBuilder.add(pushEntriesAdvanced).xy(1, 5);\n        mainBuilder.add(pushEntriesEmpty).xy(1, 6);\n        mainBuilder.add(merge).xy(1, 7);\n        mainBuilder.add(manageCitations).xy(1, 8);\n        mainBuilder.add(exportCitations).xy(1, 9);\n        mainBuilder.add(settingsB).xy(1, 10);\n\n        content = new JPanel();\n        content.setLayout(new BorderLayout());\n        content.add(mainBuilder.getPanel(), BorderLayout.CENTER);\n\n        \r\n\r\n\r\n\r\n\n\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":146,"status":"M"},{"authorDate":"2019-01-25 23:36:16","commitOrder":4,"curCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                                                     Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                       unresolvedKeys.get(0)));\n\n            }\n\n            Defaults defaults = new Defaults(jabRefPreferences.getDefaultBibDatabaseMode());\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase, defaults);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                 Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                   ex.getBibtexKey()));\n\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                 UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                 CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","date":"2019-01-25 23:36:16","endLine":322,"groupId":"3230","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"exportEntries","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/21/b12f023218623cfe4b6d19f75533dd05ef874a.src","preCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                        Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)));\n\n            }\n\n            Defaults defaults = new Defaults(Globals.prefs.getDefaultBibDatabaseMode());\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase, defaults);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                    Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                            ex.getBibtexKey()));\n\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":285,"status":"M"}],"commitId":"18aba35fcf77fad95577e3213e1eb66f5256cf42","commitMessage":"@@@ Convert OO/LO SidePanel to javafx (#4341)\n\n* Convert OO/LO SidePanel to javafx\n\nFirst attempt at converting the OpenOffice side panel\n\n* rework first part of select style dialog\n\n* add icon to delete style\nadd edit function\nimplement rest of logic\n\n* store settings.  show path\nload last selected style\nsubscribe preview panel to changes\n\n* update from scence builder\n\n* fix ok button\nwrap preview panel in vbox\n\n* add title for canceable progess dialog\nrework manual connect\nrework settings popup\ninitialize oo prefs to avoid NPE\nremove old style dialog\n\n* formatting\n\n* Create custom dialog which returns a dialog object\nfix preference storage\nfix manual path select\n\n* pass keybinding repo as dependency\n\n* add new dialog for advanced cite\ntodo: find out how to change the values\n\n* reload preferences in connect\nfix passing of prefs\nfix advanced cite dialog\n\n* fix checkstyle\nadd some dialog basics for manage citatiosn\n\n* further implement viewModel\n\n* implement viewModel\nfix l10n parts\n\nTODO: editing of extra info does not yet work\n\n* remove submodule\n\n* Display Manage citations as TextFlow in the table\nAllow editing of page info directly in the table\nReplace html bold with Text-Bold style\n\n* fix checkstyle\n\n* rework page info\nremove old dialog\nfix l10n\nset titles\nadd tooltips\n\n* use flowpane instead of textflow to prevent table row height increasing\n\n* cleanup and fix codacy issues\n\n* rework dialogs\nrework future handling in detect OO installation\n\n* rework constructor and rename to CitationEntryViewModel\nmove gui getText to view\n\n* fix checkstyle and l10n issues\n\n* fix order\n\n* fix style file select layout and inline variable'\n\n* Add Book as preview as well\n\n* change mac default settings to LO path\n\n* checkstyle\n\n* fix merge error\n\n* first part of refactoring\n\n* refactor and remove/fix obsolete tests\nput visible/managed bindings in fxml\n\n* Fixes #4576\nStore show/hide info of panel in preferences\n\n* use progessbar from fxdialogs\nTODO: Fix execution in fx thread\n\n* Fix autodetecting open office paths in background thread\nFix saving of settings after auto connect\nAdd notification when connections are cleared\nremove custom dialog hack\n\n* fix checkstyle\n","date":"2019-01-25 23:36:16","modifiedFileCount":"16","status":"M","submitter":"Christoph"},{"authorTime":"2019-01-25 23:36:16","codes":[{"authorDate":"2019-02-10 20:47:48","commitOrder":5,"curCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (UnknownPropertyException | WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            StyleSelectDialogView styleDialog = new StyleSelectDialogView(loader);\n            styleDialog.showAndWait().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                            Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                    unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                        Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                        \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                        ex.getBibtexKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                    CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            ManageCitationsDialogView dlg = new ManageCitationsDialogView(ooBase);\n            dlg.showAndWait();\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, setStyleFile, pushEntries, pushEntriesInt, pushEntriesAdvanced, pushEntriesEmpty, merge, manageCitations, exportCitations, settingsB);\n    }\n","date":"2019-02-10 20:47:48","endLine":296,"groupId":"1179","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"initPanel","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/9f/31cc17a8bff982b7cbf8384b2c94ee7d3ee048.src","preCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                                     + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (UnknownPropertyException | WrappedTargetException | IndexOutOfBoundsException |\n                     NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            StyleSelectDialogView styleDialog = new StyleSelectDialogView(loader);\n            styleDialog.showAndWait().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                         Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                           unresolvedKeys.get(0)));\n\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                                                     Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                                                                                                                                \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                                                                                ex.getBibtexKey()));\n\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                     CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                     CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                     BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            ManageCitationsDialogView dlg = new ManageCitationsDialogView(ooBase);\n            dlg.showAndWait();\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> hbox.setHgrow(btn, Priority.ALWAYS));\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, setStyleFile, pushEntries, pushEntriesInt, pushEntriesAdvanced, pushEntriesEmpty, merge, manageCitations, exportCitations, settingsB);\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":163,"status":"M"},{"authorDate":"2019-01-25 23:36:16","commitOrder":5,"curCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                                                     Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                       unresolvedKeys.get(0)));\n\n            }\n\n            Defaults defaults = new Defaults(jabRefPreferences.getDefaultBibDatabaseMode());\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase, defaults);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                 Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                   ex.getBibtexKey()));\n\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                 UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                 CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","date":"2019-01-25 23:36:16","endLine":322,"groupId":"3230","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"exportEntries","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/21/b12f023218623cfe4b6d19f75533dd05ef874a.src","preCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                                                     Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                       unresolvedKeys.get(0)));\n\n            }\n\n            Defaults defaults = new Defaults(jabRefPreferences.getDefaultBibDatabaseMode());\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase, defaults);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                 Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                   ex.getBibtexKey()));\n\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                 UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                 CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":285,"status":"N"}],"commitId":"8520833e684aa9e305dd8745e45696ffd6d984fb","commitMessage":"@@@Remove old code for PDF import (#4634)\n\n* Remove old code for PDF import\n\n* Fix tests\n\n* Update Docbook5ExportFormat.xml\n\n* Fix tests\n\n* Fix checkstyle\n","date":"2019-02-10 20:47:48","modifiedFileCount":"75","status":"M","submitter":"Tobias Diez"},{"authorTime":"2019-01-25 23:36:16","codes":[{"authorDate":"2019-03-11 03:06:01","commitOrder":6,"curCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                                     + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (WrappedTargetException | IndexOutOfBoundsException |\n                     NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            StyleSelectDialogView styleDialog = new StyleSelectDialogView(loader);\n            styleDialog.showAndWait().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                         Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                           unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                                                     Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                                                                                                                                \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                                                                                ex.getBibtexKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                     CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                     CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                     BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            ManageCitationsDialogView dlg = new ManageCitationsDialogView(ooBase);\n            dlg.showAndWait();\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, setStyleFile, pushEntries, pushEntriesInt, pushEntriesAdvanced, pushEntriesEmpty, merge, manageCitations, exportCitations, settingsB);\n    }\n","date":"2019-03-11 03:06:01","endLine":296,"groupId":"1179","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"initPanel","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/7d/2c1c20e705cfc91b1f0e627c0666f55221e755.src","preCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (UnknownPropertyException | WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            StyleSelectDialogView styleDialog = new StyleSelectDialogView(loader);\n            styleDialog.showAndWait().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                            Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                    unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                        Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                        \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                        ex.getBibtexKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                    CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            ManageCitationsDialogView dlg = new ManageCitationsDialogView(ooBase);\n            dlg.showAndWait();\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, setStyleFile, pushEntries, pushEntriesInt, pushEntriesAdvanced, pushEntriesEmpty, merge, manageCitations, exportCitations, settingsB);\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":163,"status":"M"},{"authorDate":"2019-01-25 23:36:16","commitOrder":6,"curCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                                                     Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                       unresolvedKeys.get(0)));\n\n            }\n\n            Defaults defaults = new Defaults(jabRefPreferences.getDefaultBibDatabaseMode());\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase, defaults);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                 Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                   ex.getBibtexKey()));\n\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                 UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                 CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","date":"2019-01-25 23:36:16","endLine":322,"groupId":"3230","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"exportEntries","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/21/b12f023218623cfe4b6d19f75533dd05ef874a.src","preCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                                                     Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                       unresolvedKeys.get(0)));\n\n            }\n\n            Defaults defaults = new Defaults(jabRefPreferences.getDefaultBibDatabaseMode());\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase, defaults);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                 Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                   ex.getBibtexKey()));\n\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                 UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                 CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":285,"status":"N"}],"commitId":"864d5c86ca6edb46fa5101c04b306dde74274798","commitMessage":"@@@Remove obsolete swing components in Preferences and OpenOffice (#4740)\n\n* remove old swing help action code\n\n* replace OO swing dialog for document chosing with javafx choice dialog\n\n* add missing l10n\n\n* refactor: Call selectDocument dialog when background task is finished\nset title of choice dialog\n\n* add newline\n","date":"2019-03-11 03:06:01","modifiedFileCount":"10","status":"M","submitter":"Christoph"},{"authorTime":"2020-01-18 07:15:28","codes":[{"authorDate":"2019-03-11 03:06:01","commitOrder":7,"curCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                                     + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (WrappedTargetException | IndexOutOfBoundsException |\n                     NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            StyleSelectDialogView styleDialog = new StyleSelectDialogView(loader);\n            styleDialog.showAndWait().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                         Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                           unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                                                     Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                                                                                                                                \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                                                                                ex.getBibtexKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                     CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                     CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                     BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            ManageCitationsDialogView dlg = new ManageCitationsDialogView(ooBase);\n            dlg.showAndWait();\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, setStyleFile, pushEntries, pushEntriesInt, pushEntriesAdvanced, pushEntriesEmpty, merge, manageCitations, exportCitations, settingsB);\n    }\n","date":"2019-03-11 03:06:01","endLine":296,"groupId":"1179","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"initPanel","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/7d/2c1c20e705cfc91b1f0e627c0666f55221e755.src","preCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                                     + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (WrappedTargetException | IndexOutOfBoundsException |\n                     NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            StyleSelectDialogView styleDialog = new StyleSelectDialogView(loader);\n            styleDialog.showAndWait().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                         Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                           unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                                                     Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                                                                                                                                \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                                                                                ex.getBibtexKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                     CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                     CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                     BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            ManageCitationsDialogView dlg = new ManageCitationsDialogView(ooBase);\n            dlg.showAndWait();\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, setStyleFile, pushEntries, pushEntriesInt, pushEntriesAdvanced, pushEntriesEmpty, merge, manageCitations, exportCitations, settingsB);\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":163,"status":"N"},{"authorDate":"2020-01-18 07:15:28","commitOrder":7,"curCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                                                     Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                       unresolvedKeys.get(0)));\n\n            }\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                 Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                   ex.getBibtexKey()));\n\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                 UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                 CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","date":"2020-01-18 07:15:28","endLine":312,"groupId":"2644","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"exportEntries","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/e2/35e4019672ab1801757a064cc018de3b13ae39.src","preCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                                                     Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                       unresolvedKeys.get(0)));\n\n            }\n\n            Defaults defaults = new Defaults(jabRefPreferences.getDefaultBibDatabaseMode());\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase, defaults);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                 Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                   ex.getBibtexKey()));\n\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                 UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                 CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":276,"status":"M"}],"commitId":"e9851d89dce6b39ce7dc99df1d5eca81840487e1","commitMessage":"@@@Improve serialization to fix #4877 (#5838)\n\n* Always remember which encoding was used for saving\n\n* Already infer mode upon loading\n\n* Don't format field values upon writing\n\n* Fix tests\n\n* Fix tests\n\n* Fix localization and add changelog\n\n* Add missing space\n\n* Fix test method name\n\nCo-authored-by: Oliver Kopp <kopp.dev@gmail.com>\n","date":"2020-01-18 07:15:28","modifiedFileCount":"31","status":"M","submitter":"Tobias Diez"},{"authorTime":"2020-01-18 07:15:28","codes":[{"authorDate":"2020-02-06 21:32:30","commitOrder":8,"curCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                                     + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (WrappedTargetException | IndexOutOfBoundsException |\n                     NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            StyleSelectDialogView styleDialog = new StyleSelectDialogView(loader);\n            styleDialog.showAndWait().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                         Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                           unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                                                     Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                                                                                                                                \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                                                                                ex.getBibtexKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                     CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                     CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                     BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            ManageCitationsDialogView dlg = new ManageCitationsDialogView(ooBase);\n            dlg.showAndWait();\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        VBox row1 = new VBox();\n        VBox row2 = new VBox();\n        VBox row3 = new VBox();\n        row1.getChildren().addAll(setStyleFile,pushEntries, pushEntriesInt);\n        row2.getChildren().addAll(pushEntriesAdvanced, pushEntriesEmpty, merge);\n        row3.getChildren().addAll(manageCitations, exportCitations, settingsB);\n        HBox hbox1 =  new HBox();\n        hbox1.getChildren().addAll(row1,row2,row3);\n        hbox1.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, hbox1);\n    }\n","date":"2020-02-06 21:32:30","endLine":284,"groupId":"1179","id":15,"instanceNumber":1,"isCurCommit":0,"methodName":"initPanel","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/53/05d9a45de4d829b89bda6b3ebd23b46081c112.src","preCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                                     + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (WrappedTargetException | IndexOutOfBoundsException |\n                     NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            StyleSelectDialogView styleDialog = new StyleSelectDialogView(loader);\n            styleDialog.showAndWait().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                         Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                           unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                                                     Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                                                                                                                                \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                                                                                ex.getBibtexKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                     CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                     CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                     BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            ManageCitationsDialogView dlg = new ManageCitationsDialogView(ooBase);\n            dlg.showAndWait();\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, setStyleFile, pushEntries, pushEntriesInt, pushEntriesAdvanced, pushEntriesEmpty, merge, manageCitations, exportCitations, settingsB);\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":141,"status":"M"},{"authorDate":"2020-01-18 07:15:28","commitOrder":8,"curCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                                                     Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                       unresolvedKeys.get(0)));\n\n            }\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                 Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                   ex.getBibtexKey()));\n\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                 UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                 CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","date":"2020-01-18 07:15:28","endLine":312,"groupId":"2644","id":16,"instanceNumber":2,"isCurCommit":0,"methodName":"exportEntries","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/e2/35e4019672ab1801757a064cc018de3b13ae39.src","preCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                                                     Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                       unresolvedKeys.get(0)));\n\n            }\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase);\n            this.frame.addTab(databaseContext, true);\n\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                 Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                                                   ex.getBibtexKey()));\n\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                 UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                 CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":276,"status":"N"}],"commitId":"9407bef5e69e8b8ff61493fa405ea26a6b44947e","commitMessage":"@@@Update open OpenOfficePanel to show buttons in three rows of three. (#5789)\n\n* Update open OpenOfficePanel to show buttons in three rows of three.\n\n* Update CHANGELOG.md\n\nCo-authored-by: Tobias Diez <tobiasdiez@gmx.de>\n","date":"2020-02-06 21:32:30","modifiedFileCount":"1","status":"M","submitter":"Lugduni Desrosiers"},{"authorTime":"2020-06-04 18:52:52","codes":[{"authorDate":"2020-06-04 18:52:52","commitOrder":9,"curCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            StyleSelectDialogView styleDialog = new StyleSelectDialogView(loader);\n            styleDialog.showAndWait().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                            Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                    unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                        Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                        \"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                        ex.getCitationKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                    CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            ManageCitationsDialogView dlg = new ManageCitationsDialogView(ooBase);\n            dlg.showAndWait();\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        VBox row1 = new VBox();\n        VBox row2 = new VBox();\n        VBox row3 = new VBox();\n        row1.getChildren().addAll(setStyleFile, pushEntries, pushEntriesInt);\n        row2.getChildren().addAll(pushEntriesAdvanced, pushEntriesEmpty, merge);\n        row3.getChildren().addAll(manageCitations, exportCitations, settingsB);\n        HBox hbox1 = new HBox();\n        hbox1.getChildren().addAll(row1, row2, row3);\n        hbox1.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, hbox1);\n    }\n","date":"2020-06-04 18:52:52","endLine":280,"groupId":"1179","id":17,"instanceNumber":1,"isCurCommit":0,"methodName":"initPanel","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/2f/912d2d09a32916820e7060473329e1c2440e3b.src","preCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            StyleSelectDialogView styleDialog = new StyleSelectDialogView(loader);\n            styleDialog.showAndWait().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                            Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                    unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                        Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                        \"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                        ex.getBibtexKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                    CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            ManageCitationsDialogView dlg = new ManageCitationsDialogView(ooBase);\n            dlg.showAndWait();\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        VBox row1 = new VBox();\n        VBox row2 = new VBox();\n        VBox row3 = new VBox();\n        row1.getChildren().addAll(setStyleFile, pushEntries, pushEntriesInt);\n        row2.getChildren().addAll(pushEntriesAdvanced, pushEntriesEmpty, merge);\n        row3.getChildren().addAll(manageCitations, exportCitations, settingsB);\n        HBox hbox1 = new HBox();\n        hbox1.getChildren().addAll(row1, row2, row3);\n        hbox1.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, hbox1);\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":140,"status":"M"},{"authorDate":"2020-06-04 18:52:52","commitOrder":9,"curCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                        Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)));\n            }\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase);\n            this.frame.addTab(databaseContext, true);\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                    Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                            ex.getCitationKey()));\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n    }\n","date":"2020-06-04 18:52:52","endLine":314,"groupId":"2644","id":18,"instanceNumber":2,"isCurCommit":0,"methodName":"exportEntries","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/2f/912d2d09a32916820e7060473329e1c2440e3b.src","preCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                        Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)));\n            }\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase);\n            this.frame.addTab(databaseContext, true);\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                    Localization.lang(\"Your OpenOffice/LibreOffice document references the BibTeX key '%0', which could not be found in your current library.\",\n                            ex.getBibtexKey()));\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":282,"status":"M"}],"commitId":"7cc57474b7aa991ef6ea148d4030d4bb68ee69bf","commitMessage":"@@@Rename bibtexkey (#6545)\n\n* Reworded 'BibtexKey' to 'CitationKey'\n\n* Fixed merge errors.  renamed constants\n\n* Renamed forgotten package\n\n* Fixed overlooked enum names and added CHANGELOG.md entry","date":"2020-06-04 18:52:52","modifiedFileCount":"54","status":"M","submitter":"Carl Christian Snethlage"},{"authorTime":"2020-06-04 18:52:52","codes":[{"authorDate":"2020-07-28 15:48:26","commitOrder":10,"curCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            StyleSelectDialogView styleDialog = new StyleSelectDialogView(loader);\n            styleDialog.showAndWait().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                            Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                    unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                        Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                        \"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                        ex.getCitationKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                    CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            ManageCitationsDialogView dlg = new ManageCitationsDialogView(ooBase);\n            dlg.showAndWait();\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n        \n        FlowPane flow = new FlowPane();\n        flow.setPadding(new Insets(5, 5, 5, 5));\n        flow.setVgap(4);\n        flow.setHgap(4);\n        flow.setPrefWrapLength(200);\n        flow.getChildren().addAll(setStyleFile, pushEntries, pushEntriesInt);\n        flow.getChildren().addAll(pushEntriesAdvanced, pushEntriesEmpty, merge);\n        flow.getChildren().addAll(manageCitations, exportCitations, settingsB);\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, flow);\n    }\n","date":"2020-07-28 15:48:26","endLine":281,"groupId":"1179","id":19,"instanceNumber":1,"isCurCommit":0,"methodName":"initPanel","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/bf/f1e366d35c0c11c315704db58d6501e0cafc79.src","preCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            StyleSelectDialogView styleDialog = new StyleSelectDialogView(loader);\n            styleDialog.showAndWait().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                            Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                    unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                        Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                        \"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                        ex.getCitationKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                    CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            ManageCitationsDialogView dlg = new ManageCitationsDialogView(ooBase);\n            dlg.showAndWait();\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        VBox row1 = new VBox();\n        VBox row2 = new VBox();\n        VBox row3 = new VBox();\n        row1.getChildren().addAll(setStyleFile, pushEntries, pushEntriesInt);\n        row2.getChildren().addAll(pushEntriesAdvanced, pushEntriesEmpty, merge);\n        row3.getChildren().addAll(manageCitations, exportCitations, settingsB);\n        HBox hbox1 = new HBox();\n        hbox1.getChildren().addAll(row1, row2, row3);\n        hbox1.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, hbox1);\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":142,"status":"M"},{"authorDate":"2020-06-04 18:52:52","commitOrder":10,"curCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                        Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)));\n            }\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase);\n            this.frame.addTab(databaseContext, true);\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                    Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                            ex.getCitationKey()));\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n    }\n","date":"2020-06-04 18:52:52","endLine":314,"groupId":"2644","id":20,"instanceNumber":2,"isCurCommit":0,"methodName":"exportEntries","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/2f/912d2d09a32916820e7060473329e1c2440e3b.src","preCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                        Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)));\n            }\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase);\n            this.frame.addTab(databaseContext, true);\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                    Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                            ex.getCitationKey()));\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":282,"status":"N"}],"commitId":"c1f2606b0d87a362f0ca3cfbb5f4f26317bd2318","commitMessage":"@@@Fix for issue 6639 (#6719)\n\n* changed part of LibreOffice side panel to flow layout\n\n* fixed the ordering of imports added for this issue\n\n* updated change log for issue #6639\n\n* Improved change log entry a bit\n\nCo-authored-by: Tobias Diez <tobiasdiez@gmx.de>","date":"2020-07-28 15:48:26","modifiedFileCount":"1","status":"M","submitter":"Lugduni Desrosiers"},{"authorTime":"2020-06-04 18:52:52","codes":[{"authorDate":"2021-01-03 00:34:40","commitOrder":11,"curCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n            dialogService.showCustomDialogAndWait(new StyleSelectDialogView(loader)).ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                            Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                    unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                        Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                        \"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                        ex.getCitationKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                    CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            dialogService.showCustomDialogAndWait(new ManageCitationsDialogView(ooBase));\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        FlowPane flow = new FlowPane();\n        flow.setPadding(new Insets(5, 5, 5, 5));\n        flow.setVgap(4);\n        flow.setHgap(4);\n        flow.setPrefWrapLength(200);\n        flow.getChildren().addAll(setStyleFile, pushEntries, pushEntriesInt);\n        flow.getChildren().addAll(pushEntriesAdvanced, pushEntriesEmpty, merge);\n        flow.getChildren().addAll(manageCitations, exportCitations, settingsB);\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, flow);\n    }\n","date":"2021-01-03 00:34:40","endLine":278,"groupId":"1179","id":21,"instanceNumber":1,"isCurCommit":0,"methodName":"initPanel","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/da/ead2c527f9795fa2c45894c2e2153a0f701116.src","preCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                        + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (WrappedTargetException | IndexOutOfBoundsException |\n                    NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            StyleSelectDialogView styleDialog = new StyleSelectDialogView(loader);\n            styleDialog.showAndWait().ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                            Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                    unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                        Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                        \"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                        ex.getCitationKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                    CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                    CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                    BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n            ManageCitationsDialogView dlg = new ManageCitationsDialogView(ooBase);\n            dlg.showAndWait();\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        FlowPane flow = new FlowPane();\n        flow.setPadding(new Insets(5, 5, 5, 5));\n        flow.setVgap(4);\n        flow.setHgap(4);\n        flow.setPrefWrapLength(200);\n        flow.getChildren().addAll(setStyleFile, pushEntries, pushEntriesInt);\n        flow.getChildren().addAll(pushEntriesAdvanced, pushEntriesEmpty, merge);\n        flow.getChildren().addAll(manageCitations, exportCitations, settingsB);\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, flow);\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":142,"status":"M"},{"authorDate":"2020-06-04 18:52:52","commitOrder":11,"curCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                        Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)));\n            }\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase);\n            this.frame.addTab(databaseContext, true);\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                    Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                            ex.getCitationKey()));\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n    }\n","date":"2020-06-04 18:52:52","endLine":314,"groupId":"2644","id":22,"instanceNumber":2,"isCurCommit":0,"methodName":"exportEntries","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/2f/912d2d09a32916820e7060473329e1c2440e3b.src","preCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                        Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)));\n            }\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase);\n            this.frame.addTab(databaseContext, true);\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                    Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                            ex.getCitationKey()));\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":282,"status":"N"}],"commitId":"0b4be8a1417fd7053646bfe10ef22d37614683a9","commitMessage":"@@@Fix for application dialogs opening in wrong displays (#7273)\n\n* [WIP] Fix for application dialogs opening in wrong displays\n\n* [WIP] Fix for application dialogs opening in wrong displays\n\n* [WIP] Fix for application dialogs opening in wrong displays\n\n* [WIP] Fix for application dialogs opening in wrong displays\n\n* Fix for application dialogs opening in wrong displays\n\n- Rename DialogService.show() method to showCustomDialog()\n- Rename showCustomDialog()'s argument\n- Add documentation to showCustomDialog method\n- Make createDialog and createDialogWithOptOut non static\n\n* Add change description to CHANGELOG.md\n\n* Drop unneeded test AboutActionTest\n\n* Document guidelines for creating a new dialog\n\n* Document guidelines for creating a new dialog","date":"2021-01-03 00:34:40","modifiedFileCount":"51","status":"M","submitter":"Fiyinfolu Eludire"},{"authorTime":"2020-06-04 18:52:52","codes":[{"authorDate":"2021-03-03 04:20:58","commitOrder":12,"curCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                                     + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (WrappedTargetException | IndexOutOfBoundsException |\n                     NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            dialogService.showCustomDialogAndWait(new StyleSelectDialogView(loader)).ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                         Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                                                           unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                                                     Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                                                                                                                                \"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                                                                                                                ex.getCitationKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                     CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                     CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                     BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n        });\n\n        unmerge.setMaxWidth(Double.MAX_VALUE);\n        unmerge.setTooltip(new Tooltip(Localization.lang(\"Separate merged citations\")));\n        unmerge.setOnAction(e -> {\n            try {\n                ooBase.unCombineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                     CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                     BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem uncombining cite markers\", ex);\n            }\n        });\n\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n           dialogService.showCustomDialogAndWait(new ManageCitationsDialogView(ooBase));\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        unmerge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        FlowPane flow = new FlowPane();\n        flow.setPadding(new Insets(5, 5, 5, 5));\n        flow.setVgap(4);\n        flow.setHgap(4);\n        flow.setPrefWrapLength(200);\n        flow.getChildren().addAll(setStyleFile, pushEntries, pushEntriesInt);\n        flow.getChildren().addAll(pushEntriesAdvanced, pushEntriesEmpty, merge, unmerge);\n        flow.getChildren().addAll(manageCitations, exportCitations, settingsB);\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, flow);\n    }\n","date":"2021-03-03 04:20:58","endLine":296,"groupId":"10886","id":23,"instanceNumber":1,"isCurCommit":0,"methodName":"initPanel","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/63/5d9469a31c11ce21f74061c0544aed529a54eb.src","preCode":"    private void initPanel() {\n\n        connect.setOnAction(e -> connectAutomatically());\n        manualConnect.setOnAction(e -> connectManually());\n\n        selectDocument.setTooltip(new Tooltip(Localization.lang(\"Select which open Writer document to work on\")));\n        selectDocument.setOnAction(e -> {\n\n            try {\n                ooBase.selectDocument();\n                dialogService.notify(Localization.lang(\"Connected to document\") + \": \"\n                                     + ooBase.getCurrentDocumentTitle().orElse(\"\"));\n            } catch (WrappedTargetException | IndexOutOfBoundsException |\n                     NoSuchElementException | NoDocumentException ex) {\n                LOGGER.warn(\"Problem connecting\", ex);\n                dialogService.showErrorDialogAndWait(ex);\n            }\n        });\n\n        setStyleFile.setMaxWidth(Double.MAX_VALUE);\n        setStyleFile.setOnAction(event -> {\n\n            dialogService.showCustomDialogAndWait(new StyleSelectDialogView(loader)).ifPresent(selectedStyle -> {\n                style = selectedStyle;\n                try {\n                    style.ensureUpToDate();\n                } catch (IOException e) {\n                    LOGGER.warn(\"Unable to reload style file '\" + style.getPath() + \"'\", e);\n                }\n                dialogService.notify(Localization.lang(\"Current style is '%0'\", style.getName()));\n            });\n        });\n\n        pushEntries.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries between parenthesis\")));\n        pushEntries.setOnAction(e -> pushEntries(true, true, false));\n        pushEntries.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesInt.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with in-text citation\")));\n        pushEntriesInt.setOnAction(e -> pushEntries(false, true, false));\n        pushEntriesInt.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesEmpty.setTooltip(new Tooltip(Localization.lang(\"Insert a citation without text (the entry will appear in the reference list)\")));\n        pushEntriesEmpty.setOnAction(e -> pushEntries(false, false, false));\n        pushEntriesEmpty.setMaxWidth(Double.MAX_VALUE);\n        pushEntriesAdvanced.setTooltip(new Tooltip(Localization.lang(\"Cite selected entries with extra information\")));\n        pushEntriesAdvanced.setOnAction(e -> pushEntries(false, true, true));\n        pushEntriesAdvanced.setMaxWidth(Double.MAX_VALUE);\n\n        update.setTooltip(new Tooltip(Localization.lang(\"Ensure that the bibliography is up-to-date\")));\n\n        update.setOnAction(event -> {\n            try {\n                if (style == null) {\n                    style = loader.getUsedStyle();\n                } else {\n                    style.ensureUpToDate();\n                }\n\n                ooBase.updateSortedReferenceMarks();\n\n                List<BibDatabase> databases = getBaseList();\n                List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n                ooBase.rebuildBibTextSection(databases, style);\n                if (!unresolvedKeys.isEmpty()) {\n                    dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                                                         Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                                                           unresolvedKeys.get(0)));\n                }\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (UndefinedParagraphFormatException ex) {\n                reportUndefinedParagraphFormat(ex);\n            } catch (ConnectionLostException ex) {\n                showConnectionLostErrorMessage();\n            } catch (IOException ex) {\n                LOGGER.warn(\"Problem with style file\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"No valid style file defined\"),\n                                                     Localization.lang(\"You must select either a valid style file, or use one of the default styles.\"));\n            } catch (BibEntryNotFoundException ex) {\n                LOGGER.debug(\"BibEntry not found\", ex);\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"), Localization.lang(\n                                                                                                                                \"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                                                                                                                ex.getCitationKey()));\n            } catch (com.sun.star.lang.IllegalArgumentException | PropertyVetoException | UnknownPropertyException | WrappedTargetException | NoSuchElementException |\n                     CreationException ex) {\n                LOGGER.warn(\"Could not update bibliography\", ex);\n            }\n        });\n\n        merge.setMaxWidth(Double.MAX_VALUE);\n        merge.setTooltip(new Tooltip(Localization.lang(\"Combine pairs of citations that are separated by spaces only\")));\n        merge.setOnAction(e -> {\n            try {\n                ooBase.combineCiteMarkers(getBaseList(), style);\n            } catch (UndefinedCharacterFormatException ex) {\n                reportUndefinedCharacterFormat(ex);\n            } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                     CreationException | NoSuchElementException | WrappedTargetException | IOException |\n                     BibEntryNotFoundException ex) {\n                LOGGER.warn(\"Problem combining cite markers\", ex);\n            }\n        });\n        ContextMenu settingsMenu = createSettingsPopup();\n        settingsB.setMaxWidth(Double.MAX_VALUE);\n        settingsB.setContextMenu(settingsMenu);\n        settingsB.setOnAction(e -> settingsMenu.show(settingsB, Side.BOTTOM, 0, 0));\n        manageCitations.setMaxWidth(Double.MAX_VALUE);\n        manageCitations.setOnAction(e -> {\n           dialogService.showCustomDialogAndWait(new ManageCitationsDialogView(ooBase));\n        });\n\n        exportCitations.setMaxWidth(Double.MAX_VALUE);\n        exportCitations.setOnAction(event -> exportEntries());\n\n        selectDocument.setDisable(true);\n        pushEntries.setDisable(true);\n        pushEntriesInt.setDisable(true);\n        pushEntriesEmpty.setDisable(true);\n        pushEntriesAdvanced.setDisable(true);\n        update.setDisable(true);\n        merge.setDisable(true);\n        manageCitations.setDisable(true);\n        exportCitations.setDisable(true);\n\n        HBox hbox = new HBox();\n        hbox.getChildren().addAll(connect, manualConnect, selectDocument, update, help);\n        hbox.getChildren().forEach(btn -> HBox.setHgrow(btn, Priority.ALWAYS));\n\n        FlowPane flow = new FlowPane();\n        flow.setPadding(new Insets(5, 5, 5, 5));\n        flow.setVgap(4);\n        flow.setHgap(4);\n        flow.setPrefWrapLength(200);\n        flow.getChildren().addAll(setStyleFile, pushEntries, pushEntriesInt);\n        flow.getChildren().addAll(pushEntriesAdvanced, pushEntriesEmpty, merge);\n        flow.getChildren().addAll(manageCitations, exportCitations, settingsB);\n\n        vbox.setFillWidth(true);\n        vbox.getChildren().addAll(hbox, flow);\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":143,"status":"M"},{"authorDate":"2020-06-04 18:52:52","commitOrder":12,"curCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                        Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)));\n            }\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase);\n            this.frame.addTab(databaseContext, true);\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                    Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                            ex.getCitationKey()));\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n    }\n","date":"2020-06-04 18:52:52","endLine":314,"groupId":"10886","id":24,"instanceNumber":2,"isCurCommit":0,"methodName":"exportEntries","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/2f/912d2d09a32916820e7060473329e1c2440e3b.src","preCode":"    private void exportEntries() {\n        try {\n            if (style == null) {\n                style = loader.getUsedStyle();\n            } else {\n                style.ensureUpToDate();\n            }\n\n            ooBase.updateSortedReferenceMarks();\n\n            List<BibDatabase> databases = getBaseList();\n            List<String> unresolvedKeys = ooBase.refreshCiteMarkers(databases, style);\n            BibDatabase newDatabase = ooBase.generateDatabase(databases);\n            if (!unresolvedKeys.isEmpty()) {\n\n                dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to generate new library\"),\n                        Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                                unresolvedKeys.get(0)));\n            }\n\n            BibDatabaseContext databaseContext = new BibDatabaseContext(newDatabase);\n            this.frame.addTab(databaseContext, true);\n        } catch (BibEntryNotFoundException ex) {\n            LOGGER.debug(\"BibEntry not found\", ex);\n            dialogService.showErrorDialogAndWait(Localization.lang(\"Unable to synchronize bibliography\"),\n                    Localization.lang(\"Your OpenOffice/LibreOffice document references the citation key '%0', which could not be found in your current library.\",\n                            ex.getCitationKey()));\n        } catch (com.sun.star.lang.IllegalArgumentException | UnknownPropertyException | PropertyVetoException |\n                UndefinedCharacterFormatException | NoSuchElementException | WrappedTargetException | IOException |\n                CreationException e) {\n            LOGGER.warn(\"Problem generating new database.\", e);\n        }\n    }\n","realPath":"src/main/java/org/jabref/gui/openoffice/OpenOfficePanel.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":282,"status":"N"}],"commitId":"b856dd4b690501476a06e9b2a058b2f82f7051ef","commitMessage":"@@@Unmerge LO citations (#7455)\n\n","date":"2021-03-03 04:20:58","modifiedFileCount":"2","status":"M","submitter":"antalk2"}]
