[{"authorTime":"2020-12-09 21:43:15","codes":[{"authorDate":"2020-12-09 21:43:15","commitOrder":1,"curCode":"    private void validateRequiredProfiles( MavenSession session, ProfileActivation profileActivation )\n    {\n        final Set<String> allAvailableProfiles = getAllProfiles( session );\n\n        final Set<String> requiredProfiles = new HashSet<>( );\n        requiredProfiles.addAll( profileActivation.getRequiredActiveProfileIds() );\n        requiredProfiles.addAll( profileActivation.getRequiredInactiveProfileIds() );\n\n        \r\n        final Set<String> notFoundRequiredProfiles = requiredProfiles.stream()\n                .filter( rap -> !allAvailableProfiles.contains( rap ) )\n                .collect( toSet() );\n\n        if ( !notFoundRequiredProfiles.isEmpty() )\n        {\n            final String message = String.format(\n                    \"The requested profiles [%s] could not be activated or deactivated because they do not exist.\",\n                    String.join( \", \", notFoundRequiredProfiles )\n            );\n            addExceptionToResult( session.getResult(), new MissingProfilesException( message ) );\n        }\n    }\n","date":"2021-02-02 15:20:21","endLine":574,"groupId":"6062","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"validateRequiredProfiles","params":"(MavenSessionsession@ProfileActivationprofileActivation)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-maven-10-0.7/blobInfo/CC_OUT/blobs/7b/758f54575c7d10f8858396db0149e526287a18.src","preCode":"    private void validateRequiredProfiles( MavenSession session, ProfileActivation profileActivation )\n    {\n        final Set<String> allAvailableProfiles = getAllProfiles( session );\n\n        final Set<String> requiredProfiles = new HashSet<>( );\n        requiredProfiles.addAll( profileActivation.getRequiredActiveProfileIds() );\n        requiredProfiles.addAll( profileActivation.getRequiredInactiveProfileIds() );\n\n        \r\n        final Set<String> notFoundRequiredProfiles = requiredProfiles.stream()\n                .filter( rap -> !allAvailableProfiles.contains( rap ) )\n                .collect( toSet() );\n\n        if ( !notFoundRequiredProfiles.isEmpty() )\n        {\n            final String message = String.format(\n                    \"The requested profiles [%s] could not be activated or deactivated because they do not exist.\",\n                    String.join( \", \", notFoundRequiredProfiles )\n            );\n            addExceptionToResult( session.getResult(), new MissingProfilesException( message ) );\n        }\n    }\n","realPath":"maven-core/src/main/java/org/apache/maven/DefaultMaven.java","repoName":"maven","snippetEndLine":0,"snippetStartLine":0,"startLine":553,"status":"B"},{"authorDate":"2020-12-09 21:43:15","commitOrder":1,"curCode":"    private void validateOptionalProfiles( MavenSession session, ProfileActivation profileActivation )\n    {\n        final Set<String> allAvailableProfiles = getAllProfiles( session );\n\n        final Set<String> optionalProfiles = new HashSet<>( );\n        optionalProfiles.addAll( profileActivation.getOptionalActiveProfileIds() );\n        optionalProfiles.addAll( profileActivation.getOptionalInactiveProfileIds() );\n\n        final Set<String> notFoundOptionalProfiles = optionalProfiles.stream()\n                .filter( rap -> !allAvailableProfiles.contains( rap ) )\n                .collect( toSet() );\n\n        if ( !notFoundOptionalProfiles.isEmpty() )\n        {\n            final String message = String.format(\n                    \"The requested optional profiles [%s] could not be activated or deactivated because they \"\n                            + \"do not exist.\", String.join( \", \", notFoundOptionalProfiles )\n            );\n            logger.warn( message );\n        }\n    }\n","date":"2021-02-02 15:20:21","endLine":601,"groupId":"6062","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"validateOptionalProfiles","params":"(MavenSessionsession@ProfileActivationprofileActivation)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-maven-10-0.7/blobInfo/CC_OUT/blobs/7b/758f54575c7d10f8858396db0149e526287a18.src","preCode":"    private void validateOptionalProfiles( MavenSession session, ProfileActivation profileActivation )\n    {\n        final Set<String> allAvailableProfiles = getAllProfiles( session );\n\n        final Set<String> optionalProfiles = new HashSet<>( );\n        optionalProfiles.addAll( profileActivation.getOptionalActiveProfileIds() );\n        optionalProfiles.addAll( profileActivation.getOptionalInactiveProfileIds() );\n\n        final Set<String> notFoundOptionalProfiles = optionalProfiles.stream()\n                .filter( rap -> !allAvailableProfiles.contains( rap ) )\n                .collect( toSet() );\n\n        if ( !notFoundOptionalProfiles.isEmpty() )\n        {\n            final String message = String.format(\n                    \"The requested optional profiles [%s] could not be activated or deactivated because they \"\n                            + \"do not exist.\", String.join( \", \", notFoundOptionalProfiles )\n            );\n            logger.warn( message );\n        }\n    }\n","realPath":"maven-core/src/main/java/org/apache/maven/DefaultMaven.java","repoName":"maven","snippetEndLine":0,"snippetStartLine":0,"startLine":581,"status":"B"}],"commitId":"8defd169651db30fe0ac3ad3f318e471f0241d02","commitMessage":"@@@[MNG-7051] Optionally skip non-existing profiles and break on missing required profiles.\n","date":"2021-02-02 15:20:21","modifiedFileCount":"8","status":"B","submitter":"Maarten Mulders"},{"authorTime":"2021-03-08 20:42:57","codes":[{"authorDate":"2020-12-09 21:43:15","commitOrder":2,"curCode":"    private void validateRequiredProfiles( MavenSession session, ProfileActivation profileActivation )\n    {\n        final Set<String> allAvailableProfiles = getAllProfiles( session );\n\n        final Set<String> requiredProfiles = new HashSet<>( );\n        requiredProfiles.addAll( profileActivation.getRequiredActiveProfileIds() );\n        requiredProfiles.addAll( profileActivation.getRequiredInactiveProfileIds() );\n\n        \r\n        final Set<String> notFoundRequiredProfiles = requiredProfiles.stream()\n                .filter( rap -> !allAvailableProfiles.contains( rap ) )\n                .collect( toSet() );\n\n        if ( !notFoundRequiredProfiles.isEmpty() )\n        {\n            final String message = String.format(\n                    \"The requested profiles [%s] could not be activated or deactivated because they do not exist.\",\n                    String.join( \", \", notFoundRequiredProfiles )\n            );\n            addExceptionToResult( session.getResult(), new MissingProfilesException( message ) );\n        }\n    }\n","date":"2021-02-02 15:20:21","endLine":574,"groupId":"10692","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"validateRequiredProfiles","params":"(MavenSessionsession@ProfileActivationprofileActivation)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-maven-10-0.7/blobInfo/CC_OUT/blobs/7b/758f54575c7d10f8858396db0149e526287a18.src","preCode":"    private void validateRequiredProfiles( MavenSession session, ProfileActivation profileActivation )\n    {\n        final Set<String> allAvailableProfiles = getAllProfiles( session );\n\n        final Set<String> requiredProfiles = new HashSet<>( );\n        requiredProfiles.addAll( profileActivation.getRequiredActiveProfileIds() );\n        requiredProfiles.addAll( profileActivation.getRequiredInactiveProfileIds() );\n\n        \r\n        final Set<String> notFoundRequiredProfiles = requiredProfiles.stream()\n                .filter( rap -> !allAvailableProfiles.contains( rap ) )\n                .collect( toSet() );\n\n        if ( !notFoundRequiredProfiles.isEmpty() )\n        {\n            final String message = String.format(\n                    \"The requested profiles [%s] could not be activated or deactivated because they do not exist.\",\n                    String.join( \", \", notFoundRequiredProfiles )\n            );\n            addExceptionToResult( session.getResult(), new MissingProfilesException( message ) );\n        }\n    }\n","realPath":"maven-core/src/main/java/org/apache/maven/DefaultMaven.java","repoName":"maven","snippetEndLine":0,"snippetStartLine":0,"startLine":553,"status":"N"},{"authorDate":"2021-03-08 20:42:57","commitOrder":2,"curCode":"    private void validateOptionalProfiles( MavenSession session, ProfileActivation profileActivation )\n    {\n        final Set<String> allAvailableProfiles = getAllProfiles( session );\n\n        final Set<String> optionalProfiles = new HashSet<>( );\n        optionalProfiles.addAll( profileActivation.getOptionalActiveProfileIds() );\n        optionalProfiles.addAll( profileActivation.getOptionalInactiveProfileIds() );\n\n        final Set<String> notFoundOptionalProfiles = optionalProfiles.stream()\n                .filter( rap -> !allAvailableProfiles.contains( rap ) )\n                .collect( toSet() );\n\n        if ( !notFoundOptionalProfiles.isEmpty() )\n        {\n            final String message = String.format(\n                    \"The requested optional profiles [%s] could not be activated or deactivated because they \"\n                            + \"do not exist.\", String.join( \", \", notFoundOptionalProfiles )\n            );\n            logger.info( message );\n        }\n    }\n","date":"2021-03-08 23:24:16","endLine":616,"groupId":"10692","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"validateOptionalProfiles","params":"(MavenSessionsession@ProfileActivationprofileActivation)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-maven-10-0.7/blobInfo/CC_OUT/blobs/f8/0833b2e38663339dc46c0ec2dc31a29d895d34.src","preCode":"    private void validateOptionalProfiles( MavenSession session, ProfileActivation profileActivation )\n    {\n        final Set<String> allAvailableProfiles = getAllProfiles( session );\n\n        final Set<String> optionalProfiles = new HashSet<>( );\n        optionalProfiles.addAll( profileActivation.getOptionalActiveProfileIds() );\n        optionalProfiles.addAll( profileActivation.getOptionalInactiveProfileIds() );\n\n        final Set<String> notFoundOptionalProfiles = optionalProfiles.stream()\n                .filter( rap -> !allAvailableProfiles.contains( rap ) )\n                .collect( toSet() );\n\n        if ( !notFoundOptionalProfiles.isEmpty() )\n        {\n            final String message = String.format(\n                    \"The requested optional profiles [%s] could not be activated or deactivated because they \"\n                            + \"do not exist.\", String.join( \", \", notFoundOptionalProfiles )\n            );\n            logger.warn( message );\n        }\n    }\n","realPath":"maven-core/src/main/java/org/apache/maven/DefaultMaven.java","repoName":"maven","snippetEndLine":0,"snippetStartLine":0,"startLine":596,"status":"M"}],"commitId":"9643ac630cf4e9378cf3a7989ce84ca7fe802819","commitMessage":"@@@[MNG-7051] When an optional profile could not be found.  an info message should be thrown instead of a warning.\n","date":"2021-03-08 23:24:16","modifiedFileCount":"1","status":"M","submitter":"Martin Kanters"}]
