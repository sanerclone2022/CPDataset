[{"authorTime":"2016-07-07 18:11:03","codes":[{"authorDate":"2016-12-07 10:52:26","commitOrder":2,"curCode":"  public void testWhenConfigRepositoryHasErrorAndThenRecovered() throws Exception {\n    Properties someProperties = new Properties();\n    String key = ConfigConsts.CONFIG_FILE_CONTENT_KEY;\n    String someValue = \"someValue\";\n    someProperties.setProperty(key, someValue);\n\n    when(configRepository.getConfig()).thenThrow(new RuntimeException(\"someError\"));\n\n    JsonConfigFile configFile = new JsonConfigFile(someNamespace, configRepository);\n\n    assertFalse(configFile.hasContent());\n    assertNull(configFile.getContent());\n\n    configFile.onRepositoryChange(someNamespace, someProperties);\n\n    assertTrue(configFile.hasContent());\n    assertEquals(someValue, configFile.getContent());\n  }\n","date":"2016-12-07 10:52:26","endLine":111,"groupId":"672","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testWhenConfigRepositoryHasErrorAndThenRecovered","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/b6/0162e4e1a14c06420cb8250ca3021f73b0cb21.src","preCode":"  public void testWhenConfigRepositoryHasErrorAndThenRecovered() throws Exception {\n    Properties someProperties = new Properties();\n    String key = ConfigConsts.CONFIG_FILE_CONTENT_KEY;\n    String someValue = \"someValue\";\n    someProperties.setProperty(key, someValue);\n\n    when(configRepository.getConfig()).thenThrow(new RuntimeException(\"someError\"));\n\n    JsonConfigFile configFile = new JsonConfigFile(someNamespace, configRepository);\n\n    assertFalse(configFile.hasContent());\n    assertNull(configFile.getContent());\n\n    configFile.onRepositoryChange(someNamespace, someProperties);\n\n    assertTrue(configFile.hasContent());\n    assertEquals(someValue, configFile.getContent());\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/JsonConfigFileTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":94,"status":"B"},{"authorDate":"2016-07-07 18:11:03","commitOrder":2,"curCode":"  public void testWhenConfigRepositoryHasErrorAndThenRecovered() throws Exception {\n    Properties someProperties = new Properties();\n    String key = ConfigConsts.CONFIG_FILE_CONTENT_KEY;\n    String someValue = \"someValue\";\n    someProperties.setProperty(key, someValue);\n\n    when(configRepository.getConfig()).thenThrow(new RuntimeException(\"someError\"));\n\n    XmlConfigFile configFile = new XmlConfigFile(someNamespace, configRepository);\n\n    assertFalse(configFile.hasContent());\n    assertNull(configFile.getContent());\n\n    configFile.onRepositoryChange(someNamespace, someProperties);\n\n    assertTrue(configFile.hasContent());\n    assertEquals(someValue, configFile.getContent());\n  }\n","date":"2016-07-07 18:11:03","endLine":108,"groupId":"672","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testWhenConfigRepositoryHasErrorAndThenRecovered","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/cb/b062e35ab3baa6f24bb6dc4800922e276b84b9.src","preCode":"  public void testWhenConfigRepositoryHasErrorAndThenRecovered() throws Exception {\n    Properties someProperties = new Properties();\n    String key = ConfigConsts.CONFIG_FILE_CONTENT_KEY;\n    String someValue = \"someValue\";\n    someProperties.setProperty(key, someValue);\n\n    when(configRepository.getConfig()).thenThrow(new RuntimeException(\"someError\"));\n\n    XmlConfigFile configFile = new XmlConfigFile(someNamespace, configRepository);\n\n    assertFalse(configFile.hasContent());\n    assertNull(configFile.getContent());\n\n    configFile.onRepositoryChange(someNamespace, someProperties);\n\n    assertTrue(configFile.hasContent());\n    assertEquals(someValue, configFile.getContent());\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/XmlConfigFileTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":91,"status":"NB"}],"commitId":"50109173e010e9c4080c247e9a7b88aaa50dd435","commitMessage":"@@@Merge branch 'master' into 'release'\n\nMaster\n\n\n\nSee merge request !36","date":"2016-12-07 10:52:26","modifiedFileCount":"160","status":"M","submitter":"zl??(IT)"},{"authorTime":"2016-07-07 18:11:03","codes":[{"authorDate":"2018-09-16 11:00:16","commitOrder":3,"curCode":"  public void testWhenConfigRepositoryHasErrorAndThenRecovered() throws Exception {\n    Properties someProperties = new Properties();\n    String key = ConfigConsts.CONFIG_FILE_CONTENT_KEY;\n    String someValue = \"someValue\";\n    someProperties.setProperty(key, someValue);\n\n    someSourceType = ConfigSourceType.LOCAL;\n\n    when(configRepository.getConfig()).thenThrow(new RuntimeException(\"someError\"));\n    when(configRepository.getSourceType()).thenReturn(someSourceType);\n\n    JsonConfigFile configFile = new JsonConfigFile(someNamespace, configRepository);\n\n    assertFalse(configFile.hasContent());\n    assertNull(configFile.getContent());\n    assertEquals(ConfigSourceType.NONE, configFile.getSourceType());\n\n    configFile.onRepositoryChange(someNamespace, someProperties);\n\n    assertTrue(configFile.hasContent());\n    assertEquals(someValue, configFile.getContent());\n    assertEquals(someSourceType, configFile.getSourceType());\n  }\n","date":"2018-09-16 11:00:16","endLine":132,"groupId":"10309","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testWhenConfigRepositoryHasErrorAndThenRecovered","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/b8/ccbf3bf6c848c03d1bf1af003cc93b22872b55.src","preCode":"  public void testWhenConfigRepositoryHasErrorAndThenRecovered() throws Exception {\n    Properties someProperties = new Properties();\n    String key = ConfigConsts.CONFIG_FILE_CONTENT_KEY;\n    String someValue = \"someValue\";\n    someProperties.setProperty(key, someValue);\n\n    when(configRepository.getConfig()).thenThrow(new RuntimeException(\"someError\"));\n\n    JsonConfigFile configFile = new JsonConfigFile(someNamespace, configRepository);\n\n    assertFalse(configFile.hasContent());\n    assertNull(configFile.getContent());\n\n    configFile.onRepositoryChange(someNamespace, someProperties);\n\n    assertTrue(configFile.hasContent());\n    assertEquals(someValue, configFile.getContent());\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/JsonConfigFileTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":110,"status":"M"},{"authorDate":"2016-07-07 18:11:03","commitOrder":3,"curCode":"  public void testWhenConfigRepositoryHasErrorAndThenRecovered() throws Exception {\n    Properties someProperties = new Properties();\n    String key = ConfigConsts.CONFIG_FILE_CONTENT_KEY;\n    String someValue = \"someValue\";\n    someProperties.setProperty(key, someValue);\n\n    when(configRepository.getConfig()).thenThrow(new RuntimeException(\"someError\"));\n\n    XmlConfigFile configFile = new XmlConfigFile(someNamespace, configRepository);\n\n    assertFalse(configFile.hasContent());\n    assertNull(configFile.getContent());\n\n    configFile.onRepositoryChange(someNamespace, someProperties);\n\n    assertTrue(configFile.hasContent());\n    assertEquals(someValue, configFile.getContent());\n  }\n","date":"2016-07-07 18:11:03","endLine":108,"groupId":"10309","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testWhenConfigRepositoryHasErrorAndThenRecovered","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/cb/b062e35ab3baa6f24bb6dc4800922e276b84b9.src","preCode":"  public void testWhenConfigRepositoryHasErrorAndThenRecovered() throws Exception {\n    Properties someProperties = new Properties();\n    String key = ConfigConsts.CONFIG_FILE_CONTENT_KEY;\n    String someValue = \"someValue\";\n    someProperties.setProperty(key, someValue);\n\n    when(configRepository.getConfig()).thenThrow(new RuntimeException(\"someError\"));\n\n    XmlConfigFile configFile = new XmlConfigFile(someNamespace, configRepository);\n\n    assertFalse(configFile.hasContent());\n    assertNull(configFile.getContent());\n\n    configFile.onRepositoryChange(someNamespace, someProperties);\n\n    assertTrue(configFile.hasContent());\n    assertEquals(someValue, configFile.getContent());\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/XmlConfigFileTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":91,"status":"N"}],"commitId":"9e3aec542eeed1cec46c5930657582a8669c7492","commitMessage":"@@@Merge pull request #1470 from nobodyiam/config-source\n\nadd getSourceType api","date":"2018-09-16 11:00:16","modifiedFileCount":"15","status":"M","submitter":"Jason Song"}]
