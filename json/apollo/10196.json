[{"authorTime":"2019-02-13 20:03:57","codes":[{"authorDate":"2018-10-30 23:12:30","commitOrder":2,"curCode":"  private ContextMapper<UserInfo> ldapUserInfoMapper = (ctx) -> {\n    DirContextAdapter contextAdapter = (DirContextAdapter) ctx;\n    UserInfo userInfo = new UserInfo();\n    userInfo.setUserId(contextAdapter.getStringAttribute(loginIdAttrName));\n    userInfo.setName(contextAdapter.getStringAttribute(userDisplayNameAttrName));\n    userInfo.setEmail(contextAdapter.getStringAttribute(emailAttrName));\n    return userInfo;\n  };\n","date":"2018-10-30 23:12:30","endLine":50,"groupId":"220","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"ldapUserInfoMapper","params":"(ctx)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/c1/2bae49bf9a3f570127e8930e73d299b24059dd.src","preCode":"  private ContextMapper<UserInfo> ldapUserInfoMapper = (ctx) -> {\n    DirContextAdapter contextAdapter = (DirContextAdapter) ctx;\n    UserInfo userInfo = new UserInfo();\n    userInfo.setUserId(contextAdapter.getStringAttribute(loginIdAttrName));\n    userInfo.setName(contextAdapter.getStringAttribute(userDisplayNameAttrName));\n    userInfo.setEmail(contextAdapter.getStringAttribute(emailAttrName));\n    return userInfo;\n  };\n","realPath":"apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/spi/ldap/LdapUserService.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":43,"status":"NB"},{"authorDate":"2019-02-13 20:03:57","commitOrder":2,"curCode":"  private UserInfo searchUserById(String userId) {\n    return ldapTemplate.searchForObject(query().where(loginIdAttrName).is(userId),\n        ctx -> {\n          UserInfo userInfo = new UserInfo();\n          DirContextAdapter contextAdapter = (DirContextAdapter) ctx;\n          userInfo.setEmail(contextAdapter.getStringAttribute(emailAttrName));\n          userInfo.setName(contextAdapter.getStringAttribute(userDisplayNameAttrName));\n          userInfo.setUserId(contextAdapter.getStringAttribute(loginIdAttrName));\n          return userInfo;\n        });\n  }\n","date":"2019-02-13 20:03:57","endLine":190,"groupId":"661","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"searchUserById","params":"(StringuserId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/ee/0fee57d33f8161af440320b847be7f81dc60b6.src","preCode":"  private UserInfo searchUserById(String userId) {\n    return ldapTemplate.searchForObject(query().where(loginIdAttrName).is(userId),\n        ctx -> {\n          UserInfo userInfo = new UserInfo();\n          DirContextAdapter contextAdapter = (DirContextAdapter) ctx;\n          userInfo.setEmail(contextAdapter.getStringAttribute(emailAttrName));\n          userInfo.setName(contextAdapter.getStringAttribute(userDisplayNameAttrName));\n          userInfo.setUserId(contextAdapter.getStringAttribute(loginIdAttrName));\n          return userInfo;\n        });\n  }\n","realPath":"apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/spi/ldap/LdapUserService.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":180,"status":"B"}],"commitId":"682de9c31093b8f4d51cb9c1d15a509ae3e0bfbc","commitMessage":"@@@??LDAP????. ???????? (#1794)\n\nenhance ldap user service to support filtering users by group\n","date":"2019-02-13 20:03:57","modifiedFileCount":"2","status":"M","submitter":"idefav"},{"authorTime":"2020-12-12 09:52:51","codes":[{"authorDate":"2018-10-30 23:12:30","commitOrder":3,"curCode":"  private ContextMapper<UserInfo> ldapUserInfoMapper = (ctx) -> {\n    DirContextAdapter contextAdapter = (DirContextAdapter) ctx;\n    UserInfo userInfo = new UserInfo();\n    userInfo.setUserId(contextAdapter.getStringAttribute(loginIdAttrName));\n    userInfo.setName(contextAdapter.getStringAttribute(userDisplayNameAttrName));\n    userInfo.setEmail(contextAdapter.getStringAttribute(emailAttrName));\n    return userInfo;\n  };\n","date":"2018-10-30 23:12:30","endLine":50,"groupId":"220","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"ldapUserInfoMapper","params":"(ctx)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/c1/2bae49bf9a3f570127e8930e73d299b24059dd.src","preCode":"  private ContextMapper<UserInfo> ldapUserInfoMapper = (ctx) -> {\n    DirContextAdapter contextAdapter = (DirContextAdapter) ctx;\n    UserInfo userInfo = new UserInfo();\n    userInfo.setUserId(contextAdapter.getStringAttribute(loginIdAttrName));\n    userInfo.setName(contextAdapter.getStringAttribute(userDisplayNameAttrName));\n    userInfo.setEmail(contextAdapter.getStringAttribute(emailAttrName));\n    return userInfo;\n  };\n","realPath":"apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/spi/ldap/LdapUserService.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":43,"status":"N"},{"authorDate":"2020-12-12 09:52:51","commitOrder":3,"curCode":"  private UserInfo searchUserById(String userId) {\n    try {\n      return ldapTemplate.searchForObject(query().where(loginIdAttrName).is(userId),\n          ctx -> {\n            UserInfo userInfo = new UserInfo();\n            DirContextAdapter contextAdapter = (DirContextAdapter) ctx;\n            userInfo.setEmail(contextAdapter.getStringAttribute(emailAttrName));\n            userInfo.setName(contextAdapter.getStringAttribute(userDisplayNameAttrName));\n            userInfo.setUserId(contextAdapter.getStringAttribute(loginIdAttrName));\n            return userInfo;\n          });\n    } catch (EmptyResultDataAccessException ex) {\n      \r\n      return null;\n    }\n  }\n","date":"2020-12-12 11:18:40","endLine":195,"groupId":"661","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"searchUserById","params":"(StringuserId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/8c/a15b3f67f0a1ebb3b1be23c75a591ab521bf09.src","preCode":"  private UserInfo searchUserById(String userId) {\n    return ldapTemplate.searchForObject(query().where(loginIdAttrName).is(userId),\n        ctx -> {\n          UserInfo userInfo = new UserInfo();\n          DirContextAdapter contextAdapter = (DirContextAdapter) ctx;\n          userInfo.setEmail(contextAdapter.getStringAttribute(emailAttrName));\n          userInfo.setName(contextAdapter.getStringAttribute(userDisplayNameAttrName));\n          userInfo.setUserId(contextAdapter.getStringAttribute(loginIdAttrName));\n          return userInfo;\n        });\n  }\n","realPath":"apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/spi/ldap/LdapUserService.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":180,"status":"M"}],"commitId":"03bc4b470b640a219cfb7c991f6b999553560e32","commitMessage":"@@@return null when EmptyResultDataAccessException occurred for ldap scenarios\n","date":"2020-12-12 11:18:40","modifiedFileCount":"1","status":"M","submitter":"Jason Song"},{"authorTime":"2020-12-12 09:52:51","codes":[{"authorDate":"2021-09-11 10:27:34","commitOrder":4,"curCode":"  private final ContextMapper<UserInfo> ldapUserInfoMapper = (ctx) -> {\n    DirContextAdapter contextAdapter = (DirContextAdapter) ctx;\n    UserInfo userInfo = new UserInfo();\n    userInfo.setUserId(contextAdapter.getStringAttribute(loginIdAttrName));\n    userInfo.setName(contextAdapter.getStringAttribute(userDisplayNameAttrName));\n    userInfo.setEmail(contextAdapter.getStringAttribute(emailAttrName));\n    return userInfo;\n  };\n","date":"2021-09-11 10:43:39","endLine":145,"groupId":"10196","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"ldapUserInfoMapper","params":"(ctx)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/d3/bf91f1d45d34b1da000c46b0f0c5b1027f806e.src","preCode":"  private ContextMapper<UserInfo> ldapUserInfoMapper = (ctx) -> {\n    DirContextAdapter contextAdapter = (DirContextAdapter) ctx;\n    UserInfo userInfo = new UserInfo();\n    userInfo.setUserId(contextAdapter.getStringAttribute(loginIdAttrName));\n    userInfo.setName(contextAdapter.getStringAttribute(userDisplayNameAttrName));\n    userInfo.setEmail(contextAdapter.getStringAttribute(emailAttrName));\n    return userInfo;\n  };\n","realPath":"apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/spi/ldap/LdapUserService.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":138,"status":"M"},{"authorDate":"2020-12-12 09:52:51","commitOrder":4,"curCode":"  private UserInfo searchUserById(String userId) {\n    try {\n      return ldapTemplate.searchForObject(query().where(loginIdAttrName).is(userId),\n          ctx -> {\n            UserInfo userInfo = new UserInfo();\n            DirContextAdapter contextAdapter = (DirContextAdapter) ctx;\n            userInfo.setEmail(contextAdapter.getStringAttribute(emailAttrName));\n            userInfo.setName(contextAdapter.getStringAttribute(userDisplayNameAttrName));\n            userInfo.setUserId(contextAdapter.getStringAttribute(loginIdAttrName));\n            return userInfo;\n          });\n    } catch (EmptyResultDataAccessException ex) {\n      \r\n      return null;\n    }\n  }\n","date":"2020-12-12 11:18:40","endLine":195,"groupId":"10196","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"searchUserById","params":"(StringuserId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/8c/a15b3f67f0a1ebb3b1be23c75a591ab521bf09.src","preCode":"  private UserInfo searchUserById(String userId) {\n    try {\n      return ldapTemplate.searchForObject(query().where(loginIdAttrName).is(userId),\n          ctx -> {\n            UserInfo userInfo = new UserInfo();\n            DirContextAdapter contextAdapter = (DirContextAdapter) ctx;\n            userInfo.setEmail(contextAdapter.getStringAttribute(emailAttrName));\n            userInfo.setName(contextAdapter.getStringAttribute(userDisplayNameAttrName));\n            userInfo.setUserId(contextAdapter.getStringAttribute(loginIdAttrName));\n            return userInfo;\n          });\n    } catch (EmptyResultDataAccessException ex) {\n      \r\n      return null;\n    }\n  }\n","realPath":"apollo-portal/src/main/java/com/ctrip/framework/apollo/portal/spi/ldap/LdapUserService.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":180,"status":"N"}],"commitId":"0b5d2277b5f3edf1e38f2c18ce284e88238ff732","commitMessage":"@@@Fixed some code smells in apollo-portal module\n\nSigned-off-by: WillardHu <wei.hu@daocloud.io>\n","date":"2021-09-11 10:43:39","modifiedFileCount":"16","status":"M","submitter":"WillardHu"}]
