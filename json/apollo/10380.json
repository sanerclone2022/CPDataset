[{"authorTime":"2019-02-12 09:35:55","codes":[{"authorDate":"2019-02-12 09:35:55","commitOrder":1,"curCode":"  public void testAutoUpdateWithMultipleNamespacesWithSamePropertiesWithYamlFile() throws Exception {\n    int someTimeout = 1000;\n    int someBatch = 2000;\n    int anotherBatch = 3000;\n    int someNewBatch = 2001;\n\n    YamlConfigFile configFile = prepareYamlConfigFile(\"application.yml\",\n        readYamlContentAsConfigFileProperties(\"case2.yml\"));\n    Properties fxApolloProperties =\n        assembleProperties(TIMEOUT_PROPERTY, String.valueOf(someTimeout), BATCH_PROPERTY, String.valueOf(anotherBatch));\n\n    prepareConfig(FX_APOLLO_NAMESPACE, fxApolloProperties);\n\n    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(AppConfig14.class);\n\n    TestJavaConfigBean bean = context.getBean(TestJavaConfigBean.class);\n\n    assertEquals(someTimeout, bean.getTimeout());\n    assertEquals(someBatch, bean.getBatch());\n\n    configFile.onRepositoryChange(\"application.yml\", readYamlContentAsConfigFileProperties(\"case2-new.yml\"));\n\n    TimeUnit.MILLISECONDS.sleep(100);\n\n    assertEquals(someTimeout, bean.getTimeout());\n    assertEquals(someNewBatch, bean.getBatch());\n  }\n","date":"2019-02-12 09:35:55","endLine":299,"groupId":"812","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testAutoUpdateWithMultipleNamespacesWithSamePropertiesWithYamlFile","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/18/d899c6a19a89ed4a5dde83fbfacf63d4ec1582.src","preCode":"  public void testAutoUpdateWithMultipleNamespacesWithSamePropertiesWithYamlFile() throws Exception {\n    int someTimeout = 1000;\n    int someBatch = 2000;\n    int anotherBatch = 3000;\n    int someNewBatch = 2001;\n\n    YamlConfigFile configFile = prepareYamlConfigFile(\"application.yml\",\n        readYamlContentAsConfigFileProperties(\"case2.yml\"));\n    Properties fxApolloProperties =\n        assembleProperties(TIMEOUT_PROPERTY, String.valueOf(someTimeout), BATCH_PROPERTY, String.valueOf(anotherBatch));\n\n    prepareConfig(FX_APOLLO_NAMESPACE, fxApolloProperties);\n\n    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(AppConfig14.class);\n\n    TestJavaConfigBean bean = context.getBean(TestJavaConfigBean.class);\n\n    assertEquals(someTimeout, bean.getTimeout());\n    assertEquals(someBatch, bean.getBatch());\n\n    configFile.onRepositoryChange(\"application.yml\", readYamlContentAsConfigFileProperties(\"case2-new.yml\"));\n\n    TimeUnit.MILLISECONDS.sleep(100);\n\n    assertEquals(someTimeout, bean.getTimeout());\n    assertEquals(someNewBatch, bean.getBatch());\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/spring/JavaConfigPlaceholderAutoUpdateTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":273,"status":"B"},{"authorDate":"2019-02-12 09:35:55","commitOrder":1,"curCode":"  public void testAutoUpdateWithTypeMismatchWithYamlFile() throws Exception {\n    int initialTimeout = 1000;\n    int initialBatch = 2000;\n    int newTimeout = 1001;\n\n    YamlConfigFile configFile = prepareYamlConfigFile(\"application.yaml\",\n        readYamlContentAsConfigFileProperties(\"case5.yaml\"));\n\n    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(AppConfig12.class);\n\n    TestJavaConfigBean bean = context.getBean(TestJavaConfigBean.class);\n\n    assertEquals(initialTimeout, bean.getTimeout());\n    assertEquals(initialBatch, bean.getBatch());\n\n    configFile.onRepositoryChange(\"application.yaml\", readYamlContentAsConfigFileProperties(\"case5-new.yaml\"));\n\n    TimeUnit.MILLISECONDS.sleep(100);\n\n    assertEquals(newTimeout, bean.getTimeout());\n    assertEquals(initialBatch, bean.getBatch());\n  }\n","date":"2019-02-12 09:35:55","endLine":546,"groupId":"812","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testAutoUpdateWithTypeMismatchWithYamlFile","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/18/d899c6a19a89ed4a5dde83fbfacf63d4ec1582.src","preCode":"  public void testAutoUpdateWithTypeMismatchWithYamlFile() throws Exception {\n    int initialTimeout = 1000;\n    int initialBatch = 2000;\n    int newTimeout = 1001;\n\n    YamlConfigFile configFile = prepareYamlConfigFile(\"application.yaml\",\n        readYamlContentAsConfigFileProperties(\"case5.yaml\"));\n\n    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(AppConfig12.class);\n\n    TestJavaConfigBean bean = context.getBean(TestJavaConfigBean.class);\n\n    assertEquals(initialTimeout, bean.getTimeout());\n    assertEquals(initialBatch, bean.getBatch());\n\n    configFile.onRepositoryChange(\"application.yaml\", readYamlContentAsConfigFileProperties(\"case5-new.yaml\"));\n\n    TimeUnit.MILLISECONDS.sleep(100);\n\n    assertEquals(newTimeout, bean.getTimeout());\n    assertEquals(initialBatch, bean.getBatch());\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/spring/JavaConfigPlaceholderAutoUpdateTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":525,"status":"B"}],"commitId":"bf1b63745875dcdc8b24514ac6e8ba766a620f5e","commitMessage":"@@@Merge pull request #1944 from nobodyiam/yml-support\n\nadd yaml support to apollo-client","date":"2019-02-12 09:35:55","modifiedFileCount":"17","status":"B","submitter":"Jason Song"},{"authorTime":"2019-02-13 11:25:34","codes":[{"authorDate":"2019-02-12 09:35:55","commitOrder":2,"curCode":"  public void testAutoUpdateWithMultipleNamespacesWithSamePropertiesWithYamlFile() throws Exception {\n    int someTimeout = 1000;\n    int someBatch = 2000;\n    int anotherBatch = 3000;\n    int someNewBatch = 2001;\n\n    YamlConfigFile configFile = prepareYamlConfigFile(\"application.yml\",\n        readYamlContentAsConfigFileProperties(\"case2.yml\"));\n    Properties fxApolloProperties =\n        assembleProperties(TIMEOUT_PROPERTY, String.valueOf(someTimeout), BATCH_PROPERTY, String.valueOf(anotherBatch));\n\n    prepareConfig(FX_APOLLO_NAMESPACE, fxApolloProperties);\n\n    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(AppConfig14.class);\n\n    TestJavaConfigBean bean = context.getBean(TestJavaConfigBean.class);\n\n    assertEquals(someTimeout, bean.getTimeout());\n    assertEquals(someBatch, bean.getBatch());\n\n    configFile.onRepositoryChange(\"application.yml\", readYamlContentAsConfigFileProperties(\"case2-new.yml\"));\n\n    TimeUnit.MILLISECONDS.sleep(100);\n\n    assertEquals(someTimeout, bean.getTimeout());\n    assertEquals(someNewBatch, bean.getBatch());\n  }\n","date":"2019-02-12 09:35:55","endLine":299,"groupId":"10380","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testAutoUpdateWithMultipleNamespacesWithSamePropertiesWithYamlFile","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/18/d899c6a19a89ed4a5dde83fbfacf63d4ec1582.src","preCode":"  public void testAutoUpdateWithMultipleNamespacesWithSamePropertiesWithYamlFile() throws Exception {\n    int someTimeout = 1000;\n    int someBatch = 2000;\n    int anotherBatch = 3000;\n    int someNewBatch = 2001;\n\n    YamlConfigFile configFile = prepareYamlConfigFile(\"application.yml\",\n        readYamlContentAsConfigFileProperties(\"case2.yml\"));\n    Properties fxApolloProperties =\n        assembleProperties(TIMEOUT_PROPERTY, String.valueOf(someTimeout), BATCH_PROPERTY, String.valueOf(anotherBatch));\n\n    prepareConfig(FX_APOLLO_NAMESPACE, fxApolloProperties);\n\n    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(AppConfig14.class);\n\n    TestJavaConfigBean bean = context.getBean(TestJavaConfigBean.class);\n\n    assertEquals(someTimeout, bean.getTimeout());\n    assertEquals(someBatch, bean.getBatch());\n\n    configFile.onRepositoryChange(\"application.yml\", readYamlContentAsConfigFileProperties(\"case2-new.yml\"));\n\n    TimeUnit.MILLISECONDS.sleep(100);\n\n    assertEquals(someTimeout, bean.getTimeout());\n    assertEquals(someNewBatch, bean.getBatch());\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/spring/JavaConfigPlaceholderAutoUpdateTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":273,"status":"N"},{"authorDate":"2019-02-13 11:25:34","commitOrder":2,"curCode":"  public void testAutoUpdateWithTypeMismatchWithYamlFile() throws Exception {\n    int initialTimeout = 1000;\n    int initialBatch = 2000;\n    int newTimeout = 1001;\n\n    YamlConfigFile configFile = prepareYamlConfigFile(\"application.yaml\",\n        readYamlContentAsConfigFileProperties(\"case5.yaml\"));\n\n    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(AppConfig12.class);\n\n    TestJavaConfigBean bean = context.getBean(TestJavaConfigBean.class);\n\n    assertEquals(initialTimeout, bean.getTimeout());\n    assertEquals(initialBatch, bean.getBatch());\n\n    configFile.onRepositoryChange(\"application.yaml\", readYamlContentAsConfigFileProperties(\"case5-new.yaml\"));\n\n    TimeUnit.MILLISECONDS.sleep(300);\n\n    assertEquals(newTimeout, bean.getTimeout());\n    assertEquals(initialBatch, bean.getBatch());\n  }\n","date":"2019-02-13 12:08:43","endLine":546,"groupId":"10380","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testAutoUpdateWithTypeMismatchWithYamlFile","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/8b/dfb02a715cd7ab671c5c46b71ff3179e4cd08c.src","preCode":"  public void testAutoUpdateWithTypeMismatchWithYamlFile() throws Exception {\n    int initialTimeout = 1000;\n    int initialBatch = 2000;\n    int newTimeout = 1001;\n\n    YamlConfigFile configFile = prepareYamlConfigFile(\"application.yaml\",\n        readYamlContentAsConfigFileProperties(\"case5.yaml\"));\n\n    AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(AppConfig12.class);\n\n    TestJavaConfigBean bean = context.getBean(TestJavaConfigBean.class);\n\n    assertEquals(initialTimeout, bean.getTimeout());\n    assertEquals(initialBatch, bean.getBatch());\n\n    configFile.onRepositoryChange(\"application.yaml\", readYamlContentAsConfigFileProperties(\"case5-new.yaml\"));\n\n    TimeUnit.MILLISECONDS.sleep(100);\n\n    assertEquals(newTimeout, bean.getTimeout());\n    assertEquals(initialBatch, bean.getBatch());\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/spring/JavaConfigPlaceholderAutoUpdateTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":525,"status":"M"}],"commitId":"41450a5136968f3eb05c4950078cf315a2d30baf","commitMessage":"@@@adjust wait timeout for tests which might be slower than others\n","date":"2019-02-13 12:08:43","modifiedFileCount":"2","status":"M","submitter":"Jason Song"}]
