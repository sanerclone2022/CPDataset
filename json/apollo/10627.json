[{"authorTime":"2016-11-22 15:47:36","codes":[{"authorDate":"2016-08-31 16:54:07","commitOrder":2,"curCode":"  public Page<Instance> findInstancesByNamespace(String appId, String clusterName, String\n      namespaceName, Pageable pageable) {\n    Page<InstanceConfig> instanceConfigs = instanceConfigRepository.\n        findByConfigAppIdAndConfigClusterNameAndConfigNamespaceNameAndDataChangeLastModifiedTimeAfter(appId, clusterName,\n            namespaceName, getValidInstanceConfigDate(), pageable);\n\n    List<Instance> instances = Collections.emptyList();\n    if (instanceConfigs.hasContent()) {\n      Set<Long> instanceIds = instanceConfigs.getContent().stream().map\n          (InstanceConfig::getInstanceId).collect(Collectors.toSet());\n      instances = findInstancesByIds(instanceIds);\n    }\n\n    return new PageImpl<>(instances, pageable, instanceConfigs.getTotalElements());\n  }\n","date":"2016-08-31 16:54:07","endLine":86,"groupId":"164","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"findInstancesByNamespace","params":"(StringappId@StringclusterName@StringnamespaceName@Pageablepageable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/63/d96751b2f8011de03b789865663743a8797760.src","preCode":"  public Page<Instance> findInstancesByNamespace(String appId, String clusterName, String\n      namespaceName, Pageable pageable) {\n    Page<InstanceConfig> instanceConfigs = instanceConfigRepository.\n        findByConfigAppIdAndConfigClusterNameAndConfigNamespaceNameAndDataChangeLastModifiedTimeAfter(appId, clusterName,\n            namespaceName, getValidInstanceConfigDate(), pageable);\n\n    List<Instance> instances = Collections.emptyList();\n    if (instanceConfigs.hasContent()) {\n      Set<Long> instanceIds = instanceConfigs.getContent().stream().map\n          (InstanceConfig::getInstanceId).collect(Collectors.toSet());\n      instances = findInstancesByIds(instanceIds);\n    }\n\n    return new PageImpl<>(instances, pageable, instanceConfigs.getTotalElements());\n  }\n","realPath":"apollo-biz/src/main/java/com/ctrip/framework/apollo/biz/service/InstanceService.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":72,"status":"NB"},{"authorDate":"2016-11-22 15:47:36","commitOrder":2,"curCode":"  public Page<Instance> findInstancesByNamespaceAndInstanceAppId(String instanceAppId, String\n      appId, String clusterName, String\n                                                                     namespaceName, Pageable\n                                                                     pageable) {\n    Page<Object[]> instanceIdResult = instanceConfigRepository\n        .findInstanceIdsByNamespaceAndInstanceAppId(instanceAppId, appId, clusterName,\n            namespaceName, getValidInstanceConfigDate(), pageable);\n\n    List<Instance> instances = Collections.emptyList();\n    if (instanceIdResult.hasContent()) {\n      Set<Long> instanceIds = instanceIdResult.getContent().stream().map((Object o) -> {\n        if (o == null) {\n          return null;\n        }\n\n        if (o instanceof Integer) {\n          return ((Integer)o).longValue();\n        }\n\n        if (o instanceof Long) {\n          return (Long) o;\n        }\n\n        \r\n        if (o instanceof BigInteger) {\n          return ((BigInteger) o).longValue();\n        }\n\n        return null;\n      }).filter((Long value) -> value != null).collect(Collectors.toSet());\n      instances = findInstancesByIds(instanceIds);\n    }\n\n    return new PageImpl<>(instances, pageable, instanceIdResult.getTotalElements());\n  }\n","date":"2016-11-22 15:47:36","endLine":124,"groupId":"297","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"findInstancesByNamespaceAndInstanceAppId","params":"(StringinstanceAppId@StringappId@StringclusterName@StringnamespaceName@Pageablepageable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/67/04088c35d15c62175d8079e0f5fa012f30c09b.src","preCode":"  public Page<Instance> findInstancesByNamespaceAndInstanceAppId(String instanceAppId, String\n      appId, String clusterName, String\n                                                                     namespaceName, Pageable\n                                                                     pageable) {\n    Page<Object[]> instanceIdResult = instanceConfigRepository\n        .findInstanceIdsByNamespaceAndInstanceAppId(instanceAppId, appId, clusterName,\n            namespaceName, getValidInstanceConfigDate(), pageable);\n\n    List<Instance> instances = Collections.emptyList();\n    if (instanceIdResult.hasContent()) {\n      Set<Long> instanceIds = instanceIdResult.getContent().stream().map((Object o) -> {\n        if (o == null) {\n          return null;\n        }\n\n        if (o instanceof Integer) {\n          return ((Integer)o).longValue();\n        }\n\n        if (o instanceof Long) {\n          return (Long) o;\n        }\n\n        \r\n        if (o instanceof BigInteger) {\n          return ((BigInteger) o).longValue();\n        }\n\n        return null;\n      }).filter((Long value) -> value != null).collect(Collectors.toSet());\n      instances = findInstancesByIds(instanceIds);\n    }\n\n    return new PageImpl<>(instances, pageable, instanceIdResult.getTotalElements());\n  }\n","realPath":"apollo-biz/src/main/java/com/ctrip/framework/apollo/biz/service/InstanceService.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":90,"status":"B"}],"commitId":"6d7ebbe8491f5a920f20f84867e9114c3fbd17ae","commitMessage":"@@@Merge branch 'master' into 'release'\n\nMaster2Release\n\n\n\nSee merge request !32","date":"2016-11-22 15:47:36","modifiedFileCount":"58","status":"M","submitter":"zl??(IT)"},{"authorTime":"2019-01-20 21:16:43","codes":[{"authorDate":"2016-08-31 16:54:07","commitOrder":3,"curCode":"  public Page<Instance> findInstancesByNamespace(String appId, String clusterName, String\n      namespaceName, Pageable pageable) {\n    Page<InstanceConfig> instanceConfigs = instanceConfigRepository.\n        findByConfigAppIdAndConfigClusterNameAndConfigNamespaceNameAndDataChangeLastModifiedTimeAfter(appId, clusterName,\n            namespaceName, getValidInstanceConfigDate(), pageable);\n\n    List<Instance> instances = Collections.emptyList();\n    if (instanceConfigs.hasContent()) {\n      Set<Long> instanceIds = instanceConfigs.getContent().stream().map\n          (InstanceConfig::getInstanceId).collect(Collectors.toSet());\n      instances = findInstancesByIds(instanceIds);\n    }\n\n    return new PageImpl<>(instances, pageable, instanceConfigs.getTotalElements());\n  }\n","date":"2016-08-31 16:54:07","endLine":86,"groupId":"10627","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"findInstancesByNamespace","params":"(StringappId@StringclusterName@StringnamespaceName@Pageablepageable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/63/d96751b2f8011de03b789865663743a8797760.src","preCode":"  public Page<Instance> findInstancesByNamespace(String appId, String clusterName, String\n      namespaceName, Pageable pageable) {\n    Page<InstanceConfig> instanceConfigs = instanceConfigRepository.\n        findByConfigAppIdAndConfigClusterNameAndConfigNamespaceNameAndDataChangeLastModifiedTimeAfter(appId, clusterName,\n            namespaceName, getValidInstanceConfigDate(), pageable);\n\n    List<Instance> instances = Collections.emptyList();\n    if (instanceConfigs.hasContent()) {\n      Set<Long> instanceIds = instanceConfigs.getContent().stream().map\n          (InstanceConfig::getInstanceId).collect(Collectors.toSet());\n      instances = findInstancesByIds(instanceIds);\n    }\n\n    return new PageImpl<>(instances, pageable, instanceConfigs.getTotalElements());\n  }\n","realPath":"apollo-biz/src/main/java/com/ctrip/framework/apollo/biz/service/InstanceService.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":72,"status":"N"},{"authorDate":"2019-01-20 21:16:43","commitOrder":3,"curCode":"  public Page<Instance> findInstancesByNamespaceAndInstanceAppId(String instanceAppId, String\n      appId, String clusterName, String\n                                                                     namespaceName, Pageable\n                                                                     pageable) {\n    Page<Object> instanceIdResult = instanceConfigRepository\n        .findInstanceIdsByNamespaceAndInstanceAppId(instanceAppId, appId, clusterName,\n            namespaceName, getValidInstanceConfigDate(), pageable);\n\n    List<Instance> instances = Collections.emptyList();\n    if (instanceIdResult.hasContent()) {\n      Set<Long> instanceIds = instanceIdResult.getContent().stream().map((Object o) -> {\n        if (o == null) {\n          return null;\n        }\n\n        if (o instanceof Integer) {\n          return ((Integer)o).longValue();\n        }\n\n        if (o instanceof Long) {\n          return (Long) o;\n        }\n\n        \r\n        if (o instanceof BigInteger) {\n          return ((BigInteger) o).longValue();\n        }\n\n        return null;\n      }).filter(Objects::nonNull).collect(Collectors.toSet());\n      instances = findInstancesByIds(instanceIds);\n    }\n\n    return new PageImpl<>(instances, pageable, instanceIdResult.getTotalElements());\n  }\n","date":"2019-01-20 21:16:43","endLine":125,"groupId":"10627","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"findInstancesByNamespaceAndInstanceAppId","params":"(StringinstanceAppId@StringappId@StringclusterName@StringnamespaceName@Pageablepageable)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/90/024f57bd730888b6920159dc371a29e6c12ad5.src","preCode":"  public Page<Instance> findInstancesByNamespaceAndInstanceAppId(String instanceAppId, String\n      appId, String clusterName, String\n                                                                     namespaceName, Pageable\n                                                                     pageable) {\n    Page<Object[]> instanceIdResult = instanceConfigRepository\n        .findInstanceIdsByNamespaceAndInstanceAppId(instanceAppId, appId, clusterName,\n            namespaceName, getValidInstanceConfigDate(), pageable);\n\n    List<Instance> instances = Collections.emptyList();\n    if (instanceIdResult.hasContent()) {\n      Set<Long> instanceIds = instanceIdResult.getContent().stream().map((Object o) -> {\n        if (o == null) {\n          return null;\n        }\n\n        if (o instanceof Integer) {\n          return ((Integer)o).longValue();\n        }\n\n        if (o instanceof Long) {\n          return (Long) o;\n        }\n\n        \r\n        if (o instanceof BigInteger) {\n          return ((BigInteger) o).longValue();\n        }\n\n        return null;\n      }).filter((Long value) -> value != null).collect(Collectors.toSet());\n      instances = findInstancesByIds(instanceIds);\n    }\n\n    return new PageImpl<>(instances, pageable, instanceIdResult.getTotalElements());\n  }\n","realPath":"apollo-biz/src/main/java/com/ctrip/framework/apollo/biz/service/InstanceService.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":91,"status":"M"}],"commitId":"db54e5082bcd9da4b252b98d143f431f38a6f292","commitMessage":"@@@fixes #1880 pagination not work (#1891)\n\nfixes #1880 pagination not work\n","date":"2019-01-20 21:16:43","modifiedFileCount":"2","status":"M","submitter":"kezhenxu94"}]
