[{"authorTime":"2019-12-30 15:20:26","codes":[{"authorDate":"2018-09-16 11:00:16","commitOrder":4,"curCode":"  public void testLoadConfig() throws Exception {\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","date":"2018-09-16 11:00:16","endLine":111,"groupId":"846","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testLoadConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/23/e6c9be4890e3af8adf665f40929e22dc7fa998.src","preCode":"  public void testLoadConfig() throws Exception {\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/RemoteConfigRepositoryTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":94,"status":"NB"},{"authorDate":"2019-12-30 15:20:26","commitOrder":4,"curCode":"  public void testLoadConfigWithAccessKeySecret() throws Exception {\n    someSecret = \"someSecret\";\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n    doAnswer(new Answer<HttpResponse<ApolloConfig>>() {\n      @Override\n      public HttpResponse<ApolloConfig> answer(InvocationOnMock invocation) throws Throwable {\n        HttpRequest request = invocation.getArgumentAt(0, HttpRequest.class);\n        Map<String, String> headers = request.getHeaders();\n        assertNotNull(headers);\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_TIMESTAMP));\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_AUTHORIZATION));\n\n        return someResponse;\n      }\n    }).when(httpUtil).doGet(any(HttpRequest.class), any(Class.class));\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","date":"2020-01-01 20:05:48","endLine":150,"groupId":"833","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testLoadConfigWithAccessKeySecret","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/0f/a0c1e375a300e2ba3ad2408b249df6ce90ad0f.src","preCode":"  public void testLoadConfigWithAccessKeySecret() throws Exception {\n    someSecret = \"someSecret\";\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n    doAnswer(new Answer<HttpResponse<ApolloConfig>>() {\n      @Override\n      public HttpResponse<ApolloConfig> answer(InvocationOnMock invocation) throws Throwable {\n        HttpRequest request = invocation.getArgumentAt(0, HttpRequest.class);\n        Map<String, String> headers = request.getHeaders();\n        assertNotNull(headers);\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_TIMESTAMP));\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_AUTHORIZATION));\n\n        return someResponse;\n      }\n    }).when(httpUtil).doGet(any(HttpRequest.class), any(Class.class));\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/RemoteConfigRepositoryTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":120,"status":"B"}],"commitId":"32aac0bd066a0f9a38253646ad2a195ca7d2ff35","commitMessage":"@@@Add apollo-client Authentication function\n\n\n","date":"2020-01-01 20:05:48","modifiedFileCount":"16","status":"M","submitter":"nisiyong"},{"authorTime":"2019-12-30 15:20:26","codes":[{"authorDate":"2020-01-21 09:08:45","commitOrder":5,"curCode":"  public void testLoadConfig() throws Exception {\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newLinkedHashMap();\n    configurations.put(someKey, someValue);\n    configurations.put(\"someKey2\", \"someValue2\");\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n\r\n    assertTrue(configurations.equals(config));\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n\n    if (configUtil.isPropertiesOrderEnabled()) {\n      String[] actualArrays = config.keySet().toArray(new String[]{});\n      String[] expectedArrays = {\"someKey\", \"someKey2\"};\n      assertArrayEquals(expectedArrays, actualArrays);\n    }\n  }\n","date":"2020-01-21 09:08:45","endLine":140,"groupId":"1438","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testLoadConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/ee/1fb018458b6d17d24101a37f9159db68828a5b.src","preCode":"  public void testLoadConfig() throws Exception {\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/RemoteConfigRepositoryTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":115,"status":"M"},{"authorDate":"2019-12-30 15:20:26","commitOrder":5,"curCode":"  public void testLoadConfigWithAccessKeySecret() throws Exception {\n    someSecret = \"someSecret\";\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n    doAnswer(new Answer<HttpResponse<ApolloConfig>>() {\n      @Override\n      public HttpResponse<ApolloConfig> answer(InvocationOnMock invocation) throws Throwable {\n        HttpRequest request = invocation.getArgumentAt(0, HttpRequest.class);\n        Map<String, String> headers = request.getHeaders();\n        assertNotNull(headers);\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_TIMESTAMP));\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_AUTHORIZATION));\n\n        return someResponse;\n      }\n    }).when(httpUtil).doGet(any(HttpRequest.class), any(Class.class));\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","date":"2020-01-01 20:05:48","endLine":150,"groupId":"833","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testLoadConfigWithAccessKeySecret","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/0f/a0c1e375a300e2ba3ad2408b249df6ce90ad0f.src","preCode":"  public void testLoadConfigWithAccessKeySecret() throws Exception {\n    someSecret = \"someSecret\";\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n    doAnswer(new Answer<HttpResponse<ApolloConfig>>() {\n      @Override\n      public HttpResponse<ApolloConfig> answer(InvocationOnMock invocation) throws Throwable {\n        HttpRequest request = invocation.getArgumentAt(0, HttpRequest.class);\n        Map<String, String> headers = request.getHeaders();\n        assertNotNull(headers);\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_TIMESTAMP));\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_AUTHORIZATION));\n\n        return someResponse;\n      }\n    }).when(httpUtil).doGet(any(HttpRequest.class), any(Class.class));\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/RemoteConfigRepositoryTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":120,"status":"N"}],"commitId":"82790e5f4a38ed4c2534545686b641f224f0887a","commitMessage":"@@@Add OrderedProperties to keep the property order in apollo-client\n\n","date":"2020-01-21 09:08:45","modifiedFileCount":"22","status":"M","submitter":"songdragon"},{"authorTime":"2019-12-30 15:20:26","codes":[{"authorDate":"2020-01-21 08:22:12","commitOrder":6,"curCode":"  public void testLoadConfig() throws Exception {\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","date":"2020-01-21 20:16:07","endLine":131,"groupId":"846","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testLoadConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/94/e9e4bea9e4e2457134334077aeec47f3c5ee62.src","preCode":"  public void testLoadConfig() throws Exception {\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newLinkedHashMap();\n    configurations.put(someKey, someValue);\n    configurations.put(\"someKey2\", \"someValue2\");\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n\r\n    assertTrue(configurations.equals(config));\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n\n    if (configUtil.isPropertiesOrderEnabled()) {\n      String[] actualArrays = config.keySet().toArray(new String[]{});\n      String[] expectedArrays = {\"someKey\", \"someKey2\"};\n      assertArrayEquals(expectedArrays, actualArrays);\n    }\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/RemoteConfigRepositoryTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":114,"status":"M"},{"authorDate":"2019-12-30 15:20:26","commitOrder":6,"curCode":"  public void testLoadConfigWithAccessKeySecret() throws Exception {\n    someSecret = \"someSecret\";\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n    doAnswer(new Answer<HttpResponse<ApolloConfig>>() {\n      @Override\n      public HttpResponse<ApolloConfig> answer(InvocationOnMock invocation) throws Throwable {\n        HttpRequest request = invocation.getArgumentAt(0, HttpRequest.class);\n        Map<String, String> headers = request.getHeaders();\n        assertNotNull(headers);\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_TIMESTAMP));\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_AUTHORIZATION));\n\n        return someResponse;\n      }\n    }).when(httpUtil).doGet(any(HttpRequest.class), any(Class.class));\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","date":"2020-01-01 20:05:48","endLine":150,"groupId":"833","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testLoadConfigWithAccessKeySecret","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/0f/a0c1e375a300e2ba3ad2408b249df6ce90ad0f.src","preCode":"  public void testLoadConfigWithAccessKeySecret() throws Exception {\n    someSecret = \"someSecret\";\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n    doAnswer(new Answer<HttpResponse<ApolloConfig>>() {\n      @Override\n      public HttpResponse<ApolloConfig> answer(InvocationOnMock invocation) throws Throwable {\n        HttpRequest request = invocation.getArgumentAt(0, HttpRequest.class);\n        Map<String, String> headers = request.getHeaders();\n        assertNotNull(headers);\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_TIMESTAMP));\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_AUTHORIZATION));\n\n        return someResponse;\n      }\n    }).when(httpUtil).doGet(any(HttpRequest.class), any(Class.class));\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/RemoteConfigRepositoryTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":120,"status":"N"}],"commitId":"5fe54966f5f50e5f5e1c3b2e0f0d82b1d92f014d","commitMessage":"@@@use linked hash map to keep server side config order and do some refactoring to apollo-client\n","date":"2020-01-21 20:16:07","modifiedFileCount":"18","status":"M","submitter":"Jason Song"},{"authorTime":"2020-08-08 13:30:07","codes":[{"authorDate":"2020-01-21 08:22:12","commitOrder":7,"curCode":"  public void testLoadConfig() throws Exception {\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","date":"2020-01-21 20:16:07","endLine":131,"groupId":"846","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testLoadConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/94/e9e4bea9e4e2457134334077aeec47f3c5ee62.src","preCode":"  public void testLoadConfig() throws Exception {\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/RemoteConfigRepositoryTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":114,"status":"N"},{"authorDate":"2020-08-08 13:30:07","commitOrder":7,"curCode":"  public void testLoadConfigWithAccessKeySecret() throws Exception {\n    someSecret = \"someSecret\";\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n    doAnswer(new Answer<HttpResponse<ApolloConfig>>() {\n      @Override\n      public HttpResponse<ApolloConfig> answer(InvocationOnMock invocation) throws Throwable {\n        HttpRequest request = invocation.getArgumentAt(0, HttpRequest.class);\n        Map<String, String> headers = request.getHeaders();\n        assertNotNull(headers);\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_TIMESTAMP));\n        assertTrue(headers.containsKey(HttpHeaders.AUTHORIZATION));\n\n        return someResponse;\n      }\n    }).when(httpUtil).doGet(any(HttpRequest.class), any(Class.class));\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","date":"2020-08-16 20:59:48","endLine":203,"groupId":"846","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testLoadConfigWithAccessKeySecret","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/49/c658da9586e1beaa1c65db187b8541a829c453.src","preCode":"  public void testLoadConfigWithAccessKeySecret() throws Exception {\n    someSecret = \"someSecret\";\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n    doAnswer(new Answer<HttpResponse<ApolloConfig>>() {\n      @Override\n      public HttpResponse<ApolloConfig> answer(InvocationOnMock invocation) throws Throwable {\n        HttpRequest request = invocation.getArgumentAt(0, HttpRequest.class);\n        Map<String, String> headers = request.getHeaders();\n        assertNotNull(headers);\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_TIMESTAMP));\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_AUTHORIZATION));\n\n        return someResponse;\n      }\n    }).when(httpUtil).doGet(any(HttpRequest.class), any(Class.class));\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/RemoteConfigRepositoryTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":173,"status":"M"}],"commitId":"6ff6ddd47f9be87ad77a6a169cc46996cc5d89dd","commitMessage":"@@@add access control support for admin service\n","date":"2020-08-16 20:59:48","modifiedFileCount":"13","status":"M","submitter":"Jason Song"},{"authorTime":"2021-03-16 08:20:13","codes":[{"authorDate":"2020-01-21 08:22:12","commitOrder":8,"curCode":"  public void testLoadConfig() throws Exception {\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","date":"2020-01-21 20:16:07","endLine":131,"groupId":"10241","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"testLoadConfig","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/94/e9e4bea9e4e2457134334077aeec47f3c5ee62.src","preCode":"  public void testLoadConfig() throws Exception {\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/RemoteConfigRepositoryTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":114,"status":"N"},{"authorDate":"2021-03-16 08:20:13","commitOrder":8,"curCode":"  public void testLoadConfigWithAccessKeySecret() throws Exception {\n    someSecret = \"someSecret\";\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n    doAnswer(new Answer<HttpResponse<ApolloConfig>>() {\n      @Override\n      public HttpResponse<ApolloConfig> answer(InvocationOnMock invocation) throws Throwable {\n        HttpRequest request = invocation.getArgumentAt(0, HttpRequest.class);\n        Map<String, String> headers = request.getHeaders();\n        assertNotNull(headers);\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_TIMESTAMP));\n        assertTrue(headers.containsKey(HttpHeaders.AUTHORIZATION));\n\n        return someResponse;\n      }\n    }).when(httpClient).doGet(any(HttpRequest.class), any(Class.class));\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","date":"2021-03-16 08:20:13","endLine":203,"groupId":"10241","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"testLoadConfigWithAccessKeySecret","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/2e/46cb4c8710a040e2e38d76872b4170a6fdc4c0.src","preCode":"  public void testLoadConfigWithAccessKeySecret() throws Exception {\n    someSecret = \"someSecret\";\n    String someKey = \"someKey\";\n    String someValue = \"someValue\";\n    Map<String, String> configurations = Maps.newHashMap();\n    configurations.put(someKey, someValue);\n    ApolloConfig someApolloConfig = assembleApolloConfig(configurations);\n\n    when(someResponse.getStatusCode()).thenReturn(200);\n    when(someResponse.getBody()).thenReturn(someApolloConfig);\n    doAnswer(new Answer<HttpResponse<ApolloConfig>>() {\n      @Override\n      public HttpResponse<ApolloConfig> answer(InvocationOnMock invocation) throws Throwable {\n        HttpRequest request = invocation.getArgumentAt(0, HttpRequest.class);\n        Map<String, String> headers = request.getHeaders();\n        assertNotNull(headers);\n        assertTrue(headers.containsKey(Signature.HTTP_HEADER_TIMESTAMP));\n        assertTrue(headers.containsKey(HttpHeaders.AUTHORIZATION));\n\n        return someResponse;\n      }\n    }).when(httpUtil).doGet(any(HttpRequest.class), any(Class.class));\n\n    RemoteConfigRepository remoteConfigRepository = new RemoteConfigRepository(someNamespace);\n\n    Properties config = remoteConfigRepository.getConfig();\n\n    assertEquals(configurations, config);\n    assertEquals(ConfigSourceType.REMOTE, remoteConfigRepository.getSourceType());\n    remoteConfigLongPollService.stopLongPollingRefresh();\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/RemoteConfigRepositoryTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":173,"status":"M"}],"commitId":"9f3d315e7e115220f6bbb836a1a8cfb4f4619d2f","commitMessage":"@@@replace http client implementation with interface (#3594)\n\n","date":"2021-03-16 08:20:13","modifiedFileCount":"7","status":"M","submitter":"vdisk-group"}]
