[{"authorTime":"2020-01-21 08:22:12","codes":[{"authorDate":"2020-01-21 08:22:12","commitOrder":8,"curCode":"  public void setUp() throws Exception {\n    someNamespace = \"someName\";\n\n    when(pollResponse.getStatusCode()).thenReturn(HttpServletResponse.SC_NOT_MODIFIED);\n\n    MockInjector.reset();\n    configUtil = new MockConfigUtil();\n    MockInjector.setInstance(ConfigUtil.class, configUtil);\n\n    someServerUrl = \"http://someServer\";\n\n    ServiceDTO serviceDTO = mock(ServiceDTO.class);\n\n    when(serviceDTO.getHomepageUrl()).thenReturn(someServerUrl);\n    when(configServiceLocator.getConfigServices()).thenReturn(Lists.newArrayList(serviceDTO));\n    MockInjector.setInstance(ConfigServiceLocator.class, configServiceLocator);\n\n    httpUtil = spy(new MockHttpUtil());\n    MockInjector.setInstance(HttpUtil.class, httpUtil);\n\n    remoteConfigLongPollService = new RemoteConfigLongPollService();\n\n    MockInjector.setInstance(RemoteConfigLongPollService.class, remoteConfigLongPollService);\n\n    when(propertiesFactory.getPropertiesInstance()).thenAnswer(new Answer<Properties>() {\n      @Override\n      public Properties answer(InvocationOnMock invocation) {\n        return new Properties();\n      }\n    });\n    MockInjector.setInstance(PropertiesFactory.class, propertiesFactory);\n\n    someAppId = \"someAppId\";\n    someCluster = \"someCluster\";\n  }\n","date":"2020-01-21 20:16:07","endLine":111,"groupId":"588","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/94/e9e4bea9e4e2457134334077aeec47f3c5ee62.src","preCode":"  public void setUp() throws Exception {\n    someNamespace = \"someName\";\n\n    when(pollResponse.getStatusCode()).thenReturn(HttpServletResponse.SC_NOT_MODIFIED);\n\n    MockInjector.reset();\n    configUtil = new MockConfigUtil();\n    MockInjector.setInstance(ConfigUtil.class, configUtil);\n\n    someServerUrl = \"http://someServer\";\n\n    ServiceDTO serviceDTO = mock(ServiceDTO.class);\n\n    when(serviceDTO.getHomepageUrl()).thenReturn(someServerUrl);\n    when(configServiceLocator.getConfigServices()).thenReturn(Lists.newArrayList(serviceDTO));\n    MockInjector.setInstance(ConfigServiceLocator.class, configServiceLocator);\n\n    httpUtil = spy(new MockHttpUtil());\n    MockInjector.setInstance(HttpUtil.class, httpUtil);\n\n    remoteConfigLongPollService = new RemoteConfigLongPollService();\n\n    MockInjector.setInstance(RemoteConfigLongPollService.class, remoteConfigLongPollService);\n\n    when(propertiesFactory.getPropertiesInstance()).thenAnswer(new Answer<Properties>() {\n      @Override\n      public Properties answer(InvocationOnMock invocation) {\n        return new Properties();\n      }\n    });\n    MockInjector.setInstance(PropertiesFactory.class, propertiesFactory);\n\n    someAppId = \"someAppId\";\n    someCluster = \"someCluster\";\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/RemoteConfigRepositoryTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":77,"status":"MB"},{"authorDate":"2020-01-21 08:22:12","commitOrder":8,"curCode":"  public void testGetPropertyNamesWithOrderedProperties() {\n    String someKeyPrefix = \"someKey\";\n    String someValuePrefix = \"someValue\";\n\n    when(propertiesFactory.getPropertiesInstance()).thenAnswer(new Answer<Properties>() {\n      @Override\n      public Properties answer(InvocationOnMock invocation) {\n        return new OrderedProperties();\n      }\n    });\n    \r\n    someProperties = new OrderedProperties();\n    for (int i = 0; i < 10; i++) {\n      someProperties.setProperty(someKeyPrefix + i, someValuePrefix + i);\n    }\n\n    when(configRepository.getConfig()).thenReturn(someProperties);\n\n    DefaultConfig defaultConfig = new DefaultConfig(someNamespace, configRepository);\n\n    Set<String> propertyNames = defaultConfig.getPropertyNames();\n\n    assertEquals(10, propertyNames.size());\n    assertEquals(someProperties.stringPropertyNames(), propertyNames);\n  }\n","date":"2020-01-21 20:16:07","endLine":839,"groupId":"588","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testGetPropertyNamesWithOrderedProperties","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/c6/293e1e4b4e7fb800258f888005fcda1f54fd13.src","preCode":"  public void testGetPropertyNamesWithOrderedProperties() {\n    String someKeyPrefix = \"someKey\";\n    String someValuePrefix = \"someValue\";\n\n    when(propertiesFactory.getPropertiesInstance()).thenAnswer(new Answer<Properties>() {\n      @Override\n      public Properties answer(InvocationOnMock invocation) {\n        return new OrderedProperties();\n      }\n    });\n    \r\n    someProperties = new OrderedProperties();\n    for (int i = 0; i < 10; i++) {\n      someProperties.setProperty(someKeyPrefix + i, someValuePrefix + i);\n    }\n\n    when(configRepository.getConfig()).thenReturn(someProperties);\n\n    DefaultConfig defaultConfig = new DefaultConfig(someNamespace, configRepository);\n\n    Set<String> propertyNames = defaultConfig.getPropertyNames();\n\n    assertEquals(10, propertyNames.size());\n    assertEquals(someProperties.stringPropertyNames(), propertyNames);\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/DefaultConfigTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":815,"status":"B"}],"commitId":"5fe54966f5f50e5f5e1c3b2e0f0d82b1d92f014d","commitMessage":"@@@use linked hash map to keep server side config order and do some refactoring to apollo-client\n","date":"2020-01-21 20:16:07","modifiedFileCount":"18","status":"M","submitter":"Jason Song"},{"authorTime":"2020-01-21 08:22:12","codes":[{"authorDate":"2020-06-21 12:42:33","commitOrder":9,"curCode":"  public void setUp() throws Exception {\n    someNamespace = \"someName\";\n\n    when(pollResponse.getStatusCode()).thenReturn(HttpServletResponse.SC_NOT_MODIFIED);\n\n    configUtil = new MockConfigUtil();\n    MockInjector.setInstance(ConfigUtil.class, configUtil);\n\n    someServerUrl = \"http://someServer\";\n\n    ServiceDTO serviceDTO = mock(ServiceDTO.class);\n\n    when(serviceDTO.getHomepageUrl()).thenReturn(someServerUrl);\n    when(configServiceLocator.getConfigServices()).thenReturn(Lists.newArrayList(serviceDTO));\n    MockInjector.setInstance(ConfigServiceLocator.class, configServiceLocator);\n\n    httpUtil = spy(new MockHttpUtil());\n    MockInjector.setInstance(HttpUtil.class, httpUtil);\n\n    remoteConfigLongPollService = new RemoteConfigLongPollService();\n\n    MockInjector.setInstance(RemoteConfigLongPollService.class, remoteConfigLongPollService);\n\n    when(propertiesFactory.getPropertiesInstance()).thenAnswer(new Answer<Properties>() {\n      @Override\n      public Properties answer(InvocationOnMock invocation) {\n        return new Properties();\n      }\n    });\n    MockInjector.setInstance(PropertiesFactory.class, propertiesFactory);\n\n    someAppId = \"someAppId\";\n    someCluster = \"someCluster\";\n  }\n","date":"2020-06-21 14:13:02","endLine":112,"groupId":"588","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/da/f0ccaca593329d0af36fe0ddd3a7618c199c97.src","preCode":"  public void setUp() throws Exception {\n    someNamespace = \"someName\";\n\n    when(pollResponse.getStatusCode()).thenReturn(HttpServletResponse.SC_NOT_MODIFIED);\n\n    MockInjector.reset();\n    configUtil = new MockConfigUtil();\n    MockInjector.setInstance(ConfigUtil.class, configUtil);\n\n    someServerUrl = \"http://someServer\";\n\n    ServiceDTO serviceDTO = mock(ServiceDTO.class);\n\n    when(serviceDTO.getHomepageUrl()).thenReturn(someServerUrl);\n    when(configServiceLocator.getConfigServices()).thenReturn(Lists.newArrayList(serviceDTO));\n    MockInjector.setInstance(ConfigServiceLocator.class, configServiceLocator);\n\n    httpUtil = spy(new MockHttpUtil());\n    MockInjector.setInstance(HttpUtil.class, httpUtil);\n\n    remoteConfigLongPollService = new RemoteConfigLongPollService();\n\n    MockInjector.setInstance(RemoteConfigLongPollService.class, remoteConfigLongPollService);\n\n    when(propertiesFactory.getPropertiesInstance()).thenAnswer(new Answer<Properties>() {\n      @Override\n      public Properties answer(InvocationOnMock invocation) {\n        return new Properties();\n      }\n    });\n    MockInjector.setInstance(PropertiesFactory.class, propertiesFactory);\n\n    someAppId = \"someAppId\";\n    someCluster = \"someCluster\";\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/RemoteConfigRepositoryTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":79,"status":"M"},{"authorDate":"2020-01-21 08:22:12","commitOrder":9,"curCode":"  public void testGetPropertyNamesWithOrderedProperties() {\n    String someKeyPrefix = \"someKey\";\n    String someValuePrefix = \"someValue\";\n\n    when(propertiesFactory.getPropertiesInstance()).thenAnswer(new Answer<Properties>() {\n      @Override\n      public Properties answer(InvocationOnMock invocation) {\n        return new OrderedProperties();\n      }\n    });\n    \r\n    someProperties = new OrderedProperties();\n    for (int i = 0; i < 10; i++) {\n      someProperties.setProperty(someKeyPrefix + i, someValuePrefix + i);\n    }\n\n    when(configRepository.getConfig()).thenReturn(someProperties);\n\n    DefaultConfig defaultConfig = new DefaultConfig(someNamespace, configRepository);\n\n    Set<String> propertyNames = defaultConfig.getPropertyNames();\n\n    assertEquals(10, propertyNames.size());\n    assertEquals(someProperties.stringPropertyNames(), propertyNames);\n  }\n","date":"2020-01-21 20:16:07","endLine":839,"groupId":"588","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testGetPropertyNamesWithOrderedProperties","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/c6/293e1e4b4e7fb800258f888005fcda1f54fd13.src","preCode":"  public void testGetPropertyNamesWithOrderedProperties() {\n    String someKeyPrefix = \"someKey\";\n    String someValuePrefix = \"someValue\";\n\n    when(propertiesFactory.getPropertiesInstance()).thenAnswer(new Answer<Properties>() {\n      @Override\n      public Properties answer(InvocationOnMock invocation) {\n        return new OrderedProperties();\n      }\n    });\n    \r\n    someProperties = new OrderedProperties();\n    for (int i = 0; i < 10; i++) {\n      someProperties.setProperty(someKeyPrefix + i, someValuePrefix + i);\n    }\n\n    when(configRepository.getConfig()).thenReturn(someProperties);\n\n    DefaultConfig defaultConfig = new DefaultConfig(someNamespace, configRepository);\n\n    Set<String> propertyNames = defaultConfig.getPropertyNames();\n\n    assertEquals(10, propertyNames.size());\n    assertEquals(someProperties.stringPropertyNames(), propertyNames);\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/DefaultConfigTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":815,"status":"N"}],"commitId":"4c2c12b7c8c209b3f12eda7b9f3b7d659523a901","commitMessage":"@@@reset mock inject in tear down phase to make sure the context is clean\n","date":"2020-06-21 14:13:02","modifiedFileCount":"17","status":"M","submitter":"Jason Song"},{"authorTime":"2020-01-21 08:22:12","codes":[{"authorDate":"2021-03-16 08:20:13","commitOrder":10,"curCode":"  public void setUp() throws Exception {\n    someNamespace = \"someName\";\n\n    when(pollResponse.getStatusCode()).thenReturn(HttpServletResponse.SC_NOT_MODIFIED);\n\n    configUtil = new MockConfigUtil();\n    MockInjector.setInstance(ConfigUtil.class, configUtil);\n\n    someServerUrl = \"http://someServer\";\n\n    ServiceDTO serviceDTO = mock(ServiceDTO.class);\n\n    when(serviceDTO.getHomepageUrl()).thenReturn(someServerUrl);\n    when(configServiceLocator.getConfigServices()).thenReturn(Lists.newArrayList(serviceDTO));\n    MockInjector.setInstance(ConfigServiceLocator.class, configServiceLocator);\n\n    httpClient = spy(new MockHttpClient());\n    MockInjector.setInstance(HttpClient.class, httpClient);\n\n    remoteConfigLongPollService = new RemoteConfigLongPollService();\n\n    MockInjector.setInstance(RemoteConfigLongPollService.class, remoteConfigLongPollService);\n\n    when(propertiesFactory.getPropertiesInstance()).thenAnswer(new Answer<Properties>() {\n      @Override\n      public Properties answer(InvocationOnMock invocation) {\n        return new Properties();\n      }\n    });\n    MockInjector.setInstance(PropertiesFactory.class, propertiesFactory);\n\n    someAppId = \"someAppId\";\n    someCluster = \"someCluster\";\n  }\n","date":"2021-03-16 08:20:13","endLine":113,"groupId":"10213","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/2e/46cb4c8710a040e2e38d76872b4170a6fdc4c0.src","preCode":"  public void setUp() throws Exception {\n    someNamespace = \"someName\";\n\n    when(pollResponse.getStatusCode()).thenReturn(HttpServletResponse.SC_NOT_MODIFIED);\n\n    configUtil = new MockConfigUtil();\n    MockInjector.setInstance(ConfigUtil.class, configUtil);\n\n    someServerUrl = \"http://someServer\";\n\n    ServiceDTO serviceDTO = mock(ServiceDTO.class);\n\n    when(serviceDTO.getHomepageUrl()).thenReturn(someServerUrl);\n    when(configServiceLocator.getConfigServices()).thenReturn(Lists.newArrayList(serviceDTO));\n    MockInjector.setInstance(ConfigServiceLocator.class, configServiceLocator);\n\n    httpUtil = spy(new MockHttpUtil());\n    MockInjector.setInstance(HttpUtil.class, httpUtil);\n\n    remoteConfigLongPollService = new RemoteConfigLongPollService();\n\n    MockInjector.setInstance(RemoteConfigLongPollService.class, remoteConfigLongPollService);\n\n    when(propertiesFactory.getPropertiesInstance()).thenAnswer(new Answer<Properties>() {\n      @Override\n      public Properties answer(InvocationOnMock invocation) {\n        return new Properties();\n      }\n    });\n    MockInjector.setInstance(PropertiesFactory.class, propertiesFactory);\n\n    someAppId = \"someAppId\";\n    someCluster = \"someCluster\";\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/RemoteConfigRepositoryTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":80,"status":"M"},{"authorDate":"2020-01-21 08:22:12","commitOrder":10,"curCode":"  public void testGetPropertyNamesWithOrderedProperties() {\n    String someKeyPrefix = \"someKey\";\n    String someValuePrefix = \"someValue\";\n\n    when(propertiesFactory.getPropertiesInstance()).thenAnswer(new Answer<Properties>() {\n      @Override\n      public Properties answer(InvocationOnMock invocation) {\n        return new OrderedProperties();\n      }\n    });\n    \r\n    someProperties = new OrderedProperties();\n    for (int i = 0; i < 10; i++) {\n      someProperties.setProperty(someKeyPrefix + i, someValuePrefix + i);\n    }\n\n    when(configRepository.getConfig()).thenReturn(someProperties);\n\n    DefaultConfig defaultConfig = new DefaultConfig(someNamespace, configRepository);\n\n    Set<String> propertyNames = defaultConfig.getPropertyNames();\n\n    assertEquals(10, propertyNames.size());\n    assertEquals(someProperties.stringPropertyNames(), propertyNames);\n  }\n","date":"2020-01-21 20:16:07","endLine":839,"groupId":"10213","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testGetPropertyNamesWithOrderedProperties","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-apollo-10-0.7/blobInfo/CC_OUT/blobs/c6/293e1e4b4e7fb800258f888005fcda1f54fd13.src","preCode":"  public void testGetPropertyNamesWithOrderedProperties() {\n    String someKeyPrefix = \"someKey\";\n    String someValuePrefix = \"someValue\";\n\n    when(propertiesFactory.getPropertiesInstance()).thenAnswer(new Answer<Properties>() {\n      @Override\n      public Properties answer(InvocationOnMock invocation) {\n        return new OrderedProperties();\n      }\n    });\n    \r\n    someProperties = new OrderedProperties();\n    for (int i = 0; i < 10; i++) {\n      someProperties.setProperty(someKeyPrefix + i, someValuePrefix + i);\n    }\n\n    when(configRepository.getConfig()).thenReturn(someProperties);\n\n    DefaultConfig defaultConfig = new DefaultConfig(someNamespace, configRepository);\n\n    Set<String> propertyNames = defaultConfig.getPropertyNames();\n\n    assertEquals(10, propertyNames.size());\n    assertEquals(someProperties.stringPropertyNames(), propertyNames);\n  }\n","realPath":"apollo-client/src/test/java/com/ctrip/framework/apollo/internals/DefaultConfigTest.java","repoName":"apollo","snippetEndLine":0,"snippetStartLine":0,"startLine":815,"status":"N"}],"commitId":"9f3d315e7e115220f6bbb836a1a8cfb4f4619d2f","commitMessage":"@@@replace http client implementation with interface (#3594)\n\n","date":"2021-03-16 08:20:13","modifiedFileCount":"7","status":"M","submitter":"vdisk-group"}]
