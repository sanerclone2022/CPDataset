[{"authorTime":"2020-08-10 14:46:59","codes":[{"authorDate":"2021-02-18 19:18:05","commitOrder":2,"curCode":"    public Map<String, Object> queryUdfFuncListPaging(User loginUser, String searchVal, Integer pageNo, Integer pageSize) {\n        Map<String, Object> result = new HashMap<>();\n        PageInfo<UdfFunc> pageInfo = new PageInfo<>(pageNo, pageSize);\n        IPage<UdfFunc> udfFuncList = getUdfFuncsPage(loginUser, searchVal, pageSize, pageNo);\n        pageInfo.setTotalCount((int)udfFuncList.getTotal());\n        pageInfo.setLists(udfFuncList.getRecords());\n        result.put(Constants.DATA_LIST, pageInfo);\n        putMsg(result, Status.SUCCESS);\n        return result;\n    }\n","date":"2021-02-18 19:18:05","endLine":255,"groupId":"2197","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"queryUdfFuncListPaging","params":"(UserloginUser@StringsearchVal@IntegerpageNo@IntegerpageSize)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/c0/8086aac62fd6653f07bbe8d3ba493d4f38e1d2.src","preCode":"    public Map<String, Object> queryUdfFuncListPaging(User loginUser, String searchVal, Integer pageNo, Integer pageSize) {\n        Map<String, Object> result = new HashMap<>();\n        PageInfo<UdfFunc> pageInfo = new PageInfo<>(pageNo, pageSize);\n        IPage<UdfFunc> udfFuncList = getUdfFuncsPage(loginUser, searchVal, pageSize, pageNo);\n        pageInfo.setTotalCount((int)udfFuncList.getTotal());\n        pageInfo.setLists(udfFuncList.getRecords());\n        result.put(Constants.DATA_LIST, pageInfo);\n        putMsg(result, Status.SUCCESS);\n        return result;\n    }\n","realPath":"dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/impl/UdfFuncServiceImpl.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":246,"status":"B"},{"authorDate":"2020-08-10 14:46:59","commitOrder":2,"curCode":"    public Map<String, Object> queryAccessTokenList(User loginUser, String searchVal, Integer pageNo, Integer pageSize) {\n        Map<String, Object> result = new HashMap<>(5);\n\n        PageInfo<AccessToken> pageInfo = new PageInfo<>(pageNo, pageSize);\n        Page<AccessToken> page = new Page<>(pageNo, pageSize);\n        int userId = loginUser.getId();\n        if (loginUser.getUserType() == UserType.ADMIN_USER) {\n            userId = 0;\n        }\n        IPage<AccessToken> accessTokenList = accessTokenMapper.selectAccessTokenPage(page, searchVal, userId);\n        pageInfo.setTotalCount((int) accessTokenList.getTotal());\n        pageInfo.setLists(accessTokenList.getRecords());\n        result.put(Constants.DATA_LIST, pageInfo);\n        putMsg(result, Status.SUCCESS);\n\n        return result;\n    }\n","date":"2020-08-10 14:46:59","endLine":79,"groupId":"1079","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"queryAccessTokenList","params":"(UserloginUser@StringsearchVal@IntegerpageNo@IntegerpageSize)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/7e/0b11780c8849680dc591459ee2ede6c494f243.src","preCode":"    public Map<String, Object> queryAccessTokenList(User loginUser, String searchVal, Integer pageNo, Integer pageSize) {\n        Map<String, Object> result = new HashMap<>(5);\n\n        PageInfo<AccessToken> pageInfo = new PageInfo<>(pageNo, pageSize);\n        Page<AccessToken> page = new Page<>(pageNo, pageSize);\n        int userId = loginUser.getId();\n        if (loginUser.getUserType() == UserType.ADMIN_USER) {\n            userId = 0;\n        }\n        IPage<AccessToken> accessTokenList = accessTokenMapper.selectAccessTokenPage(page, searchVal, userId);\n        pageInfo.setTotalCount((int) accessTokenList.getTotal());\n        pageInfo.setLists(accessTokenList.getRecords());\n        result.put(Constants.DATA_LIST, pageInfo);\n        putMsg(result, Status.SUCCESS);\n\n        return result;\n    }\n","realPath":"dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/impl/AccessTokenServiceImpl.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":63,"status":"NB"}],"commitId":"070424fc7825d0452827482a8d4815cb543d0b65","commitMessage":"@@@[Improvement-3369][api] Introduce taskrecord.  udffunc.  workflowlineage and workergroup service interface for clear code (#4768)\n\n* [Improvement-3369][api] Introduce taskrecord.  udffunc.  workflowlineage and workergroup service interface for clear code\n","date":"2021-02-18 19:18:05","modifiedFileCount":"8","status":"M","submitter":"Shiwen Cheng"},{"authorTime":"2021-02-18 23:17:01","codes":[{"authorDate":"2021-02-18 19:18:05","commitOrder":3,"curCode":"    public Map<String, Object> queryUdfFuncListPaging(User loginUser, String searchVal, Integer pageNo, Integer pageSize) {\n        Map<String, Object> result = new HashMap<>();\n        PageInfo<UdfFunc> pageInfo = new PageInfo<>(pageNo, pageSize);\n        IPage<UdfFunc> udfFuncList = getUdfFuncsPage(loginUser, searchVal, pageSize, pageNo);\n        pageInfo.setTotalCount((int)udfFuncList.getTotal());\n        pageInfo.setLists(udfFuncList.getRecords());\n        result.put(Constants.DATA_LIST, pageInfo);\n        putMsg(result, Status.SUCCESS);\n        return result;\n    }\n","date":"2021-02-18 19:18:05","endLine":255,"groupId":"2197","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"queryUdfFuncListPaging","params":"(UserloginUser@StringsearchVal@IntegerpageNo@IntegerpageSize)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/c0/8086aac62fd6653f07bbe8d3ba493d4f38e1d2.src","preCode":"    public Map<String, Object> queryUdfFuncListPaging(User loginUser, String searchVal, Integer pageNo, Integer pageSize) {\n        Map<String, Object> result = new HashMap<>();\n        PageInfo<UdfFunc> pageInfo = new PageInfo<>(pageNo, pageSize);\n        IPage<UdfFunc> udfFuncList = getUdfFuncsPage(loginUser, searchVal, pageSize, pageNo);\n        pageInfo.setTotalCount((int)udfFuncList.getTotal());\n        pageInfo.setLists(udfFuncList.getRecords());\n        result.put(Constants.DATA_LIST, pageInfo);\n        putMsg(result, Status.SUCCESS);\n        return result;\n    }\n","realPath":"dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/impl/UdfFuncServiceImpl.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":246,"status":"N"},{"authorDate":"2021-02-18 23:17:01","commitOrder":3,"curCode":"    public Map<String, Object> queryAccessTokenList(User loginUser, String searchVal, Integer pageNo, Integer pageSize) {\n        Map<String, Object> result = new HashMap<>();\n\n        PageInfo<AccessToken> pageInfo = new PageInfo<>(pageNo, pageSize);\n        Page<AccessToken> page = new Page<>(pageNo, pageSize);\n        int userId = loginUser.getId();\n        if (loginUser.getUserType() == UserType.ADMIN_USER) {\n            userId = 0;\n        }\n        IPage<AccessToken> accessTokenList = accessTokenMapper.selectAccessTokenPage(page, searchVal, userId);\n        pageInfo.setTotalCount((int) accessTokenList.getTotal());\n        pageInfo.setLists(accessTokenList.getRecords());\n        result.put(Constants.DATA_LIST, pageInfo);\n        putMsg(result, Status.SUCCESS);\n\n        return result;\n    }\n","date":"2021-02-18 23:17:01","endLine":79,"groupId":"1079","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"queryAccessTokenList","params":"(UserloginUser@StringsearchVal@IntegerpageNo@IntegerpageSize)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/ba/0d32e4ab38f464d2f39e76d4369d5bbde64bd5.src","preCode":"    public Map<String, Object> queryAccessTokenList(User loginUser, String searchVal, Integer pageNo, Integer pageSize) {\n        Map<String, Object> result = new HashMap<>(5);\n\n        PageInfo<AccessToken> pageInfo = new PageInfo<>(pageNo, pageSize);\n        Page<AccessToken> page = new Page<>(pageNo, pageSize);\n        int userId = loginUser.getId();\n        if (loginUser.getUserType() == UserType.ADMIN_USER) {\n            userId = 0;\n        }\n        IPage<AccessToken> accessTokenList = accessTokenMapper.selectAccessTokenPage(page, searchVal, userId);\n        pageInfo.setTotalCount((int) accessTokenList.getTotal());\n        pageInfo.setLists(accessTokenList.getRecords());\n        result.put(Constants.DATA_LIST, pageInfo);\n        putMsg(result, Status.SUCCESS);\n\n        return result;\n    }\n","realPath":"dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/impl/AccessTokenServiceImpl.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":63,"status":"M"}],"commitId":"9ae29a756f0aeed894c80f5e495d786ccf03f41f","commitMessage":"@@@[Improvement-3369][api] Introduce resources.  scheduler and taskinstance service interface for clear code (#4766)\n\n* [Improvement-3369][api] Introduce resources.  scheduler and taskinstance service interface for clear code\n","date":"2021-02-18 23:17:01","modifiedFileCount":"13","status":"M","submitter":"Shiwen Cheng"},{"authorTime":"2021-08-03 12:30:55","codes":[{"authorDate":"2021-08-03 12:30:55","commitOrder":4,"curCode":"    public Result queryUdfFuncListPaging(User loginUser, String searchVal, Integer pageNo, Integer pageSize) {\n        Result result = new Result();\n        PageInfo<UdfFunc> pageInfo = new PageInfo<>(pageNo, pageSize);\n        IPage<UdfFunc> udfFuncList = getUdfFuncsPage(loginUser, searchVal, pageSize, pageNo);\n        pageInfo.setTotal((int)udfFuncList.getTotal());\n        pageInfo.setTotalList(udfFuncList.getRecords());\n        result.setData(pageInfo);\n        putMsg(result, Status.SUCCESS);\n        return result;\n    }\n","date":"2021-08-03 12:30:55","endLine":258,"groupId":"10503","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"queryUdfFuncListPaging","params":"(UserloginUser@StringsearchVal@IntegerpageNo@IntegerpageSize)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/84/65ccf0effaf6b3191787beba6c0c67505a523e.src","preCode":"    public Map<String, Object> queryUdfFuncListPaging(User loginUser, String searchVal, Integer pageNo, Integer pageSize) {\n        Map<String, Object> result = new HashMap<>();\n        PageInfo<UdfFunc> pageInfo = new PageInfo<>(pageNo, pageSize);\n        IPage<UdfFunc> udfFuncList = getUdfFuncsPage(loginUser, searchVal, pageSize, pageNo);\n        pageInfo.setTotalCount((int)udfFuncList.getTotal());\n        pageInfo.setLists(udfFuncList.getRecords());\n        result.put(Constants.DATA_LIST, pageInfo);\n        putMsg(result, Status.SUCCESS);\n        return result;\n    }\n","realPath":"dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/impl/UdfFuncServiceImpl.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":249,"status":"M"},{"authorDate":"2021-08-03 12:30:55","commitOrder":4,"curCode":"    public Result queryAccessTokenList(User loginUser, String searchVal, Integer pageNo, Integer pageSize) {\n        Result result = new Result();\n        PageInfo<AccessToken> pageInfo = new PageInfo<>(pageNo, pageSize);\n        Page<AccessToken> page = new Page<>(pageNo, pageSize);\n        int userId = loginUser.getId();\n        if (loginUser.getUserType() == UserType.ADMIN_USER) {\n            userId = 0;\n        }\n        IPage<AccessToken> accessTokenList = accessTokenMapper.selectAccessTokenPage(page, searchVal, userId);\n        pageInfo.setTotal((int) accessTokenList.getTotal());\n        pageInfo.setTotalList(accessTokenList.getRecords());\n        result.setData(pageInfo);\n        putMsg(result, Status.SUCCESS);\n        return result;\n    }\n","date":"2021-08-03 12:30:55","endLine":79,"groupId":"10503","id":6,"instanceNumber":2,"isCurCommit":1,"methodName":"queryAccessTokenList","params":"(UserloginUser@StringsearchVal@IntegerpageNo@IntegerpageSize)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/0b/c83711089fa18f7cd6d049009ec9b3fd5207d8.src","preCode":"    public Map<String, Object> queryAccessTokenList(User loginUser, String searchVal, Integer pageNo, Integer pageSize) {\n        Map<String, Object> result = new HashMap<>();\n\n        PageInfo<AccessToken> pageInfo = new PageInfo<>(pageNo, pageSize);\n        Page<AccessToken> page = new Page<>(pageNo, pageSize);\n        int userId = loginUser.getId();\n        if (loginUser.getUserType() == UserType.ADMIN_USER) {\n            userId = 0;\n        }\n        IPage<AccessToken> accessTokenList = accessTokenMapper.selectAccessTokenPage(page, searchVal, userId);\n        pageInfo.setTotalCount((int) accessTokenList.getTotal());\n        pageInfo.setLists(accessTokenList.getRecords());\n        result.put(Constants.DATA_LIST, pageInfo);\n        putMsg(result, Status.SUCCESS);\n\n        return result;\n    }\n","realPath":"dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/impl/AccessTokenServiceImpl.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":65,"status":"M"}],"commitId":"f5675170311ccc3cc8e6f88e74c956220297e8cd","commitMessage":"@@@[Improvement-5880][api] Optimized data structure of pagination query API results (#5895)\n\n* [5880][refactor]Optimized data structure of pagination query API results\n- refactor PageInfo and delete returnDataListPaging in API\n- modify the related Controller and Service and the corresponding Test\n\n* Merge branch 'dev' of github.com:apache/dolphinscheduler into dev\n\n\u0001 Conflicts:\n\u0001\tdolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/impl/ProcessDefinitionServiceImpl.java\n\nCo-authored-by: ??? <sorea1k@163.com>","date":"2021-08-03 12:30:55","modifiedFileCount":"83","status":"M","submitter":"soreak"}]
