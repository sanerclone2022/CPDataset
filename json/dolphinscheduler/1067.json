[{"authorTime":"2020-04-10 12:06:03","codes":[{"authorDate":"2020-04-10 12:06:03","commitOrder":1,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.masterRegistry.unRegistry();\n            this.zkMasterClient.close();\n            \r\n            try{\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            }catch (Exception e){\n                logger.warn(\"Quartz service stopped exception:{}\",e.getMessage());\n            }\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","date":"2020-04-10 12:06:03","endLine":191,"groupId":"1050","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/6d/f82b5a60a0a0e4b86af19c228795f53fc7fe5c.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.masterRegistry.unRegistry();\n            this.zkMasterClient.close();\n            \r\n            try{\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            }catch (Exception e){\n                logger.warn(\"Quartz service stopped exception:{}\",e.getMessage());\n            }\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/MasterServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":156,"status":"B"},{"authorDate":"2020-04-10 12:06:03","commitOrder":1,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","date":"2020-04-10 12:06:03","endLine":141,"groupId":"1735","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/c9/052750e86dc039691149db717d9449fcda275b.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/WorkerServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":114,"status":"B"}],"commitId":"4c90f04bb22c67475b7ccdebb62414a02a28c7eb","commitMessage":"@@@Merge pull request #2380 from qiaozhanwei/dev\n\nrefactor-worker merge to dev","date":"2020-04-10 12:06:03","modifiedFileCount":"156","status":"B","submitter":"Tboy"},{"authorTime":"2021-01-22 11:01:46","codes":[{"authorDate":"2020-04-10 12:06:03","commitOrder":2,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.masterRegistry.unRegistry();\n            this.zkMasterClient.close();\n            \r\n            try{\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            }catch (Exception e){\n                logger.warn(\"Quartz service stopped exception:{}\",e.getMessage());\n            }\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","date":"2020-04-10 12:06:03","endLine":191,"groupId":"1050","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/6d/f82b5a60a0a0e4b86af19c228795f53fc7fe5c.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.masterRegistry.unRegistry();\n            this.zkMasterClient.close();\n            \r\n            try{\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            }catch (Exception e){\n                logger.warn(\"Quartz service stopped exception:{}\",e.getMessage());\n            }\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/MasterServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":156,"status":"N"},{"authorDate":"2021-01-22 11:01:46","commitOrder":2,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n            this.alertClientService.close();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","date":"2021-01-22 11:01:46","endLine":165,"groupId":"1735","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/bc/c082846b092c17f4d01a40d5f1c504c69162b2.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/WorkerServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":136,"status":"M"}],"commitId":"0c8d08cbaa0636ef93cbcb01c43a34f002bb7fdb","commitMessage":"@@@[Feature-#3049] Alert Plugin Design(merge alert_plugin_design to dev) (#4495)\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [feature][ui]Alert plugin design (#3734)\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [Feature-3682][ui]Add form-create plug-in and alarm group management add sample demo (#3683)\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [feature][ui] Add alarm instance page\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [Feature-3189][alert. spi. dao. plugin-api] base code of dolphinscheduler spi and alert plugin implement (#3601)\n\n* DS SPI\n\n* Add DolphinScheduler SPI .  and rebuilt the code of the Alert plug-in based on SPI\n\n* Add DolphinScheduler SPI .  and rebuilt the code of the Alert plug-in based on SPI\n\n* add TODO\n\n* delete\n\n* compile\n\n* spi commit\n\n* Plugin Alert\n\n* fix some bug\n\n* add todo\n\n* change web ui from alpacajs to form-create\n\n* remove module\n\n* add plugin schema\n\n* add license header\n\n* update alert and spi module version\n\n* update the alert plugin sub module version\n\n* comment the maven.local.repository param\n\n* move utils from spi to common module\n\n* add license header\n\n* add license header and delete some chinese comment\n\n* update spi packages\n\n* delete no use alert_xx.properties\n\n* update mysql.connector.version back to 5.1.34\n\n* delete no use comment in pom.xml\n\n* update email stmp password\n\n* add license\n\n* add semicolon to sql/upgrade/1.4.0_schema/mysql/dolphinscheduler_ddl.sql file\n\n* format the code style\n\n* format new clase file with checkstyle\n\n* update plugin params to Builder model\n\n* move JSONUtils to SPI because plugin can not dependency common module\n\n* move JSONUtils to SPI because plugin can not dependency common module\n\n* delete collection dependency\n\n* replace PluginParamsTransfer to spi PluginParamsTransfer\n\n* update dolphinscheduler-maven-plugin to 1.0.0\n\n* update license\n\n* update apache-rat-plugin add exclude '.iml' file\n\n* check license\n\n* ArtifactResolver only use in development and configPlugins is not empty\n\n* ArtifactResolver only use in development and configPlugins is not empty\n\n* ArtifactResolver only use in development and configPlugins is not empty\n\n* default datasource should be postgresql\n\n* add license files\n\n* add license files\n\n* postgresql port should be 5432\n\n* postgresql test\n\n* mv show_type to spi\n\nadd license header to AlertConstants\n\n* check style fix\n\n* copy check style file from branch dev\n\n* alert show_type set by plugin\n\n* alert show_type set by plugin\n\n* add PluginDefineMapper to dolphinscheduler-server/src/test/java/org/apache/dolphinscheduler/server/registry/DependencyConfig.java\n\n* add Bean to TaskCallbackServiceTestConfig\n\n* add Bean to TaskCallbackServiceTestConfig\n\n* fix check style\n\n* check style fix\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* fix check style\n\n* [Feature-3682][ui]Add form-create plug-in and alarm group management add sample demo (#3683)\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* check style fix\n\n* rollback test change\n\n* rollback test change\n\n* rollback dao pom change\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* add ut to pom.xml\n\n* add upgrade schema to global schema\n\n* fix ut failed\n\n* fix ut failed\n\n* fix ut failed\n\n* fix ut failed\n\n* add test EmailAlertPluginTest to pom.xml\n\n* fix ut failed\n\n* fix ut failed\n\n* fix check style\n\n* update license header to presto license header\n\n* presto license header not check\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut\n\n* fix ut\n\n* fix ut\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut coverage\n\nCo-authored-by: break60 <790061044@qq.com>\n\n* Replace the tenant management page ui with element-ui (#3891)\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [Feature-3682][ui]Add form-create plug-in and alarm group management add sample demo (#3683)\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [feature][ui] Add alarm instance page\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [feature][ui]Alert plugin design (#3734)\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [Feature-3682][ui]Add form-create plug-in and alarm group management add sample demo (#3683)\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [feature][ui] Add alarm instance page\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [Feature-3189][alert. spi. dao. plugin-api] base code of dolphinscheduler spi and alert plugin implement (#3601)\n\n* DS SPI\n\n* Add DolphinScheduler SPI .  and rebuilt the code of the Alert plug-in based on SPI\n\n* Add DolphinScheduler SPI .  and rebuilt the code of the Alert plug-in based on SPI\n\n* add TODO\n\n* delete\n\n* compile\n\n* spi commit\n\n* Plugin Alert\n\n* fix some bug\n\n* add todo\n\n* change web ui from alpacajs to form-create\n\n* remove module\n\n* add plugin schema\n\n* add license header\n\n* update alert and spi module version\n\n* update the alert plugin sub module version\n\n* comment the maven.local.repository param\n\n* move utils from spi to common module\n\n* add license header\n\n* add license header and delete some chinese comment\n\n* update spi packages\n\n* delete no use alert_xx.properties\n\n* update mysql.connector.version back to 5.1.34\n\n* delete no use comment in pom.xml\n\n* update email stmp password\n\n* add license\n\n* add semicolon to sql/upgrade/1.4.0_schema/mysql/dolphinscheduler_ddl.sql file\n\n* format the code style\n\n* format new clase file with checkstyle\n\n* update plugin params to Builder model\n\n* move JSONUtils to SPI because plugin can not dependency common module\n\n* move JSONUtils to SPI because plugin can not dependency common module\n\n* delete collection dependency\n\n* replace PluginParamsTransfer to spi PluginParamsTransfer\n\n* update dolphinscheduler-maven-plugin to 1.0.0\n\n* update license\n\n* update apache-rat-plugin add exclude '.iml' file\n\n* check license\n\n* ArtifactResolver only use in development and configPlugins is not empty\n\n* ArtifactResolver only use in development and configPlugins is not empty\n\n* ArtifactResolver only use in development and configPlugins is not empty\n\n* default datasource should be postgresql\n\n* add license files\n\n* add license files\n\n* postgresql port should be 5432\n\n* postgresql test\n\n* mv show_type to spi\n\nadd license header to AlertConstants\n\n* check style fix\n\n* copy check style file from branch dev\n\n* alert show_type set by plugin\n\n* alert show_type set by plugin\n\n* add PluginDefineMapper to dolphinscheduler-server/src/test/java/org/apache/dolphinscheduler/server/registry/DependencyConfig.java\n\n* add Bean to TaskCallbackServiceTestConfig\n\n* add Bean to TaskCallbackServiceTestConfig\n\n* fix check style\n\n* check style fix\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* fix check style\n\n* [Feature-3682][ui]Add form-create plug-in and alarm group management add sample demo (#3683)\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* check style fix\n\n* rollback test change\n\n* rollback test change\n\n* rollback dao pom change\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* add ut to pom.xml\n\n* add upgrade schema to global schema\n\n* fix ut failed\n\n* fix ut failed\n\n* fix ut failed\n\n* fix ut failed\n\n* add test EmailAlertPluginTest to pom.xml\n\n* fix ut failed\n\n* fix ut failed\n\n* fix check style\n\n* update license header to presto license header\n\n* presto license header not check\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut\n\n* fix ut\n\n* fix ut\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut coverage\n\nCo-authored-by: break60 <790061044@qq.com>\n\n* The tenant management module ui is replaced with element-ui\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* modify\n\n* fix\n\nCo-authored-by: gaojun2048 <32193458+gaojun2048@users.noreply.github.com>\n\n* the alert module support service.\n\n* the alert module support service.\n\n* Delete blank lines.\n\n* add code checkstyle.\n\n* Solve the sonar bug.\n\n* Re-execute build.\n\n* add test.\n\n* update ut.\n\n* add test class.\n\n* update test.\n\n* [feature#3356] alert-spi support DingTalk&WeChat (#3869)\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [feature][ui]Alert plugin design (#3734)\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [Feature-3682][ui]Add form-create plug-in and alarm group management add sample demo (#3683)\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [feature][ui] Add alarm instance page\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* [Feature-3189][alert. spi. dao. plugin-api] base code of dolphinscheduler spi and alert plugin implement (#3601)\n\n* DS SPI\n\n* Add DolphinScheduler SPI .  and rebuilt the code of the Alert plug-in based on SPI\n\n* Add DolphinScheduler SPI .  and rebuilt the code of the Alert plug-in based on SPI\n\n* add TODO\n\n* delete\n\n* compile\n\n* spi commit\n\n* Plugin Alert\n\n* fix some bug\n\n* add todo\n\n* change web ui from alpacajs to form-create\n\n* remove module\n\n* add plugin schema\n\n* add license header\n\n* update alert and spi module version\n\n* update the alert plugin sub module version\n\n* comment the maven.local.repository param\n\n* move utils from spi to common module\n\n* add license header\n\n* add license header and delete some chinese comment\n\n* update spi packages\n\n* delete no use alert_xx.properties\n\n* update mysql.connector.version back to 5.1.34\n\n* delete no use comment in pom.xml\n\n* update email stmp password\n\n* add license\n\n* add semicolon to sql/upgrade/1.4.0_schema/mysql/dolphinscheduler_ddl.sql file\n\n* format the code style\n\n* format new clase file with checkstyle\n\n* update plugin params to Builder model\n\n* move JSONUtils to SPI because plugin can not dependency common module\n\n* move JSONUtils to SPI because plugin can not dependency common module\n\n* delete collection dependency\n\n* replace PluginParamsTransfer to spi PluginParamsTransfer\n\n* update dolphinscheduler-maven-plugin to 1.0.0\n\n* update license\n\n* update apache-rat-plugin add exclude '.iml' file\n\n* check license\n\n* ArtifactResolver only use in development and configPlugins is not empty\n\n* ArtifactResolver only use in development and configPlugins is not empty\n\n* ArtifactResolver only use in development and configPlugins is not empty\n\n* default datasource should be postgresql\n\n* add license files\n\n* add license files\n\n* postgresql port should be 5432\n\n* postgresql test\n\n* mv show_type to spi\n\nadd license header to AlertConstants\n\n* check style fix\n\n* copy check style file from branch dev\n\n* alert show_type set by plugin\n\n* alert show_type set by plugin\n\n* add PluginDefineMapper to dolphinscheduler-server/src/test/java/org/apache/dolphinscheduler/server/registry/DependencyConfig.java\n\n* add Bean to TaskCallbackServiceTestConfig\n\n* add Bean to TaskCallbackServiceTestConfig\n\n* fix check style\n\n* check style fix\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* fix check style\n\n* [Feature-3682][ui]Add form-create plug-in and alarm group management add sample demo (#3683)\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* check style fix\n\n* rollback test change\n\n* rollback test change\n\n* rollback dao pom change\n\n* [feature-3665][ui]Add element-ui (#3666)\n\n* [feature-3665][ui]Add element-ui\n\n* add license\n\n* Add form-create plug-in and alarm group management add sample demo\n\n* Modify node version\n\n* fix\n\n* fix\n\n* add ut to pom.xml\n\n* add upgrade schema to global schema\n\n* fix ut failed\n\n* fix ut failed\n\n* fix ut failed\n\n* fix ut failed\n\n* add test EmailAlertPluginTest to pom.xml\n\n* fix ut failed\n\n* fix ut failed\n\n* fix check style\n\n* update license header to presto license header\n\n* presto license header not check\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut\n\n* fix ut\n\n* fix ut\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut coverage\n\n* fix ut coverage\n\nCo-authored-by: break60 <790061044@qq.com>\n\n* [feature#3356] alert-spi support DingTalk\n\nthis closes # 3356\n\n* add test\n\n* code style\n\n* we chat alert\n\n* support we chat alert\n\n* support we chat alert\n\n* support we chat alert. update ding talk alert\n\n* code style\n\n* add test\n\n* code style\n\n* clean old code\n\n* clean old code\n\n* code smell\n\n* code style\n\n* add test\n\n* simple config\n\n* code style\n\n* code style\n\n* code style\n\n* delete old file\n\n* fix log content error\n\nCo-authored-by: break60 <790061044@qq.com>\nCo-authored-by: gaojun2048 <32193458+gaojun2048@users.noreply.github.com>\n\n* [FEATURE#4029] alert spi support script alert\n\nthis closes #4029\n\n* code style\n\n* code smell\n\n* add test\n\n* code style\n\n* code smell\n\n* code style\n\n* fix name error\n\n* init sms plugin\n\n* modify http type\n\n* delete dolphinscheduler-alert-sms plugin\n\n* dolphinscheduler plugin need add <package>dolphinscheduler-plugin</package> in the pom.xml file\n\n* delete alert http plugin (#4152)\n\ndelete alert http plugin (#4152)\nThis part of the code was merged by mistake.  so I need to delete it\n\n* [Feature-3749][Alert-SPI] SqlTask should send notifications by alert server api (#4080)\n\n* add sqltask send sync alert server.\n\n* update alert-sms license.\n\n* update AlertServer test.\n\n* remote EmailAlertPluginTest.\n\n* update sqltask.\n\n* update test class.\n\n* [Alert plugin design] add http alert plugin (#4165)\n\n* add http alert plugin\n\n* [Feature-3311] Add alert plugin instance function (#4038)\n\n* [Feature-#3252][build]plugins need put in plugins dir when install (#4259)\n\nUpdate maven build.  put the alert plugins in the ${install_dir}/lib/plugin/alert/${plugin_module_name} directory\n(assembly build and rpm build).\nNote: When adding a new plug-in.  it must be reflected in provisio/dolphinscheduler.xml.\n\nthis closes #3252\n\n* [Feature#4310][Alert-SPI] Plug-ins containing UI components provide display pages (#4311)\n\n* [Feature#4310][Alert-SPI] Plug-ins containing UI components provide display pages\n\n*Some plugins (such as alert plugin) need to provide UI interfaces to users.\n*We use from-creat to dynamically generate UI interfaces. Related parameters are mainly provided by pluginParams.\n*From-create can generate dynamic ui based on this parameter.\n\nthis closes #4310\n\n* add license head\n\n* rename\n\n* add ut\n\n* add license\n\n* add query plugin detail interface\n\n* fix error\n\n* [Feature-#3828][server] Delete recipients and CCs in the process defi? (#4303)\n\n* [Feature-#3828][server] Delete recipients and CCs in the process definition and select the associated alert group instead\n\n* The specific alarm instance associated with the alert group\n* The process definition only associates the alert group.  and does not care about the specific alarm instance.\n\nthis closes #3828\n\n* remove test cc\n\n* remove test cc\n\n* fix test error\n\n* add sql upgrade script\ndelete alert column(show_type?alert_type?re?cc)\n\n* code style\n\n* update test\nNote the statement to delete the column.  and provide related instructions\n\n* delete AlertGroup field(alert_type)\n\n* fix ut error\n\n* fix ut error\n\n* fix ut error\n\n* code style\n\n* delete api-doc receiverCC\n\n* delete UserAlertGroupMapper\n\n* delete UserAlertGroup\n\n* delete UserAlertGroupApi\n\n* alert group add coulmn user_id\n\n* alter user_id to create_user_id\n\n* userinfo remove alert group info\n\n* Replace the front-end code of the plugin branch with the front-end code of the dev branch (#4353)\n\n* Replace the front-end code of the plugin branch with the front-end code of the dev branch\n\n* Merge dev to alert_plugin_design (#4351)\n\n* fixed queryProcessInstanceListPaging query slow (#3893)\n\nbecause queryProcessInstanceListPaging has contain longtext type field by instance.*. so queryProcessInstanceListPaging query slow .  but longtext field not used.\n\n* fixed  queryTaskInstanceListPaging query slow (#3892)\n\nbecause queryTaskInstanceListPaging  has contain longtext  type field  by instance.*. so  queryTaskInstanceListPaging query slow .  but longtext  field not used.\n\n* add verify tenant name cannot contain special characters. (#3865)\n\n* [Fix][Docker] fix startup.sh variables cannot reference in single quotes. (#3895)\n\n* [Fix][Docker] fix startup.sh variables cannot reference in single quotes.(#3894)\n\nSigned-off-by: YoungMan <bushengquan@gmail.com>\n\n* Update Dockerfile\n\nupdate the  comment\nand delete the maridb client\n\nCo-authored-by: dailidong <dailidong66@gmail.com>\n\n* [ambari-plugin]change version 1.3.2 to 1.3.3 (#3935)\n\n* [CodeClean][DAO]Remove redundant comments (#3939)\n\n* fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt\n\n* fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt\n\n* fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt\n\n* dag  add close button\n\n* reset last version\n\n* reset last version\n\n* dag add close buttion\n\ndag add close buttion\n\n* update  CLICK_SAVE_WORKFLOW_BUTTON  xpath\n\n* updae CLICK_SAVE_WORKFLOW_BUTTON xpath\n\n* updae CLICK_SAVE_WORKFLOW_BUTTON xpath\n\n* updae CLICK_SAVE_WORKFLOW_BUTTON xpath\n\n* Update CreateWorkflowLocator.java\n\nmodify submit workflow button\n\n* Update CreateWorkflowLocator.java\n\n* Update CreateWorkflowLocator.java\n\nmodify CLICK_ADD_BUTTON\n\n* Update CreateWorkflowLocator.java\n\ndelete print\n\n* Update CreateWorkflowLocator.java\n\n1\n\n* Update CreateWorkflowLocator.java\n\n1\n\n* Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\n\nin addition\n\nupdate '- XX: largepagesizeinbytes = 128M' to '- XX: largepagesizeinbytes = 10M'\n\n* Update dag.vue\n\n* Update dag.vue\n\n* Update dag.vue\n\n* Update CreateWorkflowLocator.java\n\n* Revert \"Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\"\n\nThis reverts commit 3a2cba7a\n\n* Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\n\nin addition\n\nupdate '- XX: largepagesizeinbytes = 128M' to '- XX: largepagesizeinbytes = 10M'\n\n* Update dolphinscheduler-daemon.sh\n\n* Remove redundant comments\nProcessInstanceMapper# queryProcessInstanceListPaging\n\n* Remove redundant comments\nProcessInstanceMapper# queryProcessInstanceListPaging\n\nCo-authored-by: dailidong <dailidong66@gmail.com>\nCo-authored-by: xingchun-chen <55787491+xingchun-chen@users.noreply.github.com>\n\n* fix bug:3615 After the task is executed successfully.  but the next task has not been submitted.  stop the master\n\n* When running a task.  the resource file is lost.  which results in an error\n\n* When running a task.  the resource file is lost.  which results in an error\n\n* When running a task.  the resource file is lost.  which results in an error\n\n* [Fix][api] Add queryProjectCreatedAndAuthorizedByUser function (#3658)\n\n* fix getLoginUserCreated bug\n\n* fix getLoginUserCreated bug 1\n\n* fix checkstyle\n\n* modify function name\n\n* modify comment\n\n* fix unit test error\n\n* rollback sqoop task hive target file\n\nCo-authored-by: sunchaohe <sunzhaohe@linklogis.com>\nCo-authored-by: dailidong <dailidong66@gmail.com>\n\n* When running a task.  the resource file is lost.  which results in an error\n\n* When running a task.  the resource file is lost.  which results in an error\n\n* [fixBug-3964][ui]Switch back and forth over timeout alarm.  the selected value is empty\n\n* solve too many files.  close logClientService (#3971)\n\n* fix #3966 sub process doesnot send alert mail after process instance ending. (#3972)\n\nCo-authored-by: baoliang <baoliang@analysys.com.cn>\n\n* [Fix-#3618][server] resolve task executed finished but not release the file handle (#3975)\n\n* [Fix-#3618][server] resolve task executed finished but not release the file handle\n\n* [Fix-#3618][server] resolve task executed finished but not release the file handle\n\n* [Fix-#3958][api] files should not be created successfully in the directory of the authorized file\n\n* [FIX-3966] The timeout warning does not take effect in sub_process (#3982)\n\n* fix #3966 sub process doesnot send alert mail after process instance ending.\n\n* fix bug 3964: sub_process The timeout warning does not take effect\nadd timeout warning for sub_process/dependent task.\n\n* fix code smell\n\n* fix code smell\n\n* fix code smell\n\n* update worker group inherit from parent\n\nCo-authored-by: baoliang <baoliang@analysys.com.cn>\n\n* [fix-#3962][api] Avoid ClassCastException for LoggerService.queryLog(). (#3963)\n\n* Enhance user experience.  add close button to file details page\n\n* [Test-3557][API] full cover DataAnalysisServiceImpl (#3605)\n\n* generate equals and hashCode method\n\n* make up for the state of oblivion\n\n* simplify countQueueState method\n\n* delete try catch.  because this never throw exception\n\n* full cover DataAnalysisServiceImpl\n\n* improve test coverage\n\n* adjust code style\n\n* simplify countCommandState method\n\n* reduce duplication\n\n* simplify countTaskDtos method\n\n* Update DataAnalysisServiceImpl.java\n\nCo-authored-by: dailidong <dailidong66@gmail.com>\n\n* fix import dolphinscheduler_mysql.sql insert admin user data\n\n* [FIX-3929] condition task would post wrong tasks when failover. (#3999)\n\n* fix #3966 sub process doesnot send alert mail after process instance ending.\n\n* fix bug 3964: sub_process The timeout warning does not take effect\nadd timeout warning for sub_process/dependent task.\n\n* fix code smell\n\n* fix code smell\n\n* fix code smell\n\n* update worker group inherit from parent\n\n* remove stdout in logback configuration\n\n* fix bug #3929 condition task would post error when failover.\n\n* remove unused test\n\n* add comments\n\n* add skip node judge\n\nCo-authored-by: baoliang <baoliang@analysys.com.cn>\n\n* [FIX-3929]  because of no lock.  start up failover would dispatch two same tasks. (#4004)\n\n* fix #3966 sub process doesnot send alert mail after process instance ending.\n\n* fix bug 3964: sub_process The timeout warning does not take effect\nadd timeout warning for sub_process/dependent task.\n\n* fix code smell\n\n* fix code smell\n\n* fix code smell\n\n* update worker group inherit from parent\n\n* remove stdout in logback configuration\n\n* fix bug #3929 condition task would post error when failover.\n\n* remove unused test\n\n* add comments\n\n* add skip node judge\n\n* fix bug 3929: because of no lock.  start up failover would dispatch two same tasks.\n\nCo-authored-by: baoliang <baoliang@analysys.com.cn>\n\n* revert pom version to 1.3.3-release\n\n* [maven-release-plugin] prepare release 1.3.3\n\n* [maven-release-plugin] prepare for next development iteration\n\n* the resources API document does not match the interface parameters\n\n* [release]revert pom version to 1.3.3-release\n\n* fix bug 4010: remove failed condition tasks from error-task-list. (#4011)\n\nCo-authored-by: baoliang <baoliang@analysys.com.cn>\n\n* [maven-release-plugin] prepare release 1.3.3\n\n* [maven-release-plugin] prepare for next development iteration\n\n* fix bug\n\n* reset code\n\n* Update udfs.vue\n\n* [Feature-3941][ui] Remove tenant name  (#3949)\n\n* FeatureUI-3941: Removed Tenant\n\n* FeatureUI-3941: Removed tenantName in the suggested pages\n\n* FeatureUI-3941: Updated the suggested files\n\n* FeatureUI-3941: Updated the TenantController\n\n* FeatureUI-3941: Updated the TenantController and the pom.xml\n\n* FeatureUI-3941: Updated the TenantControllerTest\n\n* [Improvement][script] daemon script usage (#3968)\n\n* Improvement daemon script usage\n\n* don't remove status command\n\ndon't remove status command\n\nCo-authored-by: dailidong <dailidong66@gmail.com>\n\n* fix #3688.  Optimization of table building statements (#3689)\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* [Improvement-4012][common/remote] Json util code integration. remove the remote module json util (#4013)\n\n* Json util code integration. remove the remote module json util.\n\n* update code checkstyle.\n\n* update code checkstyle.\n\n* add code checkstyle.\n\n* add test class.\n\n* update JSONUtils class.\n\n* update JSONUtils class.\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* refactor code style\n\n* refactor code style\n\n* refactor code style\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* refactor ut test\n\n* refactor ut test\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* fix #3900 kill multi yarn app in one job\n\n* refactor ut\n\n* merge from 1.3.3-release\n\n* refactor ut\n\n* refactor ut\n\n* refactor\n\n* refactor\n\n* refactor code style\n\n* refactor code style\n\n* refactor code style\n\n* refactor code style\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* add ProcessUtils UT\n\n* refactor code style\n\n* refactor code style\n\n* refactor code style\n\n* refactor code style\n\n* [Draft][Merge][133-dev]133 merge dev (#4031)\n\n* [Feture-3327][ui]Add the function of re-uploading files in the resource center\n\n* [Feture-3327][ui]Add the function of re-uploading files in the resource center (#3394)\n\n* Before creating a workflow.  clear the canvas\n\n* [Fix-3256][ui] herry pick commit from dev for Fix admin user info update error (#3306)\n\n* [Feture-3327][ui]Add the function of re-uploading files in the resource center\n\nCo-authored-by: wuchunfu <319355703@qq.com>\n\n* [Improvement-3327][api]support re-upload the resource file (#3395)\n\n* [Fix-3390][server]Running hive sql task need find the hdfs path correctly (#3396)\n\n* [Fix-3390][api]Running hive sql task need find the hdfs path correctly\n\n* [Fix-3390][api]Running hive sql task need find the hdfs path correctly\n\n* update soft version\n\n* hive UDF function to modify the background color\n\n* fix\n\n* fix bug: Fix master task dependency check bug\n\n* cancel spark task version check (#3406)\n\nCo-authored-by: Eights-Li <yelli.hl@gmail.com>\n\n* [Bug][ui]Fix front-end bug #3413\n\n* [Feature][ambari_plugin]support one worker can belongs different worker groups when execute install script (#3410)\n\n* Optimize dag\n\n* Update actions.js (#3401)\n\n* [Fix-3256][ui] Fix admin user info update error (#3425) (#3428)\n\n* [PROPOSAL-3139] Datasource selection changes from radio to select\n\n* [PROPOSAL-3139] Datasource selection changes from radio to select\n\n* [BUG FIX] issues #3256\n\n* [BUG FIX] issues #3256\n\n* [BUG FIX] issues #3256\n\n* [Fix-3256][ui] Fix admin user info update error\n\n* [Fix-3256][ui] Fix admin user info update error\n\n* [Fix-3256][ui] Fix admin user info update error\n\n* [Fix-3256][ui] Fix admin user info update error\n\n* reset createUser.vue\n\n* [Fix-3256][ui] Fix admin user info update error\n\nCo-authored-by: dailidong <dailidong66@gmail.com>\n\nCo-authored-by: wuchunfu <319355703@qq.com>\nCo-authored-by: dailidong <dailidong66@gmail.com>\n\n* [Fix-3433][api]Fixed that release the imported process definition which version is below 1.3.0 will be failure\n\n* dag connection add check\n\n* fix\n\n* [Fix-3423][dao][sql]Fixed that the resource file of the task node can't be found when upgrade from 1.2.0 to 1.3.x (#3454)\n\n* Remove node deep monitoring\n\n* If worker group id is null. don't need to set the value of the worker group (#3460)\n\n* [Fix-3423][dao][sql]Fixed that the resource file of the task node can't be found when upgrade from 1.2.0 to 1.3.x\n\n* [Fix-3423][dao]If worker group id is null. don't need to set the value of the worker group\n\n* [ui]Code optimization\n\n* fix\n\n* fix\n\n* [fix-3058][ui]Move rtTargetArr to jsPlumbHandle.js\n\n* [optimization][ui]Prevent the shell script input box from being empty\n\n* [Fix-3462][api]If login user is admin. need list all udfs (#3465)\n\n* [Fix-3462][api]If login user is admin. need list all udfs\n\n* [Fix-3462][api]add the test on the method of QueryUdfFuncList\n\n* [Fix-3462][api]fix the code smell\n\n* [Fix-3462][api]fix the code smell\n\n* [Fix-3462][api]fix the code smell\n\n* [Fix-3463][api]Fixed that run the sql task will be failure after rename the udf resource (#3482)\n\n* [fixBug-3058][ui]Fix connection abnormalities in historical workflow instance data\n\n* [Feture-3327][ui]Add the function of re-uploading files in the udf subdirectory\n\n* fix bug: Fix master task dependency check bug (#3473)\n\nCo-authored-by: lenboo <baoliang@analysys.com.cn>\n\n* [maven-release-plugin] prepare release 1.3.2\n\n* [maven-release-plugin] prepare for next development iteration\n\n* fix ci_e2e fail (#3497)\n\n* [Fix-3469][api]Should filter the resource by the different program type (#3498)\n\n* [Fix-3463][api]Fixed that run the sql task will be failure after rename the udf resource\n\n* [Fix-3469][api]Should list python file and jar file\n\n* [Fix-3469][api]Should filter the resource by the different program type\n\n* [Fix-3469][api]fix the code smell\n\n* test release 1.3.2 version rollback\n\n* test release 1.3.2 version rollback\n\n* test release 1.3.2 version rollback (#3499)\n\n* [Feature] JVM parameter optimization .  related issue #3370\n\n* [Feature] JVM parameter optimization .  related issue #3370\n\n* test release 1.3.2 version rollback\n\n* test release 1.3.2 version rollback\n\nCo-authored-by: qiaozhanwei <qiaozhanwei@analysys.com.cn>\n\n* [maven-release-plugin] prepare release 1.3.2\n\n* [maven-release-plugin] prepare for next development iteration\n\n* [Fix-3469][ui]The value of maintenance resources and the filtering of resources according to different program types\n\n* fix\n\n* Revert \"fix ci_e2e fail (#3497)\"\n\nThis reverts commit e367f90bb73c9682739308a0a98887a1c0f407ef.\n\n* test\n\n* test release 1.3.2 version rollback\n\n* test release 1.3.2 version rollback (#3503)\n\n* [Feature] JVM parameter optimization .  related issue #3370\n\n* [Feature] JVM parameter optimization .  related issue #3370\n\n* test release 1.3.2 version rollback\n\n* test release 1.3.2 version rollback\n\n* test\n\n* test release 1.3.2 version rollback\n\nCo-authored-by: qiaozhanwei <qiaozhanwei@analysys.com.cn>\n\n* [maven-release-plugin] prepare release 1.3.2\n\n* [maven-release-plugin] prepare for next development iteration\n\n* test release 1.3.2 version rollback (#3504)\n\n* [Feature] JVM parameter optimization .  related issue #3370\n\n* [Feature] JVM parameter optimization .  related issue #3370\n\n* test release 1.3.2 version rollback\n\n* test release 1.3.2 version rollback\n\n* test\n\n* test release 1.3.2 version rollback\n\nCo-authored-by: qiaozhanwei <qiaozhanwei@analysys.com.cn>\n\n* [maven-release-plugin] prepare release 1.3.2\n\n* [maven-release-plugin] prepare for next development iteration\n\n* fix ds muti-level directory in zk.  which lead to fail to assign work\n\n* add login user check some actions in api\n\n* [Hotfix][ci] Fix e2e ci docker image build error\n\n* modify tag 1.3.0 to HEAD\n\n* modify tag 1.3.0 to HEAD (#3525)\n\n* [Feature] JVM parameter optimization .  related issue #3370\n\n* [Feature] JVM parameter optimization .  related issue #3370\n\n* test release 1.3.2 version rollback\n\n* test release 1.3.2 version rollback\n\n* test\n\n* test release 1.3.2 version rollback\n\n* modify tag 1.3.0 to HEAD\n\nCo-authored-by: qiaozhanwei <qiaozhanwei@analysys.com.cn>\n\n* remove OGNL part of the mybaits notice (#3526)\n\n* [maven-release-plugin] prepare release 1.3.2\n\n* [maven-release-plugin] prepare for next development iteration\n\n* release 1.3.2 version rollback (#3527)\n\n* [Feature] JVM parameter optimization .  related issue #3370\n\n* [Feature] JVM parameter optimization .  related issue #3370\n\n* test release 1.3.2 version rollback\n\n* test release 1.3.2 version rollback\n\n* test\n\n* test release 1.3.2 version rollback\n\n* modify tag 1.3.0 to HEAD\n\nCo-authored-by: qiaozhanwei <qiaozhanwei@analysys.com.cn>\n\n* [ui]Script input box to modify the delay loading time\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* modify general user can't create token\n\n* [ui]It is forbidden to select non-existent resources and modify the tree display data format\n\n* modify general user can't create token (#3533)\n\n* [Feature] JVM parameter optimization .  related issue #3370\n\n* [Feature] JVM parameter optimization .  related issue #3370\n\n* test release 1.3.2 version rollback\n\n* test release 1.3.2 version rollback\n\n* test\n\n* test release 1.3.2 version rollback\n\n* modify tag 1.3.0 to HEAD\n\n* modify general user can't create token\n\nCo-authored-by: qiaozhanwei <qiaozhanwei@analysys.com.cn>\n\n* if task is null .  set task type is null instead of \"null\"\n\n* [Fix-3536][api]If user didn't have tenant. create resource directory will NPE (#3537)\n\n* [Fix-3536][api]If user didn't have tenant. create resource will NPE\n\n* [Fix-3536][api]If user didn't have tenant. create resource directory will NPE\n\n* modify general user can't create. delete. update token (#3538)\n\nCo-authored-by: qiaozhanwei <qiaozhanwei@analysys.com.cn>\n\n* [ui]Resource delete OK button to increase loading.  change the number of homepage display cursor\n\n* fix\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry (#3748)\n\n* [fixbug][ui]Repair the master and worker management instrument display\n\n* [Fix-3238][docker]Fix that can not create folder in docker with standalone mode (#3741)\n\n* [fixbug][ui]Remove non-existent or deleted resources disabled\n\n* [fixBug-3621][ui]If the workflow instance status is executing status.  it is forbidden to select\n\n* [fix-3553][ui]Repair click workflow connection.  select the entire path\n\n* fix\n\n* fix\n\n* [Fix-3238][docker]Fix that can not create folder in docker with standalone mode\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry (#3776)\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\nCo-authored-by: qiaozhanwei <qiaozhanwei@analysys.com.cn>\n\n* The batch delete function in the workflow definition and workflow instance pages cannot be canceled if selected.\n\n* [Improvement-3720][ui] js mailbox verification fix\n\n* [Fix-3549] [Server][sqlTask]The alias column in the query SQL does not take effect (#3784)\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* The batch delete function in the workflow definition and workflow instance pages cannot be canceled if selected.\n\n* [Fix-3549] [Server][sqlTask]The alias column in the query SQL does not take effect\n\n* [Fix-3549] [Server][sqlTask]The alias column in the query SQL does not take effect\n\nCo-authored-by: qiaozhanwei <qiaozhanwei@analysys.com.cn>\nCo-authored-by: zhuangchong <zhuangchong8@163.com>\nCo-authored-by: JinyLeeChina <42576980+JinyLeeChina@users.noreply.github.com>\n\n* [Fix-3124][docker]Fix that can not build a docker image on windows (#3765)\n\n* [Fix-3549] [Server][sqlTask]The alias column in the query SQL does not take effect (#3786)\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* The batch delete function in the workflow definition and workflow instance pages cannot be canceled if selected.\n\n* [Fix-3549] [Server][sqlTask]The alias column in the query SQL does not take effect\n\n* [Fix-3549] [Server][sqlTask]The alias column in the query SQL does not take effect\n\n* [Fix-3549] [Server][sqlTask]The alias column in the query SQL does not take effect\n\nCo-authored-by: qiaozhanwei <qiaozhanwei@analysys.com.cn>\nCo-authored-by: zhuangchong <zhuangchong8@163.com>\nCo-authored-by: JinyLeeChina <42576980+JinyLeeChina@users.noreply.github.com>\n\n* [Fix-3258][Security][Worker group manage] Connot get create time and update time. report DateTimeParseException (#3787)\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* [Fix-3616][Server] when worker akc/response master exception .  async retry\n\n* The batch delete function in the workflow definition and workflow instance pages cannot be canceled if selected.\n\n* [Fix-3549] [Server][sqlTask]The alias column in the query SQL does not take effect\n\n* [Fix-3549] [Server][sqlTask]The alias column in the query SQL does not take effect\n\n* [Fix-3549] [Server][sqlTask]The alias column in the query SQL does not take effect\n\n* [BugFixed] issue #3258 (#3265)\n\n* 'ExecutionStatus'\n\n* '3258'\n\n* Update WorkerGroupServiceTest.java\n\n* Delete UserState.java\n\n* Delete ResourceSyncService.java\n\n* Delete core-site.xml\n\n* Delete hdfs-site.xml\n\nCo-authored-by: dailidong <dailidong66@gmail.com>\nCo-authored-by: qiaozhanwei <qiaozhanwei@outlook.com>\n\nCo-authored-by: qiaozhanwei <qiaozhanwei@analysys.com.cn>\nCo-authored-by: zhuangchong <zhuangchong8@163.com>\nCo-authored-by: JinyLeeChina <42576980+JinyLeeChina@users.noreply.github.com>\nCo-authored-by: dailidong <dailidong66@gmail.com>\n\n* [fixBug-3792][ui]Click on the sidebar to adapt the width of the pie chart on the project homepage\n\n* [Bug-3713][HadoopUtils] catfile method Stream not closed  (#3715)\n\n* fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt\n\n* fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt\n\n* fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt\n\n* dag  add close button\n\n* reset last version\n\n* reset last version\n\n* dag add close buttion\n\ndag add close buttion\n\n* update  CLICK_SAVE_WORKFLOW_BUTTON  xpath\n\n* updae CLICK_SAVE_WORKFLOW_BUTTON xpath\n\n* updae CLICK_SAVE_WORKFLOW_BUTTON xpath\n\n* updae CLICK_SAVE_WORKFLOW_BUTTON xpath\n\n* Update CreateWorkflowLocator.java\n\nmodify submit workflow button\n\n* Update CreateWorkflowLocator.java\n\n* Update CreateWorkflowLocator.java\n\nmodify CLICK_ADD_BUTTON\n\n* Update CreateWorkflowLocator.java\n\ndelete print\n\n* Update CreateWorkflowLocator.java\n\n1\n\n* Update CreateWorkflowLocator.java\n\n1\n\n* Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\n\nin addition\n\nupdate '- XX: largepagesizeinbytes = 128M' to '- XX: largepagesizeinbytes = 10M'\n\n* Update dag.vue\n\n* Update dag.vue\n\n* Update dag.vue\n\n* Update CreateWorkflowLocator.java\n\n* Revert \"Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\"\n\nThis reverts commit 3a2cba7a\n\n* Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\n\nin addition\n\nupdate '- XX: largepagesizeinbytes = 128M' to '- XX: largepagesizeinbytes = 10M'\n\n* Update dolphinscheduler-daemon.sh\n\n* catfile method Stream not closed\n\n* catfile method Stream not closed\n\nCo-authored-by: dailidong <dailidong66@gmail.com>\nCo-authored-by: xingchun-chen <55787491+xingchun-chen@users.noreply.github.com>\n\n* [Fix-#3713][common]Fix that catfile method Stream not closed\n\n* [Fix-#3713][common]Fix that catfile method Stream not closed (#3810)\n\n* [Bug-3713][HadoopUtils] catfile method Stream not closed  (#3715)\n\n* fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt\n\n* fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt\n\n* fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt\n\n* dag  add close button\n\n* reset last version\n\n* reset last version\n\n* dag add close buttion\n\ndag add close buttion\n\n* update  CLICK_SAVE_WORKFLOW_BUTTON  xpath\n\n* updae CLICK_SAVE_WORKFLOW_BUTTON xpath\n\n* updae CLICK_SAVE_WORKFLOW_BUTTON xpath\n\n* updae CLICK_SAVE_WORKFLOW_BUTTON xpath\n\n* Update CreateWorkflowLocator.java\n\nmodify submit workflow button\n\n* Update CreateWorkflowLocator.java\n\n* Update CreateWorkflowLocator.java\n\nmodify CLICK_ADD_BUTTON\n\n* Update CreateWorkflowLocator.java\n\ndelete print\n\n* Update CreateWorkflowLocator.java\n\n1\n\n* Update CreateWorkflowLocator.java\n\n1\n\n* Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\n\nin addition\n\nupdate '- XX: largepagesizeinbytes = 128M' to '- XX: largepagesizeinbytes = 10M'\n\n* Update dag.vue\n\n* Update dag.vue\n\n* Update dag.vue\n\n* Update CreateWorkflowLocator.java\n\n* Revert \"Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\"\n\nThis reverts commit 3a2cba7a\n\n* Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\n\nin addition\n\nupdate '- XX: largepagesizeinbytes = 128M' to '- XX: largepagesizeinbytes = 10M'\n\n* Update dolphinscheduler-daemon.sh\n\n* catfile method Stream not closed\n\n* catfile method Stream not closed\n\nCo-authored-by: dailidong <dailidong66@gmail.com>\nCo-authored-by: xingchun-chen <55787491+xingchun-chen@users.noreply.github.com>\n\n* [Fix-#3713][common]Fix that catfile method Stream not closed\n\nCo-authored-by: BoYiZhang <39816903+BoYiZhang@users.noreply.github.com>\nCo-authored-by: dailidong <dailidong66@gmail.com>\nCo-authored-by: xingchun-chen <55787491+xingchun-chen@users.noreply.github.com>\n\n* [Fix-#3487][api?dao] cherry pick from dev to fix that create folder duplicate name under multithreading\n\n* [Hotfix-3131][api] Fix the new tenant already exists prompt (#3132)\n\n* Bugfix: Fix the new tenant already exists prompt\n\n* Feature: Add test cases\n\n* Update TenantServiceTest.java\n\nCo-authored-by: dailidong <dailidong66@gmail.com>\nCo-authored-by: qiaozhanwei <qiaozhanwei@outlook.com>\n\n* Set up JDK 11 for SonarCloud in github action. (#3052)\n\n* Set up JDK 11 for SonarCloud in github action.\n\n* Fix javadoc error with JDK 11.\n\n* Prevent Javadoc from stopping if it finds any html errors.\n\n* [fixBug-3621][ui]Select the batch checkbox to unfilter the instances in the executing state\n\n* add verify tenant name cannot contain special characters.\n\n* [fixBug-3840][ui]The tenant code only allows letters or a combination of letters and numbers\n\n* fix\n\n* fix\n\n* fix\n\n* [Fix-#3702][api] When re-upload the resource file but don't change the name or desc. it need replace the origin resource file. (#3862)\n\n* [Fix-#3702][api] When re-upload the resource file but don't change the name or desc. it will not replace the origin resource file.\n\n* [Fix-#3702][api] When re-upload the resource file but don't change the name or desc. it will not replace the origin resource file.\n\n* [fixbug-3621][ui]Workflow instance ready to stop and ready to suspend state prohibits checking\n\n* [fixbug-3887][ui]Fix missing English translation of re-upload files\n\n* add process define name verify. (#3879)\n\n* Revert \"[1.3.3-release][fix-3835][ui] When the tenantName contains \"<\".  the tenant drop-down list is blankadd verify tenant name cannot contain special characters.\"\n\n* revert pr 3872\n\n* [FIX-3617][Service]after subtask fault tolerance.  2 task instances are generated (#3830)\n\n* fix bug(#3617): after subtask fault tolerance.  2 task instances are generated.\n\n* delete unused code\n\n* update code smell\n\n* refactor sub work command process\n\n* add process service ut\n\n* add license header\n\n* fix some code smell\n\n* chang ut java8 to java11\n\n* update sonar to java11\n\n* copy ut config from dev\n\n* remove checkstyle\n\n* revert to 1.3.3\n\n* change proess service test to executor service\n\n* add process service test\n\n* add process service test\n\n* revert\n\n* revert\n\n* add comments\n\n* change dev to 1.3.3-release\n\n* revert\n\nCo-authored-by: baoliang <baoliang@analysys.com.cn>\n\n* [Fix-#3487][sql] add dolphinscheduler_dml.sql under 1.3.3_schema (#3907)\n\n* [FIX-3836][1.3.3-release-API] process definition validation name interface prompt information error  (#3899)\n\n* fix bug : error message\n\n* fix code smell\n\n* fix code smell\n\n* [FIX_#3789][remote]cherry pick from dev to support netty heart beat\n\n* [FIX_#3789][remote]cherry pick from dev to support netty heart beat\n\n* [FIX_#3789][remote]cherry pick from dev to support netty heart beat (#3913)\n\n* [FIX_#3789][remote]cherry pick from dev to support netty heart beat\n\n* [FIX_#3789][remote]cherry pick from dev to support netty heart beat\n\nCo-authored-by: Kirs <acm_master@163.com>\n\n* Repair check box cannot be canceled\n\n* [fix-3843][api] When update workflow definition. if name already exists.  the prompt is not friendly\n\n* [fix-3843][api] When update workflow definition. if name already exists.  the prompt is not friendly\n\n* [fix-#3843][api]When update workflow definition. if name already exists.  the prompt is not friendly (#3918)\n\n* [FIX_#3789][remote]cherry pick from dev to support netty heart beat\n\n* [FIX_#3789][remote]cherry pick from dev to support netty heart beat\n\n* [fix-3843][api] When update workflow definition. if name already exists.  the prompt is not friendly\n\n* [fix-3843][api] When update workflow definition. if name already exists.  the prompt is not friendly\n\nCo-authored-by: Kirs <acm_master@163.com>\n\n* [Fix-#3487][sql] update uc_dolphin_T_t_ds_resources_un\n\n* Workflow definition name re-modified and added check\n\n* [fix-#3843][api]When update workflow definition. if name already exists.  the prompt is not friendly.\n\n* update code.\n\n* [#3931][ui]Field name optimization for spark.  flink.  and mr\n\n* change version from 1.3.2-SNAPSHOT to 1.3.3-SNAPSHOT (#3934)\n\n* [maven-release-plugin] prepare release 1.3.3\n\n* [maven-release-plugin] prepare for next development iteration\n\n* [ambari-plugin]change version 1.3.2 to 1.3.3 (#3935)\n\n* fix bug:3615 After the task is executed successfully.  but the next task has not been submitted.  stop the master\n\n* [fixBug-3964][ui]Switch back and forth over timeout alarm.  the selected value is empty\n\n* solve too many files.  close logClientService (#3971)\n\n* fix #3966 sub process doesnot send alert mail after process instance ending. (#3972)\n\nCo-authored-by: baoliang <baoliang@analysys.com.cn>\n\n* [Fix-#3618][server] resolve task executed finished but not release the file handle (#3975)\n\n* [Fix-#3618][server] resolve task executed finished but not release the file handle\n\n* [Fix-#3618][server] resolve task executed finished but not release the file handle\n\n* [Fix-#3958][api] files should not be created successfully in the directory of the authorized file\n\n* [FIX-3966] The timeout warning does not take effect in sub_process (#3982)\n\n* fix #3966 sub process doesnot send alert mail after process instance ending.\n\n* fix bug 3964: sub_process The timeout warning does not take effect\nadd timeout warning for sub_process/dependent task.\n\n* fix code smell\n\n* fix code smell\n\n* fix code smell\n\n* update worker group inherit from parent\n\nCo-authored-by: baoliang <baoliang@analysys.com.cn>\n\n* fix import dolphinscheduler_mysql.sql insert admin user data\n\n* [FIX-3929] condition task would post wrong tasks when failover. (#3999)\n\n* fix #3966 sub process doesnot send alert mail after process instance ending.\n\n* fix bug 3964: sub_process The timeout warning does not take effect\nadd timeout warning for sub_process/dependent task.\n\n* fix code smell\n\n* fix code smell\n\n* fix code smell\n\n* update worker group inherit from parent\n\n* remove stdout in logback configuration\n\n* fix bug #3929 condition task would post error when failover.\n\n* remove unused test\n\n* add comments\n\n* add skip node judge\n\nCo-authored-by: baoliang <baoliang@analysys.com.cn>\n\n* [FIX-3929]  because of no lock.  start up failover would dispatch two same tasks. (#4004)\n\n* fix #3966 sub process doesnot send alert mail after process instance ending.\n\n* fix bug 3964: sub_process The timeout warning does not take effect\nadd timeout warning for sub_process/dependent task.\n\n* fix code smell\n\n* fix code smell\n\n* fix code smell\n\n* update worker group inherit from parent\n\n* remove stdout in logback configuration\n\n* fix bug #3929 condition task would post error when failover.\n\n* remove unused test\n\n* add comments\n\n* add skip node judge\n\n* fix bug 3929: because of no lock.  start up failover would dispatch two same tasks.\n\nCo-authored-by: baoliang <baoliang@analysys.com.cn>\n\n* revert pom version to 1.3.3-release\n\n* [maven-release-plugin] prepare release 1.3.3\n\n* [maven-release-plugin] prepare for next development iteration\n\n* [release]revert pom version to 1.3.3-release\n\n* fix bug 4010: remove failed condition tasks from error-task-list. (#4011)\n\nCo-authored-by: baoliang <baoliang@analysys.com.cn>\n\n* [maven-release-plugin] prepare release 1.3.3\n\n* [maven-release-plugin] prepare for next development iteration\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* refactor code style\n\n* refactor code style\n\n* refactor code style\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* refactor ut test\n\n* refactor ut test\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* refactor ut\n\n* merge from 1.3.3-release\n\n* refactor ut\n\n* refactor ut\n\n* refactor\n\n* refactor\n\n* refactor code style\n\n* refactor code style\n\n* refactor code style\n\n* refactor code style\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* merge from 1.3.3-release\n\n* refactor code style\n\nCo-authored-by: break60 <790061044@qq.com>\nCo-authored-by: wuchunfu <319355703@qq.com>\nCo-authored-by: lgcareer <18610854716@163.com>\nCo-authored-by: xingchun-chen <55787491+xingchun-chen@users.noreply.github.com>\nCo-authored-by: lenboo <baoliang@analysys.com.cn>\nCo-authored-by: qiaozhanwei <qiaozhanwei@analysys.com.cn>\nCo-authored-by: Yelli <amarantine@my.com>\nCo-authored-by: Eights-Li <yelli.hl@gmail.com>\nCo-authored-by: JinyLeeChina <42576980+JinyLeeChina@users.noreply.github.com>\nCo-authored-by: dailidong <dailidong66@gmail.com>\nCo-authored-by: qiaozhanwei <qiaozhanwei@outlook.com>\nCo-authored-by: XiaotaoYi <v-xiayi@hotmail.com>\nCo-authored-by: Yichao Yang <1048262223@qq.com>\nCo-authored-by: zhuangchong <zhuangchong8@163.com>\nCo-authored-by: BoYiZhang <39816903+BoYiZhang@users.noreply.github.com>\nCo-authored-by: muzhongjiang <mu_zhongjiang@163.com>\nCo-authored-by: Jave-Chen <baicai.chen@gmail.com>\nCo-authored-by: zhuangchong <zhuangchong6@163.com>\nCo-authored-by: zhuangchong <37063904+zhuangchong@users.noreply.github.com>\nCo-authored-by: Kirs <acm_master@163.com>\nCo-authored-by: lgcareer <lgcareer@apache.org>\nCo-authored-by: wulingqi <wulingqi@baijiahulian.com>\n\n* Revert \"[Draft][Merge][133-dev]133 merge dev (#4031)\" (#4057)\n\nThis reverts commit ad2d9f99d01f3baef8641e0a7e741c08a39f1f24.\n\n* [Fix][API] Condition task null pointer exception (#4056)\n\n* add ProcessUtils UT\n\n* modify ProcessUtils & ProcessUtilsTest\n\n* Enhance user experience.  add close button.  return to the previous page (#4006)\n\nCo-authored-by: zhanglong <zhanglong@ysstech.com>\n\n* [FIX_BUG][server-test] dismiss of server warm-up time in RoundRobinSelectorTest (#4067)\n\n* [Fix][api] Fix build parameter error of sqlserver when create. (#4015)\n\n* [fix-#3962][api] Avoid ClassCastException for LoggerService.queryLog().\n\n* [Fix][api] Fix build parameter error of sqlserver when create.\n\n* [Feature-3985][Datax] Datax supports setting up running memory (#3986)\n\n* Datax supports setting up running memory\n\n* Datax supports setting up running memory\n\n* Datax supports setting up running memory\n\n* When running a task.  the resource file is lost.  which results in an error\n\n* add unit test\n\n* add unit test\n\n* add unit test\n\n* add test unit\n\n* add test unit\n\n* add test unit\n\n* fix code smell\n\n* add test unit\n\n* add test unit\n\n* [Improvement-3767][api] Task instance supports query by process instance name (#3825)\n\n* Task instance supports query by process instance name.\n\n* add test code checkstyle.\n\n* add test param.\n\n* resolve the sonar duplication check.\n\n* solve logger single-line string exceeds 200 characters.\n\n* resolve the sonar check.\n\n* Resolve code conflicts.\n\nCo-authored-by: zhuangchong <zhuangchong8@163.com>\n\n* deal with magic value\n\n* [Feature-4050][server] Spark task support udv inject (#4061)\n\n* #4050 spark task support udv inject\n\n* modify spark task UT\n\n* modify sparkTaskExecutionCtx\n\n* add exp for spark task get main jar method\n\n* deal with magic value\n\n* [Improvement-3471][common] JSONUtils.toMap It is not necessary to check whether the JSON method is empty again. #3471 (#3481)\n\n* JSONUtils.toMap call improvement.\n\n* [Fix-4054][Api] Fix The last week of the month for adding/editing timing.  preview and save timing will report an error\n\n* ???????????????\n\n* using OSUtils.execCmd when kill yarn app\n\n* ???????????????(??checkstyle)\n\n* ???????????????(??checkstyle)\n\n* [FIX-#4083][server]fix taskInstance state change error\nConcurrent processing of ack message and result message causes the execution sequence to be wrong\n\n# this close # 4083\n\n* code style\n\n* fix replaceNRTtoUnderline NullPointerException #4098 (#4100)\n\n* fix replaceNRTtoUnderline NullPointerException\n\n* add  unit Test\n\n* add taskResponseTest\n\n* add taskResponseTest\n\n* code smell\n\n* Time is too small and the task is not finished\n\n* Time is too small and the task is not finished\n\n* [FIX-4034][server] fix sqoop import fail (#4036)\n\n* fix #4043.  sqoop import query fail\n\n* fix #4043.  sqoop task hard code & code style\n\n* add license for SqoopConstants\n\n* add private constructor for SqoopConstants\n\n* fixed sqoop mysql pwd have special character\n\n* fix checkstyle\n\n* fix sqoop task log\n\n* remove unused constants\n\n* Time is too small and the task is not finished\n\n* Time is too small and the task is not finished\n\n* test\n\n* remove assert\n\n* test\n\n* test\n\n* fix task instance status judgment error\n\n* fix: security page disappear delay problem when force refresh under GENERAL_USER\n\n* improvement: resovle download url with resolveURL to prevent change of apiPrefix\n\n* fix sqoop task jdbc string contains special char (#4105)\n\n* [Bug][Common] read file garbled (#3479)\n\n* fix bug : Random code problem\n\nCo-authored-by: zhanglong <zhanglong@ysstech.com>\n\n* [Improvement-3933][db operation] Improve the performance of sql query (#3940)\n\n* optimize select * case\n\n* emove redundancy\n\n* bug fixed\n\n* Update en_US.js\n\n* Update startup.sh\n\n* optimize\n\n* optimize code\n\n* optimize\n\n* bug fixed\n\n* add ut\n\n* bug fixed\n\n* bug fixed\n\n* bug fixed\n\n* bug fixed\n\n* Delete WorkFlowLineageMapper.xml\n\n* Delete createTenement.vue\n\n* recove wrongly deleted file\n\n* Update WorkFlowLineageMapper.xml\n\n* Update createTenement.vue\n\n* [Feature][API]enable response resources gzip compression (#4121)\n\n* enable response compression\n\n* add server.compression.mime-types with default value explicitly\n\n* [Improvement][API] ignore noNodeException when get worker groups (#4120)\n\n* ignore noNodeException when get worker groups\n\n* add ut\n\n* [Improvement][Code style] FIX SPELL WAITTING TO WAITING .  etc. (#4118)\n\n* FIX SPELL\n\n* FIX SPELL AND  Optimizing code conventions\n\n* add ut  cannot construct process instance.  return null;\n\n* add ut testExportProcessMetaData\n\n* add ut testExportProcessMetaData\n\n* add ut testImportProcessSchedule\n\n* add ut MasterExecThreadTest\n\n* add ut MasterExecThreadTest\n\n* add ut testSubProcessViewTree\n\n* add ut testComplementWithStartNodeList\n\n* add ut testRecurseFindSubProcessId\n\n* add ut testRecurseFindSubProcessId\n\n* add ut testRecurseFindSubProcessId\n\n* [FIX#4033] $[] conflicts with mysql keywords (#4111)\n\n* [FIX#4033] $[] conflicts with mysql keywords\nWe currently only use this symbol for dates.  so I filtered out the number type.\nthis close #4033\n\n* test\n\n* fix error\n\n* split sqoop import hive database and table (#4141)\n\n* upgrade quartz version to 2.3.0\n\n* add HikariCP-java6. c3p0. mchange-commons-java license\n\n* upgrade jackson version to 2.9.10\n\n* remove c3p0. mchange-commons-java license\n\n* update Check code style\n\n* update  code style\n\n* Update pom.xml\n\n* Update pom.xml\n\n* Update LICENSE\n\nnot need to add HikariCP-java6\n\n* Delete LICENSE-HikariCP-java6.txt\n\n* Update known-dependencies.txt\n\n* Update TaskInstanceMapper.xml\n\noptimize page of [TaskInstance] load data slow\n\n* [FIX-PR-4097][server-master]task ack miss (#4189)\n\nWhen the message of successful execution arrives earlier than\nthe message of ack. \nthe message of ack will be discarded. \nresulting in some information missing\n\n* fix bug #4125 (#4127)\n\n* fix bug #4125\n\n* code style!\n\n* code style.\n\nCo-authored-by: chengp <chengp@chengp.net>\n\n* [FIX-4190][DAO] When the amount of json data is large.  the process list page display slowly. (#4201)\n\n* fix 4190: When the amount of json data is large.  process list page display slowly\n\n* fix 4190: When the amount of json data is large.  process list page display slowly\n\n* fix 4190: When the amount of json data is large.  process list page display slowly\n\nCo-authored-by: baoliang <baoliang@analysys.com.cn>\n\n* [Fix-3457][flink] fix flink args build problem (#4166)\n\n* [Fix][Flink] fix flink args build problem\n\n* [Fix][Flink] fix FlinkArgsUtilsTest\n\n* [Improvement][UI] hide version and cluster input when deployMode is local\n\n* [common]del windows file( not support windows ) (#4204)\n\n* del support win\n\n* del support win\n\n* [Feature-4138][Master] dispatch workgroup error add sleep time (#4139)\n\n* When there are tasks with assignment failure and the number of tasks in the current task queue is less than 10.  sleep for 1 second\n\n* When there are tasks with assignment failure and the number of tasks in the current task queue is less than 10.  sleep for 1 second\n\n* fix code smell & code style\n\n* fix code smell & code style\n\nCo-authored-by: zhanglong <zhanglong@ysstech.com>\n\n* [FIX-#4172][server-worker] kill task NPE (#4182)\n\n* [FIX-#4172][server-worker] kill task NPE\n\nThe cache task will be sent when the Process is generated. Before that.  if a kill task appears.  then NPE will appear\nModification method: write into the cache when the task is received.  and mark it as preData\nIf the task is killed before the Process is generated.  delete the cache directly at this time\nIt will be judged before the process is generated. If the task has been killed.  it will not be executed.\nAfter the new process is created.  write it into the cache.  and judge again.  if kill.  then kill the process.\n\nthis closes #4172\n\n* Delete the commented out code\nAdd spring beans\n\n* code smell\n\n* add test\n\n* add test\n\n* fix error\n\n* test\n\n* test\n\n* revert\n\n* fix error\n\n* [Feature-3878]Replace the page with element-ui (#4065)\n\n* [Feature-3878]Introduce elment-ui and replace the security center module page with elment-ui\n\n* Change node version\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* Replace the page with element-ui\n\n* Replace user management with elment-ui\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* fix\n\n* Repair the last Sunday of each month\n\n* support auto eslint for .js.  .vue file on save\n\n* update .eslintrc.yml and license check exclude .eslintignore\n\n* fix eslint: fix syntax by npm run lint automatically\n\n* fix eslint: fatal syntax errors\n\n* fix eslint: expected '!==' but instead saw '!='.  expected '===' but instead saw '=='\n\n* fix eslint: Unexpected side effect in 'cacheParams' computed property\n\n* fix eslint: assigned a value but never used\n\n* fix eslint: component has been registered but not used\n\n* fix eslint: unexpected mutation of prop\n\n* fix bug: start from the setting nodes with NODE_PRE would be NPE. (#4219)\n\n* deleted invalid code as assigned in issue 4215 (#4221)\n\ndeleted the code at following two places:\norg.apache.dolphinscheduler.service.process.ProcessService#checkTaskExistsInTaskQueue\norg.apache.dolphinscheduler.service.process.ProcessService#taskZkInfo\n\n* [FIX-#3177]Task time parameter parsing error (#4224)\n\n* [FIX-#3177]Task time parameter parsing error\n\nrerun schedule time error\n\nthis closes #3177\n\n* [FIX-#3177]Task time parameter parsing error\n\nrerun schedule time error\n\nthis closes #3177\n\n* fix sql error (#4227)\n\n* [FIX-3177]Task time parameter parsing error (#4228)\n\n* [FIX-3177]Task time parameter parsing error\nwhen system.datetime !=null $[datetime] = system.datetime\nelse $[datetime] = current time\n\n* remove unused import\n\n* fix date_convert null\n\n* fix time cover\n\n* fix time cover\n\n* reformat\n\n* add ut\n\n* [Fix][UI]: fix re-login problem in new tab and state synchronization problem in multiple tabs (#4162)\n\n* fix(ui): re-login problem in new tab\n\n* refresh page in new tab automatically\n\n* support to reload router view in lightweight\n\n* optimize visibility code\n\n* [Improvement][UI] Add no-var rule for eslint and add 'npm run lint:fix' command (#4225)\n\nAdd no-var rule for eslint.  and fix related files\nAdd npm run lint:fix command.  which distinguished from the default command npm run lint\nThe behavior of command npm run lint and command npm run lint:fix should be distinguished\nThe first command is used to lint only.  and the second one is used to lint and fix problems automatically\n\n* [FIX][UI ]  security user state  tenantCode User Type Display abnormal (#4255)\n\n* fix user state error\n\n* fix userType  error\n\n* fix tenantCode  error\n\n* [Fix-4222][Master]Add the priority queue to ensure that tasks are submitted according to priority. (#4250)\n\n* [Fix-4222][Master]Add the priority queue to ensure that tasks are submitted according to priority.\n\n* [Fix-4222][Master]Add the priority queue to ensure that tasks are submitted according to priority.\n\n* [Fix-4222][Master]Remove useless import\n\n* [Fix-4222][Master]Reformat code style\n\n* [Fix-4222][Master]Reformat code style\n\n* [Fix-4222][Master]Reformat code style\n\n* [Fix-4222][Master]add PeerTaskInstancePriorityQueueTest\n\n* [Fix-4222][Master]Fix code smell\n\n* [Fix-4222][Master]Reformat code style\n\n* [Fix-4222][Master]Fix code smell\n\nCo-authored-by: xingchun-chen <55787491+xingchun-chen@users.noreply.github.com>\n\n* update bug template (#4260)\n\n* [Improvement-4069][server] When the tenant does not exist.  the task execution should throw an exception (#4108)\n\n* when  the tenant does not exist.  the task execution should throw an exception\n\n* remote method createWorkDirAndUserIfAbsent\n\n* set the task status failed when the tenant code does not exist.\n\n* add taskLog.\n\n* update check os user exists\n\n* update TaskExecuteThreadTest test method.\n\n* solving sonar fail.\n\n* remove AbstractTask.getCurTaskParamsClass()and replace with TaskParametersUtils.getParameters() (#4262)\n\n* remove getCurTaskParamsClass() in AbstractTask.java and replace it with TaskParametersUtils.getParameters()\n\n* remove unused imports in AbstractTask.java\n\n* reformat\n\n* [Fix-4271][server] Fix IOException or NoSuchFileException in logger server (#4272)\n\n* fix version funcation delete. (#4265)\n\n* [improvement][config] Update datasource.properties?add mysql meta data template (#4266)\n\n* Update datasource.properties\n\n[??]???mysql????\n\n* Update datasource.properties\n\nCo-authored-by: dailidong <dailidong66@gmail.com>\n\n* fix taskInstance submitTime is empty. (#4274)\n\n* [Improvement-3878]Tenant list delete user name (#4278)\n\n* [Fix-4268] Fix NumberFormatException when visiting a doc.html or swagger-ui.html (#4269)\n\n* [Fix-4268] Fix NumberFormatException when visiting a doc.html or swagger-ui.html\n\n* Fix checkstyle error\n\n* Update swagger-models in known-dependencies.txt\n\n* [Improvement-3878][ui]Fix the list style (#4280)\n\n* [Improvement-3878]Tenant list delete user name\n\n* [Improvement-3878][ui]Fix the list style\n\n* [FIX] [UI] fix create project cancel button invalid (#4282)\n\n* fix create project cancel button invalid\n\n* [Improvement] Refactor code to support distributed tracing (#4270)\n\n* Refactor code to support tracing\n\n* Extension network protocol.  support context and version\n* Extension master asynchronous queue support context\n* Extract scan task method from MasterSchedulerService for tracing\n\n* fix\n\n* fix\n\n* add test case\n\n* fix\n\n* fix\n\nCo-authored-by: hailin0 <hailin0@yeah.net>\n\n* [Improvement] Add Flink job name (#4285)\n\n* [Improvement] Add Flink job name\n\n* fix typo\n\n* [Improvement][ui]List vacancy optimization and icon icon repair (#4286)\n\n* [Improvement][ui] List vacancy optimization and icon icon repair\n\n* [FEATURE-736] integrate ldap authentication (#3743)\n\n* [FEATURE-736] integrate ldap authentication\n\n* add ldap authentication type\n* refactor authentication with ldap and password\n* add  createUser for ldap in user service\n* remove duplicate password authenticator\n\n* [Fix-4289][*] Flink name with disappeared and unescaped problem (#4290)\n\n* fix flink name not display in process definition editor\n\n* fix flink name not escape problem\n\n* simplify escape method\n\n* fix database is the mysql DB keyword. (#4295)\n\n* fix the token management list does not display the user name. (#4302)\n\n* Dev imp server process utils (#4263)\n\n\n* Adds the comment on the WINDOWSATTERN\n\nCo-authored-by: Kirs <acm_master@163.com>\nCo-authored-by: 0002939 <licongyang@mininglamp.com>\n\n* fix version close function does not take effect. (#4307)\n\n* fix user management authorization operation exceptions do not prompt exception information. (#4292)\n\n* [Fix][UI] Fix ui style problem and refactor form style (#4329)\n\n* rename from-model to form-model\n\n* [UI] remove duplicated css style code\n\n* [UI] refactor css style of form model\n\n* fix form model overflow problem in ie\n\n* Align each item one by one in locale\n\n* fix el-dialog width is too wide\n\n* fix locale\n\n* [Improvement][UI] Improve script box and dialog css style (#4331)\n\n* [Fix-4335][UI] Fix IE 9-11 not supported\n\n* [FIx-4338][UI] Fix invalid date problem in IE\n\n* [Improvement] Use environment variable $DOLPHINSCHEDULE_OPTS as daemon startup arguments (#4341)\n\nCo-authored-by: hailin0 <hailin0@yeah.net>\n\n* [Fix][common] only two yarns can be selected(#4314) (#4344)\n\n* Handling conflicts manually\n\n* code style\n\n* ut skip ui\n\n* fix ut error\n\n* fix ut error\n\n* delete SchedulerController Unused field\n\n* delete SchedulerController Unused field\n\n* delete SchedulerController Unused field\n\n* ci skip ui\n\n* ignore AlertPluginManagerTest.java and DolphinPluginLoaderTest.java\n\n* fix ut error\n\n* fix ut error\n\n* test\n\n* code style\n\n* replace ui\n\n* replace ui\n\n* replace ui\n\n* replace ui\n\n* fix license\n\n* fix license\n\nCo-authored-by: ?? <62982788+597365581@users.noreply.github.com>\nCo-authored-by: zhuangchong <37063904+zhuangchong@users.noreply.github.com>\nCo-authored-by: spring-bu <37682426+spring-bu@users.noreply.github.com>\nCo-authored-by: dailidong <dailidong66@gmail.com>\nCo-authored-by: lgcareer <18610854716@163.com>\nCo-authored-by: BoYiZhang <39816903+BoYiZhang@users.noreply.github.com>\nCo-authored-by: xingchun-chen <55787491+xingchun-chen@users.noreply.github.com>\nCo-authored-by: baoliang <baoliang@analysys.com.cn>\nCo-authored-by: BoYiZhang <zhangboyi_mx@163.com>\nCo-authored-by: zixi0825 <649790970@qq.com>\nCo-authored-by: sunchaohe <sunzhaohe@linklogis.com>\nCo-authored-by: break60 <790061044@qq.com>\nCo-authored-by: bao liang <29528966+lenboo@users.noreply.github.com>\nCo-authored-by: t1mon <178317391@qq.com>\nCo-authored-by: zhanglong <zhanglong@ysstech.com>\nCo-authored-by: ??? <sun.jifeng@outlook.com>\nCo-authored-by: wulingqi <wulingqi@baijiahulian.com>\nCo-authored-by: lgcareer <lgcareer@apache.org>\nCo-authored-by: IamMujuziMoses <49279842+IamMujuziMoses@users.noreply.github.com>\nCo-authored-by: huzekang <1040080742@qq.com>\nCo-authored-by: JinyLeeChina <42576980+JinyLeeChina@users.noreply.github.com>\nCo-authored-by: Eights-LI <yelli.eights@gmail.com>\nCo-authored-by: wuchunfu <319355703@qq.com>\nCo-authored-by: qiaozhanwei <qiaozhanwei@analysys.com.cn>\nCo-authored-by: Yelli <amarantine@my.com>\nCo-authored-by: Eights-Li <yelli.hl@gmail.com>\nCo-authored-by: qiaozhanwei <qiaozhanwei@outlook.com>\nCo-authored-by: XiaotaoYi <v-xiayi@hotmail.com>\nCo-authored-by: Yichao Yang <1048262223@qq.com>\nCo-authored-by: zhuangchong <zhuangchong8@163.com>\nCo-authored-by: muzhongjiang <mu_zhongjiang@163.com>\nCo-authored-by: Jave-Chen <baicai.chen@gmail.com>\nCo-authored-by: zhuangchong <zhuangchong6@163.com>\nCo-authored-by: hailin0 <hailin0@yeah.net>\nCo-authored-by: yangquan <iyeeku@qq.com>\nCo-authored-by: liliang1991 <liliang_68@126.com>\nCo-authored-by: liang.li.c <liang.li.c@17zuoye.com>\nCo-authored-by: felix.wang <59079269+felix-thinkingdata@users.noreply.github.com>\nCo-authored-by: chengshiwen <chengshiwen0103@gmail.com>\nCo-authored-by: Yarlung <turingdojo@163.com>\nCo-authored-by: karlsun <karlsun@tencent.com>\nCo-authored-by: wangxj3 <857234426@qq.com>\nCo-authored-by: chengp <5058557@qq.com>\nCo-authored-by: chengp <chengp@chengp.net>\nCo-authored-by: Saksham Gupta <saksham1319@gmail.com>\nCo-authored-by: Tq <36755957+Tianqi-Dotes@users.noreply.github.com>\nCo-authored-by: Jatham <59549328+Jatham922@users.noreply.github.com>\nCo-authored-by: hailin0 <hailin0@foxmail.com>\nCo-authored-by: zh0122 <zh0122@gmail.com>\nCo-authored-by: geosmart <geosmart@hotmail.com>\nCo-authored-by: ??? <liby-1987@163.com>\nCo-authored-by: 0002939 <licongyang@mininglamp.com>\nCo-authored-by: kamisamak <1057372918@qq.com>\n\n* fix alert-spi error\ntodo sql script\n\n* add page query plugin instance\nadd plugin instance check name\n\n* add page query plugin instance\nadd plugin instance check name\n\n* add props field\n\n* ding talk some filed is not required\n\n* fix bug\n\n* fix error\n\n* revert\n\n* add name field provide to ui\n\n* fix send error\n\n* add ui\n\n* delete useless constant definitions\ncode style\n\n* code style\n\n* fix license head error\n\n* fix ut error\n\n* fix ut error\n\n* del unused jar\n\n* import alert-plugin\n\n* upgrade jboss-logging\n\n* upgrade jboss-logging\n\n* fix ut error\n\n* fix Vulnerabilities\n\n* fix Vulnerabilities\n\n* fix Vulnerabilities\n\n* code smell\n\n* fix Vulnerabilities\n\n* add  public constructors\n\n* fix  Vulnerabilities\n\n* resolve conflicts\n\nCo-authored-by: break60 <790061044@qq.com>\nCo-authored-by: gaojun2048 <32193458+gaojun2048@users.noreply.github.com>\nCo-authored-by: zhuangchong <zhuangchong6@163.com>\nCo-authored-by: dailidong <dailidong66@gmail.com>\nCo-authored-by: samz406 <samz406@foxmail.com>\nCo-authored-by: gaojun2048 <540957506@qq.com>\nCo-authored-by: zhuangchong <37063904+zhuangchong@users.noreply.github.com>\nCo-authored-by: Yichao Yang <1048262223@qq.com>\nCo-authored-by: ?? <62982788+597365581@users.noreply.github.com>\nCo-authored-by: spring-bu <37682426+spring-bu@users.noreply.github.com>\nCo-authored-by: lgcareer <18610854716@163.com>\nCo-authored-by: BoYiZhang <39816903+BoYiZhang@users.noreply.github.com>\nCo-authored-by: xingchun-chen <55787491+xingchun-chen@users.noreply.github.com>\nCo-authored-by: baoliang <baoliang@analysys.com.cn>\nCo-authored-by: BoYiZhang <zhangboyi_mx@163.com>\nCo-authored-by: zixi0825 <649790970@qq.com>\nCo-authored-by: sunchaohe <sunzhaohe@linklogis.com>\nCo-authored-by: bao liang <29528966+lenboo@users.noreply.github.com>\nCo-authored-by: t1mon <178317391@qq.com>\nCo-authored-by: zhanglong <zhanglong@ysstech.com>\nCo-authored-by: ??? <sun.jifeng@outlook.com>\nCo-authored-by: wulingqi <wulingqi@baijiahulian.com>\nCo-authored-by: lgcareer <lgcareer@apache.org>\nCo-authored-by: IamMujuziMoses <49279842+IamMujuziMoses@users.noreply.github.com>\nCo-authored-by: huzekang <1040080742@qq.com>\nCo-authored-by: JinyLeeChina <42576980+JinyLeeChina@users.noreply.github.com>\nCo-authored-by: Eights-LI <yelli.eights@gmail.com>\nCo-authored-by: wuchunfu <319355703@qq.com>\nCo-authored-by: qiaozhanwei <qiaozhanwei@analysys.com.cn>\nCo-authored-by: Yelli <amarantine@my.com>\nCo-authored-by: Eights-Li <yelli.hl@gmail.com>\nCo-authored-by: qiaozhanwei <qiaozhanwei@outlook.com>\nCo-authored-by: XiaotaoYi <v-xiayi@hotmail.com>\nCo-authored-by: zhuangchong <zhuangchong8@163.com>\nCo-authored-by: muzhongjiang <mu_zhongjiang@163.com>\nCo-authored-by: Jave-Chen <baicai.chen@gmail.com>\nCo-authored-by: hailin0 <hailin0@yeah.net>\nCo-authored-by: yangquan <iyeeku@qq.com>\nCo-authored-by: liliang1991 <liliang_68@126.com>\nCo-authored-by: liang.li.c <liang.li.c@17zuoye.com>\nCo-authored-by: felix.wang <59079269+felix-thinkingdata@users.noreply.github.com>\nCo-authored-by: chengshiwen <chengshiwen0103@gmail.com>\nCo-authored-by: Yarlung <turingdojo@163.com>\nCo-authored-by: karlsun <karlsun@tencent.com>\nCo-authored-by: wangxj3 <857234426@qq.com>\nCo-authored-by: chengp <5058557@qq.com>\nCo-authored-by: chengp <chengp@chengp.net>\nCo-authored-by: Saksham Gupta <saksham1319@gmail.com>\nCo-authored-by: Tq <36755957+Tianqi-Dotes@users.noreply.github.com>\nCo-authored-by: Jatham <59549328+Jatham922@users.noreply.github.com>\nCo-authored-by: hailin0 <hailin0@foxmail.com>\nCo-authored-by: zh0122 <zh0122@gmail.com>\nCo-authored-by: geosmart <geosmart@hotmail.com>\nCo-authored-by: ??? <liby-1987@163.com>\nCo-authored-by: 0002939 <licongyang@mininglamp.com>\nCo-authored-by: kamisamak <1057372918@qq.com>","date":"2021-01-22 11:01:46","modifiedFileCount":"56","status":"M","submitter":"Kirs"},{"authorTime":"2021-01-22 17:35:02","codes":[{"authorDate":"2020-04-10 12:06:03","commitOrder":3,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.masterRegistry.unRegistry();\n            this.zkMasterClient.close();\n            \r\n            try{\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            }catch (Exception e){\n                logger.warn(\"Quartz service stopped exception:{}\",e.getMessage());\n            }\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","date":"2020-04-10 12:06:03","endLine":191,"groupId":"1050","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/6d/f82b5a60a0a0e4b86af19c228795f53fc7fe5c.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.masterRegistry.unRegistry();\n            this.zkMasterClient.close();\n            \r\n            try{\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            }catch (Exception e){\n                logger.warn(\"Quartz service stopped exception:{}\",e.getMessage());\n            }\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/MasterServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":156,"status":"N"},{"authorDate":"2021-01-22 17:35:02","commitOrder":3,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","date":"2021-01-22 17:35:02","endLine":152,"groupId":"1735","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/68/95de3d4a414046096d23e486dbe71e614729f0.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n            this.alertClientService.close();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/WorkerServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":125,"status":"M"}],"commitId":"ab95b16d211f9537760b37d624c69a5b5c828ced","commitMessage":"@@@Revert \"[Feature-#3049] Alert Plugin Design(merge alert_plugin_design to dev) (#4495)\" (#4535)\n\nThis reverts commit 0c8d08cb","date":"2021-01-22 17:35:02","modifiedFileCount":"56","status":"M","submitter":"Kirs"},{"authorTime":"2021-01-22 19:41:46","codes":[{"authorDate":"2020-04-10 12:06:03","commitOrder":4,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.masterRegistry.unRegistry();\n            this.zkMasterClient.close();\n            \r\n            try{\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            }catch (Exception e){\n                logger.warn(\"Quartz service stopped exception:{}\",e.getMessage());\n            }\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","date":"2020-04-10 12:06:03","endLine":191,"groupId":"1050","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/6d/f82b5a60a0a0e4b86af19c228795f53fc7fe5c.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.masterRegistry.unRegistry();\n            this.zkMasterClient.close();\n            \r\n            try{\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            }catch (Exception e){\n                logger.warn(\"Quartz service stopped exception:{}\",e.getMessage());\n            }\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/MasterServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":156,"status":"N"},{"authorDate":"2021-01-22 19:41:46","commitOrder":4,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n            this.alertClientService.close();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","date":"2021-01-22 19:41:46","endLine":165,"groupId":"1735","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/bc/c082846b092c17f4d01a40d5f1c504c69162b2.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/WorkerServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":136,"status":"M"}],"commitId":"acee4e00ec97ee3b8602402e46843d83ec67d10d","commitMessage":"@@@Merge pull request #4537 from CalvinKris/alert_plugin_design\n\n[Feature-#3049] Alert Plugin Design(merge alert_plugin_design to dev","date":"2021-01-22 19:41:46","modifiedFileCount":"56","status":"M","submitter":"gaojun2048"},{"authorTime":"2021-01-22 19:41:46","codes":[{"authorDate":"2021-02-24 11:19:00","commitOrder":5,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.zkMasterClient.close();\n            \r\n            try{\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            }catch (Exception e){\n                logger.warn(\"Quartz service stopped exception:{}\",e.getMessage());\n            }\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","date":"2021-02-24 11:19:00","endLine":184,"groupId":"489","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/18/882a2fb597d982fabce7d793e67b6187d116a3.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.masterRegistry.unRegistry();\n            this.zkMasterClient.close();\n            \r\n            try{\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            }catch (Exception e){\n                logger.warn(\"Quartz service stopped exception:{}\",e.getMessage());\n            }\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/MasterServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":150,"status":"M"},{"authorDate":"2021-01-22 19:41:46","commitOrder":5,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n            this.alertClientService.close();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","date":"2021-01-22 19:41:46","endLine":165,"groupId":"1735","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/bc/c082846b092c17f4d01a40d5f1c504c69162b2.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n            this.alertClientService.close();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/WorkerServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":136,"status":"N"}],"commitId":"cfce4ae8a09abd4fd6242934f43ba39a512bef0a","commitMessage":"@@@[Fix-#4840][worker] fix master fault tolerance when startup (#4845)\n\n* [Fix-#4840][worker] fix master fault tolerance when startup\n\n* [Fix-#4840][worker] move masterRegistry.unRegistry to zkMasterClient.close","date":"2021-02-24 11:19:00","modifiedFileCount":"2","status":"M","submitter":"guohaozhang"},{"authorTime":"2021-03-02 14:05:00","codes":[{"authorDate":"2021-03-02 14:05:00","commitOrder":6,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.masterRegistry.unRegistry();\n            this.zkMasterClient.close();\n            \r\n            try {\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            } catch (Exception e) {\n                logger.warn(\"Quartz service stopped exception:{}\", e.getMessage());\n            }\n\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n        } finally {\n            System.exit(-1);\n        }\n    }\n","date":"2021-03-02 14:05:00","endLine":204,"groupId":"1050","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/c2/ea2c40733c5f06f0922b817c239d7f627b942b.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if(Stopper.isStopped()){\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            }catch (Exception e){\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.zkMasterClient.close();\n            \r\n            try{\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            }catch (Exception e){\n                logger.warn(\"Quartz service stopped exception:{}\",e.getMessage());\n            }\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/MasterServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":167,"status":"M"},{"authorDate":"2021-03-02 14:05:00","commitOrder":6,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n            this.alertClientService.close();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n        } finally {\n            System.exit(-1);\n        }\n    }\n","date":"2021-03-02 14:05:00","endLine":188,"groupId":"1735","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/10/880bf94f1c5b7effccdfae4b12581e1757fa4f.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n            this.alertClientService.close();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/WorkerServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":158,"status":"M"}],"commitId":"43ba29a2dd72a480d582258323ec5d062333fe96","commitMessage":"@@@[Improvement-4624] When the server exist in the dead server list of zk. need stop service byself (#4626)\n\n* [Improvement-4624] When the server exist in the dead server list of zk. need stop service byself\n\n* [Improvement-4624]fix check style and add MaterRegistryTest\n\n* [Improvement-4624]fix check style and add ZookeeperRegistryCenterTest\n\n* [Improvement-4624]fix check style and add ZookeeperRegistryCenterTest\n\n* [Improvement-4624]add RegisterOperatorTest\n\n* [Improvement-4624]update RegisterOperatorTest\n\n* [Improvement-4624]resolve code smell\n\n* [Improvement-4624]revert LICENSE-@form-create-element-ui\n","date":"2021-03-02 14:05:00","modifiedFileCount":"15","status":"M","submitter":"lgcareer"},{"authorTime":"2021-03-02 14:05:00","codes":[{"authorDate":"2021-03-05 09:50:49","commitOrder":7,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.zkMasterClient.close();\n            \r\n            try {\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            } catch (Exception e) {\n                logger.warn(\"Quartz service stopped exception:{}\", e.getMessage());\n            }\n\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n        } finally {\n            System.exit(-1);\n        }\n    }\n","date":"2021-03-05 09:50:49","endLine":188,"groupId":"489","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/5e/00784f8313f44bb7b099947756677f0568ae6f.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.masterRegistry.unRegistry();\n            this.zkMasterClient.close();\n            \r\n            try {\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            } catch (Exception e) {\n                logger.warn(\"Quartz service stopped exception:{}\", e.getMessage());\n            }\n\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n        } finally {\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/MasterServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":152,"status":"M"},{"authorDate":"2021-03-02 14:05:00","commitOrder":7,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n            this.alertClientService.close();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n        } finally {\n            System.exit(-1);\n        }\n    }\n","date":"2021-03-02 14:05:00","endLine":188,"groupId":"1735","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/10/880bf94f1c5b7effccdfae4b12581e1757fa4f.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n            this.alertClientService.close();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n        } finally {\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/WorkerServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":158,"status":"N"}],"commitId":"8c68e2c60b50c76c5aacf36b03a107213d2d0a0a","commitMessage":"@@@[Fix][Worker] Fix worker cannot start and alertClientService NullPointerException (#4956)\n\n* [Fix][Worker] Fix worker cannot start\n\n* [Fix][Worker] Fix alertClientService NullPointerException\n\n* [Fix][Worker] Improve ut coverage\n\n* [Improvement][CI] Improve workflow ci","date":"2021-03-05 09:50:49","modifiedFileCount":"5","status":"M","submitter":"Shiwen Cheng"},{"authorTime":"2021-03-12 09:33:30","codes":[{"authorDate":"2021-03-12 09:33:30","commitOrder":8,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.zkMasterClient.close();\n            \r\n            try {\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            } catch (Exception e) {\n                logger.warn(\"Quartz service stopped exception:{}\", e.getMessage());\n            }\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n        }\n    }\n","date":"2021-03-12 09:33:30","endLine":180,"groupId":"489","id":15,"instanceNumber":1,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/e0/3e8e87b1bc2eb09aad4d66c75c81a7e4c19746.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.zkMasterClient.close();\n            \r\n            try {\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            } catch (Exception e) {\n                logger.warn(\"Quartz service stopped exception:{}\", e.getMessage());\n            }\n\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n        } finally {\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/MasterServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":147,"status":"M"},{"authorDate":"2021-03-12 09:33:30","commitOrder":8,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            \r\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n            this.alertClientService.close();\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n        }\n    }\n","date":"2021-03-12 09:33:30","endLine":179,"groupId":"1735","id":16,"instanceNumber":2,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/12/78ae927b40529f9f88dd9feb7056c51662a90b.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n\n            this.alertClientService.close();\n\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n        } finally {\n            System.exit(-1);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/WorkerServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":152,"status":"M"}],"commitId":"ae608e024a6e0f7c8777324736a8b22685789882","commitMessage":"@@@[Fix-5037][Server] Fix that both the master and the worker is hanging after restarting and stopping (#5038)\n\n* [Fix-5037][Server] Fix that both the master and the worker is hanging after restarting and stopping\n\n* [Improvement][*] Replace commons.lang.StringUtils with common.utils.StringUtils","date":"2021-03-12 09:33:30","modifiedFileCount":"15","status":"M","submitter":"Shiwen Cheng"},{"authorTime":"2021-03-12 09:33:30","codes":[{"authorDate":"2021-06-04 13:27:18","commitOrder":9,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.zkMasterClient.close();\n            \r\n            try {\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            } catch (Exception e) {\n                logger.warn(\"Quartz service stopped exception:{}\", e.getMessage());\n            }\n            \r\n            springApplicationContext.close();\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n        }\n    }\n","date":"2021-06-04 13:27:18","endLine":191,"groupId":"489","id":17,"instanceNumber":1,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/6c/15145fbe0076c46188b27d7466d8e3ab1f1dae.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.zkMasterClient.close();\n            \r\n            try {\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            } catch (Exception e) {\n                logger.warn(\"Quartz service stopped exception:{}\", e.getMessage());\n            }\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/MasterServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":156,"status":"M"},{"authorDate":"2021-03-12 09:33:30","commitOrder":9,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            \r\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n            this.alertClientService.close();\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n        }\n    }\n","date":"2021-03-12 09:33:30","endLine":179,"groupId":"1735","id":18,"instanceNumber":2,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/12/78ae927b40529f9f88dd9feb7056c51662a90b.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            \r\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n            this.alertClientService.close();\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/WorkerServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":152,"status":"N"}],"commitId":"75be09735a29469ef5169550239c65a5a27af3ba","commitMessage":"@@@[DS-5559][fix][Master Server] Master Server was shutdown but the process still in system (#5588)\n\n* Close spring context to destory beans that has running thread","date":"2021-06-04 13:27:18","modifiedFileCount":"3","status":"M","submitter":"Chouc"},{"authorTime":"2021-06-09 15:21:02","codes":[{"authorDate":"2021-06-09 15:21:02","commitOrder":10,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.masterRegistryClient.closeRegistry();\n            \r\n            try {\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            } catch (Exception e) {\n                logger.warn(\"Quartz service stopped exception:{}\", e.getMessage());\n            }\n            \r\n            springApplicationContext.close();\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n        }\n    }\n","date":"2021-06-09 15:21:02","endLine":191,"groupId":"489","id":19,"instanceNumber":1,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/4b/7a7e409a2ed5d1166bdaef0309c273c616399a.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.zkMasterClient.close();\n            \r\n            try {\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            } catch (Exception e) {\n                logger.warn(\"Quartz service stopped exception:{}\", e.getMessage());\n            }\n            \r\n            springApplicationContext.close();\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/MasterServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":156,"status":"M"},{"authorDate":"2021-06-09 15:21:02","commitOrder":10,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            \r\n            this.nettyRemotingServer.close();\n            this.workerRegistryClient.unRegistry();\n            this.alertClientService.close();\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n        }\n    }\n","date":"2021-06-09 15:21:02","endLine":187,"groupId":"186","id":20,"instanceNumber":2,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/91/566b11a8eda9bb81777a17f5e069f6ce9e9423.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            \r\n            this.nettyRemotingServer.close();\n            this.workerRegistry.unRegistry();\n            this.alertClientService.close();\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/WorkerServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":160,"status":"M"}],"commitId":"e2243d63bee789b96d8ceeb302261564c5a28ce7","commitMessage":"@@@[Feature-#3961][Registry]Registry-SPI (#5562)\n\n[Feature#3961]Registry SPI\n\nAll the logical structure of the registry must be converted into a tree structure within the system.  so some plug-ins must be converted internally.  such as ETCD\nThe registry supports distributed locks.\ntodo: The specific information about the registration center of the API module needs to be adjusted.","date":"2021-06-09 15:21:02","modifiedFileCount":"53","status":"M","submitter":"Kirs"},{"authorTime":"2021-08-27 19:43:04","codes":[{"authorDate":"2021-06-09 15:21:02","commitOrder":11,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.masterRegistryClient.closeRegistry();\n            \r\n            try {\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            } catch (Exception e) {\n                logger.warn(\"Quartz service stopped exception:{}\", e.getMessage());\n            }\n            \r\n            springApplicationContext.close();\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n        }\n    }\n","date":"2021-06-09 15:21:02","endLine":191,"groupId":"1067","id":21,"instanceNumber":1,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/4b/7a7e409a2ed5d1166bdaef0309c273c616399a.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"master server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception \", e);\n            }\n            \r\n            this.masterSchedulerService.close();\n            this.nettyRemotingServer.close();\n            this.masterRegistryClient.closeRegistry();\n            \r\n            try {\n                QuartzExecutors.getInstance().shutdown();\n                logger.info(\"Quartz service stopped\");\n            } catch (Exception e) {\n                logger.warn(\"Quartz service stopped exception:{}\", e.getMessage());\n            }\n            \r\n            springApplicationContext.close();\n        } catch (Exception e) {\n            logger.error(\"master server stop exception \", e);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/MasterServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":156,"status":"N"},{"authorDate":"2021-08-27 19:43:04","commitOrder":11,"curCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            \r\n            this.nettyRemotingServer.close();\n            this.workerRegistryClient.unRegistry();\n            this.alertClientService.close();\n            this.springApplicationContext.close();\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n        }\n    }\n","date":"2021-08-27 19:43:04","endLine":188,"groupId":"1067","id":22,"instanceNumber":2,"isCurCommit":0,"methodName":"close","params":"(Stringcause)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/7c/18963f381cd84a6db5044d93d4bfefe7f82395.src","preCode":"    public void close(String cause) {\n\n        try {\n            \r\n            if (Stopper.isStopped()) {\n                return;\n            }\n\n            logger.info(\"worker server is stopping ..., cause : {}\", cause);\n\n            \r\n            Stopper.stop();\n\n            try {\n                \r\n                Thread.sleep(3000L);\n            } catch (Exception e) {\n                logger.warn(\"thread sleep exception\", e);\n            }\n\n            \r\n            this.nettyRemotingServer.close();\n            this.workerRegistryClient.unRegistry();\n            this.alertClientService.close();\n        } catch (Exception e) {\n            logger.error(\"worker server stop exception \", e);\n        }\n    }\n","realPath":"dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/WorkerServer.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":160,"status":"M"}],"commitId":"839d6054eeb32c9efbab4836aa169e1c9c6ca417","commitMessage":"@@@fix dead server cannot stop (#6046)\n\n","date":"2021-08-27 19:43:04","modifiedFileCount":"4","status":"M","submitter":"Wenjun Ruan"}]
