[{"authorTime":"2019-12-24 13:29:45","codes":[{"authorDate":"2019-12-24 13:29:45","commitOrder":1,"curCode":"    public void testSaveWorkerGroup() throws Exception {\n        MultiValueMap<String, String> paramsMap = new LinkedMultiValueMap<>();\n        paramsMap.add(\"name\",\"cxc_work_group\");\n        paramsMap.add(\"ipList\",\"192.16.12,192.168,10,12\");\n        MvcResult mvcResult = mockMvc.perform(post(\"/worker-group/save\")\n                .header(\"sessionId\", sessionId)\n                .params(paramsMap))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_UTF8))\n                .andReturn();\n        Result result = JSONUtils.parseObject(mvcResult.getResponse().getContentAsString(), Result.class);\n        Assert.assertEquals(Status.SUCCESS.getCode(),result.getCode().intValue());\n        logger.info(mvcResult.getResponse().getContentAsString());\n    }\n","date":"2019-12-24 13:29:45","endLine":55,"groupId":"2168","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testSaveWorkerGroup","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/65/ecd3f759ce53fee7cde9e28826c0629ec4f5bb.src","preCode":"    public void testSaveWorkerGroup() throws Exception {\n        MultiValueMap<String, String> paramsMap = new LinkedMultiValueMap<>();\n        paramsMap.add(\"name\",\"cxc_work_group\");\n        paramsMap.add(\"ipList\",\"192.16.12,192.168,10,12\");\n        MvcResult mvcResult = mockMvc.perform(post(\"/worker-group/save\")\n                .header(\"sessionId\", sessionId)\n                .params(paramsMap))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_UTF8))\n                .andReturn();\n        Result result = JSONUtils.parseObject(mvcResult.getResponse().getContentAsString(), Result.class);\n        Assert.assertEquals(Status.SUCCESS.getCode(),result.getCode().intValue());\n        logger.info(mvcResult.getResponse().getContentAsString());\n    }\n","realPath":"dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/controller/WorkerGroupControllerTest.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":42,"status":"B"},{"authorDate":"2019-12-24 13:29:45","commitOrder":1,"curCode":"    public void testDeleteById() throws Exception {\n        MultiValueMap<String, String> paramsMap = new LinkedMultiValueMap<>();\n        paramsMap.add(\"id\",\"12\");\n        MvcResult mvcResult = mockMvc.perform(get(\"/worker-group/delete-by-id\")\n                .header(\"sessionId\", sessionId)\n                .params(paramsMap))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_UTF8))\n                .andReturn();\n        Result result = JSONUtils.parseObject(mvcResult.getResponse().getContentAsString(), Result.class);\n        Assert.assertEquals(Status.SUCCESS.getCode(),result.getCode().intValue());\n        logger.info(mvcResult.getResponse().getContentAsString());\n    }\n","date":"2019-12-24 13:29:45","endLine":101,"groupId":"2168","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testDeleteById","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/65/ecd3f759ce53fee7cde9e28826c0629ec4f5bb.src","preCode":"    public void testDeleteById() throws Exception {\n        MultiValueMap<String, String> paramsMap = new LinkedMultiValueMap<>();\n        paramsMap.add(\"id\",\"12\");\n        MvcResult mvcResult = mockMvc.perform(get(\"/worker-group/delete-by-id\")\n                .header(\"sessionId\", sessionId)\n                .params(paramsMap))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_UTF8))\n                .andReturn();\n        Result result = JSONUtils.parseObject(mvcResult.getResponse().getContentAsString(), Result.class);\n        Assert.assertEquals(Status.SUCCESS.getCode(),result.getCode().intValue());\n        logger.info(mvcResult.getResponse().getContentAsString());\n    }\n","realPath":"dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/controller/WorkerGroupControllerTest.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":89,"status":"B"}],"commitId":"10c39db1fc36ca7a670e931fc624a4c5e8d6c511","commitMessage":"@@@add api/controller unit test  (#1488)\n\n* add api controller UT\n\n* add api/controller UT license\n\nCo-authored-by: chenxingchun <50446296+chenxingchun@users.noreply.github.com>\n","date":"2019-12-24 13:29:45","modifiedFileCount":"16","status":"B","submitter":"xingchun-chen"},{"authorTime":"2021-06-22 01:47:24","codes":[{"authorDate":"2021-06-22 01:47:24","commitOrder":2,"curCode":"    public void testSaveWorkerGroup() throws Exception {\n        MultiValueMap<String, String> paramsMap = new LinkedMultiValueMap<>();\n        paramsMap.add(\"name\",\"cxc_work_group\");\n        paramsMap.add(\"ipList\",\"192.16.12,192.168,10,12\");\n        MvcResult mvcResult = mockMvc.perform(post(\"/worker-group/save\")\n                .header(\"sessionId\", sessionId)\n                .params(paramsMap))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_UTF8))\n                .andReturn();\n        Result result = JSONUtils.parseObject(mvcResult.getResponse().getContentAsString(), Result.class);\n        Assert.assertTrue(result != null && result.isSuccess());\n        logger.info(mvcResult.getResponse().getContentAsString());\n    }\n","date":"2021-06-22 01:47:24","endLine":59,"groupId":"2168","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testSaveWorkerGroup","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/0c/4f2a98886563963a7d5c5b3634431f25e0b098.src","preCode":"    public void testSaveWorkerGroup() throws Exception {\n        MultiValueMap<String, String> paramsMap = new LinkedMultiValueMap<>();\n        paramsMap.add(\"name\",\"cxc_work_group\");\n        paramsMap.add(\"ipList\",\"192.16.12,192.168,10,12\");\n        MvcResult mvcResult = mockMvc.perform(post(\"/worker-group/save\")\n                .header(\"sessionId\", sessionId)\n                .params(paramsMap))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_UTF8))\n                .andReturn();\n        Result result = JSONUtils.parseObject(mvcResult.getResponse().getContentAsString(), Result.class);\n        Assert.assertEquals(Status.SUCCESS.getCode(),result.getCode().intValue());\n        logger.info(mvcResult.getResponse().getContentAsString());\n    }\n","realPath":"dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/controller/WorkerGroupControllerTest.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":46,"status":"M"},{"authorDate":"2021-06-22 01:47:24","commitOrder":2,"curCode":"    public void testDeleteById() throws Exception {\n        MultiValueMap<String, String> paramsMap = new LinkedMultiValueMap<>();\n        paramsMap.add(\"id\",\"12\");\n        MvcResult mvcResult = mockMvc.perform(get(\"/worker-group/delete-by-id\")\n                .header(\"sessionId\", sessionId)\n                .params(paramsMap))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_UTF8))\n                .andReturn();\n        Result result = JSONUtils.parseObject(mvcResult.getResponse().getContentAsString(), Result.class);\n        Assert.assertTrue(result != null && result.isSuccess());\n        logger.info(mvcResult.getResponse().getContentAsString());\n    }\n","date":"2021-06-22 01:47:24","endLine":105,"groupId":"2168","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testDeleteById","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/0c/4f2a98886563963a7d5c5b3634431f25e0b098.src","preCode":"    public void testDeleteById() throws Exception {\n        MultiValueMap<String, String> paramsMap = new LinkedMultiValueMap<>();\n        paramsMap.add(\"id\",\"12\");\n        MvcResult mvcResult = mockMvc.perform(get(\"/worker-group/delete-by-id\")\n                .header(\"sessionId\", sessionId)\n                .params(paramsMap))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_UTF8))\n                .andReturn();\n        Result result = JSONUtils.parseObject(mvcResult.getResponse().getContentAsString(), Result.class);\n        Assert.assertEquals(Status.SUCCESS.getCode(),result.getCode().intValue());\n        logger.info(mvcResult.getResponse().getContentAsString());\n    }\n","realPath":"dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/controller/WorkerGroupControllerTest.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":93,"status":"M"}],"commitId":"e628e4e8fdc72f0362449a78870493789450b284","commitMessage":"@@@[Improvement][API] Simplify the Check of Result by introducing several new methods. (#5666)\n\n","date":"2021-06-22 01:47:24","modifiedFileCount":"31","status":"M","submitter":"kyoty"},{"authorTime":"2021-07-14 11:54:41","codes":[{"authorDate":"2021-07-14 11:54:41","commitOrder":3,"curCode":"    public void testSaveWorkerGroup() throws Exception {\n        Map<String, String> serverMaps = new HashMap<>();\n        serverMaps.put(\"192.168.0.1\", \"192.168.0.1\");\n        serverMaps.put(\"192.168.0.2\", \"192.168.0.2\");\n        PowerMockito.when(RegistryCenterUtils.getServerMaps(NodeType.WORKER, true)).thenReturn(serverMaps);\n\n        MultiValueMap<String, String> paramsMap = new LinkedMultiValueMap<>();\n        paramsMap.add(\"name\",\"cxc_work_group\");\n        paramsMap.add(\"addrList\",\"192.168.0.1,192.168.0.2\");\n        MvcResult mvcResult = mockMvc.perform(post(\"/worker-group/save\")\n                .header(\"sessionId\", sessionId)\n                .params(paramsMap))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_UTF8))\n                .andReturn();\n        Result result = JSONUtils.parseObject(mvcResult.getResponse().getContentAsString(), Result.class);\n        Assert.assertTrue(result != null && result.isSuccess());\n        logger.info(mvcResult.getResponse().getContentAsString());\n    }\n","date":"2021-07-14 11:54:41","endLine":81,"groupId":"10446","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"testSaveWorkerGroup","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/f6/e79bf77068869c64e586e426ed6b94e415bda8.src","preCode":"    public void testSaveWorkerGroup() throws Exception {\n        MultiValueMap<String, String> paramsMap = new LinkedMultiValueMap<>();\n        paramsMap.add(\"name\",\"cxc_work_group\");\n        paramsMap.add(\"ipList\",\"192.16.12,192.168,10,12\");\n        MvcResult mvcResult = mockMvc.perform(post(\"/worker-group/save\")\n                .header(\"sessionId\", sessionId)\n                .params(paramsMap))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_UTF8))\n                .andReturn();\n        Result result = JSONUtils.parseObject(mvcResult.getResponse().getContentAsString(), Result.class);\n        Assert.assertTrue(result != null && result.isSuccess());\n        logger.info(mvcResult.getResponse().getContentAsString());\n    }\n","realPath":"dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/controller/WorkerGroupControllerTest.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":63,"status":"M"},{"authorDate":"2021-07-14 11:54:41","commitOrder":3,"curCode":"    public void testDeleteById() throws Exception {\n        WorkerGroup workerGroup = new WorkerGroup();\n        workerGroup.setId(12);\n        workerGroup.setName(\"������������������\");\n        Mockito.when(workerGroupMapper.selectById(12)).thenReturn(workerGroup);\n        Mockito.when(processInstanceMapper.queryByWorkerGroupNameAndStatus(\"������������������\", Constants.NOT_TERMINATED_STATES)).thenReturn(null);\n        Mockito.when(workerGroupMapper.deleteById(12)).thenReturn(1);\n        Mockito.when(processInstanceMapper.updateProcessInstanceByWorkerGroupName(\"������������������\", \"\")).thenReturn(1);\n\n        MultiValueMap<String, String> paramsMap = new LinkedMultiValueMap<>();\n        paramsMap.add(\"id\",\"12\");\n        MvcResult mvcResult = mockMvc.perform(post(\"/worker-group/delete-by-id\")\n                .header(\"sessionId\", sessionId)\n                .params(paramsMap))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_UTF8))\n                .andReturn();\n        Result result = JSONUtils.parseObject(mvcResult.getResponse().getContentAsString(), Result.class);\n        Assert.assertTrue(result != null && result.isSuccess());\n        logger.info(mvcResult.getResponse().getContentAsString());\n    }\n","date":"2021-07-14 11:54:41","endLine":135,"groupId":"10446","id":6,"instanceNumber":2,"isCurCommit":1,"methodName":"testDeleteById","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-dolphinscheduler-10-0.7/blobInfo/CC_OUT/blobs/f6/e79bf77068869c64e586e426ed6b94e415bda8.src","preCode":"    public void testDeleteById() throws Exception {\n        MultiValueMap<String, String> paramsMap = new LinkedMultiValueMap<>();\n        paramsMap.add(\"id\",\"12\");\n        MvcResult mvcResult = mockMvc.perform(get(\"/worker-group/delete-by-id\")\n                .header(\"sessionId\", sessionId)\n                .params(paramsMap))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_UTF8))\n                .andReturn();\n        Result result = JSONUtils.parseObject(mvcResult.getResponse().getContentAsString(), Result.class);\n        Assert.assertTrue(result != null && result.isSuccess());\n        logger.info(mvcResult.getResponse().getContentAsString());\n    }\n","realPath":"dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/controller/WorkerGroupControllerTest.java","repoName":"dolphinscheduler","snippetEndLine":0,"snippetStartLine":0,"startLine":115,"status":"M"}],"commitId":"596821a5b691622487863d1e53a147453d435ab7","commitMessage":"@@@[Improvement][Api Module] refactor registry client.  remove spring annotation (#5814)\n\n* fix: refactor registry client.  remove spring annotation\n\n* fix UT\n\n* fix UT\n\n* fix checkstyle\n\n* fix UT\n\n* fix UT\n\n* fix UT\n\n* fix: Rename RegistryCenterUtils method name\n\nCo-authored-by: wen-hemin <wenhemin@apache.com>","date":"2021-07-14 11:54:41","modifiedFileCount":"18","status":"M","submitter":"wen-hemin"}]
