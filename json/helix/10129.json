[{"authorTime":"2018-03-03 06:20:14","codes":[{"authorDate":"2018-03-03 06:20:14","commitOrder":2,"curCode":"  public void testMixedListener() throws Exception {\n    String methodName = TestHelper.getTestMethodName();\n    System.out.println(\"START \" + methodName + \" at \" + new Date(System.currentTimeMillis()));\n\n    final MixedListener mixedListener = new MixedListener();\n    addListeners(mixedListener);\n    updateConfigs();\n\n    Thread.sleep(4000);\n    boolean result = (mixedListener._instanceConfigChangedCount == _numNode) && (\n        mixedListener._idealStateChangedCount < _numResource/2);\n\n    Assert.assertTrue(result, \"instance callbacks: \" + mixedListener._instanceConfigChangedCount\n        + \", idealstate callbacks \" + mixedListener._idealStateChangedCount + \"\\ninstance count: \"\n        + _numNode + \", idealstate counts: \" + _numResource);\n\n    removeListeners(mixedListener);\n\n    System.out.println(\"END \" + methodName + \" at \" + new Date(System.currentTimeMillis()));\n  }\n","date":"2018-03-03 06:51:44","endLine":211,"groupId":"4566","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testMixedListener","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/8c/c3b0f6f2a28980a637ea35e682a62266ef0a90.src","preCode":"  public void testMixedListener() throws Exception {\n    String methodName = TestHelper.getTestMethodName();\n    System.out.println(\"START \" + methodName + \" at \" + new Date(System.currentTimeMillis()));\n\n    final MixedListener mixedListener = new MixedListener();\n    addListeners(mixedListener);\n    updateConfigs();\n\n    Thread.sleep(4000);\n    boolean result = (mixedListener._instanceConfigChangedCount == _numNode) && (\n        mixedListener._idealStateChangedCount < _numResource/2);\n\n    Assert.assertTrue(result, \"instance callbacks: \" + mixedListener._instanceConfigChangedCount\n        + \", idealstate callbacks \" + mixedListener._idealStateChangedCount + \"\\ninstance count: \"\n        + _numNode + \", idealstate counts: \" + _numResource);\n\n    removeListeners(mixedListener);\n\n    System.out.println(\"END \" + methodName + \" at \" + new Date(System.currentTimeMillis()));\n  }\n","realPath":"helix-core/src/test/java/org/apache/helix/TestListenerCallbackBatchMode.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":192,"status":"MB"},{"authorDate":"2018-03-03 06:20:14","commitOrder":2,"curCode":"  private void verifyBatchedListeners(Listener batchListener) throws InterruptedException {\n    Thread.sleep(3000);\n    boolean result = (batchListener._instanceConfigChangedCount < _numNode / 2) && (\n        batchListener._idealStateChangedCount < _numResource / 2);\n\n    Assert.assertTrue(result, \"instance callbacks: \" + batchListener._instanceConfigChangedCount\n        + \", idealstate callbacks \" + batchListener._idealStateChangedCount + \"\\ninstance count: \"\n        + _numNode + \", idealstate counts: \" + _numResource);\n\n  }\n","date":"2018-03-03 06:51:44","endLine":237,"groupId":"1942","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"verifyBatchedListeners","params":"(ListenerbatchListener)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/8c/c3b0f6f2a28980a637ea35e682a62266ef0a90.src","preCode":"  private void verifyBatchedListeners(Listener batchListener) throws InterruptedException {\n    Thread.sleep(3000);\n    boolean result = (batchListener._instanceConfigChangedCount < _numNode / 2) && (\n        batchListener._idealStateChangedCount < _numResource / 2);\n\n    Assert.assertTrue(result, \"instance callbacks: \" + batchListener._instanceConfigChangedCount\n        + \", idealstate callbacks \" + batchListener._idealStateChangedCount + \"\\ninstance count: \"\n        + _numNode + \", idealstate counts: \" + _numResource);\n\n  }\n","realPath":"helix-core/src/test/java/org/apache/helix/TestListenerCallbackBatchMode.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":228,"status":"B"}],"commitId":"2dbd88ffed2eb84697225a58e8831b740ecd5919","commitMessage":"@@@CallbackHandler to use either java config property or class annotation to enable batch callback handling.\n","date":"2018-03-03 06:51:44","modifiedFileCount":"3","status":"M","submitter":"Lei Xia"},{"authorTime":"2018-06-13 04:57:09","codes":[{"authorDate":"2018-03-03 06:20:14","commitOrder":3,"curCode":"  public void testMixedListener() throws Exception {\n    String methodName = TestHelper.getTestMethodName();\n    System.out.println(\"START \" + methodName + \" at \" + new Date(System.currentTimeMillis()));\n\n    final MixedListener mixedListener = new MixedListener();\n    addListeners(mixedListener);\n    updateConfigs();\n\n    Thread.sleep(4000);\n    boolean result = (mixedListener._instanceConfigChangedCount == _numNode) && (\n        mixedListener._idealStateChangedCount < _numResource/2);\n\n    Assert.assertTrue(result, \"instance callbacks: \" + mixedListener._instanceConfigChangedCount\n        + \", idealstate callbacks \" + mixedListener._idealStateChangedCount + \"\\ninstance count: \"\n        + _numNode + \", idealstate counts: \" + _numResource);\n\n    removeListeners(mixedListener);\n\n    System.out.println(\"END \" + methodName + \" at \" + new Date(System.currentTimeMillis()));\n  }\n","date":"2018-03-03 06:51:44","endLine":211,"groupId":"10129","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testMixedListener","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/8c/c3b0f6f2a28980a637ea35e682a62266ef0a90.src","preCode":"  public void testMixedListener() throws Exception {\n    String methodName = TestHelper.getTestMethodName();\n    System.out.println(\"START \" + methodName + \" at \" + new Date(System.currentTimeMillis()));\n\n    final MixedListener mixedListener = new MixedListener();\n    addListeners(mixedListener);\n    updateConfigs();\n\n    Thread.sleep(4000);\n    boolean result = (mixedListener._instanceConfigChangedCount == _numNode) && (\n        mixedListener._idealStateChangedCount < _numResource/2);\n\n    Assert.assertTrue(result, \"instance callbacks: \" + mixedListener._instanceConfigChangedCount\n        + \", idealstate callbacks \" + mixedListener._idealStateChangedCount + \"\\ninstance count: \"\n        + _numNode + \", idealstate counts: \" + _numResource);\n\n    removeListeners(mixedListener);\n\n    System.out.println(\"END \" + methodName + \" at \" + new Date(System.currentTimeMillis()));\n  }\n","realPath":"helix-core/src/test/java/org/apache/helix/TestListenerCallbackBatchMode.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":192,"status":"N"},{"authorDate":"2018-06-13 04:57:09","commitOrder":3,"curCode":"  private void verifyBatchedListeners(Listener batchListener) throws InterruptedException {\n    Thread.sleep(3000);\n    boolean result = (batchListener._instanceConfigChangedCount < _numNode) && (\n        batchListener._idealStateChangedCount < _numResource);\n\n    Assert.assertTrue(result, \"instance callbacks: \" + batchListener._instanceConfigChangedCount\n        + \", idealstate callbacks \" + batchListener._idealStateChangedCount + \"\\ninstance count: \"\n        + _numNode + \", idealstate counts: \" + _numResource);\n\n  }\n","date":"2018-07-14 06:55:35","endLine":247,"groupId":"10129","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"verifyBatchedListeners","params":"(ListenerbatchListener)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/bf/e66587779897a4751e02e2bc5f3bd28acbcfd8.src","preCode":"  private void verifyBatchedListeners(Listener batchListener) throws InterruptedException {\n    Thread.sleep(3000);\n    boolean result = (batchListener._instanceConfigChangedCount < _numNode / 2) && (\n        batchListener._idealStateChangedCount < _numResource / 2);\n\n    Assert.assertTrue(result, \"instance callbacks: \" + batchListener._instanceConfigChangedCount\n        + \", idealstate callbacks \" + batchListener._idealStateChangedCount + \"\\ninstance count: \"\n        + _numNode + \", idealstate counts: \" + _numResource);\n\n  }\n","realPath":"helix-core/src/test/java/org/apache/helix/TestListenerCallbackBatchMode.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":238,"status":"M"}],"commitId":"4609d94488f4e97e6bf1c233281ca39433c4f72e","commitMessage":"@@@Fix a couple of tests.  and reduce the total test times.\n","date":"2018-07-14 06:55:35","modifiedFileCount":"272","status":"M","submitter":"Lei Xia"}]
