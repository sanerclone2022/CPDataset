[{"authorTime":"2017-12-14 10:57:40","codes":[{"authorDate":"2017-12-14 10:57:40","commitOrder":1,"curCode":"  public Response getWorkflow(@PathParam(\"clusterId\") String clusterId,\n      @PathParam(\"workflowId\") String workflowId) {\n    TaskDriver taskDriver = getTaskDriver(clusterId);\n    WorkflowConfig workflowConfig = taskDriver.getWorkflowConfig(workflowId);\n    WorkflowContext workflowContext = taskDriver.getWorkflowContext(workflowId);\n\n    ObjectNode root = JsonNodeFactory.instance.objectNode();\n    TextNode id = JsonNodeFactory.instance.textNode(workflowId);\n    root.put(Properties.id.name(), id);\n\n    ObjectNode workflowConfigNode = JsonNodeFactory.instance.objectNode();\n    ObjectNode workflowContextNode = JsonNodeFactory.instance.objectNode();\n\n    if (workflowConfig != null) {\n      getWorkflowConfigNode(workflowConfigNode, workflowConfig.getRecord());\n    }\n\n    if (workflowContext != null) {\n      getWorkflowContextNode(workflowContextNode, workflowContext.getRecord());\n    }\n\n    root.put(WorkflowProperties.WorkflowConfig.name(), workflowConfigNode);\n    root.put(WorkflowProperties.WorkflowContext.name(), workflowContextNode);\n\n    JobDag jobDag = workflowConfig.getJobDag();\n    ArrayNode jobs = OBJECT_MAPPER.valueToTree(jobDag.getAllNodes());\n    ObjectNode parentJobs = OBJECT_MAPPER.valueToTree(jobDag.getParentsToChildren());\n    root.put(WorkflowProperties.Jobs.name(), jobs);\n    root.put(WorkflowProperties.ParentJobs.name(), parentJobs);\n\n    return JSONRepresentation(root);\n  }\n","date":"2018-01-25 10:32:39","endLine":116,"groupId":"163","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"getWorkflow","params":"(@PathParam(\"clusterId\")StringclusterId@@PathParam(\"workflowId\")StringworkflowId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/eb/d04fd825f2ca22487bdfd49b5aade0b0b0ecd8.src","preCode":"  public Response getWorkflow(@PathParam(\"clusterId\") String clusterId,\n      @PathParam(\"workflowId\") String workflowId) {\n    TaskDriver taskDriver = getTaskDriver(clusterId);\n    WorkflowConfig workflowConfig = taskDriver.getWorkflowConfig(workflowId);\n    WorkflowContext workflowContext = taskDriver.getWorkflowContext(workflowId);\n\n    ObjectNode root = JsonNodeFactory.instance.objectNode();\n    TextNode id = JsonNodeFactory.instance.textNode(workflowId);\n    root.put(Properties.id.name(), id);\n\n    ObjectNode workflowConfigNode = JsonNodeFactory.instance.objectNode();\n    ObjectNode workflowContextNode = JsonNodeFactory.instance.objectNode();\n\n    if (workflowConfig != null) {\n      getWorkflowConfigNode(workflowConfigNode, workflowConfig.getRecord());\n    }\n\n    if (workflowContext != null) {\n      getWorkflowContextNode(workflowContextNode, workflowContext.getRecord());\n    }\n\n    root.put(WorkflowProperties.WorkflowConfig.name(), workflowConfigNode);\n    root.put(WorkflowProperties.WorkflowContext.name(), workflowContextNode);\n\n    JobDag jobDag = workflowConfig.getJobDag();\n    ArrayNode jobs = OBJECT_MAPPER.valueToTree(jobDag.getAllNodes());\n    ObjectNode parentJobs = OBJECT_MAPPER.valueToTree(jobDag.getParentsToChildren());\n    root.put(WorkflowProperties.Jobs.name(), jobs);\n    root.put(WorkflowProperties.ParentJobs.name(), parentJobs);\n\n    return JSONRepresentation(root);\n  }\n","realPath":"helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/WorkflowAccessor.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":85,"status":"B"},{"authorDate":"2017-12-14 10:57:40","commitOrder":1,"curCode":"  public Response getWorkflowContext(@PathParam(\"clusterId\") String clusterId,\n      @PathParam(\"workflowId\") String workflowId) {\n    TaskDriver taskDriver = getTaskDriver(clusterId);\n    WorkflowContext workflowContext = taskDriver.getWorkflowContext(workflowId);\n    ObjectNode workflowContextNode = JsonNodeFactory.instance.objectNode();\n    if (workflowContext != null) {\n      getWorkflowContextNode(workflowContextNode, workflowContext.getRecord());\n    }\n\n    return JSONRepresentation(workflowContextNode);\n  }\n","date":"2018-01-25 10:32:39","endLine":272,"groupId":"163","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"getWorkflowContext","params":"(@PathParam(\"clusterId\")StringclusterId@@PathParam(\"workflowId\")StringworkflowId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/eb/d04fd825f2ca22487bdfd49b5aade0b0b0ecd8.src","preCode":"  public Response getWorkflowContext(@PathParam(\"clusterId\") String clusterId,\n      @PathParam(\"workflowId\") String workflowId) {\n    TaskDriver taskDriver = getTaskDriver(clusterId);\n    WorkflowContext workflowContext = taskDriver.getWorkflowContext(workflowId);\n    ObjectNode workflowContextNode = JsonNodeFactory.instance.objectNode();\n    if (workflowContext != null) {\n      getWorkflowContextNode(workflowContextNode, workflowContext.getRecord());\n    }\n\n    return JSONRepresentation(workflowContextNode);\n  }\n","realPath":"helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/WorkflowAccessor.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":262,"status":"B"}],"commitId":"40710b2713ea0e4f1d4a936396c98ef01f8e2b68","commitMessage":"@@@HELIX-661: implement GET namespace(s)\n","date":"2018-01-25 10:32:39","modifiedFileCount":"12","status":"B","submitter":"hrzhang"},{"authorTime":"2017-12-14 10:57:40","codes":[{"authorDate":"2018-02-02 08:19:21","commitOrder":2,"curCode":"  public Response getWorkflow(@PathParam(\"clusterId\") String clusterId,\n      @PathParam(\"workflowId\") String workflowId) {\n    TaskDriver taskDriver = getTaskDriver(clusterId);\n    WorkflowConfig workflowConfig = taskDriver.getWorkflowConfig(workflowId);\n    WorkflowContext workflowContext = taskDriver.getWorkflowContext(workflowId);\n\n    ObjectNode root = JsonNodeFactory.instance.objectNode();\n    TextNode id = JsonNodeFactory.instance.textNode(workflowId);\n    root.put(Properties.id.name(), id);\n\n    ObjectNode workflowConfigNode = JsonNodeFactory.instance.objectNode();\n    ObjectNode workflowContextNode = JsonNodeFactory.instance.objectNode();\n\n    if (workflowConfig != null) {\n      getWorkflowConfigNode(workflowConfigNode, workflowConfig.getRecord());\n    }\n\n    if (workflowContext != null) {\n      getWorkflowContextNode(workflowContextNode, workflowContext.getRecord());\n    }\n\n    root.put(WorkflowProperties.WorkflowConfig.name(), workflowConfigNode);\n    root.put(WorkflowProperties.WorkflowContext.name(), workflowContextNode);\n\n    JobDag jobDag = workflowConfig.getJobDag();\n    ArrayNode jobs = OBJECT_MAPPER.valueToTree(jobDag.getAllNodes());\n    ObjectNode parentJobs = OBJECT_MAPPER.valueToTree(jobDag.getChildrenToParents());\n    root.put(WorkflowProperties.Jobs.name(), jobs);\n    root.put(WorkflowProperties.ParentJobs.name(), parentJobs);\n\n    return JSONRepresentation(root);\n  }\n","date":"2018-03-09 06:59:30","endLine":116,"groupId":"163","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"getWorkflow","params":"(@PathParam(\"clusterId\")StringclusterId@@PathParam(\"workflowId\")StringworkflowId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/5e/fb26c88e44dc34bf87a25c31c18d7dc8e38b94.src","preCode":"  public Response getWorkflow(@PathParam(\"clusterId\") String clusterId,\n      @PathParam(\"workflowId\") String workflowId) {\n    TaskDriver taskDriver = getTaskDriver(clusterId);\n    WorkflowConfig workflowConfig = taskDriver.getWorkflowConfig(workflowId);\n    WorkflowContext workflowContext = taskDriver.getWorkflowContext(workflowId);\n\n    ObjectNode root = JsonNodeFactory.instance.objectNode();\n    TextNode id = JsonNodeFactory.instance.textNode(workflowId);\n    root.put(Properties.id.name(), id);\n\n    ObjectNode workflowConfigNode = JsonNodeFactory.instance.objectNode();\n    ObjectNode workflowContextNode = JsonNodeFactory.instance.objectNode();\n\n    if (workflowConfig != null) {\n      getWorkflowConfigNode(workflowConfigNode, workflowConfig.getRecord());\n    }\n\n    if (workflowContext != null) {\n      getWorkflowContextNode(workflowContextNode, workflowContext.getRecord());\n    }\n\n    root.put(WorkflowProperties.WorkflowConfig.name(), workflowConfigNode);\n    root.put(WorkflowProperties.WorkflowContext.name(), workflowContextNode);\n\n    JobDag jobDag = workflowConfig.getJobDag();\n    ArrayNode jobs = OBJECT_MAPPER.valueToTree(jobDag.getAllNodes());\n    ObjectNode parentJobs = OBJECT_MAPPER.valueToTree(jobDag.getParentsToChildren());\n    root.put(WorkflowProperties.Jobs.name(), jobs);\n    root.put(WorkflowProperties.ParentJobs.name(), parentJobs);\n\n    return JSONRepresentation(root);\n  }\n","realPath":"helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/WorkflowAccessor.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":85,"status":"M"},{"authorDate":"2017-12-14 10:57:40","commitOrder":2,"curCode":"  public Response getWorkflowContext(@PathParam(\"clusterId\") String clusterId,\n      @PathParam(\"workflowId\") String workflowId) {\n    TaskDriver taskDriver = getTaskDriver(clusterId);\n    WorkflowContext workflowContext = taskDriver.getWorkflowContext(workflowId);\n    ObjectNode workflowContextNode = JsonNodeFactory.instance.objectNode();\n    if (workflowContext != null) {\n      getWorkflowContextNode(workflowContextNode, workflowContext.getRecord());\n    }\n\n    return JSONRepresentation(workflowContextNode);\n  }\n","date":"2018-01-25 10:32:39","endLine":272,"groupId":"163","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"getWorkflowContext","params":"(@PathParam(\"clusterId\")StringclusterId@@PathParam(\"workflowId\")StringworkflowId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/eb/d04fd825f2ca22487bdfd49b5aade0b0b0ecd8.src","preCode":"  public Response getWorkflowContext(@PathParam(\"clusterId\") String clusterId,\n      @PathParam(\"workflowId\") String workflowId) {\n    TaskDriver taskDriver = getTaskDriver(clusterId);\n    WorkflowContext workflowContext = taskDriver.getWorkflowContext(workflowId);\n    ObjectNode workflowContextNode = JsonNodeFactory.instance.objectNode();\n    if (workflowContext != null) {\n      getWorkflowContextNode(workflowContextNode, workflowContext.getRecord());\n    }\n\n    return JSONRepresentation(workflowContextNode);\n  }\n","realPath":"helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/WorkflowAccessor.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":262,"status":"N"}],"commitId":"5c5186bf6f24720875710efe99fd389d4dc91602","commitMessage":"@@@Fix the job parents listing logic in REST\n","date":"2018-03-09 06:59:30","modifiedFileCount":"1","status":"M","submitter":"Junkai Xue"},{"authorTime":"2017-12-14 10:57:40","codes":[{"authorDate":"2018-10-31 07:43:25","commitOrder":3,"curCode":"  public Response getWorkflow(@PathParam(\"clusterId\") String clusterId,\n      @PathParam(\"workflowId\") String workflowId) {\n    TaskDriver taskDriver = getTaskDriver(clusterId);\n    WorkflowConfig workflowConfig = taskDriver.getWorkflowConfig(workflowId);\n    WorkflowContext workflowContext = taskDriver.getWorkflowContext(workflowId);\n\n    ObjectNode root = JsonNodeFactory.instance.objectNode();\n    TextNode id = JsonNodeFactory.instance.textNode(workflowId);\n    root.put(Properties.id.name(), id);\n\n    ObjectNode workflowConfigNode = JsonNodeFactory.instance.objectNode();\n    ObjectNode workflowContextNode = JsonNodeFactory.instance.objectNode();\n\n    if (workflowConfig != null) {\n      getWorkflowConfigNode(workflowConfigNode, workflowConfig.getRecord());\n    }\n\n    if (workflowContext != null) {\n      getWorkflowContextNode(workflowContextNode, workflowContext.getRecord());\n    }\n\n    root.put(WorkflowProperties.WorkflowConfig.name(), workflowConfigNode);\n    root.put(WorkflowProperties.WorkflowContext.name(), workflowContextNode);\n\n    JobDag jobDag = workflowConfig.getJobDag();\n    ArrayNode jobs = OBJECT_MAPPER.valueToTree(jobDag.getAllNodes());\n    ObjectNode parentJobs = OBJECT_MAPPER.valueToTree(jobDag.getChildrenToParents());\n    root.put(WorkflowProperties.Jobs.name(), jobs);\n    root.put(WorkflowProperties.ParentJobs.name(), parentJobs);\n    root.put(WorkflowProperties.LastScheduledTask.name(), OBJECT_MAPPER.valueToTree(taskDriver.getLastScheduledTaskExecutionInfo(workflowId)));\n    return JSONRepresentation(root);\n  }\n","date":"2018-11-01 04:48:46","endLine":118,"groupId":"101135","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"getWorkflow","params":"(@PathParam(\"clusterId\")StringclusterId@@PathParam(\"workflowId\")StringworkflowId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/9a/9a62b8fc6607fbd06ccbbb410811ef52c32d72.src","preCode":"  public Response getWorkflow(@PathParam(\"clusterId\") String clusterId,\n      @PathParam(\"workflowId\") String workflowId) {\n    TaskDriver taskDriver = getTaskDriver(clusterId);\n    WorkflowConfig workflowConfig = taskDriver.getWorkflowConfig(workflowId);\n    WorkflowContext workflowContext = taskDriver.getWorkflowContext(workflowId);\n\n    ObjectNode root = JsonNodeFactory.instance.objectNode();\n    TextNode id = JsonNodeFactory.instance.textNode(workflowId);\n    root.put(Properties.id.name(), id);\n\n    ObjectNode workflowConfigNode = JsonNodeFactory.instance.objectNode();\n    ObjectNode workflowContextNode = JsonNodeFactory.instance.objectNode();\n\n    if (workflowConfig != null) {\n      getWorkflowConfigNode(workflowConfigNode, workflowConfig.getRecord());\n    }\n\n    if (workflowContext != null) {\n      getWorkflowContextNode(workflowContextNode, workflowContext.getRecord());\n    }\n\n    root.put(WorkflowProperties.WorkflowConfig.name(), workflowConfigNode);\n    root.put(WorkflowProperties.WorkflowContext.name(), workflowContextNode);\n\n    JobDag jobDag = workflowConfig.getJobDag();\n    ArrayNode jobs = OBJECT_MAPPER.valueToTree(jobDag.getAllNodes());\n    ObjectNode parentJobs = OBJECT_MAPPER.valueToTree(jobDag.getChildrenToParents());\n    root.put(WorkflowProperties.Jobs.name(), jobs);\n    root.put(WorkflowProperties.ParentJobs.name(), parentJobs);\n\n    return JSONRepresentation(root);\n  }\n","realPath":"helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/WorkflowAccessor.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":87,"status":"M"},{"authorDate":"2017-12-14 10:57:40","commitOrder":3,"curCode":"  public Response getWorkflowContext(@PathParam(\"clusterId\") String clusterId,\n      @PathParam(\"workflowId\") String workflowId) {\n    TaskDriver taskDriver = getTaskDriver(clusterId);\n    WorkflowContext workflowContext = taskDriver.getWorkflowContext(workflowId);\n    ObjectNode workflowContextNode = JsonNodeFactory.instance.objectNode();\n    if (workflowContext != null) {\n      getWorkflowContextNode(workflowContextNode, workflowContext.getRecord());\n    }\n\n    return JSONRepresentation(workflowContextNode);\n  }\n","date":"2018-01-25 10:32:39","endLine":272,"groupId":"101135","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"getWorkflowContext","params":"(@PathParam(\"clusterId\")StringclusterId@@PathParam(\"workflowId\")StringworkflowId)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/eb/d04fd825f2ca22487bdfd49b5aade0b0b0ecd8.src","preCode":"  public Response getWorkflowContext(@PathParam(\"clusterId\") String clusterId,\n      @PathParam(\"workflowId\") String workflowId) {\n    TaskDriver taskDriver = getTaskDriver(clusterId);\n    WorkflowContext workflowContext = taskDriver.getWorkflowContext(workflowId);\n    ObjectNode workflowContextNode = JsonNodeFactory.instance.objectNode();\n    if (workflowContext != null) {\n      getWorkflowContextNode(workflowContextNode, workflowContext.getRecord());\n    }\n\n    return JSONRepresentation(workflowContextNode);\n  }\n","realPath":"helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/WorkflowAccessor.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":262,"status":"N"}],"commitId":"566d4f166473b477ea0db1cfba5d04c8f3d6bf30","commitMessage":"@@@[HELIX-773] add getLastScheduledTaskTimestamp information in workflow rest api\n","date":"2018-11-01 04:48:46","modifiedFileCount":"3","status":"M","submitter":"Harry Zhang"}]
