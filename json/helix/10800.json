[{"authorTime":"2013-04-06 08:30:58","codes":[{"authorDate":"2013-04-06 08:30:58","commitOrder":2,"curCode":"  private void initHandlers()\n  {\n    synchronized (this)\n    {\n    \tif (_handlers != null)\n    \t{\n    \t  \r\n    \t  \r\n    \t  List<CallbackHandler> tmpHandlers = new ArrayList<CallbackHandler>();\n    \t  tmpHandlers.addAll(_handlers);\n          for (CallbackHandler handler : tmpHandlers)\n          {\n            handler.init();\n            logger.info(\"init handler: \" + handler.getPath() + \", \" + handler.getListener());\n          }\n    \t}\n    }\n  }\n","date":"2013-04-06 08:30:58","endLine":884,"groupId":"5328","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"initHandlers","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/67/f93549ef4b3731ac76c084e45a838d4ee54c2e.src","preCode":"  private void initHandlers()\n  {\n    synchronized (this)\n    {\n    \tif (_handlers != null)\n    \t{\n    \t  \r\n    \t  \r\n    \t  List<CallbackHandler> tmpHandlers = new ArrayList<CallbackHandler>();\n    \t  tmpHandlers.addAll(_handlers);\n          for (CallbackHandler handler : tmpHandlers)\n          {\n            handler.init();\n            logger.info(\"init handler: \" + handler.getPath() + \", \" + handler.getListener());\n          }\n    \t}\n    }\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":867,"status":"B"},{"authorDate":"2013-04-06 08:30:58","commitOrder":2,"curCode":"  private void resetHandlers()\n  {\n    synchronized (this)\n    {\n    \tif (_handlers != null)\n        {\n            \r\n            \r\n            List<CallbackHandler> tmpHandlers = new ArrayList<CallbackHandler>();\n            tmpHandlers.addAll(_handlers);\n\n            for (CallbackHandler handler : tmpHandlers)\n            {\n              handler.reset();\n              logger.info(\"reset handler: \" + handler.getPath() + \", \" + handler.getListener());\n            }\n        }\n    }\n  }\n","date":"2013-04-06 08:30:58","endLine":865,"groupId":"5328","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"resetHandlers","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/67/f93549ef4b3731ac76c084e45a838d4ee54c2e.src","preCode":"  private void resetHandlers()\n  {\n    synchronized (this)\n    {\n    \tif (_handlers != null)\n        {\n            \r\n            \r\n            List<CallbackHandler> tmpHandlers = new ArrayList<CallbackHandler>();\n            tmpHandlers.addAll(_handlers);\n\n            for (CallbackHandler handler : tmpHandlers)\n            {\n              handler.reset();\n              logger.info(\"reset handler: \" + handler.getPath() + \", \" + handler.getListener());\n            }\n        }\n    }\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":847,"status":"MB"}],"commitId":"f3e32551094e4edfd73364e3c79e3aba980a8208","commitMessage":"@@@Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-helix\n","date":"2013-04-06 08:30:58","modifiedFileCount":"129","status":"M","submitter":"Swaroop Jagadish"},{"authorTime":"2013-10-25 09:35:16","codes":[{"authorDate":"2013-04-06 08:30:58","commitOrder":3,"curCode":"  private void initHandlers()\n  {\n    synchronized (this)\n    {\n    \tif (_handlers != null)\n    \t{\n    \t  \r\n    \t  \r\n    \t  List<CallbackHandler> tmpHandlers = new ArrayList<CallbackHandler>();\n    \t  tmpHandlers.addAll(_handlers);\n          for (CallbackHandler handler : tmpHandlers)\n          {\n            handler.init();\n            logger.info(\"init handler: \" + handler.getPath() + \", \" + handler.getListener());\n          }\n    \t}\n    }\n  }\n","date":"2013-04-06 08:30:58","endLine":884,"groupId":"5328","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"initHandlers","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/67/f93549ef4b3731ac76c084e45a838d4ee54c2e.src","preCode":"  private void initHandlers()\n  {\n    synchronized (this)\n    {\n    \tif (_handlers != null)\n    \t{\n    \t  \r\n    \t  \r\n    \t  List<CallbackHandler> tmpHandlers = new ArrayList<CallbackHandler>();\n    \t  tmpHandlers.addAll(_handlers);\n          for (CallbackHandler handler : tmpHandlers)\n          {\n            handler.init();\n            logger.info(\"init handler: \" + handler.getPath() + \", \" + handler.getListener());\n          }\n    \t}\n    }\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":867,"status":"N"},{"authorDate":"2013-10-25 09:35:16","commitOrder":3,"curCode":"  void resetHandlers() {\n    synchronized (this) {\n      if (_handlers != null) {\n        \r\n        \r\n        List<CallbackHandler> tmpHandlers = new ArrayList<CallbackHandler>();\n        tmpHandlers.addAll(_handlers);\n\n        for (CallbackHandler handler : tmpHandlers) {\n          handler.reset();\n          LOG.info(\"reset handler: \" + handler.getPath() + \", \" + handler.getListener());\n        }\n      }\n    }\n  }\n","date":"2013-10-25 09:35:16","endLine":756,"groupId":"1033","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"resetHandlers","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/c5/4c901864cff5e77f70f6e30918679767416dbf.src","preCode":"  private void resetHandlers() {\n    synchronized (this) {\n      if (_handlers != null) {\n        \r\n        \r\n        List<CallbackHandler> tmpHandlers = new ArrayList<CallbackHandler>();\n        tmpHandlers.addAll(_handlers);\n\n        for (CallbackHandler handler : tmpHandlers) {\n          handler.reset();\n          logger.info(\"reset handler: \" + handler.getPath() + \", \" + handler.getListener());\n        }\n      }\n    }\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":742,"status":"M"}],"commitId":"5c7721970eef78e2d13d35b4934b07cb11a03cd9","commitMessage":"@@@Merge branch 'helix-0.6.2-release' of https://git-wip-us.apache.org/repos/asf/incubator-helix into helix-0.6.2-release\n","date":"2013-10-25 09:35:16","modifiedFileCount":"105","status":"M","submitter":"Kanak Biscuitwala"},{"authorTime":"2018-05-22 09:19:48","codes":[{"authorDate":"2013-04-06 08:30:58","commitOrder":4,"curCode":"  private void initHandlers()\n  {\n    synchronized (this)\n    {\n    \tif (_handlers != null)\n    \t{\n    \t  \r\n    \t  \r\n    \t  List<CallbackHandler> tmpHandlers = new ArrayList<CallbackHandler>();\n    \t  tmpHandlers.addAll(_handlers);\n          for (CallbackHandler handler : tmpHandlers)\n          {\n            handler.init();\n            logger.info(\"init handler: \" + handler.getPath() + \", \" + handler.getListener());\n          }\n    \t}\n    }\n  }\n","date":"2013-04-06 08:30:58","endLine":884,"groupId":"5328","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"initHandlers","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/67/f93549ef4b3731ac76c084e45a838d4ee54c2e.src","preCode":"  private void initHandlers()\n  {\n    synchronized (this)\n    {\n    \tif (_handlers != null)\n    \t{\n    \t  \r\n    \t  \r\n    \t  List<CallbackHandler> tmpHandlers = new ArrayList<CallbackHandler>();\n    \t  tmpHandlers.addAll(_handlers);\n          for (CallbackHandler handler : tmpHandlers)\n          {\n            handler.init();\n            logger.info(\"init handler: \" + handler.getPath() + \", \" + handler.getListener());\n          }\n    \t}\n    }\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":867,"status":"N"},{"authorDate":"2018-05-22 09:19:48","commitOrder":4,"curCode":"  void resetHandlers() {\n    synchronized (this) {\n      if (_handlers != null) {\n        \r\n        \r\n        List<CallbackHandler> tmpHandlers = new ArrayList<>();\n        tmpHandlers.addAll(_handlers);\n\n        for (CallbackHandler handler : tmpHandlers) {\n          handler.reset();\n          LOG.info(\"reset handler: \" + handler.getPath() + \", \" + handler.getListener());\n        }\n      }\n    }\n  }\n","date":"2018-07-14 04:56:56","endLine":928,"groupId":"1033","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"resetHandlers","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/ad/51997795c1bc8122e64e6f1d1e4ee11885b3d0.src","preCode":"  void resetHandlers() {\n    synchronized (this) {\n      if (_handlers != null) {\n        \r\n        \r\n        List<CallbackHandler> tmpHandlers = new ArrayList<CallbackHandler>();\n        tmpHandlers.addAll(_handlers);\n\n        for (CallbackHandler handler : tmpHandlers) {\n          handler.reset();\n          LOG.info(\"reset handler: \" + handler.getPath() + \", \" + handler.getListener());\n        }\n      }\n    }\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":914,"status":"M"}],"commitId":"f1a900e465725028ffd77a0699334c1290661fd7","commitMessage":"@@@Fix zkclient state related check and some potential bugs.\n\nChange the connection flapping check to tolerate high threshold. This feature is going to be deprecated in the future.\n\nAdditional changes\n1. Remove duplicate test TestZkManagerFlappingDetection that already covered by TestZkFlapping.\n","date":"2018-07-14 04:56:56","modifiedFileCount":"10","status":"M","submitter":"Jiajun Wang"},{"authorTime":"2019-01-12 07:53:17","codes":[{"authorDate":"2013-04-06 08:30:58","commitOrder":5,"curCode":"  private void initHandlers()\n  {\n    synchronized (this)\n    {\n    \tif (_handlers != null)\n    \t{\n    \t  \r\n    \t  \r\n    \t  List<CallbackHandler> tmpHandlers = new ArrayList<CallbackHandler>();\n    \t  tmpHandlers.addAll(_handlers);\n          for (CallbackHandler handler : tmpHandlers)\n          {\n            handler.init();\n            logger.info(\"init handler: \" + handler.getPath() + \", \" + handler.getListener());\n          }\n    \t}\n    }\n  }\n","date":"2013-04-06 08:30:58","endLine":884,"groupId":"5328","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"initHandlers","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/67/f93549ef4b3731ac76c084e45a838d4ee54c2e.src","preCode":"  private void initHandlers()\n  {\n    synchronized (this)\n    {\n    \tif (_handlers != null)\n    \t{\n    \t  \r\n    \t  \r\n    \t  List<CallbackHandler> tmpHandlers = new ArrayList<CallbackHandler>();\n    \t  tmpHandlers.addAll(_handlers);\n          for (CallbackHandler handler : tmpHandlers)\n          {\n            handler.init();\n            logger.info(\"init handler: \" + handler.getPath() + \", \" + handler.getListener());\n          }\n    \t}\n    }\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":867,"status":"N"},{"authorDate":"2019-01-12 07:53:17","commitOrder":5,"curCode":"  void resetHandlers(boolean isShutdown) {\n    synchronized (this) {\n      if (_handlers != null) {\n        \r\n        \r\n        List<CallbackHandler> tmpHandlers = new ArrayList<>();\n        tmpHandlers.addAll(_handlers);\n\n        for (CallbackHandler handler : tmpHandlers) {\n          handler.reset(isShutdown);\n          LOG.info(\"reset handler: \" + handler.getPath() + \", \" + handler.getListener());\n        }\n      }\n    }\n  }\n","date":"2019-01-26 05:04:07","endLine":964,"groupId":"6388","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"resetHandlers","params":"(booleanisShutdown)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/aa/08c762ac067daa9f3443e174a68ad3509c89fd.src","preCode":"  void resetHandlers() {\n    synchronized (this) {\n      if (_handlers != null) {\n        \r\n        \r\n        List<CallbackHandler> tmpHandlers = new ArrayList<>();\n        tmpHandlers.addAll(_handlers);\n\n        for (CallbackHandler handler : tmpHandlers) {\n          handler.reset();\n          LOG.info(\"reset handler: \" + handler.getPath() + \", \" + handler.getListener());\n        }\n      }\n    }\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":950,"status":"M"}],"commitId":"8c8f79c5e545818c0e4478addea453fc42b6d003","commitMessage":"@@@Improve the callback handler behavior regarding batch mode event handling when handler is reset.\n\nFor new session handling.  the callback handler should not interrupt the current executing process. This could cause a pending request failed unexpectedly. Note that after the change.  closing a callback will still interrupt thread to avoid thread leak.\n","date":"2019-01-26 05:04:07","modifiedFileCount":"3","status":"M","submitter":"Jiajun Wang"},{"authorTime":"2020-03-21 09:18:16","codes":[{"authorDate":"2020-03-21 09:18:16","commitOrder":6,"curCode":"  void initHandlers(List<CallbackHandler> handlers) {\n    synchronized (this) {\n      if (handlers != null) {\n        \r\n        \r\n        List<CallbackHandler> tmpHandlers = new ArrayList<>(handlers);\n        for (CallbackHandler handler : tmpHandlers) {\n          handler.init();\n          LOG.info(\"init handler: \" + handler.getPath() + \", \" + handler.getListener());\n        }\n      }\n    }\n  }\n","date":"2020-03-21 09:18:16","endLine":1016,"groupId":"10800","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"initHandlers","params":"(List<CallbackHandler>handlers)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/53/2ef44da19f87ac97d6f49d94e7b8a4c718dc9b.src","preCode":"  private void initHandlers() {\n    synchronized (this) {\n      if (_handlers != null) {\n        \r\n        \r\n        List<CallbackHandler> tmpHandlers = new ArrayList<CallbackHandler>();\n        tmpHandlers.addAll(_handlers);\n        for (CallbackHandler handler : tmpHandlers) {\n          handler.init();\n          logger.info(\"init handler: \" + handler.getPath() + \", \" + handler.getListener());\n        }\n      }\n    }\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":1004,"status":"M"},{"authorDate":"2020-03-21 09:18:16","commitOrder":6,"curCode":"  void resetHandlers(boolean isShutdown) {\n    synchronized (this) {\n      if (_handlers != null) {\n        \r\n        \r\n        List<CallbackHandler> tmpHandlers = new ArrayList<>(_handlers);\n        for (CallbackHandler handler : tmpHandlers) {\n          handler.reset(isShutdown);\n          LOG.info(\"reset handler: \" + handler.getPath() + \", \" + handler.getListener());\n        }\n      }\n    }\n  }\n","date":"2020-03-21 09:18:16","endLine":1030,"groupId":"10800","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"resetHandlers","params":"(booleanisShutdown)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/53/2ef44da19f87ac97d6f49d94e7b8a4c718dc9b.src","preCode":"  void resetHandlers(boolean isShutdown) {\n    synchronized (this) {\n      if (_handlers != null) {\n        \r\n        \r\n        List<CallbackHandler> tmpHandlers = new ArrayList<>();\n        tmpHandlers.addAll(_handlers);\n\n        for (CallbackHandler handler : tmpHandlers) {\n          handler.reset(isShutdown);\n          LOG.info(\"reset handler: \" + handler.getPath() + \", \" + handler.getListener());\n        }\n      }\n    }\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":1018,"status":"M"}],"commitId":"d109c64834b1b288c937b9f9693b26e74487a244","commitMessage":"@@@Fix the concurrent modification error happens during the HelixManager initHandlers() call (#904)\n\nFix the concurrent modification error that happens during the HelixManager initHandlers() call.\nAdd test case to verify the fix and ensure this error not happen again.","date":"2020-03-21 09:18:16","modifiedFileCount":"1","status":"M","submitter":"Jiajun Wang"}]
