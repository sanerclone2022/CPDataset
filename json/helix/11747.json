[{"authorTime":"2017-11-08 03:38:36","codes":[{"authorDate":"2017-11-08 03:38:36","commitOrder":1,"curCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowReservoir(DEFAULT_RESET_INTERVAL_MS, TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","date":"2018-01-25 10:31:00","endLine":64,"groupId":"4613","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"ClusterEventMonitor","params":"(ClusterStatusMonitorclusterStatusMonitor@StringphaseName)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/8c/77466d2e5f9a7a61638a1e3e6dcbedb66998da.src","preCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowReservoir(DEFAULT_RESET_INTERVAL_MS, TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":55,"status":"B"},{"authorDate":"2017-11-08 03:38:36","commitOrder":1,"curCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName,\n      int histogramTimeWindowMs) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowReservoir(histogramTimeWindowMs, TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","date":"2018-01-25 10:31:00","endLine":76,"groupId":"4613","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"ClusterEventMonitor","params":"(ClusterStatusMonitorclusterStatusMonitor@StringphaseName@inthistogramTimeWindowMs)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/8c/77466d2e5f9a7a61638a1e3e6dcbedb66998da.src","preCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName,\n      int histogramTimeWindowMs) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowReservoir(histogramTimeWindowMs, TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":66,"status":"B"}],"commitId":"3a73b0f30336c4610a501af979d55c4d25344214","commitMessage":"@@@use SlidingTimeWindownReservoir for histogram stats\n","date":"2018-01-25 10:31:00","modifiedFileCount":"8","status":"B","submitter":"hrzhang"},{"authorTime":"2017-11-15 06:49:47","codes":[{"authorDate":"2017-11-15 06:49:47","commitOrder":2,"curCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowArrayReservoir(DEFAULT_RESET_INTERVAL_MS, TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","date":"2018-01-25 10:31:05","endLine":64,"groupId":"4613","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"ClusterEventMonitor","params":"(ClusterStatusMonitorclusterStatusMonitor@StringphaseName)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/25/b78949c213f3948d829f41fadc8000d1583b20.src","preCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowReservoir(DEFAULT_RESET_INTERVAL_MS, TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":55,"status":"M"},{"authorDate":"2017-11-15 06:49:47","commitOrder":2,"curCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName,\n      int histogramTimeWindowMs) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowArrayReservoir(histogramTimeWindowMs, TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","date":"2018-01-25 10:31:05","endLine":76,"groupId":"4613","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"ClusterEventMonitor","params":"(ClusterStatusMonitorclusterStatusMonitor@StringphaseName@inthistogramTimeWindowMs)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/25/b78949c213f3948d829f41fadc8000d1583b20.src","preCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName,\n      int histogramTimeWindowMs) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowReservoir(histogramTimeWindowMs, TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":66,"status":"M"}],"commitId":"143420c4f460636a82d5f53a6a9a22bdb6bc9ff6","commitMessage":"@@@Use SlidingTimeWindowArrayReservoir to reduce memory consumption\n","date":"2018-01-25 10:31:05","modifiedFileCount":"5","status":"M","submitter":"hrzhang"},{"authorTime":"2017-11-15 06:49:47","codes":[{"authorDate":"2019-08-09 15:06:11","commitOrder":3,"curCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowArrayReservoir(HelixUtil\n            .getSystemPropertyAsLong(RESET_INTERVAL_SYSTEM_PROPERTY_KEY, DEFAULT_RESET_INTERVAL_MS),\n            TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","date":"2019-08-22 13:49:55","endLine":67,"groupId":"4833","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"ClusterEventMonitor","params":"(ClusterStatusMonitorclusterStatusMonitor@StringphaseName)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/06/c29a8985015f3a1f0865f0c40ffcc2180b5025.src","preCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowArrayReservoir(DEFAULT_RESET_INTERVAL_MS, TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":56,"status":"M"},{"authorDate":"2017-11-15 06:49:47","commitOrder":3,"curCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName,\n      int histogramTimeWindowMs) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowArrayReservoir(histogramTimeWindowMs, TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","date":"2018-01-25 10:31:05","endLine":76,"groupId":"4613","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"ClusterEventMonitor","params":"(ClusterStatusMonitorclusterStatusMonitor@StringphaseName@inthistogramTimeWindowMs)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/25/b78949c213f3948d829f41fadc8000d1583b20.src","preCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName,\n      int histogramTimeWindowMs) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowArrayReservoir(histogramTimeWindowMs, TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":66,"status":"N"}],"commitId":"9434cf112e224b68dbfddc04f4ca5eafd0ce6298","commitMessage":"@@@Use the system property value as the sliding window length. #382\n","date":"2019-08-22 13:49:55","modifiedFileCount":"9","status":"M","submitter":"chenboat"},{"authorTime":"2017-11-15 06:49:47","codes":[{"authorDate":"2019-08-13 13:47:54","commitOrder":4,"curCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowArrayReservoir(getResetIntervalInMs(), TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","date":"2019-08-22 13:49:55","endLine":65,"groupId":"11747","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"ClusterEventMonitor","params":"(ClusterStatusMonitorclusterStatusMonitor@StringphaseName)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/96/91597f54f5f2299a3b000b48778bd66a27e062.src","preCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowArrayReservoir(HelixUtil\n            .getSystemPropertyAsLong(RESET_INTERVAL_SYSTEM_PROPERTY_KEY, DEFAULT_RESET_INTERVAL_MS),\n            TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":56,"status":"M"},{"authorDate":"2017-11-15 06:49:47","commitOrder":4,"curCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName,\n      int histogramTimeWindowMs) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowArrayReservoir(histogramTimeWindowMs, TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","date":"2018-01-25 10:31:05","endLine":76,"groupId":"11747","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"ClusterEventMonitor","params":"(ClusterStatusMonitorclusterStatusMonitor@StringphaseName@inthistogramTimeWindowMs)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/25/b78949c213f3948d829f41fadc8000d1583b20.src","preCode":"  public ClusterEventMonitor(ClusterStatusMonitor clusterStatusMonitor, String phaseName,\n      int histogramTimeWindowMs) {\n    _phaseName = phaseName;\n    _clusterStatusMonitor = clusterStatusMonitor;\n\n    _duration = new HistogramDynamicMetric(\"DurationGauge\", new Histogram(\n        new SlidingTimeWindowArrayReservoir(histogramTimeWindowMs, TimeUnit.MILLISECONDS)));\n    _count = new SimpleDynamicMetric(\"EventCounter\", 0l);\n    _maxDuration = new SimpleDynamicMetric(\"MaxSingleDurationGauge\", 0l);\n    _totalDuration = new SimpleDynamicMetric(\"TotalDurationCounter\", 0l);\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":66,"status":"N"}],"commitId":"cc73afd2747358adf3266f5937329d507436b5d3","commitMessage":"@@@Use the system property value as the sliding window length. #382\n","date":"2019-08-22 13:49:55","modifiedFileCount":"8","status":"M","submitter":"chenboat"}]
