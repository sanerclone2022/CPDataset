[{"authorTime":"2017-02-08 06:59:10","codes":[{"authorDate":"2017-01-31 07:02:24","commitOrder":2,"curCode":"  protected void removeJobStates(Set<String> jobs) {\n    Map<String, String> states = _record.getMapField(WorkflowContextProperties.JOB_STATES.name());\n    if (states != null) {\n      states.keySet().removeAll(jobs);\n      _record.setMapField(WorkflowContextProperties.JOB_STATES.name(), states);\n    }\n  }\n","date":"2017-10-07 03:23:47","endLine":87,"groupId":"1107","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"removeJobStates","params":"(Set<String>jobs)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/56/3e2e8b13993f2b9f94c4e4c4c6730848315c2c.src","preCode":"  protected void removeJobStates(Set<String> jobs) {\n    Map<String, String> states = _record.getMapField(WorkflowContextProperties.JOB_STATES.name());\n    if (states != null) {\n      states.keySet().removeAll(jobs);\n      _record.setMapField(WorkflowContextProperties.JOB_STATES.name(), states);\n    }\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/task/WorkflowContext.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":81,"status":"NB"},{"authorDate":"2017-02-08 06:59:10","commitOrder":2,"curCode":"  protected void removeJobStartTime(Set<String> jobs) {\n    Map<String, String> startTimes =\n        _record.getMapField(WorkflowContextProperties.StartTime.name());\n    if (startTimes != null) {\n      startTimes.keySet().removeAll(jobs);\n      _record.setMapField(WorkflowContextProperties.StartTime.name(), startTimes);\n    }\n  }\n","date":"2017-10-07 03:23:47","endLine":124,"groupId":"5998","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"removeJobStartTime","params":"(Set<String>jobs)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/2f/c4fe1e38a67620d807304fb5d579196f6d05a5.src","preCode":"  protected void removeJobStartTime(Set<String> jobs) {\n    Map<String, String> startTimes =\n        _record.getMapField(WorkflowContextProperties.StartTime.name());\n    if (startTimes != null) {\n      startTimes.keySet().removeAll(jobs);\n      _record.setMapField(WorkflowContextProperties.StartTime.name(), startTimes);\n    }\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/task/WorkflowContext.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":117,"status":"B"}],"commitId":"0aeb5579d4f7130d6a4310d2d817e0153620cae0","commitMessage":"@@@Support configurable job purge interval for a queue.\n","date":"2017-10-07 03:23:47","modifiedFileCount":"9","status":"M","submitter":"Lei Xia"},{"authorTime":"2021-01-08 07:48:26","codes":[{"authorDate":"2021-01-08 07:48:26","commitOrder":3,"curCode":"  protected void removeJobStates(Set<String> jobs) {\n    Map<String, String> states = _record.getMapField(WorkflowContextProperties.JOB_STATES.name());\n    if (states != null && states.keySet().stream().anyMatch(jobs::contains)) {\n      states.keySet().removeAll(jobs);\n      _record.setMapField(WorkflowContextProperties.JOB_STATES.name(), states);\n      markWorkflowContextAsModified();\n    }\n  }\n","date":"2021-01-08 07:48:26","endLine":101,"groupId":"10723","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"removeJobStates","params":"(Set<String>jobs)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/70/1e36ec7ea049c54f6ff499a8cecae56da9b110.src","preCode":"  protected void removeJobStates(Set<String> jobs) {\n    Map<String, String> states = _record.getMapField(WorkflowContextProperties.JOB_STATES.name());\n    if (states != null) {\n      states.keySet().removeAll(jobs);\n      _record.setMapField(WorkflowContextProperties.JOB_STATES.name(), states);\n    }\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/task/WorkflowContext.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":94,"status":"M"},{"authorDate":"2021-01-08 07:48:26","commitOrder":3,"curCode":"  protected void removeJobStartTime(Set<String> jobs) {\n    Map<String, String> startTimes =\n        _record.getMapField(WorkflowContextProperties.StartTime.name());\n    if (startTimes != null && startTimes.keySet().stream().anyMatch(jobs::contains)) {\n      startTimes.keySet().removeAll(jobs);\n      _record.setMapField(WorkflowContextProperties.StartTime.name(), startTimes);\n      markWorkflowContextAsModified();\n    }\n  }\n","date":"2021-01-08 07:48:26","endLine":139,"groupId":"10723","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"removeJobStartTime","params":"(Set<String>jobs)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-helix-10-0.7/blobInfo/CC_OUT/blobs/70/1e36ec7ea049c54f6ff499a8cecae56da9b110.src","preCode":"  protected void removeJobStartTime(Set<String> jobs) {\n    Map<String, String> startTimes =\n        _record.getMapField(WorkflowContextProperties.StartTime.name());\n    if (startTimes != null) {\n      startTimes.keySet().removeAll(jobs);\n      _record.setMapField(WorkflowContextProperties.StartTime.name(), startTimes);\n    }\n  }\n","realPath":"helix-core/src/main/java/org/apache/helix/task/WorkflowContext.java","repoName":"helix","snippetEndLine":0,"snippetStartLine":0,"startLine":131,"status":"M"}],"commitId":"cb6bc9d637f28b58d5380d5a3ee870a7c4ecc44e","commitMessage":"@@@Eliminate redundant workflow context writes (#1600)\n\nIn this commit.  the workflow context will only be written to ZK\nif it has been modified. Otherwise.  there is no need to update the\ncontext information in the ZK.","date":"2021-01-08 07:48:26","modifiedFileCount":"5","status":"M","submitter":"Ali Reza Zamani Zadeh Najari"}]
