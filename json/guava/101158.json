[{"authorTime":"2014-02-01 02:24:17","codes":[{"authorDate":"2017-04-21 05:33:38","commitOrder":5,"curCode":"  private WeakReference<ClassLoader> useFrqInSeparateLoader() throws Exception {\n    final URLClassLoader myLoader = (URLClassLoader) getClass().getClassLoader();\n    final URL[] urls = myLoader.getURLs();\n    URLClassLoader sepLoader = new URLClassLoader(urls, myLoader.getParent());\n    \r\n    \r\n    \r\n    \r\n    \r\n\n    Class<?> frqC = FinalizableReferenceQueue.class;\n    Class<?> sepFrqC = sepLoader.loadClass(frqC.getName());\n    assertNotSame(frqC, sepFrqC);\n    \r\n\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    Class<?> sepFrqSystemLoaderC =\n        sepLoader.loadClass(FinalizableReferenceQueue.SystemLoader.class.getName());\n    Field disabled = sepFrqSystemLoaderC.getDeclaredField(\"disabled\");\n    disabled.setAccessible(true);\n    disabled.set(null, true);\n\n    \r\n    \r\n    AtomicReference<Object> sepFrqA = new AtomicReference<Object>(sepFrqC.newInstance());\n    Class<?> sepFwrC = sepLoader.loadClass(MyFinalizableWeakReference.class.getName());\n    Constructor<?> sepFwrCons = sepFwrC.getConstructor(Object.class, sepFrqC);\n    \r\n    Class<?> sepStopwatchC = sepLoader.loadClass(Stopwatch.class.getName());\n    assertSame(sepLoader, sepStopwatchC.getClassLoader());\n    AtomicReference<Object> sepStopwatchA =\n        new AtomicReference<Object>(sepStopwatchC.getMethod(\"createUnstarted\").invoke(null));\n    AtomicReference<WeakReference<?>> sepStopwatchRef = new AtomicReference<WeakReference<?>>(\n        (WeakReference<?>) sepFwrCons.newInstance(sepStopwatchA.get(), sepFrqA.get()));\n    assertNotNull(sepStopwatchA.get());\n    \r\n    sepStopwatchA.set(null);\n    GcFinalization.awaitClear(sepStopwatchRef.get());\n    \r\n    \r\n    return new WeakReference<ClassLoader>(sepLoader);\n  }\n","date":"2017-04-21 10:27:51","endLine":124,"groupId":"5672","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"useFrqInSeparateLoader","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-guava-10-0.7/blobInfo/CC_OUT/blobs/c4/dfdd499c591b8b68c3613cad330eee3219e9bd.src","preCode":"  private WeakReference<ClassLoader> useFrqInSeparateLoader() throws Exception {\n    final URLClassLoader myLoader = (URLClassLoader) getClass().getClassLoader();\n    final URL[] urls = myLoader.getURLs();\n    URLClassLoader sepLoader = new URLClassLoader(urls, myLoader.getParent());\n    \r\n    \r\n    \r\n    \r\n    \r\n\n    Class<?> frqC = FinalizableReferenceQueue.class;\n    Class<?> sepFrqC = sepLoader.loadClass(frqC.getName());\n    assertNotSame(frqC, sepFrqC);\n    \r\n\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    Class<?> sepFrqSystemLoaderC =\n        sepLoader.loadClass(FinalizableReferenceQueue.SystemLoader.class.getName());\n    Field disabled = sepFrqSystemLoaderC.getDeclaredField(\"disabled\");\n    disabled.setAccessible(true);\n    disabled.set(null, true);\n\n    \r\n    \r\n    AtomicReference<Object> sepFrqA = new AtomicReference<Object>(sepFrqC.newInstance());\n    Class<?> sepFwrC = sepLoader.loadClass(MyFinalizableWeakReference.class.getName());\n    Constructor<?> sepFwrCons = sepFwrC.getConstructor(Object.class, sepFrqC);\n    \r\n    Class<?> sepStopwatchC = sepLoader.loadClass(Stopwatch.class.getName());\n    assertSame(sepLoader, sepStopwatchC.getClassLoader());\n    AtomicReference<Object> sepStopwatchA =\n        new AtomicReference<Object>(sepStopwatchC.getMethod(\"createUnstarted\").invoke(null));\n    AtomicReference<WeakReference<?>> sepStopwatchRef = new AtomicReference<WeakReference<?>>(\n        (WeakReference<?>) sepFwrCons.newInstance(sepStopwatchA.get(), sepFrqA.get()));\n    assertNotNull(sepStopwatchA.get());\n    \r\n    sepStopwatchA.set(null);\n    GcFinalization.awaitClear(sepStopwatchRef.get());\n    \r\n    \r\n    return new WeakReference<ClassLoader>(sepLoader);\n  }\n","realPath":"android/guava-tests/test/com/google/common/base/FinalizableReferenceQueueClassLoaderUnloadingTest.java","repoName":"guava","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"B"},{"authorDate":"2014-02-01 02:24:17","commitOrder":5,"curCode":"  private WeakReference<ClassLoader> useFrqInSeparateLoader() throws Exception {\n    final URLClassLoader myLoader = (URLClassLoader) getClass().getClassLoader();\n    final URL[] urls = myLoader.getURLs();\n    URLClassLoader sepLoader = new URLClassLoader(urls, myLoader.getParent());\n    \r\n    \r\n    \r\n    \r\n    \r\n\n    Class<?> frqC = FinalizableReferenceQueue.class;\n    Class<?> sepFrqC = sepLoader.loadClass(frqC.getName());\n    assertNotSame(frqC, sepFrqC);\n    \r\n\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    Class<?> sepFrqSystemLoaderC =\n        sepLoader.loadClass(FinalizableReferenceQueue.SystemLoader.class.getName());\n    Field disabled = sepFrqSystemLoaderC.getDeclaredField(\"disabled\");\n    disabled.setAccessible(true);\n    disabled.set(null, true);\n\n    \r\n    \r\n    AtomicReference<Object> sepFrqA = new AtomicReference<Object>(sepFrqC.newInstance());\n    Class<?> sepFwrC = sepLoader.loadClass(MyFinalizableWeakReference.class.getName());\n    Constructor<?> sepFwrCons = sepFwrC.getConstructor(Object.class, sepFrqC);\n    \r\n    Class<?> sepStopwatchC = sepLoader.loadClass(Stopwatch.class.getName());\n    assertSame(sepLoader, sepStopwatchC.getClassLoader());\n    AtomicReference<Object> sepStopwatchA =\n        new AtomicReference<Object>(sepStopwatchC.getMethod(\"createUnstarted\").invoke(null));\n    AtomicReference<WeakReference<?>> sepStopwatchRef = new AtomicReference<WeakReference<?>>(\n        (WeakReference<?>) sepFwrCons.newInstance(sepStopwatchA.get(), sepFrqA.get()));\n    assertNotNull(sepStopwatchA.get());\n    \r\n    sepStopwatchA.set(null);\n    GcFinalization.awaitClear(sepStopwatchRef.get());\n    \r\n    \r\n    return new WeakReference<ClassLoader>(sepLoader);\n  }\n","date":"2014-02-01 02:32:08","endLine":126,"groupId":"5672","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"useFrqInSeparateLoader","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-guava-10-0.7/blobInfo/CC_OUT/blobs/08/0c66778b75c2bf19ce9654a0d72231101ce774.src","preCode":"  private WeakReference<ClassLoader> useFrqInSeparateLoader() throws Exception {\n    final URLClassLoader myLoader = (URLClassLoader) getClass().getClassLoader();\n    final URL[] urls = myLoader.getURLs();\n    URLClassLoader sepLoader = new URLClassLoader(urls, myLoader.getParent());\n    \r\n    \r\n    \r\n    \r\n    \r\n\n    Class<?> frqC = FinalizableReferenceQueue.class;\n    Class<?> sepFrqC = sepLoader.loadClass(frqC.getName());\n    assertNotSame(frqC, sepFrqC);\n    \r\n\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    Class<?> sepFrqSystemLoaderC =\n        sepLoader.loadClass(FinalizableReferenceQueue.SystemLoader.class.getName());\n    Field disabled = sepFrqSystemLoaderC.getDeclaredField(\"disabled\");\n    disabled.setAccessible(true);\n    disabled.set(null, true);\n\n    \r\n    \r\n    AtomicReference<Object> sepFrqA = new AtomicReference<Object>(sepFrqC.newInstance());\n    Class<?> sepFwrC = sepLoader.loadClass(MyFinalizableWeakReference.class.getName());\n    Constructor<?> sepFwrCons = sepFwrC.getConstructor(Object.class, sepFrqC);\n    \r\n    Class<?> sepStopwatchC = sepLoader.loadClass(Stopwatch.class.getName());\n    assertSame(sepLoader, sepStopwatchC.getClassLoader());\n    AtomicReference<Object> sepStopwatchA =\n        new AtomicReference<Object>(sepStopwatchC.getMethod(\"createUnstarted\").invoke(null));\n    AtomicReference<WeakReference<?>> sepStopwatchRef = new AtomicReference<WeakReference<?>>(\n        (WeakReference<?>) sepFwrCons.newInstance(sepStopwatchA.get(), sepFrqA.get()));\n    assertNotNull(sepStopwatchA.get());\n    \r\n    sepStopwatchA.set(null);\n    GcFinalization.awaitClear(sepStopwatchRef.get());\n    \r\n    \r\n    return new WeakReference<ClassLoader>(sepLoader);\n  }\n","realPath":"guava-tests/test/com/google/common/base/FinalizableReferenceQueueClassLoaderUnloadingTest.java","repoName":"guava","snippetEndLine":0,"snippetStartLine":0,"startLine":80,"status":"NB"}],"commitId":"9b94fb3965c6869b0ac47420958a4bbae0b2d54c","commitMessage":"@@@Begin exporting sources of Guava for Android.\n\npom.xml files to come.\n\n-------------\nCreated by MOE: https://github.com/google/moe\nMOE_MIGRATED_REVID=153757913\n","date":"2017-04-21 10:27:51","modifiedFileCount":"0","status":"M","submitter":"zhenghua"},{"authorTime":"2018-01-18 01:41:16","codes":[{"authorDate":"2018-01-18 01:41:16","commitOrder":6,"curCode":"  private WeakReference<ClassLoader> useFrqInSeparateLoader() throws Exception {\n    final ClassLoader myLoader = getClass().getClassLoader();\n    URLClassLoader sepLoader = new URLClassLoader(getClassPathUrls(), myLoader.getParent());\n    \r\n    \r\n    \r\n    \r\n    \r\n\n    Class<?> frqC = FinalizableReferenceQueue.class;\n    Class<?> sepFrqC = sepLoader.loadClass(frqC.getName());\n    assertNotSame(frqC, sepFrqC);\n    \r\n\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    Class<?> sepFrqSystemLoaderC =\n        sepLoader.loadClass(FinalizableReferenceQueue.SystemLoader.class.getName());\n    Field disabled = sepFrqSystemLoaderC.getDeclaredField(\"disabled\");\n    disabled.setAccessible(true);\n    disabled.set(null, true);\n\n    \r\n    \r\n    AtomicReference<Object> sepFrqA = new AtomicReference<Object>(sepFrqC.newInstance());\n    Class<?> sepFwrC = sepLoader.loadClass(MyFinalizableWeakReference.class.getName());\n    Constructor<?> sepFwrCons = sepFwrC.getConstructor(Object.class, sepFrqC);\n    \r\n    Class<?> sepStopwatchC = sepLoader.loadClass(Stopwatch.class.getName());\n    assertSame(sepLoader, sepStopwatchC.getClassLoader());\n    AtomicReference<Object> sepStopwatchA =\n        new AtomicReference<Object>(sepStopwatchC.getMethod(\"createUnstarted\").invoke(null));\n    AtomicReference<WeakReference<?>> sepStopwatchRef =\n        new AtomicReference<WeakReference<?>>(\n            (WeakReference<?>) sepFwrCons.newInstance(sepStopwatchA.get(), sepFrqA.get()));\n    assertNotNull(sepStopwatchA.get());\n    \r\n    sepStopwatchA.set(null);\n    GcFinalization.awaitClear(sepStopwatchRef.get());\n    \r\n    \r\n    return new WeakReference<ClassLoader>(sepLoader);\n  }\n","date":"2018-01-18 04:22:10","endLine":129,"groupId":"5672","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"useFrqInSeparateLoader","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-guava-10-0.7/blobInfo/CC_OUT/blobs/9a/674aa9ca669adb62c81abb2483bc8c417db287.src","preCode":"  private WeakReference<ClassLoader> useFrqInSeparateLoader() throws Exception {\n    final URLClassLoader myLoader = (URLClassLoader) getClass().getClassLoader();\n    final URL[] urls = myLoader.getURLs();\n    URLClassLoader sepLoader = new URLClassLoader(urls, myLoader.getParent());\n    \r\n    \r\n    \r\n    \r\n    \r\n\n    Class<?> frqC = FinalizableReferenceQueue.class;\n    Class<?> sepFrqC = sepLoader.loadClass(frqC.getName());\n    assertNotSame(frqC, sepFrqC);\n    \r\n\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    Class<?> sepFrqSystemLoaderC =\n        sepLoader.loadClass(FinalizableReferenceQueue.SystemLoader.class.getName());\n    Field disabled = sepFrqSystemLoaderC.getDeclaredField(\"disabled\");\n    disabled.setAccessible(true);\n    disabled.set(null, true);\n\n    \r\n    \r\n    AtomicReference<Object> sepFrqA = new AtomicReference<Object>(sepFrqC.newInstance());\n    Class<?> sepFwrC = sepLoader.loadClass(MyFinalizableWeakReference.class.getName());\n    Constructor<?> sepFwrCons = sepFwrC.getConstructor(Object.class, sepFrqC);\n    \r\n    Class<?> sepStopwatchC = sepLoader.loadClass(Stopwatch.class.getName());\n    assertSame(sepLoader, sepStopwatchC.getClassLoader());\n    AtomicReference<Object> sepStopwatchA =\n        new AtomicReference<Object>(sepStopwatchC.getMethod(\"createUnstarted\").invoke(null));\n    AtomicReference<WeakReference<?>> sepStopwatchRef =\n        new AtomicReference<WeakReference<?>>(\n            (WeakReference<?>) sepFwrCons.newInstance(sepStopwatchA.get(), sepFrqA.get()));\n    assertNotNull(sepStopwatchA.get());\n    \r\n    sepStopwatchA.set(null);\n    GcFinalization.awaitClear(sepStopwatchRef.get());\n    \r\n    \r\n    return new WeakReference<ClassLoader>(sepLoader);\n  }\n","realPath":"android/guava-tests/test/com/google/common/base/FinalizableReferenceQueueClassLoaderUnloadingTest.java","repoName":"guava","snippetEndLine":0,"snippetStartLine":0,"startLine":83,"status":"M"},{"authorDate":"2018-01-18 01:41:16","commitOrder":6,"curCode":"  private WeakReference<ClassLoader> useFrqInSeparateLoader() throws Exception {\n    final ClassLoader myLoader = getClass().getClassLoader();\n    URLClassLoader sepLoader = new URLClassLoader(getClassPathUrls(), myLoader.getParent());\n    \r\n    \r\n    \r\n    \r\n    \r\n\n    Class<?> frqC = FinalizableReferenceQueue.class;\n    Class<?> sepFrqC = sepLoader.loadClass(frqC.getName());\n    assertNotSame(frqC, sepFrqC);\n    \r\n\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    Class<?> sepFrqSystemLoaderC =\n        sepLoader.loadClass(FinalizableReferenceQueue.SystemLoader.class.getName());\n    Field disabled = sepFrqSystemLoaderC.getDeclaredField(\"disabled\");\n    disabled.setAccessible(true);\n    disabled.set(null, true);\n\n    \r\n    \r\n    AtomicReference<Object> sepFrqA = new AtomicReference<Object>(sepFrqC.newInstance());\n    Class<?> sepFwrC = sepLoader.loadClass(MyFinalizableWeakReference.class.getName());\n    Constructor<?> sepFwrCons = sepFwrC.getConstructor(Object.class, sepFrqC);\n    \r\n    Class<?> sepStopwatchC = sepLoader.loadClass(Stopwatch.class.getName());\n    assertSame(sepLoader, sepStopwatchC.getClassLoader());\n    AtomicReference<Object> sepStopwatchA =\n        new AtomicReference<Object>(sepStopwatchC.getMethod(\"createUnstarted\").invoke(null));\n    AtomicReference<WeakReference<?>> sepStopwatchRef =\n        new AtomicReference<WeakReference<?>>(\n            (WeakReference<?>) sepFwrCons.newInstance(sepStopwatchA.get(), sepFrqA.get()));\n    assertNotNull(sepStopwatchA.get());\n    \r\n    sepStopwatchA.set(null);\n    GcFinalization.awaitClear(sepStopwatchRef.get());\n    \r\n    \r\n    return new WeakReference<ClassLoader>(sepLoader);\n  }\n","date":"2018-01-18 04:22:10","endLine":129,"groupId":"5672","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"useFrqInSeparateLoader","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-guava-10-0.7/blobInfo/CC_OUT/blobs/9a/674aa9ca669adb62c81abb2483bc8c417db287.src","preCode":"  private WeakReference<ClassLoader> useFrqInSeparateLoader() throws Exception {\n    final URLClassLoader myLoader = (URLClassLoader) getClass().getClassLoader();\n    final URL[] urls = myLoader.getURLs();\n    URLClassLoader sepLoader = new URLClassLoader(urls, myLoader.getParent());\n    \r\n    \r\n    \r\n    \r\n    \r\n\n    Class<?> frqC = FinalizableReferenceQueue.class;\n    Class<?> sepFrqC = sepLoader.loadClass(frqC.getName());\n    assertNotSame(frqC, sepFrqC);\n    \r\n\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    Class<?> sepFrqSystemLoaderC =\n        sepLoader.loadClass(FinalizableReferenceQueue.SystemLoader.class.getName());\n    Field disabled = sepFrqSystemLoaderC.getDeclaredField(\"disabled\");\n    disabled.setAccessible(true);\n    disabled.set(null, true);\n\n    \r\n    \r\n    AtomicReference<Object> sepFrqA = new AtomicReference<Object>(sepFrqC.newInstance());\n    Class<?> sepFwrC = sepLoader.loadClass(MyFinalizableWeakReference.class.getName());\n    Constructor<?> sepFwrCons = sepFwrC.getConstructor(Object.class, sepFrqC);\n    \r\n    Class<?> sepStopwatchC = sepLoader.loadClass(Stopwatch.class.getName());\n    assertSame(sepLoader, sepStopwatchC.getClassLoader());\n    AtomicReference<Object> sepStopwatchA =\n        new AtomicReference<Object>(sepStopwatchC.getMethod(\"createUnstarted\").invoke(null));\n    AtomicReference<WeakReference<?>> sepStopwatchRef =\n        new AtomicReference<WeakReference<?>>(\n            (WeakReference<?>) sepFwrCons.newInstance(sepStopwatchA.get(), sepFrqA.get()));\n    assertNotNull(sepStopwatchA.get());\n    \r\n    sepStopwatchA.set(null);\n    GcFinalization.awaitClear(sepStopwatchRef.get());\n    \r\n    \r\n    return new WeakReference<ClassLoader>(sepLoader);\n  }\n","realPath":"guava-tests/test/com/google/common/base/FinalizableReferenceQueueClassLoaderUnloadingTest.java","repoName":"guava","snippetEndLine":0,"snippetStartLine":0,"startLine":83,"status":"M"}],"commitId":"8eb3ea467668f63a78f03527adf7053d6502434d","commitMessage":"@@@Fix tests that assume Class.getClassLoader() returns a URLClassLoader so that they can call getURLs() to instead parse the \"java.class.path\" system property.\n\nThis doesn't fully fix FinalizableReferenceQueueClassLoaderUnloadingTest: I still see a failure for testUnloadableInStaticFieldIfClosed. But at least the other 2 tests in the file pass.  and the failure is now a \"real\" failure (\"Predicate did not become true within 10 second timeout\") rather than a ClassCastException.\n\n(I've confirmed that the failing test computes exactly the same classpath under Java 9 as under Java 8.  so I'm not sure exactly what's up. I may ask emcmanus.)\n\n-------------\nCreated by MOE: https://github.com/google/moe\nMOE_MIGRATED_REVID=182227182\n","date":"2018-01-18 04:22:10","modifiedFileCount":"2","status":"M","submitter":"cpovirk"},{"authorTime":"2021-02-16 11:22:43","codes":[{"authorDate":"2021-02-16 11:22:43","commitOrder":7,"curCode":"  private WeakReference<ClassLoader> useFrqInSeparateLoader() throws Exception {\n    final ClassLoader myLoader = getClass().getClassLoader();\n    URLClassLoader sepLoader = new URLClassLoader(getClassPathUrls(), myLoader.getParent());\n    \r\n    \r\n    \r\n    \r\n    \r\n\n    Class<?> frqC = FinalizableReferenceQueue.class;\n    Class<?> sepFrqC = sepLoader.loadClass(frqC.getName());\n    assertNotSame(frqC, sepFrqC);\n    \r\n\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    Class<?> sepFrqSystemLoaderC =\n        sepLoader.loadClass(FinalizableReferenceQueue.SystemLoader.class.getName());\n    Field disabled = sepFrqSystemLoaderC.getDeclaredField(\"disabled\");\n    disabled.setAccessible(true);\n    disabled.set(null, true);\n\n    \r\n    \r\n    AtomicReference<Object> sepFrqA =\n        new AtomicReference<Object>(sepFrqC.getDeclaredConstructor().newInstance());\n    Class<?> sepFwrC = sepLoader.loadClass(MyFinalizableWeakReference.class.getName());\n    Constructor<?> sepFwrCons = sepFwrC.getConstructor(Object.class, sepFrqC);\n    \r\n    Class<?> sepStopwatchC = sepLoader.loadClass(Stopwatch.class.getName());\n    assertSame(sepLoader, sepStopwatchC.getClassLoader());\n    AtomicReference<Object> sepStopwatchA =\n        new AtomicReference<Object>(sepStopwatchC.getMethod(\"createUnstarted\").invoke(null));\n    AtomicReference<WeakReference<?>> sepStopwatchRef =\n        new AtomicReference<WeakReference<?>>(\n            (WeakReference<?>) sepFwrCons.newInstance(sepStopwatchA.get(), sepFrqA.get()));\n    assertNotNull(sepStopwatchA.get());\n    \r\n    sepStopwatchA.set(null);\n    GcFinalization.awaitClear(sepStopwatchRef.get());\n    \r\n    \r\n    return new WeakReference<ClassLoader>(sepLoader);\n  }\n","date":"2021-02-16 11:24:50","endLine":133,"groupId":"101158","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"useFrqInSeparateLoader","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-guava-10-0.7/blobInfo/CC_OUT/blobs/ae/35c16f64826490d829021cf63d3ee278d6825c.src","preCode":"  private WeakReference<ClassLoader> useFrqInSeparateLoader() throws Exception {\n    final ClassLoader myLoader = getClass().getClassLoader();\n    URLClassLoader sepLoader = new URLClassLoader(getClassPathUrls(), myLoader.getParent());\n    \r\n    \r\n    \r\n    \r\n    \r\n\n    Class<?> frqC = FinalizableReferenceQueue.class;\n    Class<?> sepFrqC = sepLoader.loadClass(frqC.getName());\n    assertNotSame(frqC, sepFrqC);\n    \r\n\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    Class<?> sepFrqSystemLoaderC =\n        sepLoader.loadClass(FinalizableReferenceQueue.SystemLoader.class.getName());\n    Field disabled = sepFrqSystemLoaderC.getDeclaredField(\"disabled\");\n    disabled.setAccessible(true);\n    disabled.set(null, true);\n\n    \r\n    \r\n    AtomicReference<Object> sepFrqA = new AtomicReference<Object>(sepFrqC.newInstance());\n    Class<?> sepFwrC = sepLoader.loadClass(MyFinalizableWeakReference.class.getName());\n    Constructor<?> sepFwrCons = sepFwrC.getConstructor(Object.class, sepFrqC);\n    \r\n    Class<?> sepStopwatchC = sepLoader.loadClass(Stopwatch.class.getName());\n    assertSame(sepLoader, sepStopwatchC.getClassLoader());\n    AtomicReference<Object> sepStopwatchA =\n        new AtomicReference<Object>(sepStopwatchC.getMethod(\"createUnstarted\").invoke(null));\n    AtomicReference<WeakReference<?>> sepStopwatchRef =\n        new AtomicReference<WeakReference<?>>(\n            (WeakReference<?>) sepFwrCons.newInstance(sepStopwatchA.get(), sepFrqA.get()));\n    assertNotNull(sepStopwatchA.get());\n    \r\n    sepStopwatchA.set(null);\n    GcFinalization.awaitClear(sepStopwatchRef.get());\n    \r\n    \r\n    return new WeakReference<ClassLoader>(sepLoader);\n  }\n","realPath":"android/guava-tests/test/com/google/common/base/FinalizableReferenceQueueClassLoaderUnloadingTest.java","repoName":"guava","snippetEndLine":0,"snippetStartLine":0,"startLine":86,"status":"M"},{"authorDate":"2021-02-16 11:22:43","commitOrder":7,"curCode":"  private WeakReference<ClassLoader> useFrqInSeparateLoader() throws Exception {\n    final ClassLoader myLoader = getClass().getClassLoader();\n    URLClassLoader sepLoader = new URLClassLoader(getClassPathUrls(), myLoader.getParent());\n    \r\n    \r\n    \r\n    \r\n    \r\n\n    Class<?> frqC = FinalizableReferenceQueue.class;\n    Class<?> sepFrqC = sepLoader.loadClass(frqC.getName());\n    assertNotSame(frqC, sepFrqC);\n    \r\n\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    Class<?> sepFrqSystemLoaderC =\n        sepLoader.loadClass(FinalizableReferenceQueue.SystemLoader.class.getName());\n    Field disabled = sepFrqSystemLoaderC.getDeclaredField(\"disabled\");\n    disabled.setAccessible(true);\n    disabled.set(null, true);\n\n    \r\n    \r\n    AtomicReference<Object> sepFrqA =\n        new AtomicReference<Object>(sepFrqC.getDeclaredConstructor().newInstance());\n    Class<?> sepFwrC = sepLoader.loadClass(MyFinalizableWeakReference.class.getName());\n    Constructor<?> sepFwrCons = sepFwrC.getConstructor(Object.class, sepFrqC);\n    \r\n    Class<?> sepStopwatchC = sepLoader.loadClass(Stopwatch.class.getName());\n    assertSame(sepLoader, sepStopwatchC.getClassLoader());\n    AtomicReference<Object> sepStopwatchA =\n        new AtomicReference<Object>(sepStopwatchC.getMethod(\"createUnstarted\").invoke(null));\n    AtomicReference<WeakReference<?>> sepStopwatchRef =\n        new AtomicReference<WeakReference<?>>(\n            (WeakReference<?>) sepFwrCons.newInstance(sepStopwatchA.get(), sepFrqA.get()));\n    assertNotNull(sepStopwatchA.get());\n    \r\n    sepStopwatchA.set(null);\n    GcFinalization.awaitClear(sepStopwatchRef.get());\n    \r\n    \r\n    return new WeakReference<ClassLoader>(sepLoader);\n  }\n","date":"2021-02-16 11:24:50","endLine":133,"groupId":"101158","id":6,"instanceNumber":2,"isCurCommit":1,"methodName":"useFrqInSeparateLoader","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-guava-10-0.7/blobInfo/CC_OUT/blobs/ae/35c16f64826490d829021cf63d3ee278d6825c.src","preCode":"  private WeakReference<ClassLoader> useFrqInSeparateLoader() throws Exception {\n    final ClassLoader myLoader = getClass().getClassLoader();\n    URLClassLoader sepLoader = new URLClassLoader(getClassPathUrls(), myLoader.getParent());\n    \r\n    \r\n    \r\n    \r\n    \r\n\n    Class<?> frqC = FinalizableReferenceQueue.class;\n    Class<?> sepFrqC = sepLoader.loadClass(frqC.getName());\n    assertNotSame(frqC, sepFrqC);\n    \r\n\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    Class<?> sepFrqSystemLoaderC =\n        sepLoader.loadClass(FinalizableReferenceQueue.SystemLoader.class.getName());\n    Field disabled = sepFrqSystemLoaderC.getDeclaredField(\"disabled\");\n    disabled.setAccessible(true);\n    disabled.set(null, true);\n\n    \r\n    \r\n    AtomicReference<Object> sepFrqA = new AtomicReference<Object>(sepFrqC.newInstance());\n    Class<?> sepFwrC = sepLoader.loadClass(MyFinalizableWeakReference.class.getName());\n    Constructor<?> sepFwrCons = sepFwrC.getConstructor(Object.class, sepFrqC);\n    \r\n    Class<?> sepStopwatchC = sepLoader.loadClass(Stopwatch.class.getName());\n    assertSame(sepLoader, sepStopwatchC.getClassLoader());\n    AtomicReference<Object> sepStopwatchA =\n        new AtomicReference<Object>(sepStopwatchC.getMethod(\"createUnstarted\").invoke(null));\n    AtomicReference<WeakReference<?>> sepStopwatchRef =\n        new AtomicReference<WeakReference<?>>(\n            (WeakReference<?>) sepFwrCons.newInstance(sepStopwatchA.get(), sepFrqA.get()));\n    assertNotNull(sepStopwatchA.get());\n    \r\n    sepStopwatchA.set(null);\n    GcFinalization.awaitClear(sepStopwatchRef.get());\n    \r\n    \r\n    return new WeakReference<ClassLoader>(sepLoader);\n  }\n","realPath":"guava-tests/test/com/google/common/base/FinalizableReferenceQueueClassLoaderUnloadingTest.java","repoName":"guava","snippetEndLine":0,"snippetStartLine":0,"startLine":86,"status":"M"}],"commitId":"2dda3f3c92b3affb4479516ba3f5f73ebc300c9c","commitMessage":"@@@Migrate off deprecated Class#newInstance().\n\nFixes #5407\n\nRELNOTES=n/a\nPiperOrigin-RevId: 357635267\n","date":"2021-02-16 11:24:50","modifiedFileCount":"6","status":"M","submitter":"suraj dhamecha"}]
