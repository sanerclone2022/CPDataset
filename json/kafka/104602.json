[{"authorTime":"2020-01-30 18:43:34","codes":[{"authorDate":"2020-01-30 18:43:34","commitOrder":1,"curCode":"    public void testMirrorHeartbeatConnectorDisabled() {\n        \r\n        MirrorConnectorConfig config = new MirrorConnectorConfig(\n            makeProps(\"emit.heartbeats.enabled\", \"false\"));\n\n        \r\n        MirrorHeartbeatConnector connector = new MirrorHeartbeatConnector(config);\n        List<Map<String, String>> output = connector.taskConfigs(1);\n        \r\n        assertEquals(0, output.size());\n    }\n","date":"2020-01-30 18:43:34","endLine":38,"groupId":"12340","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testMirrorHeartbeatConnectorDisabled","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/f0/d8cb95a947ce510b2e0e18fe6df94f8c89cefa.src","preCode":"    public void testMirrorHeartbeatConnectorDisabled() {\n        \r\n        MirrorConnectorConfig config = new MirrorConnectorConfig(\n            makeProps(\"emit.heartbeats.enabled\", \"false\"));\n\n        \r\n        MirrorHeartbeatConnector connector = new MirrorHeartbeatConnector(config);\n        List<Map<String, String>> output = connector.taskConfigs(1);\n        \r\n        assertEquals(0, output.size());\n    }\n","realPath":"connect/mirror/src/test/java/org/apache/kafka/connect/mirror/MirrorHeartBeatConnectorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":28,"status":"B"},{"authorDate":"2020-01-30 18:43:34","commitOrder":1,"curCode":"    public void testReplicationDisabled() {\n        \r\n        MirrorConnectorConfig config = new MirrorConnectorConfig(\n            makeProps(\"enabled\", \"false\"));\n\n        \r\n        MirrorHeartbeatConnector connector = new MirrorHeartbeatConnector(config);\n        List<Map<String, String>> output = connector.taskConfigs(1);\n        \r\n        assertEquals(1, output.size());\n    }\n","date":"2020-01-30 18:43:34","endLine":51,"groupId":"12340","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testReplicationDisabled","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/f0/d8cb95a947ce510b2e0e18fe6df94f8c89cefa.src","preCode":"    public void testReplicationDisabled() {\n        \r\n        MirrorConnectorConfig config = new MirrorConnectorConfig(\n            makeProps(\"enabled\", \"false\"));\n\n        \r\n        MirrorHeartbeatConnector connector = new MirrorHeartbeatConnector(config);\n        List<Map<String, String>> output = connector.taskConfigs(1);\n        \r\n        assertEquals(1, output.size());\n    }\n","realPath":"connect/mirror/src/test/java/org/apache/kafka/connect/mirror/MirrorHeartBeatConnectorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":41,"status":"B"}],"commitId":"f217752bed75a79d9bfdf9195721d0b05cebbf79","commitMessage":"@@@KAFKA-9360: Allow disabling MM2 heartbeat and checkpoint emissions (#7887)\n\n`emit.heartbeats.enabled` and `emit.checkpoints.enabled` are supposed to\nbe the knobs to control if the heartbeat message or checkpoint message\nwill be sent or not to the topics respectively. In our experiments. \nsetting them to false will not suspend the activity in their SourceTasks. \ne.g. MirrorHeartbeatTask.  MirrorCheckpointTask.\n\nThe observations are.  when setting those knobs to false.  huge volume of\n`SourceRecord` are being sent without interval.  causing significantly high\nCPU usage and GC time  of MirrorMaker 2 instance and congesting the single\npartition of the heartbeat topic and checkpoint topic.\n\nThe proposed fix in the following PR is to (1) explicitly check if `interval`\nis set to negative (e.g. -1).  when the `emit.heartbeats.enabled` or\n`emit.checkpoints.enabled` is off. (2) if `interval` is indeed set to negative. \nno task is created.\n\nReviewers: Mickael Maison <mickael.maison@gmail.com>.  Ryanne Dolan <ryannedolan@gmail.com>","date":"2020-01-30 18:43:34","modifiedFileCount":"5","status":"B","submitter":"ning2008wisc"},{"authorTime":"2021-05-27 14:21:45","codes":[{"authorDate":"2021-05-27 14:21:45","commitOrder":2,"curCode":"    public void testMirrorHeartbeatConnectorDisabled() {\n        \r\n        MirrorConnectorConfig config = new MirrorConnectorConfig(\n            makeProps(\"emit.heartbeats.enabled\", \"false\"));\n\n        \r\n        MirrorHeartbeatConnector connector = new MirrorHeartbeatConnector(config);\n        List<Map<String, String>> output = connector.taskConfigs(1);\n        \r\n        assertEquals(0, output.size(), \"Expected task to not be created\");\n    }\n","date":"2021-05-27 14:21:45","endLine":38,"groupId":"104602","id":3,"instanceNumber":1,"isCurCommit":1,"methodName":"testMirrorHeartbeatConnectorDisabled","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/ec/0691983a63f7616f88602b3b64565fd262a5a7.src","preCode":"    public void testMirrorHeartbeatConnectorDisabled() {\n        \r\n        MirrorConnectorConfig config = new MirrorConnectorConfig(\n            makeProps(\"emit.heartbeats.enabled\", \"false\"));\n\n        \r\n        MirrorHeartbeatConnector connector = new MirrorHeartbeatConnector(config);\n        List<Map<String, String>> output = connector.taskConfigs(1);\n        \r\n        assertEquals(0, output.size());\n    }\n","realPath":"connect/mirror/src/test/java/org/apache/kafka/connect/mirror/MirrorHeartBeatConnectorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":28,"status":"M"},{"authorDate":"2021-05-27 14:21:45","commitOrder":2,"curCode":"    public void testReplicationDisabled() {\n        \r\n        MirrorConnectorConfig config = new MirrorConnectorConfig(\n            makeProps(\"enabled\", \"false\"));\n\n        \r\n        MirrorHeartbeatConnector connector = new MirrorHeartbeatConnector(config);\n        List<Map<String, String>> output = connector.taskConfigs(1);\n        \r\n        assertEquals(1, output.size(), \"Task should have been created even with replication disabled\");\n    }\n","date":"2021-05-27 14:21:45","endLine":51,"groupId":"104602","id":4,"instanceNumber":2,"isCurCommit":1,"methodName":"testReplicationDisabled","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/ec/0691983a63f7616f88602b3b64565fd262a5a7.src","preCode":"    public void testReplicationDisabled() {\n        \r\n        MirrorConnectorConfig config = new MirrorConnectorConfig(\n            makeProps(\"enabled\", \"false\"));\n\n        \r\n        MirrorHeartbeatConnector connector = new MirrorHeartbeatConnector(config);\n        List<Map<String, String>> output = connector.taskConfigs(1);\n        \r\n        assertEquals(1, output.size());\n    }\n","realPath":"connect/mirror/src/test/java/org/apache/kafka/connect/mirror/MirrorHeartBeatConnectorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":41,"status":"M"}],"commitId":"56d9482462c2aa941b151015499fc59485fe7426","commitMessage":"@@@KAFKA-12819: Add assert messages to MirrorMaker tests plus other quality of life improvements (#10762)\n\nReviewers: Ryanne Dolan <ryannedolan@gmail.com>.  Konstantine Karantasis <k.karantasis@gmail.com>","date":"2021-05-27 14:21:45","modifiedFileCount":"12","status":"M","submitter":"Matthew de Detrich"}]
