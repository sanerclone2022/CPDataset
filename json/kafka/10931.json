[{"authorTime":"2019-01-04 09:14:26","codes":[{"authorDate":"2019-01-04 09:14:26","commitOrder":1,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-metrics,client-id=%s,task-id=%s,%s-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-metrics,client-id=%s,task-id=%s,%s-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"all\")));\n    }\n","date":"2019-01-04 09:14:26","endLine":103,"groupId":"17038","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/92/056fa827fc8f14699eb84183a17f3ae72c7438.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-metrics,client-id=%s,task-id=%s,%s-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-metrics,client-id=%s,task-id=%s,%s-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"all\")));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredSessionStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":95,"status":"B"},{"authorDate":"2019-01-04 09:14:26","commitOrder":1,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-metrics,client-id=%s,task-id=%s,%s-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-metrics,client-id=%s,task-id=%s,%s-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"all\")));\n    }\n","date":"2019-01-04 09:14:26","endLine":104,"groupId":"17038","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/0d/ca6346bbbe62750a78a693fadd17f15e89afa2.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-metrics,client-id=%s,task-id=%s,%s-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-metrics,client-id=%s,task-id=%s,%s-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"all\")));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":96,"status":"B"}],"commitId":"6ea5474e4c073bec6cfa99bbb73ee547588b11ef","commitMessage":"@@@KAFKA-7734: Metrics tags should use LinkedHashMap to guarantee ordering (#6032)\n\nThis pull request replaces HashMap with LinkedHashMap to guarantee ordering of metrics tags.\n\nReviewers: Ismael Juma <ismael@juma.me.uk>.  Guozhang Wang <guozhang@confluent.io>.  John Roesler <vvcephei@users.noreply.github.com>","date":"2019-01-04 09:14:26","modifiedFileCount":"11","status":"B","submitter":"lambdaliu"},{"authorTime":"2019-08-30 21:46:07","codes":[{"authorDate":"2019-08-30 21:46:07","commitOrder":2,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"all\")));\n    }\n","date":"2019-08-30 21:46:07","endLine":111,"groupId":"17038","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/e2/1fbc2052629725ee874396787ede318bf703ff.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-metrics,client-id=%s,task-id=%s,%s-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-metrics,client-id=%s,task-id=%s,%s-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"all\")));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredSessionStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":103,"status":"M"},{"authorDate":"2019-08-30 21:46:07","commitOrder":2,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"all\")));\n    }\n","date":"2019-08-30 21:46:07","endLine":112,"groupId":"17038","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/e4/94532cfe8cf249ab6f6b96e1af33b459286b5d.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-metrics,client-id=%s,task-id=%s,%s-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-metrics,client-id=%s,task-id=%s,%s-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"all\")));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":104,"status":"M"}],"commitId":"d18d6b033e09515adff19225f8ec6845ca34c23b","commitMessage":"@@@MINOR: Refactor tag key for store level metrics (#7257)\n\nThe tag key for store level metrics specified in StreamsMetricsImpl\nis unified with the tag keys on thread and task level.\n\nReviewers: Sophie Blee-Goldman <sophie@confluent.io>.  Bill Bejeck <bbejeck@gmail.com>","date":"2019-08-30 21:46:07","modifiedFileCount":"16","status":"M","submitter":"Bruno Cadonna"},{"authorTime":"2019-10-05 08:07:30","codes":[{"authorDate":"2019-10-05 08:07:30","commitOrder":3,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", threadId, taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", threadId, taskId.toString(), \"scope\", \"all\")));\n    }\n","date":"2019-10-05 08:07:30","endLine":112,"groupId":"17038","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/25/f842c888ec4da38c0a63acbebdb2637a2a4e96.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"all\")));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredSessionStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":104,"status":"M"},{"authorDate":"2019-10-05 08:07:30","commitOrder":3,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", Thread.currentThread().getName(), taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", Thread.currentThread().getName(), taskId.toString(), \"scope\", \"all\")));\n    }\n","date":"2019-10-05 08:07:30","endLine":112,"groupId":"17038","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/53/3d58aea396b4e23c292510fa29b3b07c9e7f75.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", \"test\", taskId.toString(), \"scope\", \"all\")));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":104,"status":"M"}],"commitId":"52007e878aaac3f48d0d949dbe428a2ae5e56f57","commitMessage":"@@@KAFKA-8934: Introduce instance-level metrics for streams applications (#7416)\n\n1. Moves StreamsMetricsImpl from StreamThread to KafkaStreams\n2. Adds instance-level metrics as specified in KIP-444.  i.e.:\n-- version\n-- commit-id\n-- application-id\n-- topology-description\n-- state\n\nReviewers: Guozhang Wang <wangguoz@gmail.com>.  John Roesler <john@confluent.io>.  Bill Bejeck <bbejeck@gmail.com>","date":"2019-10-05 08:07:30","modifiedFileCount":"65","status":"M","submitter":"Bruno Cadonna"},{"authorTime":"2019-10-09 06:24:31","codes":[{"authorDate":"2019-10-09 06:24:31","commitOrder":4,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,thread-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", threadId, taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,thread-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", threadId, taskId.toString(), \"scope\", \"all\")));\n    }\n","date":"2019-10-09 06:24:31","endLine":112,"groupId":"17038","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/a8/c20013aacb29dd7848cbf3fc8f300b2d17fdca.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", threadId, taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", threadId, taskId.toString(), \"scope\", \"all\")));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredSessionStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":104,"status":"M"},{"authorDate":"2019-10-09 06:24:31","commitOrder":4,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,thread-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", Thread.currentThread().getName(), taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,thread-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", Thread.currentThread().getName(), taskId.toString(), \"scope\", \"all\")));\n    }\n","date":"2019-10-09 06:24:31","endLine":112,"groupId":"17038","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/f7/14d3dc6542a4cc38ebd18a756d463426a5c1b5.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", Thread.currentThread().getName(), taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,client-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", Thread.currentThread().getName(), taskId.toString(), \"scope\", \"all\")));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":104,"status":"M"}],"commitId":"e3c2148b207a6ca98c89211d12cb47abdfaa70b3","commitMessage":"@@@KAFKA-8964: Rename tag client-id for thread-level metrics and below (#7429)\n\n* Renamed tag client-id to thread-id for thread-level metrics and below\n* Corrected metrics tag keys for state store that had suffix \"-id\" instead of \"state-id\"\n\nReviewers: John Roesler <john@confluent.io>.  Bill Bejeck <bill@confluent.io>.  Guozhang Wang <wangguoz@gmail.com>","date":"2019-10-09 06:24:31","modifiedFileCount":"23","status":"M","submitter":"Bruno Cadonna"},{"authorTime":"2019-10-31 00:24:59","codes":[{"authorDate":"2019-10-31 00:24:59","commitOrder":5,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\n            \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n            storeLevelGroup,\n            threadIdTagKey,\n            threadId,\n            taskId.toString(),\n            STORE_TYPE,\n            \"metered\"\n        )));\n        if (StreamsConfig.METRICS_0100_TO_24.equals(builtInMetricsVersion)) {\n            assertTrue(reporter.containsMbean(String.format(\n                \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n                storeLevelGroup,\n                threadIdTagKey,\n                threadId,\n                taskId.toString(),\n                STORE_TYPE,\n                ROLLUP_VALUE\n            )));\n        }\n    }\n","date":"2019-10-31 00:24:59","endLine":164,"groupId":"4355","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/e5/89c5b5951e8240841cf435c78aae68db464977.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,thread-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", threadId, taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,thread-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", threadId, taskId.toString(), \"scope\", \"all\")));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredSessionStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":140,"status":"M"},{"authorDate":"2019-10-31 00:24:59","commitOrder":5,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\n            \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n            storeLevelGroup,\n            threadIdTagKey,\n            threadId,\n            taskId.toString(),\n            STORE_TYPE,\n            \"metered\"\n        )));\n        if (StreamsConfig.METRICS_0100_TO_24.equals(builtInMetricsVersion)) {\n            assertTrue(reporter.containsMbean(String.format(\n                \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n                storeLevelGroup,\n                threadIdTagKey,\n                threadId,\n                taskId.toString(),\n                STORE_TYPE,\n                ROLLUP_VALUE\n            )));\n        }\n    }\n","date":"2019-10-31 00:24:59","endLine":166,"groupId":"4355","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/de/7c089657aa8cf63f6b4e63636a6ebe16cbbef4.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,thread-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", Thread.currentThread().getName(), taskId.toString(), \"scope\", \"metered\")));\n        assertTrue(reporter.containsMbean(String.format(\"kafka.streams:type=stream-%s-state-metrics,thread-id=%s,task-id=%s,%s-state-id=%s\",\n                \"scope\", Thread.currentThread().getName(), taskId.toString(), \"scope\", \"all\")));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":142,"status":"M"}],"commitId":"fc0f82372e1e456cbd43490b9eba957c4a0d3eb5","commitMessage":"@@@KAFKA-8980: Refactor state-store-level streams metrics (#7584)\n\nRefactors metrics according to KIP-444\nIntroduces StateStoreMetrics as a central provider for state store metrics\nAdds metric scope (a.k.a. store type) to the in-memory suppression buffer\n\nReviewers: Guozhang Wang <wangguoz@gmail.com>.   Bill Bejeck <bbejeck@gmail.com>","date":"2019-10-31 00:24:59","modifiedFileCount":"26","status":"M","submitter":"Bruno Cadonna"},{"authorTime":"2020-05-28 09:18:36","codes":[{"authorDate":"2020-05-28 09:18:36","commitOrder":6,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter();\n        final MetricsContext metricsContext = new KafkaMetricsContext(\"kafka.streams\");\n        reporter.contextChange(metricsContext);\n\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\n            \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n            storeLevelGroup,\n            threadIdTagKey,\n            threadId,\n            taskId.toString(),\n            STORE_TYPE,\n            \"metered\"\n        )));\n        if (StreamsConfig.METRICS_0100_TO_24.equals(builtInMetricsVersion)) {\n            assertTrue(reporter.containsMbean(String.format(\n                \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n                storeLevelGroup,\n                threadIdTagKey,\n                threadId,\n                taskId.toString(),\n                STORE_TYPE,\n                ROLLUP_VALUE\n            )));\n        }\n    }\n","date":"2020-05-28 09:18:36","endLine":174,"groupId":"4355","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/7d/558dca7237de9936ec228f5a0b220ed01e9b3d.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\n            \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n            storeLevelGroup,\n            threadIdTagKey,\n            threadId,\n            taskId.toString(),\n            STORE_TYPE,\n            \"metered\"\n        )));\n        if (StreamsConfig.METRICS_0100_TO_24.equals(builtInMetricsVersion)) {\n            assertTrue(reporter.containsMbean(String.format(\n                \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n                storeLevelGroup,\n                threadIdTagKey,\n                threadId,\n                taskId.toString(),\n                STORE_TYPE,\n                ROLLUP_VALUE\n            )));\n        }\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredSessionStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":147,"status":"M"},{"authorDate":"2020-05-28 09:18:36","commitOrder":6,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter();\n        final MetricsContext metricsContext = new KafkaMetricsContext(\"kafka.streams\");\n        reporter.contextChange(metricsContext);\n\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\n            \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n            storeLevelGroup,\n            threadIdTagKey,\n            threadId,\n            taskId.toString(),\n            STORE_TYPE,\n            \"metered\"\n        )));\n        if (StreamsConfig.METRICS_0100_TO_24.equals(builtInMetricsVersion)) {\n            assertTrue(reporter.containsMbean(String.format(\n                \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n                storeLevelGroup,\n                threadIdTagKey,\n                threadId,\n                taskId.toString(),\n                STORE_TYPE,\n                ROLLUP_VALUE\n            )));\n        }\n    }\n","date":"2020-05-28 09:18:36","endLine":175,"groupId":"4355","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/4d/666b21c25dde5f60d189d0f75812266739aaff.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter(\"kafka.streams\");\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\n            \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n            storeLevelGroup,\n            threadIdTagKey,\n            threadId,\n            taskId.toString(),\n            STORE_TYPE,\n            \"metered\"\n        )));\n        if (StreamsConfig.METRICS_0100_TO_24.equals(builtInMetricsVersion)) {\n            assertTrue(reporter.containsMbean(String.format(\n                \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n                storeLevelGroup,\n                threadIdTagKey,\n                threadId,\n                taskId.toString(),\n                STORE_TYPE,\n                ROLLUP_VALUE\n            )));\n        }\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":148,"status":"M"}],"commitId":"9c833f665f349e5c292228f75188f5521282835d","commitMessage":"@@@KAFKA-9960: implement KIP-606 to add metadata context to MetricsReporter (#8691)\n\nImplemented KIP-606 to add metadata context to MetricsReporter.\n\nAuthor: Xiaodong Du <xdu@confluent.io>\nReviewers: David Arthur <mumrah@gmail.com>.  Randall Hauch <rhauch@gmail.com>.  Xavier L?aut? <xavier@confluent.io>.  Ryan Pridgeon <ryan.n.pridgeon@gmail.com>","date":"2020-05-28 09:18:36","modifiedFileCount":"35","status":"M","submitter":"xiaodongdu"},{"authorTime":"2020-07-10 02:50:31","codes":[{"authorDate":"2020-07-10 02:50:31","commitOrder":7,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter();\n        final MetricsContext metricsContext = new KafkaMetricsContext(\"kafka.streams\");\n        reporter.contextChange(metricsContext);\n\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\n            \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n            storeLevelGroup,\n            threadIdTagKey,\n            threadId,\n            taskId.toString(),\n            STORE_TYPE,\n            STORE_NAME\n        )));\n        if (StreamsConfig.METRICS_0100_TO_24.equals(builtInMetricsVersion)) {\n            assertTrue(reporter.containsMbean(String.format(\n                \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n                storeLevelGroup,\n                threadIdTagKey,\n                threadId,\n                taskId.toString(),\n                STORE_TYPE,\n                ROLLUP_VALUE\n            )));\n        }\n    }\n","date":"2020-07-10 02:50:31","endLine":231,"groupId":"4355","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/83/136f4690acea6214462ca938825015f2f06b54.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter();\n        final MetricsContext metricsContext = new KafkaMetricsContext(\"kafka.streams\");\n        reporter.contextChange(metricsContext);\n\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\n            \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n            storeLevelGroup,\n            threadIdTagKey,\n            threadId,\n            taskId.toString(),\n            STORE_TYPE,\n            \"metered\"\n        )));\n        if (StreamsConfig.METRICS_0100_TO_24.equals(builtInMetricsVersion)) {\n            assertTrue(reporter.containsMbean(String.format(\n                \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n                storeLevelGroup,\n                threadIdTagKey,\n                threadId,\n                taskId.toString(),\n                STORE_TYPE,\n                ROLLUP_VALUE\n            )));\n        }\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredSessionStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":204,"status":"M"},{"authorDate":"2020-07-10 02:50:31","commitOrder":7,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter();\n        final MetricsContext metricsContext = new KafkaMetricsContext(\"kafka.streams\");\n        reporter.contextChange(metricsContext);\n\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\n            \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n            storeLevelGroup,\n            threadIdTagKey,\n            threadId,\n            taskId.toString(),\n            STORE_TYPE,\n            STORE_NAME\n        )));\n        if (StreamsConfig.METRICS_0100_TO_24.equals(builtInMetricsVersion)) {\n            assertTrue(reporter.containsMbean(String.format(\n                \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n                storeLevelGroup,\n                threadIdTagKey,\n                threadId,\n                taskId.toString(),\n                STORE_TYPE,\n                ROLLUP_VALUE\n            )));\n        }\n    }\n","date":"2020-07-10 02:50:31","endLine":225,"groupId":"4355","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/17/c882cdee2878b07f5ffa051c8cd37b526232c7.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter();\n        final MetricsContext metricsContext = new KafkaMetricsContext(\"kafka.streams\");\n        reporter.contextChange(metricsContext);\n\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\n            \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n            storeLevelGroup,\n            threadIdTagKey,\n            threadId,\n            taskId.toString(),\n            STORE_TYPE,\n            \"metered\"\n        )));\n        if (StreamsConfig.METRICS_0100_TO_24.equals(builtInMetricsVersion)) {\n            assertTrue(reporter.containsMbean(String.format(\n                \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n                storeLevelGroup,\n                threadIdTagKey,\n                threadId,\n                taskId.toString(),\n                STORE_TYPE,\n                ROLLUP_VALUE\n            )));\n        }\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":198,"status":"M"}],"commitId":"813f92c21ad4bd7ffdd8acc66c20d31927e7a67f","commitMessage":"@@@KAFKA-10179: Pass correct changelog topic to state serdes (#8902)\n\nUntil now we always passed the default changelog topic name\nto the state serdes. However.  for optimized source tables\nand global tables the changelog topic is the source topic.\n\nMost serdes do not use the topic name passed to them.\nHowever.  if the serdes actually use the topic name for\n(de)serialization a\norg.apache.kafka.common.errors.SerializationException is thrown.\n\nThis commits passed the correct changelog topic to the state\nserdes of the metered state stores.\n\nReviewers: A. Sophie Blee-Goldman <sophie@confluent.io>.  Matthias J. Sax <matthias@confluent.io>.  John Roesler <vvcephei@apache.org>","date":"2020-07-10 02:50:31","modifiedFileCount":"30","status":"M","submitter":"Bruno Cadonna"},{"authorTime":"2021-06-01 20:05:08","codes":[{"authorDate":"2021-06-01 20:05:08","commitOrder":8,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter();\n        final MetricsContext metricsContext = new KafkaMetricsContext(\"kafka.streams\");\n        reporter.contextChange(metricsContext);\n\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\n            \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n            STORE_LEVEL_GROUP,\n            THREAD_ID_TAG_KEY,\n            threadId,\n            taskId.toString(),\n            STORE_TYPE,\n            STORE_NAME\n        )));\n    }\n","date":"2021-06-01 20:05:08","endLine":235,"groupId":"10931","id":15,"instanceNumber":1,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/b3/bea75f404cf5d3a7c1b6c4f6d5386ea84246ae.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter();\n        final MetricsContext metricsContext = new KafkaMetricsContext(\"kafka.streams\");\n        reporter.contextChange(metricsContext);\n\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\n            \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n            storeLevelGroup,\n            threadIdTagKey,\n            threadId,\n            taskId.toString(),\n            STORE_TYPE,\n            STORE_NAME\n        )));\n        if (StreamsConfig.METRICS_0100_TO_24.equals(builtInMetricsVersion)) {\n            assertTrue(reporter.containsMbean(String.format(\n                \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n                storeLevelGroup,\n                threadIdTagKey,\n                threadId,\n                taskId.toString(),\n                STORE_TYPE,\n                ROLLUP_VALUE\n            )));\n        }\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredSessionStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":219,"status":"M"},{"authorDate":"2021-06-01 20:05:08","commitOrder":8,"curCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter();\n        final MetricsContext metricsContext = new KafkaMetricsContext(\"kafka.streams\");\n        reporter.contextChange(metricsContext);\n\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\n            \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n            STORE_LEVEL_GROUP,\n            THREAD_ID_TAG_KEY,\n            threadId,\n            taskId.toString(),\n            STORE_TYPE,\n            STORE_NAME\n        )));\n    }\n","date":"2021-06-01 20:05:08","endLine":232,"groupId":"10931","id":16,"instanceNumber":2,"isCurCommit":0,"methodName":"testMetrics","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/3e/5c3d78c5960ad1a9e3a0b1020be370e0e787bc.src","preCode":"    public void testMetrics() {\n        init();\n        final JmxReporter reporter = new JmxReporter();\n        final MetricsContext metricsContext = new KafkaMetricsContext(\"kafka.streams\");\n        reporter.contextChange(metricsContext);\n\n        metrics.addReporter(reporter);\n        assertTrue(reporter.containsMbean(String.format(\n            \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n            storeLevelGroup,\n            threadIdTagKey,\n            threadId,\n            taskId.toString(),\n            STORE_TYPE,\n            STORE_NAME\n        )));\n        if (StreamsConfig.METRICS_0100_TO_24.equals(builtInMetricsVersion)) {\n            assertTrue(reporter.containsMbean(String.format(\n                \"kafka.streams:type=%s,%s=%s,task-id=%s,%s-state-id=%s\",\n                storeLevelGroup,\n                threadIdTagKey,\n                threadId,\n                taskId.toString(),\n                STORE_TYPE,\n                ROLLUP_VALUE\n            )));\n        }\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/state/internals/MeteredKeyValueStoreTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":216,"status":"M"}],"commitId":"cfe642edee80977173279f4a41e23aa822b9d19f","commitMessage":"@@@KAFKA-12519: Remove built-in Streams metrics for versions 0.10.0-2.4 (#10765)\n\nAs specified in KIP-743.  this PR removes the built-in metrics\nin Streams that are superseded by the refactoring proposed in KIP-444.\n\nReviewers: Guozhang Wang <wangguoz@gmail.com>.  Luke Chen <showuon@gmail.com>","date":"2021-06-01 20:05:08","modifiedFileCount":"73","status":"M","submitter":"Bruno Cadonna"}]
