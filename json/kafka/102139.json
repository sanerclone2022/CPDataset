[{"authorTime":"2017-03-11 03:28:06","codes":[{"authorDate":"2017-03-11 03:28:06","commitOrder":2,"curCode":"    public void shouldAssignTasksNotPreviouslyActiveToNewClient() throws Exception {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n        final ClientState c3 = createClientWithPreviousActiveTasks(p3, 1, task20, task21, task23);\n        c3.addPreviousStandbyTasks(Utils.mkSet(task02, task12));\n\n        final ClientState newClient = createClient(p4, 1);\n        newClient.addPreviousStandbyTasks(Utils.mkSet(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(c3.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(newClient.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","date":"2017-03-11 03:28:06","endLine":507,"groupId":"6781","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"shouldAssignTasksNotPreviouslyActiveToNewClient","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/44/9dabd157efe31ff5b2552a57819b1863a1dd5b.src","preCode":"    public void shouldAssignTasksNotPreviouslyActiveToNewClient() throws Exception {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n        final ClientState c3 = createClientWithPreviousActiveTasks(p3, 1, task20, task21, task23);\n        c3.addPreviousStandbyTasks(Utils.mkSet(task02, task12));\n\n        final ClientState newClient = createClient(p4, 1);\n        newClient.addPreviousStandbyTasks(Utils.mkSet(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(c3.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(newClient.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/processor/internals/assignment/StickyTaskAssignorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":480,"status":"MB"},{"authorDate":"2017-03-11 03:28:06","commitOrder":2,"curCode":"    public void shouldAssignTasksNotPreviouslyActiveToMultipleNewClients() throws Exception {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n\n        final ClientState bounce1 = createClient(p3, 1);\n        bounce1.addPreviousStandbyTasks(Utils.mkSet(task20, task21, task23));\n\n        final ClientState bounce2 = createClient(p4, 1);\n        bounce2.addPreviousStandbyTasks(Utils.mkSet(task02, task03, task10));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(bounce1.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(bounce2.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","date":"2017-03-11 03:28:06","endLine":538,"groupId":"10989","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"shouldAssignTasksNotPreviouslyActiveToMultipleNewClients","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/44/9dabd157efe31ff5b2552a57819b1863a1dd5b.src","preCode":"    public void shouldAssignTasksNotPreviouslyActiveToMultipleNewClients() throws Exception {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n\n        final ClientState bounce1 = createClient(p3, 1);\n        bounce1.addPreviousStandbyTasks(Utils.mkSet(task20, task21, task23));\n\n        final ClientState bounce2 = createClient(p4, 1);\n        bounce2.addPreviousStandbyTasks(Utils.mkSet(task02, task03, task10));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(bounce1.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(bounce2.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/processor/internals/assignment/StickyTaskAssignorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":510,"status":"MB"}],"commitId":"dfa2ef4837259cd127b013e63ce26acdec8b94c5","commitMessage":"@@@KAFKA-4738: Remove generic type of class ClientState\n\nRemove generic type of class ClientState and generic T inTaskAssignor.\n\nAuthor: sharad.develop <sharad.develop@gmail.com>\n\nReviewers: Matthias J. Sax.  Guozhang Wang\n\nCloses #2616 from sharad-develop/KAFKA-4738\n","date":"2017-03-11 03:28:06","modifiedFileCount":"5","status":"M","submitter":"sharad.develop"},{"authorTime":"2017-09-11 16:42:10","codes":[{"authorDate":"2017-09-11 16:42:10","commitOrder":3,"curCode":"    public void shouldAssignTasksNotPreviouslyActiveToNewClient() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n        final ClientState c3 = createClientWithPreviousActiveTasks(p3, 1, task20, task21, task23);\n        c3.addPreviousStandbyTasks(Utils.mkSet(task02, task12));\n\n        final ClientState newClient = createClient(p4, 1);\n        newClient.addPreviousStandbyTasks(Utils.mkSet(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(c3.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(newClient.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","date":"2017-09-11 16:42:10","endLine":507,"groupId":"6781","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"shouldAssignTasksNotPreviouslyActiveToNewClient","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/86/af0be1ec948aac678694ac948c1f435944e4f6.src","preCode":"    public void shouldAssignTasksNotPreviouslyActiveToNewClient() throws Exception {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n        final ClientState c3 = createClientWithPreviousActiveTasks(p3, 1, task20, task21, task23);\n        c3.addPreviousStandbyTasks(Utils.mkSet(task02, task12));\n\n        final ClientState newClient = createClient(p4, 1);\n        newClient.addPreviousStandbyTasks(Utils.mkSet(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(c3.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(newClient.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/processor/internals/assignment/StickyTaskAssignorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":480,"status":"M"},{"authorDate":"2017-09-11 16:42:10","commitOrder":3,"curCode":"    public void shouldAssignTasksNotPreviouslyActiveToMultipleNewClients() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n\n        final ClientState bounce1 = createClient(p3, 1);\n        bounce1.addPreviousStandbyTasks(Utils.mkSet(task20, task21, task23));\n\n        final ClientState bounce2 = createClient(p4, 1);\n        bounce2.addPreviousStandbyTasks(Utils.mkSet(task02, task03, task10));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(bounce1.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(bounce2.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","date":"2017-09-11 16:42:10","endLine":538,"groupId":"10989","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"shouldAssignTasksNotPreviouslyActiveToMultipleNewClients","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/86/af0be1ec948aac678694ac948c1f435944e4f6.src","preCode":"    public void shouldAssignTasksNotPreviouslyActiveToMultipleNewClients() throws Exception {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n\n        final ClientState bounce1 = createClient(p3, 1);\n        bounce1.addPreviousStandbyTasks(Utils.mkSet(task20, task21, task23));\n\n        final ClientState bounce2 = createClient(p4, 1);\n        bounce2.addPreviousStandbyTasks(Utils.mkSet(task02, task03, task10));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(bounce1.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(bounce2.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/processor/internals/assignment/StickyTaskAssignorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":510,"status":"M"}],"commitId":"c5464edbb7a6821e0a91a3712b1fe2fd92a22d68","commitMessage":"@@@KAFKA-5531; throw concrete exceptions in streams tests\n\n1. Now instead of just generic `Exception` methods declare more concrete\nexceptions throwing or don't declare any throwing at all.  if not needed.\n2. `SimpleBenchmark.run()` throws `RuntimeException`\n3. `SimpleBenchmark.produce()` throws `IllegalArgumentException`\n4. Expect `ProcessorStateException` in\n`StandbyTaskTest.testUpdateNonPersistentStore()`\n\n/cc enothereska\n\nAuthor: Evgeny Veretennikov <evg.veretennikov@gmail.com>\n\nReviewers: Damian Guy <damian.guy@gmail.com>\n\nCloses #3485 from evis/5531-throw-concrete-exceptions\n","date":"2017-09-11 16:42:10","modifiedFileCount":"106","status":"M","submitter":"Evgeny Veretennikov"},{"authorTime":"2019-10-02 23:54:32","codes":[{"authorDate":"2019-10-02 23:54:32","commitOrder":4,"curCode":"    public void shouldAssignTasksNotPreviouslyActiveToNewClient() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(\"consumer\", Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(\"consumer\", Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n        final ClientState c3 = createClientWithPreviousActiveTasks(p3, 1, task20, task21, task23);\n        c3.addPreviousStandbyTasks(\"consumer\", Utils.mkSet(task02, task12));\n\n        final ClientState newClient = createClient(p4, 1);\n        newClient.addPreviousStandbyTasks(\"consumer\", Utils.mkSet(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(c3.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(newClient.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","date":"2019-10-02 23:54:32","endLine":596,"groupId":"0","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"shouldAssignTasksNotPreviouslyActiveToNewClient","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/19/d7730787681203ba63929e86d3ceac833128a2.src","preCode":"    public void shouldAssignTasksNotPreviouslyActiveToNewClient() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n        final ClientState c3 = createClientWithPreviousActiveTasks(p3, 1, task20, task21, task23);\n        c3.addPreviousStandbyTasks(Utils.mkSet(task02, task12));\n\n        final ClientState newClient = createClient(p4, 1);\n        newClient.addPreviousStandbyTasks(Utils.mkSet(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(c3.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(newClient.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/processor/internals/assignment/StickyTaskAssignorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":569,"status":"M"},{"authorDate":"2019-10-02 23:54:32","commitOrder":4,"curCode":"    public void shouldAssignTasksNotPreviouslyActiveToMultipleNewClients() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(\"c1onsumer\", Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(\"consumer\", Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n\n        final ClientState bounce1 = createClient(p3, 1);\n        bounce1.addPreviousStandbyTasks(\"consumer\", Utils.mkSet(task20, task21, task23));\n\n        final ClientState bounce2 = createClient(p4, 1);\n        bounce2.addPreviousStandbyTasks(\"consumer\", Utils.mkSet(task02, task03, task10));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(bounce1.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(bounce2.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","date":"2019-10-02 23:54:32","endLine":627,"groupId":"0","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"shouldAssignTasksNotPreviouslyActiveToMultipleNewClients","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/19/d7730787681203ba63929e86d3ceac833128a2.src","preCode":"    public void shouldAssignTasksNotPreviouslyActiveToMultipleNewClients() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n\n        final ClientState bounce1 = createClient(p3, 1);\n        bounce1.addPreviousStandbyTasks(Utils.mkSet(task20, task21, task23));\n\n        final ClientState bounce2 = createClient(p4, 1);\n        bounce2.addPreviousStandbyTasks(Utils.mkSet(task02, task03, task10));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(bounce1.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(bounce2.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/processor/internals/assignment/StickyTaskAssignorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":599,"status":"M"}],"commitId":"8da69936a7e7c4da51e45cdf0fa392bcb0eacbbc","commitMessage":"@@@KAFKA-8649: Send latest commonly supported version in assignment (#7423)\n\nInstead of sending the leader's version and having older members try to blindly upgrade.\n\nThe only other real change here is that we will also set the VERSION_PROBING error code and return early from onAssignment when we are upgrading our used subscription version (not just downgrading it) since this implies the whole group has finished the rolling upgrade and all members should rejoin with the new subscription version.\n\nAlso piggy-backing on a fix for a potentially dangerous edge case.  where every thread of an instance is assigned the same set of active tasks.\n\nReviewers: Guozhang Wang <wangguoz@gmail.com>","date":"2019-10-02 23:54:32","modifiedFileCount":"10","status":"M","submitter":"A. Sophie Blee-Goldman"},{"authorTime":"2019-10-08 00:27:09","codes":[{"authorDate":"2019-10-08 00:27:09","commitOrder":5,"curCode":"    public void shouldAssignTasksNotPreviouslyActiveToNewClient() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n        final ClientState c3 = createClientWithPreviousActiveTasks(p3, 1, task20, task21, task23);\n        c3.addPreviousStandbyTasks(Utils.mkSet(task02, task12));\n\n        final ClientState newClient = createClient(p4, 1);\n        newClient.addPreviousStandbyTasks(Utils.mkSet(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(c3.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(newClient.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","date":"2019-10-08 00:27:09","endLine":596,"groupId":"6781","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"shouldAssignTasksNotPreviouslyActiveToNewClient","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/17/d403f13061acfef4baeab9fd2995f3607afe79.src","preCode":"    public void shouldAssignTasksNotPreviouslyActiveToNewClient() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(\"consumer\", Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(\"consumer\", Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n        final ClientState c3 = createClientWithPreviousActiveTasks(p3, 1, task20, task21, task23);\n        c3.addPreviousStandbyTasks(\"consumer\", Utils.mkSet(task02, task12));\n\n        final ClientState newClient = createClient(p4, 1);\n        newClient.addPreviousStandbyTasks(\"consumer\", Utils.mkSet(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(c3.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(newClient.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/processor/internals/assignment/StickyTaskAssignorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":569,"status":"M"},{"authorDate":"2019-10-08 00:27:09","commitOrder":5,"curCode":"    public void shouldAssignTasksNotPreviouslyActiveToMultipleNewClients() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n\n        final ClientState bounce1 = createClient(p3, 1);\n        bounce1.addPreviousStandbyTasks(Utils.mkSet(task20, task21, task23));\n\n        final ClientState bounce2 = createClient(p4, 1);\n        bounce2.addPreviousStandbyTasks(Utils.mkSet(task02, task03, task10));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(bounce1.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(bounce2.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","date":"2019-10-08 00:27:09","endLine":627,"groupId":"10989","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"shouldAssignTasksNotPreviouslyActiveToMultipleNewClients","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/17/d403f13061acfef4baeab9fd2995f3607afe79.src","preCode":"    public void shouldAssignTasksNotPreviouslyActiveToMultipleNewClients() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(\"c1onsumer\", Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(\"consumer\", Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n\n        final ClientState bounce1 = createClient(p3, 1);\n        bounce1.addPreviousStandbyTasks(\"consumer\", Utils.mkSet(task20, task21, task23));\n\n        final ClientState bounce2 = createClient(p4, 1);\n        bounce2.addPreviousStandbyTasks(\"consumer\", Utils.mkSet(task02, task03, task10));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(bounce1.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(bounce2.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/processor/internals/assignment/StickyTaskAssignorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":599,"status":"M"}],"commitId":"d88f1048da6bdc5670102bbbde7bd92fa7af4ccb","commitMessage":"@@@KAFKA-8179: Part 7.  cooperative rebalancing in Streams (#7386)\n\nKey improvements with this PR:\n\n* tasks will remain available for IQ during a rebalance (but not during restore)\n* continue restoring and processing standby tasks during a rebalance\n* continue processing active tasks during rebalance until the RecordQueue is empty*\n* only revoked tasks must suspended/closed\n* StreamsPartitionAssignor tries to return tasks to their previous consumers within a client\n* but do not try to commit.  for now (pending KAFKA-7312)\n\n\nReviewers: John Roesler <john@confluent.io>.  Boyang Chen <boyang@confluent.io>.  Guozhang Wang <wangguoz@gmail.com>","date":"2019-10-08 00:27:09","modifiedFileCount":"22","status":"M","submitter":"A. Sophie Blee-Goldman"},{"authorTime":"2020-04-03 02:36:03","codes":[{"authorDate":"2020-04-03 02:36:03","commitOrder":6,"curCode":"    public void shouldAssignTasksNotPreviouslyActiveToNewClient() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n        final ClientState c3 = createClientWithPreviousActiveTasks(p3, 1, task20, task21, task23);\n        c3.addPreviousStandbyTasks(Utils.mkSet(task02, task12));\n\n        final ClientState newClient = createClient(p4, 1);\n        newClient.addPreviousStandbyTasks(Utils.mkSet(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign();\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(c3.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(newClient.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","date":"2020-04-03 02:36:03","endLine":591,"groupId":"6781","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"shouldAssignTasksNotPreviouslyActiveToNewClient","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/91/629418dbd1544d0d9312e3ec34cae0ecc6bf01.src","preCode":"    public void shouldAssignTasksNotPreviouslyActiveToNewClient() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n        final ClientState c3 = createClientWithPreviousActiveTasks(p3, 1, task20, task21, task23);\n        c3.addPreviousStandbyTasks(Utils.mkSet(task02, task12));\n\n        final ClientState newClient = createClient(p4, 1);\n        newClient.addPreviousStandbyTasks(Utils.mkSet(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(c3.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(newClient.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/processor/internals/assignment/StickyTaskAssignorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":564,"status":"M"},{"authorDate":"2020-04-03 02:36:03","commitOrder":6,"curCode":"    public void shouldAssignTasksNotPreviouslyActiveToMultipleNewClients() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n\n        final ClientState bounce1 = createClient(p3, 1);\n        bounce1.addPreviousStandbyTasks(Utils.mkSet(task20, task21, task23));\n\n        final ClientState bounce2 = createClient(p4, 1);\n        bounce2.addPreviousStandbyTasks(Utils.mkSet(task02, task03, task10));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign();\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(bounce1.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(bounce2.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","date":"2020-04-03 02:36:03","endLine":622,"groupId":"10989","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"shouldAssignTasksNotPreviouslyActiveToMultipleNewClients","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/91/629418dbd1544d0d9312e3ec34cae0ecc6bf01.src","preCode":"    public void shouldAssignTasksNotPreviouslyActiveToMultipleNewClients() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n\n        final ClientState bounce1 = createClient(p3, 1);\n        bounce1.addPreviousStandbyTasks(Utils.mkSet(task20, task21, task23));\n\n        final ClientState bounce2 = createClient(p4, 1);\n        bounce2.addPreviousStandbyTasks(Utils.mkSet(task02, task03, task10));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign(0);\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(bounce1.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(bounce2.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/processor/internals/assignment/StickyTaskAssignorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":594,"status":"M"}],"commitId":"2322bc0a6fdf8b26619b6aa9f09355d6c25e6298","commitMessage":"@@@KAFKA-6145: Pt. 5 Implement high availability assignment (#8337)\n\nAdds a new TaskAssignor implementation.  currently hidden behind an internal feature flag.  that implements the high availability algorithm of KIP-441.\n\nReviewers: Bruno Cadonna <bruno@confluent.io>.  John Roesler <vvcephei@apache.org>","date":"2020-04-03 02:36:03","modifiedFileCount":"12","status":"M","submitter":"A. Sophie Blee-Goldman"},{"authorTime":"2020-04-04 02:53:51","codes":[{"authorDate":"2020-04-04 02:53:51","commitOrder":7,"curCode":"    public void shouldAssignTasksNotPreviouslyActiveToNewClient() {\n        final ClientState c1 = createClientWithPreviousActiveTasks(UUID_1, 1, TASK_0_1, TASK_1_2, TASK_1_3);\n        c1.addPreviousStandbyTasks(Utils.mkSet(TASK_0_0, TASK_1_1, TASK_2_0, TASK_2_1, TASK_2_3));\n        final ClientState c2 = createClientWithPreviousActiveTasks(UUID_2, 1, TASK_0_0, TASK_1_1, TASK_2_2);\n        c2.addPreviousStandbyTasks(Utils.mkSet(TASK_0_1, TASK_1_0, TASK_0_2, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_3));\n        final ClientState c3 = createClientWithPreviousActiveTasks(UUID_3, 1, TASK_2_0, TASK_2_1, TASK_2_3);\n        c3.addPreviousStandbyTasks(Utils.mkSet(TASK_0_2, TASK_1_2));\n\n        final ClientState newClient = createClient(UUID_4, 1);\n        newClient.addPreviousStandbyTasks(Utils.mkSet(TASK_0_0, TASK_1_0, TASK_0_1, TASK_0_2, TASK_1_1, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_2, TASK_2_3));\n\n        final StickyTaskAssignor taskAssignor = createTaskAssignor(TASK_0_0, TASK_1_0, TASK_0_1, TASK_0_2, TASK_1_1, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_2, TASK_2_3);\n        taskAssignor.assign();\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(TASK_0_1, TASK_1_2, TASK_1_3)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(TASK_0_0, TASK_1_1, TASK_2_2)));\n        assertThat(c3.activeTasks(), equalTo(Utils.mkSet(TASK_2_0, TASK_2_1, TASK_2_3)));\n        assertThat(newClient.activeTasks(), equalTo(Utils.mkSet(TASK_0_2, TASK_0_3, TASK_1_0)));\n    }\n","date":"2020-04-04 02:53:51","endLine":587,"groupId":"5838","id":11,"instanceNumber":1,"isCurCommit":0,"methodName":"shouldAssignTasksNotPreviouslyActiveToNewClient","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/d2/41a57a3a127a56fc409e066fd9b41a7ffb3000.src","preCode":"    public void shouldAssignTasksNotPreviouslyActiveToNewClient() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n        final ClientState c3 = createClientWithPreviousActiveTasks(p3, 1, task20, task21, task23);\n        c3.addPreviousStandbyTasks(Utils.mkSet(task02, task12));\n\n        final ClientState newClient = createClient(p4, 1);\n        newClient.addPreviousStandbyTasks(Utils.mkSet(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign();\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(c3.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(newClient.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/processor/internals/assignment/StickyTaskAssignorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":569,"status":"M"},{"authorDate":"2020-04-04 02:53:51","commitOrder":7,"curCode":"    public void shouldAssignTasksNotPreviouslyActiveToMultipleNewClients() {\n        final ClientState c1 = createClientWithPreviousActiveTasks(UUID_1, 1, TASK_0_1, TASK_1_2, TASK_1_3);\n        c1.addPreviousStandbyTasks(Utils.mkSet(TASK_0_0, TASK_1_1, TASK_2_0, TASK_2_1, TASK_2_3));\n        final ClientState c2 = createClientWithPreviousActiveTasks(UUID_2, 1, TASK_0_0, TASK_1_1, TASK_2_2);\n        c2.addPreviousStandbyTasks(Utils.mkSet(TASK_0_1, TASK_1_0, TASK_0_2, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_3));\n\n        final ClientState bounce1 = createClient(UUID_3, 1);\n        bounce1.addPreviousStandbyTasks(Utils.mkSet(TASK_2_0, TASK_2_1, TASK_2_3));\n\n        final ClientState bounce2 = createClient(UUID_4, 1);\n        bounce2.addPreviousStandbyTasks(Utils.mkSet(TASK_0_2, TASK_0_3, TASK_1_0));\n\n        final StickyTaskAssignor taskAssignor = createTaskAssignor(TASK_0_0, TASK_1_0, TASK_0_1, TASK_0_2, TASK_1_1, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_2, TASK_2_3);\n        taskAssignor.assign();\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(TASK_0_1, TASK_1_2, TASK_1_3)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(TASK_0_0, TASK_1_1, TASK_2_2)));\n        assertThat(bounce1.activeTasks(), equalTo(Utils.mkSet(TASK_2_0, TASK_2_1, TASK_2_3)));\n        assertThat(bounce2.activeTasks(), equalTo(Utils.mkSet(TASK_0_2, TASK_0_3, TASK_1_0)));\n    }\n","date":"2020-04-04 02:53:51","endLine":609,"groupId":"5838","id":12,"instanceNumber":2,"isCurCommit":0,"methodName":"shouldAssignTasksNotPreviouslyActiveToMultipleNewClients","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/d2/41a57a3a127a56fc409e066fd9b41a7ffb3000.src","preCode":"    public void shouldAssignTasksNotPreviouslyActiveToMultipleNewClients() {\n        final TaskId task10 = new TaskId(0, 10);\n        final TaskId task11 = new TaskId(0, 11);\n        final TaskId task12 = new TaskId(1, 2);\n        final TaskId task13 = new TaskId(1, 3);\n        final TaskId task20 = new TaskId(2, 0);\n        final TaskId task21 = new TaskId(2, 1);\n        final TaskId task22 = new TaskId(2, 2);\n        final TaskId task23 = new TaskId(2, 3);\n\n        final ClientState c1 = createClientWithPreviousActiveTasks(p1, 1, task01, task12, task13);\n        c1.addPreviousStandbyTasks(Utils.mkSet(task00, task11, task20, task21, task23));\n        final ClientState c2 = createClientWithPreviousActiveTasks(p2, 1, task00, task11, task22);\n        c2.addPreviousStandbyTasks(Utils.mkSet(task01, task10, task02, task20, task03, task12, task21, task13, task23));\n\n        final ClientState bounce1 = createClient(p3, 1);\n        bounce1.addPreviousStandbyTasks(Utils.mkSet(task20, task21, task23));\n\n        final ClientState bounce2 = createClient(p4, 1);\n        bounce2.addPreviousStandbyTasks(Utils.mkSet(task02, task03, task10));\n\n        final StickyTaskAssignor<Integer> taskAssignor = createTaskAssignor(task00, task10, task01, task02, task11, task20, task03, task12, task21, task13, task22, task23);\n        taskAssignor.assign();\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(task01, task12, task13)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(task00, task11, task22)));\n        assertThat(bounce1.activeTasks(), equalTo(Utils.mkSet(task20, task21, task23)));\n        assertThat(bounce2.activeTasks(), equalTo(Utils.mkSet(task02, task03, task10)));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/processor/internals/assignment/StickyTaskAssignorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":590,"status":"M"}],"commitId":"6e0d553350cef876f4fd2de0e3b8e6e40ce6be44","commitMessage":"@@@MINOR: clean up Streams assignment classes and tests (#8406)\n\nFirst set of cleanup pushed to followup PR after KIP-441 Pt. 5. Main changes are:\n\n1. Moved `RankedClient` and the static `buildClientRankingsByTask` to a new file\n2. Moved `Movement` and the static `getMovements` to a new file (also renamed to `TaskMovement`)\n3. Consolidated the many common variables throughout the assignment tests to the new `AssignmentTestUtils` \n4. New utility to generate comparable/predictable UUIDs for tests.  and removed the generic from `TaskAssignor` and all related classes\n\nReviewers: John Roesler <vvcephei@apache.org>.  Andrew Choi <a24choi@edu.uwaterloo.ca>","date":"2020-04-04 02:53:51","modifiedFileCount":"16","status":"M","submitter":"A. Sophie Blee-Goldman"},{"authorTime":"2020-04-29 04:57:11","codes":[{"authorDate":"2020-04-29 04:57:11","commitOrder":8,"curCode":"    public void shouldAssignTasksNotPreviouslyActiveToNewClient() {\n        final ClientState c1 = createClientWithPreviousActiveTasks(UUID_1, 1, TASK_0_1, TASK_1_2, TASK_1_3);\n        c1.addPreviousStandbyTasks(mkSet(TASK_0_0, TASK_1_1, TASK_2_0, TASK_2_1, TASK_2_3));\n        final ClientState c2 = createClientWithPreviousActiveTasks(UUID_2, 1, TASK_0_0, TASK_1_1, TASK_2_2);\n        c2.addPreviousStandbyTasks(mkSet(TASK_0_1, TASK_1_0, TASK_0_2, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_3));\n        final ClientState c3 = createClientWithPreviousActiveTasks(UUID_3, 1, TASK_2_0, TASK_2_1, TASK_2_3);\n        c3.addPreviousStandbyTasks(mkSet(TASK_0_2, TASK_1_2));\n\n        final ClientState newClient = createClient(UUID_4, 1);\n        newClient.addPreviousStandbyTasks(mkSet(TASK_0_0, TASK_1_0, TASK_0_1, TASK_0_2, TASK_1_1, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_2, TASK_2_3));\n\n        final boolean probingRebalanceNeeded = assign(TASK_0_0, TASK_1_0, TASK_0_1, TASK_0_2, TASK_1_1, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_2, TASK_2_3);\n        assertThat(probingRebalanceNeeded, is(false));\n\n        assertThat(c1.activeTasks(), equalTo(mkSet(TASK_0_1, TASK_1_2, TASK_1_3)));\n        assertThat(c2.activeTasks(), equalTo(mkSet(TASK_0_0, TASK_1_1, TASK_2_2)));\n        assertThat(c3.activeTasks(), equalTo(mkSet(TASK_2_0, TASK_2_1, TASK_2_3)));\n        assertThat(newClient.activeTasks(), equalTo(mkSet(TASK_0_2, TASK_0_3, TASK_1_0)));\n    }\n","date":"2020-04-29 04:57:11","endLine":589,"groupId":"102139","id":13,"instanceNumber":1,"isCurCommit":0,"methodName":"shouldAssignTasksNotPreviouslyActiveToNewClient","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/52/03832f28a281836e9e0381973c2ccc00fc94e4.src","preCode":"    public void shouldAssignTasksNotPreviouslyActiveToNewClient() {\n        final ClientState c1 = createClientWithPreviousActiveTasks(UUID_1, 1, TASK_0_1, TASK_1_2, TASK_1_3);\n        c1.addPreviousStandbyTasks(Utils.mkSet(TASK_0_0, TASK_1_1, TASK_2_0, TASK_2_1, TASK_2_3));\n        final ClientState c2 = createClientWithPreviousActiveTasks(UUID_2, 1, TASK_0_0, TASK_1_1, TASK_2_2);\n        c2.addPreviousStandbyTasks(Utils.mkSet(TASK_0_1, TASK_1_0, TASK_0_2, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_3));\n        final ClientState c3 = createClientWithPreviousActiveTasks(UUID_3, 1, TASK_2_0, TASK_2_1, TASK_2_3);\n        c3.addPreviousStandbyTasks(Utils.mkSet(TASK_0_2, TASK_1_2));\n\n        final ClientState newClient = createClient(UUID_4, 1);\n        newClient.addPreviousStandbyTasks(Utils.mkSet(TASK_0_0, TASK_1_0, TASK_0_1, TASK_0_2, TASK_1_1, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_2, TASK_2_3));\n\n        final StickyTaskAssignor taskAssignor = createTaskAssignor(TASK_0_0, TASK_1_0, TASK_0_1, TASK_0_2, TASK_1_1, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_2, TASK_2_3);\n        taskAssignor.assign();\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(TASK_0_1, TASK_1_2, TASK_1_3)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(TASK_0_0, TASK_1_1, TASK_2_2)));\n        assertThat(c3.activeTasks(), equalTo(Utils.mkSet(TASK_2_0, TASK_2_1, TASK_2_3)));\n        assertThat(newClient.activeTasks(), equalTo(Utils.mkSet(TASK_0_2, TASK_0_3, TASK_1_0)));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/processor/internals/assignment/StickyTaskAssignorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":571,"status":"M"},{"authorDate":"2020-04-29 04:57:11","commitOrder":8,"curCode":"    public void shouldAssignTasksNotPreviouslyActiveToMultipleNewClients() {\n        final ClientState c1 = createClientWithPreviousActiveTasks(UUID_1, 1, TASK_0_1, TASK_1_2, TASK_1_3);\n        c1.addPreviousStandbyTasks(mkSet(TASK_0_0, TASK_1_1, TASK_2_0, TASK_2_1, TASK_2_3));\n        final ClientState c2 = createClientWithPreviousActiveTasks(UUID_2, 1, TASK_0_0, TASK_1_1, TASK_2_2);\n        c2.addPreviousStandbyTasks(mkSet(TASK_0_1, TASK_1_0, TASK_0_2, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_3));\n\n        final ClientState bounce1 = createClient(UUID_3, 1);\n        bounce1.addPreviousStandbyTasks(mkSet(TASK_2_0, TASK_2_1, TASK_2_3));\n\n        final ClientState bounce2 = createClient(UUID_4, 1);\n        bounce2.addPreviousStandbyTasks(mkSet(TASK_0_2, TASK_0_3, TASK_1_0));\n\n        final boolean probingRebalanceNeeded = assign(TASK_0_0, TASK_1_0, TASK_0_1, TASK_0_2, TASK_1_1, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_2, TASK_2_3);\n        assertThat(probingRebalanceNeeded, is(false));\n\n        assertThat(c1.activeTasks(), equalTo(mkSet(TASK_0_1, TASK_1_2, TASK_1_3)));\n        assertThat(c2.activeTasks(), equalTo(mkSet(TASK_0_0, TASK_1_1, TASK_2_2)));\n        assertThat(bounce1.activeTasks(), equalTo(mkSet(TASK_2_0, TASK_2_1, TASK_2_3)));\n        assertThat(bounce2.activeTasks(), equalTo(mkSet(TASK_0_2, TASK_0_3, TASK_1_0)));\n    }\n","date":"2020-04-29 04:57:11","endLine":611,"groupId":"102139","id":14,"instanceNumber":2,"isCurCommit":0,"methodName":"shouldAssignTasksNotPreviouslyActiveToMultipleNewClients","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/52/03832f28a281836e9e0381973c2ccc00fc94e4.src","preCode":"    public void shouldAssignTasksNotPreviouslyActiveToMultipleNewClients() {\n        final ClientState c1 = createClientWithPreviousActiveTasks(UUID_1, 1, TASK_0_1, TASK_1_2, TASK_1_3);\n        c1.addPreviousStandbyTasks(Utils.mkSet(TASK_0_0, TASK_1_1, TASK_2_0, TASK_2_1, TASK_2_3));\n        final ClientState c2 = createClientWithPreviousActiveTasks(UUID_2, 1, TASK_0_0, TASK_1_1, TASK_2_2);\n        c2.addPreviousStandbyTasks(Utils.mkSet(TASK_0_1, TASK_1_0, TASK_0_2, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_3));\n\n        final ClientState bounce1 = createClient(UUID_3, 1);\n        bounce1.addPreviousStandbyTasks(Utils.mkSet(TASK_2_0, TASK_2_1, TASK_2_3));\n\n        final ClientState bounce2 = createClient(UUID_4, 1);\n        bounce2.addPreviousStandbyTasks(Utils.mkSet(TASK_0_2, TASK_0_3, TASK_1_0));\n\n        final StickyTaskAssignor taskAssignor = createTaskAssignor(TASK_0_0, TASK_1_0, TASK_0_1, TASK_0_2, TASK_1_1, TASK_2_0, TASK_0_3, TASK_1_2, TASK_2_1, TASK_1_3, TASK_2_2, TASK_2_3);\n        taskAssignor.assign();\n\n        assertThat(c1.activeTasks(), equalTo(Utils.mkSet(TASK_0_1, TASK_1_2, TASK_1_3)));\n        assertThat(c2.activeTasks(), equalTo(Utils.mkSet(TASK_0_0, TASK_1_1, TASK_2_2)));\n        assertThat(bounce1.activeTasks(), equalTo(Utils.mkSet(TASK_2_0, TASK_2_1, TASK_2_3)));\n        assertThat(bounce2.activeTasks(), equalTo(Utils.mkSet(TASK_0_2, TASK_0_3, TASK_1_0)));\n    }\n","realPath":"streams/src/test/java/org/apache/kafka/streams/processor/internals/assignment/StickyTaskAssignorTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":592,"status":"M"}],"commitId":"5bb3415c77cc61b7d1591ccfe028d10bbf9f2a7a","commitMessage":"@@@KAFKA-6145: KIP-441: Add TaskAssignor class config (#8541)\n\n* add a config to set the TaskAssignor\n* set the default assignor to HighAvailabilityTaskAssignor\n* fix broken tests (with some TODOs in the system tests)\n\nImplements: KIP-441\nReviewers: Bruno Cadonna <bruno@confluent.io>.  A. Sophie Blee-Goldman <sophie@confluent.io>","date":"2020-04-29 04:57:11","modifiedFileCount":"17","status":"M","submitter":"John Roesler"}]
