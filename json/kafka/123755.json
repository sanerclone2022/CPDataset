[{"authorTime":"2018-08-03 02:02:38","codes":[{"authorDate":"2018-08-03 02:02:38","commitOrder":10,"curCode":"    public void testRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.Builder.forCurrentMagic((short) 1,\n                1000, Collections.emptyMap());\n        TestCallbackHandler handler = new TestCallbackHandler();\n        int requestTimeoutMs = defaultRequestTimeoutMs + 5000;\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true,\n                requestTimeoutMs, handler);\n        assertEquals(requestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","date":"2018-08-03 02:02:38","endLine":195,"groupId":"12645","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testRequestTimeout","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/28/76570b2bfab1a611ae8df3641f68284feda28d.src","preCode":"    public void testRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.Builder.forCurrentMagic((short) 1,\n                1000, Collections.emptyMap());\n        TestCallbackHandler handler = new TestCallbackHandler();\n        int requestTimeoutMs = defaultRequestTimeoutMs + 5000;\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true,\n                requestTimeoutMs, handler);\n        assertEquals(requestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","realPath":"clients/src/test/java/org/apache/kafka/clients/NetworkClientTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":185,"status":"MB"},{"authorDate":"2018-08-03 02:02:38","commitOrder":10,"curCode":"    public void testDefaultRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.Builder.forCurrentMagic((short) 1,\n                1000, Collections.emptyMap());\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true);\n        assertEquals(defaultRequestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","date":"2018-08-03 02:02:38","endLine":205,"groupId":"12644","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testDefaultRequestTimeout","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/28/76570b2bfab1a611ae8df3641f68284feda28d.src","preCode":"    public void testDefaultRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.Builder.forCurrentMagic((short) 1,\n                1000, Collections.emptyMap());\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true);\n        assertEquals(defaultRequestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","realPath":"clients/src/test/java/org/apache/kafka/clients/NetworkClientTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":198,"status":"B"}],"commitId":"596c6c0c0b27c13f2017c770ea37cd39e27e5dcf","commitMessage":"@@@KAFKA-7231; Ensure NetworkClient uses overridden request timeout (#5444)\n\nFixed incorrect use of default timeout instead of the argument explicitly passed to `newClientRequest`.\n\nReviewers: Ron Dagostino <rndgstn@gmail.com>.  Ismael Juma <ismael@juma.me.uk>","date":"2018-08-03 02:02:38","modifiedFileCount":"2","status":"M","submitter":"Jason Gustafson"},{"authorTime":"2018-08-03 02:02:38","codes":[{"authorDate":"2020-08-19 04:38:59","commitOrder":11,"curCode":"    public void testRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.Builder.forCurrentMagic((short) 1,\n                1000, Collections.emptyMap());\n        TestCallbackHandler handler = new TestCallbackHandler();\n        int requestTimeoutMs = defaultRequestTimeoutMs + 5000;\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true,\n                requestTimeoutMs,  null, null, handler);\n        assertEquals(requestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","date":"2020-08-19 04:38:59","endLine":460,"groupId":"12645","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testRequestTimeout","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/73/edf895b255057ff4deb8d45239d7be53eca7df.src","preCode":"    public void testRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.Builder.forCurrentMagic((short) 1,\n                1000, Collections.emptyMap());\n        TestCallbackHandler handler = new TestCallbackHandler();\n        int requestTimeoutMs = defaultRequestTimeoutMs + 5000;\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true,\n                requestTimeoutMs, handler);\n        assertEquals(requestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","realPath":"clients/src/test/java/org/apache/kafka/clients/NetworkClientTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":450,"status":"M"},{"authorDate":"2018-08-03 02:02:38","commitOrder":11,"curCode":"    public void testDefaultRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.Builder.forCurrentMagic((short) 1,\n                1000, Collections.emptyMap());\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true);\n        assertEquals(defaultRequestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","date":"2018-08-03 02:02:38","endLine":205,"groupId":"12644","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testDefaultRequestTimeout","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/28/76570b2bfab1a611ae8df3641f68284feda28d.src","preCode":"    public void testDefaultRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.Builder.forCurrentMagic((short) 1,\n                1000, Collections.emptyMap());\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true);\n        assertEquals(defaultRequestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","realPath":"clients/src/test/java/org/apache/kafka/clients/NetworkClientTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":198,"status":"N"}],"commitId":"21dc5231ce9c7398c7ede4dbefa2f2202e06b2d4","commitMessage":"@@@KAFKA-9705 part 1: add KIP-590 request header fields (#9144)\n\nReviewers: Colin P. McCabe <cmccabe@apache.org>.  David Jacot <david.jacot@gmail.com>","date":"2020-08-19 04:38:59","modifiedFileCount":"17","status":"M","submitter":"Boyang Chen"},{"authorTime":"2018-08-03 02:02:38","codes":[{"authorDate":"2020-10-29 13:57:10","commitOrder":12,"curCode":"    public void testRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.Builder.forCurrentMagic((short) 1,\n                1000, Collections.emptyMap());\n        TestCallbackHandler handler = new TestCallbackHandler();\n        int requestTimeoutMs = defaultRequestTimeoutMs + 5000;\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true,\n                requestTimeoutMs, handler);\n        assertEquals(requestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","date":"2020-10-29 13:57:10","endLine":446,"groupId":"12645","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testRequestTimeout","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/89/6c2370aa8a39d9325f1b8b56b076fcfee2a4e7.src","preCode":"    public void testRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.Builder.forCurrentMagic((short) 1,\n                1000, Collections.emptyMap());\n        TestCallbackHandler handler = new TestCallbackHandler();\n        int requestTimeoutMs = defaultRequestTimeoutMs + 5000;\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true,\n                requestTimeoutMs,  null, null, handler);\n        assertEquals(requestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","realPath":"clients/src/test/java/org/apache/kafka/clients/NetworkClientTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":436,"status":"M"},{"authorDate":"2018-08-03 02:02:38","commitOrder":12,"curCode":"    public void testDefaultRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.Builder.forCurrentMagic((short) 1,\n                1000, Collections.emptyMap());\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true);\n        assertEquals(defaultRequestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","date":"2018-08-03 02:02:38","endLine":205,"groupId":"12644","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testDefaultRequestTimeout","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/28/76570b2bfab1a611ae8df3641f68284feda28d.src","preCode":"    public void testDefaultRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.Builder.forCurrentMagic((short) 1,\n                1000, Collections.emptyMap());\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true);\n        assertEquals(defaultRequestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","realPath":"clients/src/test/java/org/apache/kafka/clients/NetworkClientTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":198,"status":"N"}],"commitId":"9f26906fcc2fd095b7d27c504e342b9a8d619b4b","commitMessage":"@@@Revert \"KAFKA-9705 part 1: add KIP-590 request header fields (#9144)\" (#9523)\n\nThis reverts commit 21dc5231ce9c7398c7ede4dbefa2f2202e06b2d4 as we decide to use Envelope for redirection instead of initial principal.\n\nReviewers: Jason Gustafson <jason@confluent.io>","date":"2020-10-29 13:57:10","modifiedFileCount":"17","status":"M","submitter":"Boyang Chen"},{"authorTime":"2020-11-19 05:44:21","codes":[{"authorDate":"2020-11-19 05:44:21","commitOrder":13,"curCode":"    public void testRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.forCurrentMagic(new ProduceRequestData()\n                .setTopicData(new ProduceRequestData.TopicProduceDataCollection())\n                .setAcks((short) 1)\n                .setTimeoutMs(1000));\n        TestCallbackHandler handler = new TestCallbackHandler();\n        int requestTimeoutMs = defaultRequestTimeoutMs + 5000;\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true,\n                requestTimeoutMs, handler);\n        assertEquals(requestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","date":"2020-11-19 05:44:21","endLine":447,"groupId":"123755","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testRequestTimeout","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/03/4a0d473e70be788c107d01e7e4c6e4afda91a3.src","preCode":"    public void testRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.Builder.forCurrentMagic((short) 1,\n                1000, Collections.emptyMap());\n        TestCallbackHandler handler = new TestCallbackHandler();\n        int requestTimeoutMs = defaultRequestTimeoutMs + 5000;\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true,\n                requestTimeoutMs, handler);\n        assertEquals(requestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","realPath":"clients/src/test/java/org/apache/kafka/clients/NetworkClientTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":435,"status":"M"},{"authorDate":"2020-11-19 05:44:21","commitOrder":13,"curCode":"    public void testDefaultRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.forCurrentMagic(new ProduceRequestData()\n                .setTopicData(new ProduceRequestData.TopicProduceDataCollection())\n                .setAcks((short) 1)\n                .setTimeoutMs(1000));\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true);\n        assertEquals(defaultRequestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","date":"2020-11-19 05:44:21","endLine":459,"groupId":"123755","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testDefaultRequestTimeout","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-kafka-10-0.7/blobInfo/CC_OUT/blobs/03/4a0d473e70be788c107d01e7e4c6e4afda91a3.src","preCode":"    public void testDefaultRequestTimeout() {\n        awaitReady(client, node); \r\n        ProduceRequest.Builder builder = ProduceRequest.Builder.forCurrentMagic((short) 1,\n                1000, Collections.emptyMap());\n        ClientRequest request = client.newClientRequest(node.idString(), builder, time.milliseconds(), true);\n        assertEquals(defaultRequestTimeoutMs, request.requestTimeoutMs());\n        testRequestTimeout(request);\n    }\n","realPath":"clients/src/test/java/org/apache/kafka/clients/NetworkClientTest.java","repoName":"kafka","snippetEndLine":0,"snippetStartLine":0,"startLine":450,"status":"M"}],"commitId":"30bc21ca35b165f04c472b4ce794893843809ccc","commitMessage":"@@@KAFKA-9628; Replace Produce request/response with automated protocol (#9401)\n\nThis patch rewrites `ProduceRequest` and `ProduceResponse` using the generated protocols. We have also added several new benchmarks to verify no regression in performance. A summary of results is included below:\n\n\n Benchmark\n\n1. loop **30** times\n1. calculate average\n\n\n# kafkatest.benchmarks.core.benchmark_test.Benchmark.test_producer_throughput\n\n> @cluster(num_nodes=5)\n> @parametrize(acks=-1.  topic=TOPIC_REP_THREE)\n\n- +0.3144915325 %\n- 28.08766667 ->  28.1715625 (mb_per_sec)\n\n> @cluster(num_nodes=5)\n> @matrix(acks=[1].  topic=[TOPIC_REP_THREE].  message_size=[100000]. compression_type=[\"none\"].  security_protocol=['PLAINTEXT'])\n\n- +4.220730323 %\n- 157.145 -> 163.7776667 (mb_per_sec)\n\n> @cluster(num_nodes=7)\n> @parametrize(acks=1.  topic=TOPIC_REP_THREE.  num_producers=3)\n\n- +5.996241145%\n- 57.64166667 -> 61.098 (mb_per_sec)\n\n> @cluster(num_nodes=5)\n> @parametrize(acks=1.  topic=TOPIC_REP_THREE)\n\n- +0.3979572536%\n- 44.05833333 -> 44.23366667 (mb_per_sec)\n\n> @cluster(num_nodes=5)\n> @parametrize(acks=1.  topic= TOPIC_REP_ONE)\n\n- +2.228235226%\n- 69.23266667 -> 70.77533333 (mb_per_sec)\n\n\n JMH results\n\nIn short.  most ops performance are regression since we have to convert data to protocol data. The cost is inevitable (like other request/response) before we use protocol data directly.\n\n\n JMH for ProduceRequest\n\n1. construction regression:\n    - 281.474 -> 454.935 ns/op\n    - 296.000 -> 1888.000 B/op\n1. toErrorResponse regression:\n    - 41.942 -> 107.528 ns/op\n    - 1216.000 -> 1616.000 B/op\n1. toStruct improvement:\n    - 255.185 -> 90.728 ns/op\n    - 864.000 -> 304.000 B/op\n\n**BEFORE**\n```\nBenchmark                                                                        Mode  Cnt     Score    Error   Units\nProducerRequestBenchmark.constructorErrorResponse                                avgt   15    41.942 ?  0.036   ns/op\nProducerRequestBenchmark.constructorErrorResponse:?gc.alloc.rate                 avgt   15  6409.263 ?  5.478  MB/sec\nProducerRequestBenchmark.constructorErrorResponse:?gc.alloc.rate.norm            avgt   15   296.000 ?  0.001    B/op\nProducerRequestBenchmark.constructorErrorResponse:?gc.churn.G1_Eden_Space        avgt   15  6416.420 ? 76.071  MB/sec\nProducerRequestBenchmark.constructorErrorResponse:?gc.churn.G1_Eden_Space.norm   avgt   15   296.331 ?  3.539    B/op\nProducerRequestBenchmark.constructorErrorResponse:?gc.churn.G1_Old_Gen           avgt   15     0.002 ?  0.002  MB/sec\nProducerRequestBenchmark.constructorErrorResponse:?gc.churn.G1_Old_Gen.norm      avgt   15    ? 10??             B/op\nProducerRequestBenchmark.constructorErrorResponse:?gc.count                      avgt   15   698.000           counts\nProducerRequestBenchmark.constructorErrorResponse:?gc.time                       avgt   15   378.000               ms\nProducerRequestBenchmark.constructorProduceRequest                               avgt   15   281.474 ?  3.286   ns/op\nProducerRequestBenchmark.constructorProduceRequest:?gc.alloc.rate                avgt   15  3923.868 ? 46.303  MB/sec\nProducerRequestBenchmark.constructorProduceRequest:?gc.alloc.rate.norm           avgt   15  1216.000 ?  0.001    B/op\nProducerRequestBenchmark.constructorProduceRequest:?gc.churn.G1_Eden_Space       avgt   15  3923.375 ? 59.568  MB/sec\nProducerRequestBenchmark.constructorProduceRequest:?gc.churn.G1_Eden_Space.norm  avgt   15  1215.844 ? 11.184    B/op\nProducerRequestBenchmark.constructorProduceRequest:?gc.churn.G1_Old_Gen          avgt   15     0.004 ?  0.001  MB/sec\nProducerRequestBenchmark.constructorProduceRequest:?gc.churn.G1_Old_Gen.norm     avgt   15     0.001 ?  0.001    B/op\nProducerRequestBenchmark.constructorProduceRequest:?gc.count                     avgt   15   515.000           counts\nProducerRequestBenchmark.constructorProduceRequest:?gc.time                      avgt   15   279.000               ms\nProducerRequestBenchmark.constructorStruct                                       avgt   15   255.185 ?  0.069   ns/op\nProducerRequestBenchmark.constructorStruct:?gc.alloc.rate                        avgt   15  3074.889 ?  0.823  MB/sec\nProducerRequestBenchmark.constructorStruct:?gc.alloc.rate.norm                   avgt   15   864.000 ?  0.001    B/op\nProducerRequestBenchmark.constructorStruct:?gc.churn.G1_Eden_Space               avgt   15  3077.737 ? 31.537  MB/sec\nProducerRequestBenchmark.constructorStruct:?gc.churn.G1_Eden_Space.norm          avgt   15   864.800 ?  8.823    B/op\nProducerRequestBenchmark.constructorStruct:?gc.churn.G1_Old_Gen                  avgt   15     0.003 ?  0.001  MB/sec\nProducerRequestBenchmark.constructorStruct:?gc.churn.G1_Old_Gen.norm             avgt   15     0.001 ?  0.001    B/op\nProducerRequestBenchmark.constructorStruct:?gc.count                             avgt   15   404.000           counts\nProducerRequestBenchmark.constructorStruct:?gc.time                              avgt   15   214.000               ms\n```\n\n**AFTER**\n```\nBenchmark                                                                        Mode  Cnt     Score    Error   Units\nProducerRequestBenchmark.constructorErrorResponse                                avgt   15   107.528 ?  0.270   ns/op\nProducerRequestBenchmark.constructorErrorResponse:?gc.alloc.rate                 avgt   15  4864.899 ? 12.132  MB/sec\nProducerRequestBenchmark.constructorErrorResponse:?gc.alloc.rate.norm            avgt   15   576.000 ?  0.001    B/op\nProducerRequestBenchmark.constructorErrorResponse:?gc.churn.G1_Eden_Space        avgt   15  4868.023 ? 61.943  MB/sec\nProducerRequestBenchmark.constructorErrorResponse:?gc.churn.G1_Eden_Space.norm   avgt   15   576.371 ?  7.331    B/op\nProducerRequestBenchmark.constructorErrorResponse:?gc.churn.G1_Old_Gen           avgt   15     0.005 ?  0.001  MB/sec\nProducerRequestBenchmark.constructorErrorResponse:?gc.churn.G1_Old_Gen.norm      avgt   15     0.001 ?  0.001    B/op\nProducerRequestBenchmark.constructorErrorResponse:?gc.count                      avgt   15   639.000           counts\nProducerRequestBenchmark.constructorErrorResponse:?gc.time                       avgt   15   339.000               ms\nProducerRequestBenchmark.constructorProduceRequest                               avgt   15   454.935 ?  0.332   ns/op\nProducerRequestBenchmark.constructorProduceRequest:?gc.alloc.rate                avgt   15  3769.014 ?  2.767  MB/sec\nProducerRequestBenchmark.constructorProduceRequest:?gc.alloc.rate.norm           avgt   15  1888.000 ?  0.001    B/op\nProducerRequestBenchmark.constructorProduceRequest:?gc.churn.G1_Eden_Space       avgt   15  3763.407 ? 31.530  MB/sec\nProducerRequestBenchmark.constructorProduceRequest:?gc.churn.G1_Eden_Space.norm  avgt   15  1885.190 ? 15.594    B/op\nProducerRequestBenchmark.constructorProduceRequest:?gc.churn.G1_Old_Gen          avgt   15     0.004 ?  0.001  MB/sec\nProducerRequestBenchmark.constructorProduceRequest:?gc.churn.G1_Old_Gen.norm     avgt   15     0.002 ?  0.001    B/op\nProducerRequestBenchmark.constructorProduceRequest:?gc.count                     avgt   15   494.000           counts\nProducerRequestBenchmark.constructorProduceRequest:?gc.time                      avgt   15   264.000               ms\nProducerRequestBenchmark.constructorStruct                                       avgt   15    90.728 ?  0.695   ns/op\nProducerRequestBenchmark.constructorStruct:?gc.alloc.rate                        avgt   15  3043.140 ? 23.246  MB/sec\nProducerRequestBenchmark.constructorStruct:?gc.alloc.rate.norm                   avgt   15   304.000 ?  0.001    B/op\nProducerRequestBenchmark.constructorStruct:?gc.churn.G1_Eden_Space               avgt   15  3047.251 ? 59.638  MB/sec\nProducerRequestBenchmark.constructorStruct:?gc.churn.G1_Eden_Space.norm          avgt   15   304.404 ?  5.034    B/op\nProducerRequestBenchmark.constructorStruct:?gc.churn.G1_Old_Gen                  avgt   15     0.003 ?  0.001  MB/sec\nProducerRequestBenchmark.constructorStruct:?gc.churn.G1_Old_Gen.norm             avgt   15    ? 10??             B/op\nProducerRequestBenchmark.constructorStruct:?gc.count                             avgt   15   400.000           counts\nProducerRequestBenchmark.constructorStruct:?gc.time                              avgt   15   205.000               ms\n```\n\n JMH for ProduceResponse\n\n1. construction regression:\n    - 3.293 -> 303.226 ns/op\n    - 24.000 -> 1848.000 B/op\n1. toStruct improvement:\n    - 825.889 -> 311.725 ns/op\n    - 2208.000 -> 896.000 B/op\n\n**BEFORE**\n\n```\nBenchmark                                                                          Mode  Cnt     Score    Error   Units\nProducerResponseBenchmark.constructorProduceResponse                               avgt   15     3.293 ?  0.004   ns/op\nProducerResponseBenchmark.constructorProduceResponse:?gc.alloc.rate                avgt   15  6619.731 ?  9.075  MB/sec\nProducerResponseBenchmark.constructorProduceResponse:?gc.alloc.rate.norm           avgt   15    24.000 ?  0.001    B/op\nProducerResponseBenchmark.constructorProduceResponse:?gc.churn.G1_Eden_Space       avgt   15  6618.648 ?  0.153  MB/sec\nProducerResponseBenchmark.constructorProduceResponse:?gc.churn.G1_Eden_Space.norm  avgt   15    23.996 ?  0.033    B/op\nProducerResponseBenchmark.constructorProduceResponse:?gc.churn.G1_Old_Gen          avgt   15     0.003 ?  0.002  MB/sec\nProducerResponseBenchmark.constructorProduceResponse:?gc.churn.G1_Old_Gen.norm     avgt   15    ? 10??             B/op\nProducerResponseBenchmark.constructorProduceResponse:?gc.count                     avgt   15   720.000           counts\nProducerResponseBenchmark.constructorProduceResponse:?gc.time                      avgt   15   383.000               ms\nProducerResponseBenchmark.constructorStruct                                        avgt   15   825.889 ?  0.638   ns/op\nProducerResponseBenchmark.constructorStruct:?gc.alloc.rate                         avgt   15  2428.000 ?  1.899  MB/sec\nProducerResponseBenchmark.constructorStruct:?gc.alloc.rate.norm                    avgt   15  2208.000 ?  0.001    B/op\nProducerResponseBenchmark.constructorStruct:?gc.churn.G1_Eden_Space                avgt   15  2430.196 ? 55.894  MB/sec\nProducerResponseBenchmark.constructorStruct:?gc.churn.G1_Eden_Space.norm           avgt   15  2210.001 ? 51.009    B/op\nProducerResponseBenchmark.constructorStruct:?gc.churn.G1_Old_Gen                   avgt   15     0.003 ?  0.001  MB/sec\nProducerResponseBenchmark.constructorStruct:?gc.churn.G1_Old_Gen.norm              avgt   15     0.002 ?  0.001    B/op\nProducerResponseBenchmark.constructorStruct:?gc.count                              avgt   15   319.000           counts\nProducerResponseBenchmark.constructorStruct:?gc.time                               avgt   15   166.000               ms\n```\n\n**AFTER**\n\n```\nBenchmark                                                                          Mode  Cnt     Score    Error   Units\nProducerResponseBenchmark.constructorProduceResponse                               avgt   15   303.226 ?  0.517   ns/op\nProducerResponseBenchmark.constructorProduceResponse:?gc.alloc.rate                avgt   15  5534.940 ?  9.439  MB/sec\nProducerResponseBenchmark.constructorProduceResponse:?gc.alloc.rate.norm           avgt   15  1848.000 ?  0.001    B/op\nProducerResponseBenchmark.constructorProduceResponse:?gc.churn.G1_Eden_Space       avgt   15  5534.046 ? 51.849  MB/sec\nProducerResponseBenchmark.constructorProduceResponse:?gc.churn.G1_Eden_Space.norm  avgt   15  1847.710 ? 18.105    B/op\nProducerResponseBenchmark.constructorProduceResponse:?gc.churn.G1_Old_Gen          avgt   15     0.007 ?  0.001  MB/sec\nProducerResponseBenchmark.constructorProduceResponse:?gc.churn.G1_Old_Gen.norm     avgt   15     0.002 ?  0.001    B/op\nProducerResponseBenchmark.constructorProduceResponse:?gc.count                     avgt   15   602.000           counts\nProducerResponseBenchmark.constructorProduceResponse:?gc.time                      avgt   15   318.000               ms\nProducerResponseBenchmark.constructorStruct                                        avgt   15   311.725 ?  3.132   ns/op\nProducerResponseBenchmark.constructorStruct:?gc.alloc.rate                         avgt   15  2610.602 ? 25.964  MB/sec\nProducerResponseBenchmark.constructorStruct:?gc.alloc.rate.norm                    avgt   15   896.000 ?  0.001    B/op\nProducerResponseBenchmark.constructorStruct:?gc.churn.G1_Eden_Space                avgt   15  2613.021 ? 42.965  MB/sec\nProducerResponseBenchmark.constructorStruct:?gc.churn.G1_Eden_Space.norm           avgt   15   896.824 ? 11.331    B/op\nProducerResponseBenchmark.constructorStruct:?gc.churn.G1_Old_Gen                   avgt   15     0.003 ?  0.001  MB/sec\nProducerResponseBenchmark.constructorStruct:?gc.churn.G1_Old_Gen.norm              avgt   15     0.001 ?  0.001    B/op\nProducerResponseBenchmark.constructorStruct:?gc.count                              avgt   15   343.000           counts\nProducerResponseBenchmark.constructorStruct:?gc.time                               avgt   15   194.000               ms\n```\n\nReviewers: David Jacot <djacot@confluent.io>.  Jason Gustafson <jason@confluent.io>\n","date":"2020-11-19 05:44:21","modifiedFileCount":"15","status":"M","submitter":"Chia-Ping Tsai"}]
